<!doctype html>
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-gb" xml:lang="en-gb" class="SelectorSwitch _Skins_HTML5___Worldpay_Top_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="CorporateGatewayIntegrationGuide.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="mcvariable:Project.WebsiteOrGuideTitle|Add Client Side Encryption">
 <head> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
  <meta charset="utf-8"> 
  <meta name="description" content=""> 
  <meta name="author" content="">
  <title>Client side integration: JavaScriptAndroidiOS</title> 
  <link rel="shortcut icon" href="http://www.worldpay.com/sites/all/themes/worldpay_subthemev2/favicon.ico" type="image/vnd.microsoft.icon"> 
  <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True"> 
  <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True"> 
  <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True"> 
  <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True"> 
  <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True"> 
  <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True"> 
  <link href="../../Skins/Fluid/stylesheets/foundation.5.5.0.css" rel="stylesheet" data-mc-generated="True"> 
  <link href="../../Skins/Fluid/stylesheets/styles.css" rel="stylesheet" data-mc-generated="True"> 
  <link href="../../Skins/Fluid/stylesheets/tablet.css" rel="stylesheet" data-mc-generated="True"> 
  <link href="../../Skins/Fluid/stylesheets/mobile.css" rel="stylesheet" data-mc-generated="True"> 
  <link href="../resources/stylesheets/navigationstyles.css" rel="stylesheet"> 
  <link href="../resources/stylesheets/scriptstyles.css" rel="stylesheet"> 
  <link href="../resources/tablestyles/standardtable.css" rel="stylesheet"> 
  <link href="../resources/stylesheets/mainstyles.css" rel="stylesheet"> 
  <link href="../resources/stylesheets/projectcustomstyles.css" rel="stylesheet"> 
  <script src="../../Resources/Scripts/custom.modernizr.js">
        </script> 
  <script src="../../Resources/Scripts/jquery.min.js">
        </script> 
  <script src="../../Resources/Scripts/require.min.js">
        </script> 
  <script src="../../Resources/Scripts/require.config.js">
        </script> 
  <script src="../../Resources/Scripts/foundation.5.5.0_custom.js">
        </script> 
  <script src="../../Resources/Scripts/foundation.offcanvas.js">
        </script> 
  <script src="../../Resources/Scripts/plugins.min.js">
        </script> 
  <script src="../../Resources/Scripts/MadCapAll.js">
        </script> 
  <script src="../resources/prettify/run_prettify.js">
        </script> 
  <script src="../resources/scripts/gtm.js">
        </script> 
 </head> 
 <body> 
  <div class="foundation-wrap"> 
   <div class="off-canvas-wrap" data-offcanvas=""> 
    <section class="inner-wrap"> 
     <nav class="tab-bar" data-mc-ignore="true"> 
      <section class="middle tab-bar-section outer-row clearfix"> 
       <div class="relative clearfix">
        <a class="logo" href="http://www.worldpay.com/" alt="Logo"></a> 
        <div class="navigation-wrapper"> 
         <ul class="navigation clearfix"> 
          <li class="has-children"><a href="#">mcvariable:Project.WebsiteOrGuideTitle</a> 
           <ul class="sub-menu"> 
            <li><a href="../home.htm">Welcome to the XML API</a> </li> 
            <li><a href="../directintegration/quickstart.htm">Integrate (Direct)</a> </li> 
            <li><a href="../hostedintegration/quickstart.htm">Integrate (Hosted)</a> </li> 
            <li><a href="../manage/ordernotifications.htm">Manage</a> </li> 
            <li><a href="../industryschemeextras/airlinedata.htm">Add Industry/Scheme Extras</a> </li> 
            <li><a href="../mobilewallets/applepay.htm">Add Mobile Wallets</a> </li> 
            <li><a href="beforeyouconnect.htm">Add Client Side Encryption</a> </li> 
            <li><a href="../tokenisation/beforeyouconnect.htm">Add Tokenisation</a> </li> 
            <li><a href="../troubleshoot/generalerrors.htm">Troubleshoot</a> </li> 
            <li><a href="../reference/thepaymentprocess.html">Reference</a> </li> 
           </ul> </li> 
          <li><a href="https://developer.worldpay.com/">Developer Overview</a> </li> 
          <li class="has-children"><a href="#">XML API</a> 
           <ul class="sub-menu"> 
            <li><a href="http://support.worldpay.com/support/xmlapi/content/home.htm">API Docs</a> </li> 
            <li><a href="https://workswith.worldpay.com/home">Partner Plugins</a> </li> 
           </ul> </li> 
          <li class="has-children"><a href="#">JSON API</a> 
           <ul class="sub-menu"> 
            <li><a href="https://developer.worldpay.com/jsonapi/docs">API Docs</a> </li> 
            <li><a href="https://developer.worldpay.com/jsonapi/api">API Reference</a> </li> 
            <li><a href="https://developer.worldpay.com/jsonapi/docs/plugins">Partner Plugins</a> </li> 
            <li><a href="https://github.com/Worldpay">Libraries &amp; SDKs</a> </li> 
           </ul> </li> 
          <li class="has-children"><a href="#">HTML API</a> 
           <ul class="sub-menu"> 
            <li><a href="http://www.worldpay.com/uk/support/guides/business-gateway">Docs</a> </li> 
            <li><a href="https://business.worldpay.com/shopping-carts">Shopping Carts</a> </li> 
           </ul> </li> 
          <li><a href="http://www.worldpay.com/global/support">Support</a> </li> 
          <li><a href="http://support.worldpay.com/support/xmlapi/content/common/logins.htm">Account Login</a> </li> 
          <li><a href="">Placeholder</a> </li> 
         </ul> 
        </div>
        <a class="menu-icon left-off-canvas-toggle" href="#"><span></span></a> 
       </div> 
      </section> 
      <div class="nav-search row outer-row"> 
       <form class="search" action="#"> 
        <div class="search-bar search-bar-container needs-pie"> 
         <input class="search-field needs-pie" type="search" placeholder="Search"> 
         <div class="search-filter-wrapper"> 
          <div class="search-filter"> 
           <div class="search-filter-content"> 
            <ul> 
             <li>All Files</li> 
            </ul> 
           </div> 
          </div> 
         </div> 
         <div class="search-submit-wrapper" dir="ltr"> 
          <div class="search-submit" title="Search"> 
          </div> 
         </div> 
        </div> 
       </form> 
      </div> 
     </nav> 
     <aside class="left-off-canvas-menu" data-mc-ignore="true"> 
      <ul class="off-canvas-list" data-mc-back-link="Back" data-mc-css-tree-node-expanded="has-submenu" data-mc-css-tree-node-collapsed="has-submenu" data-mc-css-sub-menu="left-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.fndtn.offcanvas" data-mc-toc="True"> 
      </ul> 
     </aside> 
     <section class="main-section"> 
      <div class="row outer-row" data-mc-content-body="True"> 
       <!-- Google Tag Manager (noscript) --> 
       <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MHWK24J" height="0" width="0" style="display:none;visibility:hidden"></iframe> 
       </noscript> 
       <!-- End Google Tag Manager (noscript) --> 
       <div class="content">
        <a name="nearlytop"></a> 
        <!-- Specifies the topnav breadcrumb format --> 
        <p class="breadcrumb" data-mc-conditions="Media.NotTripane"><a href="http://www.worldpay.com/global">Home</a> <img src="../resources/images/icons/breadcrumbarrow_28x13.png" style="vertical-align: middle;width: 28;height: 13;"><a href="https://developer.worldpay.com/">Developers</a> <img src="../resources/images/icons/breadcrumbarrow_28x13.png" style="vertical-align: middle;width: 28;height: 13;"><a href="http://support.worldpay.com/support/xmlapi/content/home.htm">XML API Docs</a> <img src="../resources/images/icons/breadcrumbarrow_28x13.png" style="vertical-align: middle;width: 28;height: 13;"><span class="breadcrumbRed"><span class="breadcrumbRed">XML Integration Guide</span></span> </p> 
        <form class="search" action="#"> 
         <div class="search-bar search-bar-container needs-pie _Skins_SearchBar mc-component"> 
          <input class="search-field needs-pie" type="search" placeholder="Search this guide"> 
          <div class="search-filter-wrapper"> 
           <div class="search-filter"> 
            <div class="search-filter-content"> 
             <ul> 
              <li>All Files</li> 
             </ul> 
            </div> 
           </div> 
          </div> 
          <div class="search-submit-wrapper" dir="ltr"> 
           <div class="search-submit" title="Search"> 
           </div> 
          </div> 
         </div> 
        </form> 
        <p id="globalsearch"><a href="http://www.worldpay.com/global/search/site?keyword=">Click here to search the entire website</a> </p> 
        <div class="row" style="padding-bottom:2em; margin-left:auto; margin-right:auto;"> 
         <div class="medium-3 columns" style="padding-left:0;"> 
          <div class="sideContent"> 
           <ul class="menu _Skins_SideMenu mc-component"> 
            <li><a href="../home.htm">Welcome to the XML API</a> </li> 
            <li class="has-children"><a href="../directintegration/quickstart.htm">Integrate (Direct)</a> 
             <ul class="sub-menu"> 
              <li><a href="../directintegration/quickstart.htm">Quick start</a> </li> 
              <li><a href="../directintegration/abouttesting.htm">About testing</a> </li> 
              <li><a href="../directintegration/paymentrequests.htm">Payment requests</a> </li> 
              <li><a href="../directintegration/authentication.htm">Authentication</a> </li> 
              <li><a href="../directintegration/goinglive.htm">Going live</a> </li> 
              <li><a href="../directintegration/batchorders.htm">Batch orders</a> </li> 
             </ul> </li> 
            <li class="has-children"><a href="../hostedintegration/quickstart.htm">Integrate (Hosted)</a> 
             <ul class="sub-menu"> 
              <li><a href="../hostedintegration/quickstart.htm">Quick start</a> </li> 
              <li><a href="../hostedintegration/abouttesting.htm">About testing</a> </li> 
              <li><a href="../hostedintegration/paymentrequests.htm">Payment requests</a> </li> 
              <li><a href="../hostedintegration/securingpayments.htm">Securing payments</a> </li> 
              <li><a href="../hostedintegration/paymentpageintegration.htm">Payment page integration</a> </li> 
              <li><a href="../hostedintegration/javascriptsdk.htm">JavaScript SDK</a> </li> 
              <li><a href="../hostedintegration/goinglive.htm">Going live</a> </li> 
             </ul> </li> 
            <li class="has-children"><a href="../manage/ordernotifications.htm">Manage</a> 
             <ul class="sub-menu"> 
              <li><a href="../manage/ordernotifications.htm">Order notifications</a> </li> 
              <li><a href="../manage/modificationrequests.htm">Modification requests</a> </li> 
              <li><a href="../manage/batchedmodifications.htm">Batched modifications</a> </li> 
              <li><a href="../manage/inquiryrequests.htm">Inquiry requests</a> </li> 
              <li><a href="../manage/recurringpayments.htm">Recurring payments</a> </li> 
             </ul> </li> 
            <li class="has-children"><a href="../industryschemeextras/airlinedata.htm">Add Industry/Scheme Extras</a> 
             <ul class="sub-menu"> 
              <li><a href="../industryschemeextras/airlinedata.htm">Airline data</a> </li> 
              <li><a href="../industryschemeextras/mastercardandmaestroauthorisation.htm">Mastercard and Maestro authorisations</a> </li> 
              <li><a href="../industryschemeextras/mcc6012.htm">Financial services - MCC 6012</a> </li> 
              <li><a href="../industryschemeextras/paymentfacilitatorrules.htm">Payment facilitator rules</a> </li> 
              <li><a href="../industryschemeextras/3dsthirdpartympi.htm">3DS third party MPI</a> </li> 
             </ul> </li> 
            <li class="has-children"><a href="../mobilewallets/applepay.htm">Add Mobile Wallets</a> 
             <ul class="sub-menu"> 
              <li><a href="../mobilewallets/applepay.htm">Apple Pay</a> </li> 
              <li><a href="../mobilewallets/androidpay.htm">Android Pay</a> </li> 
              <li><a href="../mobilewallets/samsungpay.htm">Samsung Pay</a> </li> 
             </ul> </li> 
            <li class="has-children"><a href="beforeyouconnect.htm">Add Client Side Encryption</a> 
             <ul class="sub-menu"> 
              <li><a href="beforeyouconnect.htm">Before you connect</a> </li> 
              <li><a href="#" class="selected">Client side integration</a> </li> 
              <li><a href="serversideintegration.htm">Server side integration</a> </li> 
             </ul> </li> 
            <li class="has-children"><a href="../tokenisation/beforeyouconnect.htm">Add Tokenisation</a> 
             <ul class="sub-menu"> 
              <li><a href="../tokenisation/beforeyouconnect.htm">Before you connect</a> </li> 
              <li><a href="../tokenisation/createtokens.htm">Create tokens</a> </li> 
              <li><a href="../tokenisation/usetokens.htm">Use tokens</a> </li> 
              <li><a href="../tokenisation/managetokens.htm">Manage tokens</a> </li> 
             </ul> </li> 
            <li class="has-children"><a href="../troubleshoot/generalerrors.htm">Troubleshoot</a> 
             <ul class="sub-menu"> 
              <li><a href="../troubleshoot/generalerrors.htm">General errors</a> </li> 
              <li><a href="../troubleshoot/batchedmodificationerrors.htm">Batched modification errors</a> </li> 
              <li><a href="../troubleshoot/clientsideencryptionerrors.htm">Client Side Encryption errors</a> </li> 
              <li><a href="../troubleshoot/tokenisationerrors.htm">Tokenisation errors</a> </li> 
              <li><a href="../troubleshoot/iframelightboxerrors.htm">iframe/lightbox errors</a> </li> 
              <li><a href="../troubleshoot/mobilewalleterrors.htm">Mobile Wallet errors</a> </li> 
             </ul> </li> 
            <li class="has-children"><a href="../reference/thepaymentprocess.html">Reference</a> 
             <ul class="sub-menu"> 
              <li><a href="../reference/thepaymentprocess.html">The payment process</a> </li> 
              <li><a href="../reference/usefultables.htm">Useful tables</a> </li> 
              <li><a href="../reference/hostedpaymentpageusefultables.htm">Hosted payment page useful tables</a> </li> 
              <li><a href="../reference/hostedpaymentpagesamples.htm">Hosted payment page samples</a> </li> 
              <li><a href="../reference/pcidss.html">PCI DSS</a> </li> 
              <li><a href="../reference/liabilityshift.html">Liability shift</a> </li> 
              <li><a href="../reference/compliance.html">Compliance</a> </li> 
              <li><a href="../reference/aboutthisguide.htm">About this guide</a> </li> 
             </ul> </li> 
           </ul> 
          </div> 
          <!--end of sidecontent--> 
         </div> 
         <div class="medium-9 small-12 columns" style="padding-right:0;"> 
          <div class="row collapse"> 
           <div class="clearfix"> 
            <!--<script type="text/javascript" src="http://code.jquery.com/jquery.min.js">
			</script>--> 
            <script type="text/javascript">/*<![CDATA[*/$(document).ready(function(){
				$('input[type="radio"]').click(function(){
				if($(this).attr("value")=="javascript"){
				$(".box").not(".javascript").hide();
				$(".javascript").show();
				localStorage.setItem("Options","javascript");
				}
				if($(this).attr("value")=="android"){
				$(".box").not(".android").hide();
				$(".android").show();
				localStorage.setItem("Options","android");
				}
				if($(this).attr("value")=="ios"){
				$(".box").not(".ios").hide();
				$(".ios").show();
				localStorage.setItem("Options","ios");
				}
				});
			});/*]]>*/</script> 
           </div> 
           <div class="toggle-btn-grp cssonly"> 
            <div> 
             <input type="radio" name="Options" id="javascript" value="javascript" checked> 
             <label class="toggle-btn"> JavaScript </label> 
            </div> 
            <div> 
             <input type="radio" name="Options" id="android" value="android"> 
             <label class="toggle-btn"> Android </label> 
            </div> 
            <div> 
             <input type="radio" name="Options" id="ios" value="ios"> 
             <label class="toggle-btn"> iOS </label> 
            </div> 
           </div> 
           <h1 class="TopicTitle">Client side integration: <span class="box javascript">JavaScript</span><span class="box android">Android</span><span class="box ios">iOS</span></h1> 
           <div class="box javascript"> 
            <p>This page explains the steps to integrate Client Side Encryption with your payment pages using JavaScript.</p> 
            <p><b>If you're using require.js</b>, click <a href="usingrequirejs.htm">here</a>. </p> 
            <ol> 
             <li value="1"> <p><a href="#Create" class="selected">Create your RSA&nbsp;key pair</a>, and access your key</p> </li> 
             <li value="2"> <p><a href="#Include" class="selected">Include the Worldpay CSE JavaScript Library</a> </p> </li> 
             <li value="3"> <p data-mc-conditions=""><a href="#Set" class="selected">Set the public key</a> </p> </li> 
             <li value="4"> <p data-mc-conditions=""><a href="#Implemen" class="selected">Implement a callback function to handle errors</a> </p> </li> 
             <li value="5"> <p data-mc-conditions=""><a href="#Set2" class="selected">Set up the encryption function</a> </p> </li> 
             <li value="6"> <p><a href="#Implemen2" class="selected">Implement the form</a> </p> </li> 
            </ol> 
            <p class="Note" data-mc-autonum="<b><span style=&quot;color: #69197d;&quot; class=&quot;mcFormatColor&quot;>Note:&nbsp; </span></b>"><span class="autonumber"><span><b><span style="color: #69197d;" class="mcFormatColor">Note:&nbsp; </span></b></span></span>View our JavaScript terms of use <a href="js/termsofuse.htm">here</a>.</p> 
            <h2><a name="Create"></a>Create your RSA&nbsp;key pair</h2> 
            <p>CSE works using a 2048 bit RSA key pair which is made up of a public key and a private key. The public key must be supplied to the CSE&nbsp;library, and is used to encrypt the sensitive card details. </p> 
            <p>The private key exists within a secure environment at Worldpay. It is never transmitted and is not visible to any member of staff at Worldpay.</p> 
            <p>To create a key pair:</p> 
            <ol> 
             <li value="1"> <p>Log in to the Merchant Admin Interface (MAI) and click <em>Client Side Encryption</em> in the left panel.</p> </li> 
             <li value="2"> <p>Enter the description of the key, and then click <em>Generate key</em>.</p> <p>The key pair has now been generated, and you'll be able to use the public key to encrypt card details.</p> </li> 
            </ol> 
            <p class="Note" data-mc-autonum="<b><span style=&quot;color: #69197d;&quot; class=&quot;mcFormatColor&quot;>Note:&nbsp; </span></b>"><span class="autonumber"><span><b><span style="color: #69197d;" class="mcFormatColor">Note:&nbsp; </span></b></span></span>You can create more than one key. This is useful, for example, if you want to roll your keys to change them after a period of time. You can also disable a disused key. To learn more see <a href="keyrotation.htm">Key Rotation</a>.</p> 
            <h3>Access your key </h3> 
            <p>To build the key into your payment page, you must view it:</p> 
            <ol> 
             <li value="1"> <p>Click <em>View key</em> on the key you wish to view. You'll be taken to a page which shows the key in two different formats:</p> 
              <ol> 
               <li value="1"> <p><em>Public key</em> </p> <p>This is the whole key in its entirety.</p> </li> 
               <li value="2"> <p><em>JavaScript formatted key</em> </p> <p>This is your formatted key. It has been formatted to allow you to simply copy it into your payment page. </p> </li> 
              </ol> </li> 
             <li value="2"> <p>Click the <em>Client Side Encryption</em> button at the bottom of the page to return to the main page.</p> </li> 
            </ol> 
            <p class="Note" data-mc-autonum="<b><span style=&quot;color: #69197d;&quot; class=&quot;mcFormatColor&quot;>Note:&nbsp; </span></b>"><span class="autonumber"><span><b><span style="color: #69197d;" class="mcFormatColor">Note:&nbsp; </span></b></span></span>Although sensitive information is encrypted, there is no change in the way Worldpay processes a payment.</p> 
            <h2><a name="Include"></a>Include the Worldpay CSE&nbsp;JavaScript Library</h2> 
            <p>For CSE&nbsp;to work, reference the <span class="GlobalCompanyName">Worldpay</span> CSE&nbsp;JavaScript library. There are two ways to do this.</p> 
            <ul> 
             <li value="1"> <p>Automatically reference the latest version of the current major release:</p> </li> 
            </ul> 
            <div class="CodeBlock"> 
             <p>&lt;script src="https://payments.worldpay.com/resources/cse/js/worldpay-cse-1.latest.min.js"&gt;&lt;/script&gt;</p> 
            </div> 
            <ul> 
             <li value="1"> <p>Reference the specific version:</p> </li> 
            </ul> 
            <div class="CodeBlock"> 
             <p>&lt;script src="https://payments.worldpay.com/resources/cse/js/worldpay-cse-1.0.1.min.js"&gt;&lt;/script&gt;</p> 
            </div> 
            <p class="Note" data-mc-autonum="<b><span style=&quot;color: #69197d;&quot; class=&quot;mcFormatColor&quot;>Note:&nbsp; </span></b>"><span class="autonumber"><span><b><span style="color: #69197d;" class="mcFormatColor">Note:&nbsp; </span></b></span></span>Information about our CSE&nbsp;JavaScript library is available on <a href="https://github.com/Worldpay/worldpay-cse-lib-javascript/">Github</a>.</p> 
            <h2><a name="Set"></a>Set the public key</h2> 
            <p>To set your public key (to identify you on our server): </p> 
            <div class="CodeBlock"> 
             <p>Worldpay.setPublicKey([YOUR&nbsp;PUBLIC KEY]);</p> 
            </div> 
            <h2><a name="Implemen"></a>Implement a callback function to handle errors</h2> 
            <div class="Warning"> 
             <p data-mc-autonum="<b><span style=&quot;color: #f01e14;&quot; class=&quot;mcFormatColor&quot;>Warning:&nbsp; </span></b>"><span class="autonumber"><span><b><span style="color: #f01e14;" class="mcFormatColor">Warning:&nbsp; </span></b></span></span>We strongly recommend that you use an error handler with your JavaScript integration. If you do not, unseen errors can stop the form from working. </p> 
            </div> 
            <p>The error handler is a callback function that can be supplied to the <em>useForm</em> or <em>encrypt</em> functions. It takes one argument and does not need to return any value. The argument supplied to the function is an array of error codes that represent which validation errors have occurred. Here is an example of the function:</p> 
            <div class="CodeBlock"> 
             <div class="prettyprint"> 
              <p>function errorHandler(errorCodes) {</p> 
              <p> // This should be handled in a way that is relevant to your payment pages</p> 
              <p>}</p> 
             </div> 
            </div> 
            <p>For example, if a credit card number is invalid and the cardholder name is missing, then this function will get called with the argument [102, 401]. If no validation errors occur, then this function will not get called. Descriptions of the possible error codes can be found in <a href="../troubleshoot/clientsideencryptionerrors.htm">Troubleshoot</a>.</p> 
            <p class="Note" data-mc-autonum="<b><span style=&quot;color: #69197d;&quot; class=&quot;mcFormatColor&quot;>Note:&nbsp; </span></b>"><span class="autonumber"><span><b><span style="color: #69197d;" class="mcFormatColor">Note:&nbsp; </span></b></span></span>The Worldpay error callback function is designed as a final additional check, and is not intended to replace your own validation. For example, we perform validation on the CVC&nbsp;value only if the shopper enters one. If you require the CVC&nbsp;field to be mandatory, you must check this yourself.</p> 
            <h3>Performed validation</h3> 
            <p>These are the validations performed on the cardholder data fields:</p> 
            <table style="width: 100%;mc-table-style: url('../resources/tablestyles/standardtable.css');" class="TableStyle-StandardTable" cellspacing="0"> 
             <colgroup>
              <col class="TableStyle-StandardTable-Column-Normal"> 
              <col class="TableStyle-StandardTable-Column-Normal"> 
             </colgroup>
             <thead> 
              <tr class="TableStyle-StandardTable-Head-Header1"> 
               <th class="TableStyle-StandardTable-HeadE-Normal-Header1">'data-worldpay' attribute</th> 
               <th class="TableStyle-StandardTable-HeadD-Normal-Header1">Validation checks and resulting errors</th> 
              </tr> 
             </thead> 
             <tbody> 
              <tr class="TableStyle-StandardTable-Body-Normal"> 
               <td class="TableStyle-StandardTable-BodyE-Normal-Normal"><em>number</em> </td> 
               <td class="TableStyle-StandardTable-BodyD-Normal-Normal"> 
                <ul> 
                 <li value="1">If blank or contains white space = 101</li> 
                 <li value="2">Otherwise, if anything other than 12-20 digits = 102</li> 
                 <li value="3">Otherwise, if a luhn check fails = 103</li> 
                </ul> </td> 
              </tr> 
              <tr class="TableStyle-StandardTable-Body-Normal"> 
               <td class="TableStyle-StandardTable-BodyE-Normal-Normal"><em>cvc</em> </td> 
               <td class="TableStyle-StandardTable-BodyD-Normal-Normal"> 
                <ul> 
                 <li value="1">If blank or contains white space, treated as valid</li> 
                 <li value="2">Otherwise, if anything other than 3 or 4 digits = 201</li> 
                </ul> </td> 
              </tr> 
              <tr class="TableStyle-StandardTable-Body-Normal"> 
               <td class="TableStyle-StandardTable-BodyE-Normal-Normal"><em>exp-month</em> </td> 
               <td class="TableStyle-StandardTable-BodyD-Normal-Normal"> 
                <ul> 
                 <li value="1">If blank or contains white space = 301</li> 
                 <li value="2">Otherwise, if anything other than 2 digits = 302</li> 
                 <li value="3">Otherwise, if less than 1 or greater than 12 = 303</li> 
                </ul> </td> 
              </tr> 
              <tr class="TableStyle-StandardTable-Body-Normal"> 
               <td class="TableStyle-StandardTable-BodyE-Normal-Normal"><em>exp-year</em> </td> 
               <td class="TableStyle-StandardTable-BodyD-Normal-Normal"> 
                <ul> 
                 <li value="1">If blank or contains white space = 304</li> 
                 <li value="2">Otherwise, if anything other than 4 digits = 305</li> 
                </ul> </td> 
              </tr> 
              <tr class="TableStyle-StandardTable-Body-Normal"> 
               <td class="TableStyle-StandardTable-BodyE-Normal-Normal"><em>exp-month</em> and <em>exp-year</em> together</td> 
               <td class="TableStyle-StandardTable-BodyD-Normal-Normal"> 
                <ul> 
                 <li value="1">If date is in the past = 306</li> 
                </ul> <p class="Note" data-mc-autonum="<b><span style=&quot;color: #69197d;&quot; class=&quot;mcFormatColor&quot;>Note:&nbsp; </span></b>"><span class="autonumber"><span><b><span style="color: #69197d;" class="mcFormatColor">Note:&nbsp; </span></b></span></span>Only applies if the exp-month and exp-year are separately valid, but together produce a date in the past</p> </td> 
              </tr> 
              <tr class="TableStyle-StandardTable-Body-Normal"> 
               <td class="TableStyle-StandardTable-BodyB-Normal-Normal"><em>name</em> </td> 
               <td class="TableStyle-StandardTable-BodyA-Normal-Normal"> 
                <ul> 
                 <li value="1">If blank or contains white space = 401</li> 
                 <li value="2">Otherwise, if greater than 30 characters = 402</li> 
                </ul> <p class="note" data-mc-autonum="<b><span style=&quot;color: #69197d;&quot; class=&quot;mcFormatColor&quot;>Note:&nbsp; </span></b>"><span class="autonumber"><span><b><span style="color: #69197d;" class="mcFormatColor">Note:&nbsp; </span></b></span></span>No explicit restriction is applied to the characters themselves</p> </td> 
              </tr> 
             </tbody> 
            </table> 
            <h2><a name="Set2"></a>Set up the encryption function</h2> 
            <p>The encryption function can be set up in a number of ways. To set up the encryption function in a typical way:</p> 
            <div class="CodeBlock"> 
             <p>Worldpay.useForm(errorHandler);</p> 
            </div> 
            <h3>Other options</h3> 
            <div class="MCDropDown MCDropDown_Open dropDown">
             <span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../Skins/Default/Stylesheets/Images/transparent.gif" height="16" width="16" alt="Closed" data-mc-alt2="Open">Identifying your own form</a></span> 
             <div class="MCDropDownBody dropDownBody"> 
              <p class="Note" data-mc-autonum="<b><span style=&quot;color: #69197d;&quot; class=&quot;mcFormatColor&quot;>Note:&nbsp; </span></b>"><span class="autonumber"><span><b><span style="color: #69197d;" class="mcFormatColor">Note:&nbsp; </span></b></span></span>If you are identifying your own form, <em>data-worldpay="payment-form"</em> is not required.</p> 
              <h4>In JavaScript</h4> 
              <p>To pass a form object, include the code below:</p> 
              <div class="CodeBlock"> 
               <p>Worldpay.useForm([YOUR&nbsp;FORM&nbsp;OBJECT], errorHandler);</p> 
              </div> 
              <h4>Using require.js</h4> 
              <div class="CodeBlock"> 
               <p>worldpayCse.useForm([YOUR&nbsp;FORM&nbsp;OBJECT], errorHandler);</p> 
              </div> 
              <p>In this instance, <b>worldpayCse</b> is the Worldpay context, referred to by the variable in the function definition given in <a href="usingrequirejs.htm#IncludetheWorldpayJavascriptLibrary" class="MCXref xref">Include the Worldpay CSE&nbsp;JavaScript Library</a>.</p> 
              <p>&nbsp;</p> 
             </div> 
            </div> 
            <div class="MCDropDown MCDropDown_Open dropDown">
             <span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../Skins/Default/Stylesheets/Images/transparent.gif" height="16" width="16" alt="Closed" data-mc-alt2="Open">Custom integration</a></span> 
             <div class="MCDropDownBody dropDownBody"> 
              <p>There are three steps to a custom integration:</p> 
              <ol> 
               <li value="1"> <p>Create JSON&nbsp;object</p> </li> 
               <li value="2"> <p>Call the encryption function and receive the encrypted data</p> </li> 
               <li value="3"> <p>Pass the encrypted data back to the server</p> </li> 
              </ol> 
              <p>The below example mentions the three steps. This example references the error handler:</p> 
              <div class="CodeBlock"> 
               <div class="prettyprint"> 
                <p>&nbsp;</p> 
                <p>// create JSON data object </p> 
                <p>var data = {</p> 
                <p> cvc: document.getElementById([YOUR CVC ID]).value,</p> 
                <p> cardHolderName: document.getElementById([YOUR cardholder NAME ID]).value,</p> 
                <p> cardNumber: document.getElementById([YOUR CARD NUMBER ID]).value,</p> 
                <p> expiryMonth: document.getElementById([YOUR EXPIRY MONTH ID]).value,</p> 
                <p> expiryYear: document.getElementById([YOUR EXPIRY YEAR ID]).value,</p> 
                <p>}</p> 
                <p>&nbsp;</p> 
                <p>// Call encryption function </p> 
                <p>var encryptedData = Worldpay.encrypt(data, errorHandler);</p> 
                <p>&nbsp;</p> 
                <p>// Pass encrypted data back to your server </p> 
                <p>if (encryptedData) {</p> 
                <p> document.getElementById('encryptedData').innerHTML = encryptedData;</p> 
                <p>}</p> 
               </div> 
              </div> 
              <p class="Note" data-mc-autonum="<b><span style=&quot;color: #69197d;&quot; class=&quot;mcFormatColor&quot;>Note:&nbsp; </span></b>"><span class="autonumber"><span><b><span style="color: #69197d;" class="mcFormatColor">Note:&nbsp; </span></b></span></span>If you are using the require.js call, you call the encryption function with worldpayCse.encrypt (referencing the function of the same name in your JavaScript).</p> 
             </div> 
            </div> 
            <h2><a name="Implemen2"></a>Implement the form</h2> 
            <p>For the form to work, use the <code class="attribute">data-worldpay</code> attribute for each item of cardholder data. A typical example is:</p> 
            <div class="CodeBlock"> 
             <div class="prettyprint"> 
              <p> &lt;body&gt; &lt;form action="[YOUR&nbsp;FORM&nbsp;ACTION]" method="post" data-worldpay="payment-form"&gt; &lt;input data-worldpay="name"&gt; &lt;!-- This is the card holder name field --&gt; &lt;input data-worldpay="number"&gt; &lt;!-- This is the card number field --&gt; &lt;input data-worldpay="exp-month"&gt; &lt;!-- This is the expiry month field --&gt; &lt;input data-worldpay="exp-year"&gt; &lt;!-- This is the expiry year field --&gt; &lt;input data-worldpay="cvc"&gt; &lt;!-- This is the CVC&nbsp;field--&gt; &lt;input type="hidden" name="[YOUR DATA PARAMETER]" data-worldpay="encrypted-data"&gt; &lt;input type="submit"&gt; &lt;/form&gt; &lt;/body&gt;</p> 
             </div> 
            </div> 
            <p>In this example the data-worldpay="encrypted-data" attribute sends the encrypted data to your server using [YOUR&nbsp;DATA&nbsp;PARAMETER]. If it isn't present, a new hidden input field will be created as below:</p> 
            <div class="CodeBlock"> 
             <p>&lt;input type="hidden" name="encryptedData" data-worldpay="encrypted-data" value="[YOUR&nbsp;ENCRYPTED&nbsp;DATA]"&gt;</p> 
            </div> 
            <p class="Warning" data-mc-autonum="<b><span style=&quot;color: #f01e14;&quot; class=&quot;mcFormatColor&quot;>Warning:&nbsp; </span></b>"><span class="autonumber"><span><b><span style="color: #f01e14;" class="mcFormatColor">Warning:&nbsp; </span></b></span></span>Do not use the "name" HTML&nbsp;attribute in your form post unless you want to pass data to your server unencrypted.</p> 
            <h2>How it all fits together</h2> 
            <p>Here's a example of one way to do a JavaScript integration:</p> 
            <p onclick="select_all(block_1)" class="SelectCode">Select</p> 
            <div class="CodeBlock" id="block_1"> 
             <div class="prettyprint"> 
              <p> &lt;html&gt; &lt;head&gt; &lt;script src="https://payments.worldpay.com/resources/cse/js/worldpay-cse-1.latest.min.js"&gt;&lt;/script&gt; &lt;script&gt; window.onload = function() { function errorHandler(errorCodes) { // This should be handled in a way that is relevant to your payment pages } Worldpay.setPublicKey([YOUR PUBLIC KEY]); Worldpay.useForm(errorHandler); } &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;form action="[YOUR FORM ACTION]" method="post" data-worldpay="payment-form"&gt; &lt;input data-worldpay="name"&gt; &lt;!-- This is the card holder name field --&gt; &lt;input data-worldpay="number"&gt; &lt;!-- This is the card number field --&gt; &lt;input data-worldpay="exp-month"&gt; &lt;!-- This is the expiry month field --&gt; &lt;input data-worldpay="exp-year"&gt; &lt;!-- This is the expiry year field --&gt; &lt;input data-worldpay="cvc"&gt; &lt;!-- This is the cvc field --&gt; &lt;input type="hidden" name="[YOUR DATA PARAMETER]" data-worldpay="encrypted-data"&gt; &lt;input type="submit"&gt; &lt;/form&gt; &lt;/body&gt; &lt;/html&gt;</p> 
             </div> 
            </div> 
            <h2><a name="Terms"></a>Terms of use</h2> 
            <p>You can find the terms of use for JavaScript in <a href="js/termsofuse.htm">Worldpay Developer Terms of Use for Javascript</a>.</p> 
            <p class="NextPage"><a href="serversideintegration.htm">Server side integration</a> </p> 
           </div> 
           <div class="box android"> 
            <p>This page explains the steps to integrate Client Side Encryption with your Android application using Gradle, or manually.</p> 
            <ol> 
             <li value="1"> <p><a href="#Create2" class="selected">Create your RSA&nbsp;key pair</a>, and access your key</p> </li> 
             <li value="2"> <p><a href="#Installa" class="selected">Import the code</a> into your project</p> </li> 
             <li value="3"> <p><a href="#Import" class="selected">Import the WorldpayCSE package</a> </p> </li> 
             <li value="4"> <p data-mc-conditions=""><a href="#Create3" class="selected">Create the WorldpayCSE&nbsp;object</a> </p> </li> 
             <li value="5"> <p data-mc-conditions=""><a href="#Set3" class="selected">Set the public (RSA) key</a> </p> </li> 
             <li value="6"> <p data-mc-conditions=""><a href="#Set4" class="selected">Set up the cardholder data</a> </p> </li> 
             <li value="7"> <p data-mc-conditions=""><a href="#Encrypt" class="selected">Encrypt the cardholder data</a> </p> </li> 
            </ol> 
            <p class="Note" data-mc-autonum="<b><span style=&quot;color: #69197d;&quot; class=&quot;mcFormatColor&quot;>Note:&nbsp; </span></b>"><span class="autonumber"><span><b><span style="color: #69197d;" class="mcFormatColor">Note:&nbsp; </span></b></span></span>View our Android terms of use <a href="android/termsofuse.htm">here</a>.</p> 
            <h2>Libraries</h2> 
            <ul> 
             <li value="1"> <p>Maven Central Sonatype maven repositary binaries: <a href="https://oss.sonatype.org/content/repositories/releases/com/worldpay/">https://oss.sonatype.org/content/repositories/releases/com/worldpay/</a></p> </li> 
             <li value="2"> <p>Online generated API documentation: <a href="http://www.javadoc.io/doc/com.worldpay/cse-android-sdk/1.0.2">http://www.javadoc.io/doc/com.worldpay/cse-android-sdk/1.0.2</a></p> </li> 
             <li value="3"> <p>GitHub repositary : <a href="https://github.com/Worldpay/worldpay-cse-lib-android">https://github.com/Worldpay/worldpay-cse-lib-android</a></p> </li> 
            </ul> 
            <h2><a name="Create2"></a>Create your RSA&nbsp;key pair</h2> 
            <p>CSE works using a 2048 bit RSA key pair which is made up of a public key and a private key. The public key must be supplied to the CSE&nbsp;library, and is used to encrypt the sensitive card details. </p> 
            <p>The private key exists within a secure environment at Worldpay. It is never transmitted and is not visible to any member of staff at Worldpay.</p> 
            <p>To create a key pair:</p> 
            <ol> 
             <li value="1"> <p>Log in to the Merchant Admin Interface (MAI) and click <em>Client Side Encryption</em> in the left panel.</p> </li> 
             <li value="2"> <p>Enter the description of the key, and then click <em>Generate key</em>.</p> <p>The key pair has now been generated, and you'll be able to use the public key to encrypt card details.</p> </li> 
            </ol> 
            <p class="Note" data-mc-autonum="<b><span style=&quot;color: #69197d;&quot; class=&quot;mcFormatColor&quot;>Note:&nbsp; </span></b>"><span class="autonumber"><span><b><span style="color: #69197d;" class="mcFormatColor">Note:&nbsp; </span></b></span></span>You can create more than one key. This is useful, for example, if you want to roll your keys to change them after a period of time. You can also disable a disused key. To learn more see <a href="keyrotation.htm">Key Rotation</a>.</p> 
            <h3>Access your key </h3> 
            <p>To build the key into your payment page, you must view it:</p> 
            <ol> 
             <li value="1"> <p>Click <em>View key</em> on the key you wish to view. You'll be taken to a page which shows the key in two different formats:</p> 
              <ol> 
               <li value="1"> <p><em>Public key</em> </p> <p>This is the whole key in its entirety.</p> </li> 
               <li value="2"> <p><em>JavaScript formatted key</em> </p> <p>This is your formatted key. It has been formatted to allow you to simply copy it into your payment page. </p> </li> 
              </ol> </li> 
             <li value="2"> <p>Click the <em>Client Side Encryption</em> button at the bottom of the page to return to the main page.</p> </li> 
            </ol> 
            <p class="Note" data-mc-autonum="<b><span style=&quot;color: #69197d;&quot; class=&quot;mcFormatColor&quot;>Note:&nbsp; </span></b>"><span class="autonumber"><span><b><span style="color: #69197d;" class="mcFormatColor">Note:&nbsp; </span></b></span></span>Although sensitive information is encrypted, there is no change in the way Worldpay processes a payment.</p> 
            <h2><a name="Installa"></a>Installation</h2> 
            <h3>With Gradle</h3> 
            <p>Gradle is the official build system for Android Studio and a dependency manager for Android projects.</p> 
            <p>To use <span class="GlobalCompanyName">Worldpay</span> CSE&nbsp;SDK&nbsp;in a project, add it as a build dependancy and import it. </p> 
            <ol> 
             <li value="1"> <p>After you create a new project, either:</p> 
              <ul> 
               <li value="1"> <p>open your_app | build.gradle and add this to Module-level /app/build.gradle before dependancies:</p> 
                <div class="CodeBlock"> 
                 <div class="prettyprint"> 
                  <p>repositories {</p> 
                  <p> mavenCentral()</p> 
                  <p>}</p> 
                 </div> 
                </div> </li> 
               <li value="2"> <p>or if you use an internal SonaType Nexus repository:</p> 
                <div class="CodeBlock"> 
                 <div class="prettyprint"> 
                  <p>repositories {</p> 
                  <p> maven { url '&lt;path to your internal repository&gt; }</p> 
                  <p> jcenter()</p> 
                  <p>}</p> 
                 </div> 
                </div> </li> 
              </ul> </li> 
             <li value="2"> <p>Add the compile dependency with the latest version of the <span class="GlobalCompanyName">Worldpay</span> CSE&nbsp;SDK in the build.gradle file:</p> </li> 
            </ol> 
            <div class="CodeBlock"> 
             <div class="prettyprint"> 
              <p>dependencies {</p> 
              <p> compile 'com.worldpay:cse-android-sdk:1.0.2'</p> 
              <p>}</p> 
             </div> 
            </div> 
            <p style="font-size: 6pt;">&nbsp;</p> 
            <div class="MCDropDown MCDropDown_Open dropDown">
             <span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../Skins/Default/Stylesheets/Images/transparent.gif" height="16" width="16" alt="Closed" data-mc-alt2="Open">Alternative:&nbsp;Manual installation</a></span> 
             <div class="MCDropDownBody dropDownBody"> 
              <p>You can instead add the library as a simple module in your project:</p> 
              <ol> 
               <li value="1"> <p>In Android Studio, go to <em>File </em>&gt;&nbsp;<em>New </em>&gt;&nbsp;<em>Import Module</em>.</p> </li> 
               <li value="2"> <p>Navigate to where the Worldpay CSE SDK jar file is located, select it and press <em>Finish</em>.</p> </li> 
              </ol> 
              <p class="Note" data-mc-autonum="<b><span style=&quot;color: #69197d;&quot; class=&quot;mcFormatColor&quot;>Note:&nbsp; </span></b>"><span class="autonumber"><span><b><span style="color: #69197d;" class="mcFormatColor">Note:&nbsp; </span></b></span></span>You can also import the Worldpay CSE&nbsp;SDK&nbsp;library by copying it into the /app/libs/ folder of your project. </p> 
             </div> 
            </div> 
            <h2>Usage</h2> 
            <h3><a name="Import"></a>Import the WorldpayCSE package</h3> 
            <div class="CodeBlock"> 
             <p class="none">import com.worldpay.cse.WorldpayCSE;</p> 
            </div> 
            <h3><a name="Create3"></a>Create the WorldpayCSE object</h3> 
            <div class="CodeBlock"> 
             <p class="none">WorldpayCSE worldpayCSE = new WorldpayCSE();</p> 
            </div> 
            <h3><a name="Set3"></a>Set the public (RSA) key</h3> 
            <p>The public key should be in Worldpay string format, and will be used for any future encryption calls. To set it (to identify you on our server):</p> 
            <div class="CodeBlock"> 
             <div class="prettyprint"> 
              <p>worldpayCSE.setPublicKey("1#10001#bf49edcaba456c6357e4ace484c3fba212543e78bf"+ "72a8c2238caaa1c7ed20262956caa61d74840598d9b0707bc8"+ "2e66f18c8b369c77ae6be0429c93323bb7511fc73d9c7f6988"+ "72a8384370cd77c7516caa25a195d48701e3e0462d61200983"+ "ba26cc4a20bb059d5beda09270ea6dcf15dd92084c4d5867b6"+ "0986151717a8022e4054462ee74ab8533dda77cee227a49fda"+ "f58eaeb95df90cb8c05ee81f58bec95339b6262633aef216f3"+ "ae503e8be0650350c48859eef406e63d4399994b147e45aaa1"+ "4cf9936ac6fdd7d4ec5e66b527d041750ba63a8296b3e6e774"+ "a02ee6025c6ee66ef54c3688e4844be8951a8435e6b6e8d676"+ "3d9ee5f16521577e159d");</p> 
             </div> 
            </div> 
            <h3><a name="Set4"></a>Set up the cardholder data</h3> 
            <div class="CodeBlock"> 
             <div class="prettyprint"> 
              <p>WPCardData cardData = new WPCardData();</p> 
              <p>cardData.setCardNumber ("4444333322221111");</p> 
              <p>cardData.setCvc ("123");</p> 
              <p>cardData.setExpiryMonth ("11");</p> 
              <p>cardData.setExpiryYear ("2020");</p> 
              <p>cardData.setCardHolderName ("John Doe");</p> 
             </div> 
            </div> 
            <h3><a name="Encrypt"></a>Encrypt the cardholder data</h3> 
            <div class="CodeBlock"> 
             <div class="prettyprint"> 
              <p>try {</p> 
              <p> encryptedData = worldpayCSE.encrypt(cardData);</p> 
              <p>} catch (WPCSEInvalidCardData e) {</p> 
              <p> //Alternatively to catching this exception, there is a convenient method </p> 
              <p> //WorldpayCSE#validate(WPCardData)that can be used for a similar purpose</p> 
              <p> //displayFormFieldErrors(e.getErrorCodes());</p> 
              <p>} catch (WPCSEException e)&nbsp; {</p> 
              <p> //show error message&nbsp;</p> 
              <p>}</p> 
             </div> 
            </div> 
            <h2>Terms of use</h2> 
            <p>You can find the terms of use for Android in <a href="android/termsofuse.htm">Worldpay Developer Terms Of Use for Android</a>.</p> 
            <p class="NextPage"><a href="serversideintegration.htm">Server side integration</a> </p> 
           </div> 
           <div class="box ios"> 
            <p>This page explains the steps to integrate Client Side Encryption with your iOS application using CocoaPods, or manually.</p> 
            <ol> 
             <li value="1"> <p><a href="#Create4" class="selected">Create your RSA&nbsp;key pair</a>, and access your key</p> </li> 
             <li value="2"> <p><a href="#Usage" class="selected">Import the code into your project</a> </p> </li> 
             <li value="3"> <p data-mc-conditions=""><a href="#Usage" class="selected">Import the WorldpayCSE&nbsp;header file</a> </p> </li> 
             <li value="4"> <p><a href="#Usage" class="selected">Create the WorldpayCSE object</a> </p> </li> 
             <li value="5"> <p><a href="#Usage" class="selected">Set the public (RSA) key</a> </p> </li> 
             <li value="6"> <p data-mc-conditions=""><a href="#Usage" class="selected">Set up the cardholder data</a> </p> </li> 
             <li value="7"> <p data-mc-conditions=""><a href="#Usage" class="selected">Encrypt the cardholder data</a> </p> </li> 
            </ol> 
            <p class="Note" data-mc-autonum="<b><span style=&quot;color: #69197d;&quot; class=&quot;mcFormatColor&quot;>Note:&nbsp; </span></b>"><span class="autonumber"><span><b><span style="color: #69197d;" class="mcFormatColor">Note:&nbsp; </span></b></span></span>View our iOS terms of use <a href="ios/termsofuse.htm">here</a>.</p> 
            <h2>Libraries</h2> 
            <ul> 
             <li value="1"> <p>CocoaPods repository: <a href="http://cocoadocs.org/docsets/WorldpayCSE/1.0.2/">https://cocoapods.org/?q=worldpaycse</a></p> </li> 
             <li value="2"> <p>Online generated API documentation: <a href="https://cocoapods.org/?q=worldpaycse">http://cocoadocs.org/docsets/WorldpayCSE/</a></p> </li> 
             <li value="3"> <p>GitHub repository: <a href="https://github.com/Worldpay/worldpay-cse-lib-ios">https://github.com/Worldpay/worldpay-cse-lib-ios</a></p> </li> 
            </ul> 
            <h2><a name="Create4"></a>Create your RSA&nbsp;key pair</h2> 
            <p>CSE works using a 2048 bit RSA key pair which is made up of a public key and a private key. The public key must be supplied to the CSE&nbsp;library, and is used to encrypt the sensitive card details. </p> 
            <p>The private key exists within a secure environment at Worldpay. It is never transmitted and is not visible to any member of staff at Worldpay.</p> 
            <p>To create a key pair:</p> 
            <ol> 
             <li value="1"> <p>Log in to the Merchant Admin Interface (MAI) and click <em>Client Side Encryption</em> in the left panel.</p> </li> 
             <li value="2"> <p>Enter the description of the key, and then click <em>Generate key</em>.</p> <p>The key pair has now been generated, and you'll be able to use the public key to encrypt card details.</p> </li> 
            </ol> 
            <p class="Note" data-mc-autonum="<b><span style=&quot;color: #69197d;&quot; class=&quot;mcFormatColor&quot;>Note:&nbsp; </span></b>"><span class="autonumber"><span><b><span style="color: #69197d;" class="mcFormatColor">Note:&nbsp; </span></b></span></span>You can create more than one key. This is useful, for example, if you want to roll your keys to change them after a period of time. You can also disable a disused key. To learn more see <a href="keyrotation.htm">Key Rotation</a>.</p> 
            <h3>Access your key </h3> 
            <p>To build the key into your payment page, you must view it:</p> 
            <ol> 
             <li value="1"> <p>Click <em>View key</em> on the key you wish to view. You'll be taken to a page which shows the key in two different formats:</p> 
              <ol> 
               <li value="1"> <p><em>Public key</em> </p> <p>This is the whole key in its entirety.</p> </li> 
               <li value="2"> <p><em>JavaScript formatted key</em> </p> <p>This is your formatted key. It has been formatted to allow you to simply copy it into your payment page. </p> </li> 
              </ol> </li> 
             <li value="2"> <p>Click the <em>Client Side Encryption</em> button at the bottom of the page to return to the main page.</p> </li> 
            </ol> 
            <p class="Note" data-mc-autonum="<b><span style=&quot;color: #69197d;&quot; class=&quot;mcFormatColor&quot;>Note:&nbsp; </span></b>"><span class="autonumber"><span><b><span style="color: #69197d;" class="mcFormatColor">Note:&nbsp; </span></b></span></span>Although sensitive information is encrypted, there is no change in the way Worldpay processes a payment.</p> 
            <h2><a name="Installa2"></a>Installation </h2> 
            <h3>With CocoaPods</h3> 
            <p>CocoaPods is a dependency manager for Objective-C and Swift, which automates the process of using 3rd-party libraries such as WorldpayCSE in your projects. </p> 
            <h4>Podfile</h4> 
            <div class="CodeBlock"> 
             <p>platform :ios, '7.0'</p> 
             <p>pod 'WorldpayCSE'</p> 
            </div> 
            <p style="font-size: 6pt;">&nbsp;</p> 
            <div class="MCDropDown MCDropDown_Open dropDown">
             <span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../Skins/Default/Stylesheets/Images/transparent.gif" height="16" width="16" alt="Closed" data-mc-alt2="Open">Alternative: Manual installation</a></span> 
             <div class="MCDropDownBody dropDownBody"> 
              <p>To use the manual method:</p> 
              <ol> 
               <li value="1"> <p>Download and import <em>WorldpayCSE.framework</em> and <em>openssl.framework</em> into your project. Use the <a href="https://github.com/Worldpay/worldpay-cse-lib-ios">GitHub releases</a> page for this.</p> </li> 
               <li value="2"> <p>in Xcode add <em>-ObjC</em> to <em>Other Linker Flags</em> from <em>Build Settings</em>.</p> </li> 
              </ol> 
             </div> 
            </div> 
            <h2><a name="Usage"></a>Usage</h2> 
            <p>Three methods of usage are covered below:</p> 
            <ul> 
             <li value="1"> <p><a href="#ObjectiveC" class="MCXref xref selected">Objective-C</a> </p> </li> 
             <li value="2"> <p><a href="#Swift" class="MCXref xref selected">Swift 2.0</a> </p> </li> 
             <li value="3"> <p><a href="#Swift12" class="MCXref xref selected">Swift 1.2</a> </p> </li> 
            </ul> 
            <h3><a name="ObjectiveC"></a>Objective-C</h3> 
            <h4>Import the WorldpayCSE header file</h4> 
            <div class="CodeBlock"> 
             <p>#import &lt;WorldpayCSE/WorldpayCSE.h&gt;</p> 
            </div> 
            <h4>Create the WorldpayCSE object</h4> 
            <div class="CodeBlock"> 
             <p>WorldpayCSE *wpCSE = [WorldpayCSE new];</p> 
            </div> 
            <h4>Set the public (RSA)&nbsp;key</h4> 
            <p>To set the public key (to identify you on our server):</p> 
            <div class="CodeBlock"> 
             <div class="prettyprint"> 
              <p>NSError *error = nil; [wpCSE setPublicKey:@"1#10001#00ccca2c4ef80be7f7a98d5e0eef7e5e6eafe700ef054" "c07fa73cf86cd78d141f923cff2fb70afb40be36ec78c7a334ef2" "3451c34cc8df03c2f496cd7f4fcccfd35aba72417c859d7e5e960" "a5d1667010bb6d9d87b12d836405a5fb11ba28bb3a5e98e1c89d0" "65fc47de9d11bfac053b3d6550207752724d9fa31ec2255d4952a" "0dd0dc4f2be8a669b48eb247a1df5d94d921435af66588568999e" "6a984152c53af211aab64edcd94a0ce1aceb66c50c0d3c074bac3" "0d6f0ba81a367a03c3b94f17a6b896d34360dd7f459b715555dc0" "8ece11fc451ffe26a089a93122a699958d2ab8a4da4d2586474fc" "6e777a558d802381488c24a74cff4fcce3104e727ede3" error:&amp;error];</p> 
             </div> 
            </div> 
            <h4>Set up the card data</h4> 
            <div class="CodeBlock"> 
             <p>WPCardData *cardData = [WPCardData new]; cardData.cardNumber = @"4444333322221111"; cardData.cvc = @"123"; cardData.expiryMonth = @"11"; cardData.expiryYear = @"2020"; cardData.cardHolderName = @"John Doe";</p> 
            </div> 
            <h4>Validate and encrypt the card data</h4> 
            <div class="CodeBlock"> 
             <div class="prettyprint"> 
              <p>NSString *encryptedData = [wpCSE encrypt:cardData error:&amp;;error]; if (error) { //handle error //to get card data validation error call //alternatively there is a convenient method [WorldpayCSE validate:(WPCardData*)data] //that can be used for similar purpose if (error.code == WPErrorInvalidCardData) { NSArray *cardValidationErrors = error.userInfo[kWPErrorDetailsKey]; //process card validation errors } }</p> 
             </div> 
            </div> 
            <h3><a name="Swift"></a>Swift 2.0</h3> 
            <h4>Import the WorldpayCSE header file</h4> 
            <div class="CodeBlock"> 
             <p>import WorldpayCSE</p> 
            </div> 
            <h4>Create the WorldpayCSE object</h4> 
            <div class="CodeBlock"> 
             <p>let wpCSE : WorldpayCSE = WorldpayCSE()</p> 
            </div> 
            <h4>Set the public (RSA)&nbsp;key</h4> 
            <p>To set the public key (to identify you on our server):</p> 
            <div class="CodeBlock"> 
             <div class="prettyprint"> 
              <p>do { try wpCSE.setPublicKey( "1#10001#00ccca2c4ef80be7f7a98d5e0eef7e5e6eafe700ef054" + "c07fa73cf86cd78d141f923cff2fb70afb40be36ec78c7a334ef2" + "3451c34cc8df03c2f496cd7f4fcccfd35aba72417c859d7e5e960" + "a5d1667010bb6d9d87b12d836405a5fb11ba28bb3a5e98e1c89d0" + "65fc47de9d11bfac053b3d6550207752724d9fa31ec2255d4952a" + "0dd0dc4f2be8a669b48eb247a1df5d94d921435af66588568999e" + "6a984152c53af211aab64edcd94a0ce1aceb66c50c0d3c074bac3" + "0d6f0ba81a367a03c3b94f17a6b896d34360dd7f459b715555dc0" + "8ece11fc451ffe26a089a93122a699958d2ab8a4da4d2586474fc" + "6e777a558d802381488c24a74cff4fcce3104e727ede3", error: ()) } catch error as NSError {; // handle error }</p> 
             </div> 
            </div> 
            <h4>Set up the card data</h4> 
            <div class="CodeBlock"> 
             <div class="prettyprint"> 
              <p>let cardData : WPCardData = WPCardData() cardData.cardNumber = "4444333322221111" cardData.cvc = "123" cardData.expiryMonth = "11" cardData.expiryYear = "2020" cardData.cardHolderName = "John Doe"</p> 
             </div> 
            </div> 
            <h4>Validate and encrypt the card data</h4> 
            <div class="CodeBlock"> 
             <div class="prettyprint"> 
              <p>do { let encryptedData = try wpCSE.encrypt(cardData) } catch let error as NSError { //to get card data validation error call //alternatively there is a convenient method WorldpayCSE.validate(data: WPCardData!) //that can be used for similar purpose let errorCode = WPErrorCode(rawValue: (UInt)(error.code)) if errorCode == WPErrorCode.InvalidCardData { let cardValidationErrors = error.userInfo[kWPErrorDetailsKey]; //handle card validation errors } }</p> 
             </div> 
            </div> 
            <h3><a name="Swift12"></a>Swift 1.2</h3> 
            <h4>Import the WorldpayCSE header file</h4> 
            <div class="CodeBlock"> 
             <p>import WorldpayCSE</p> 
            </div> 
            <h4>Create the WorldpayCSE object</h4> 
            <div class="CodeBlock"> 
             <p>let wpCSE : WorldpayCSE = WorldpayCSE()</p> 
            </div> 
            <h4>Set the public (RSA)&nbsp;key</h4> 
            <p>To set the public key (to identify you on our server):</p> 
            <div class="CodeBlock"> 
             <div class="prettyprint"> 
              <p>var error :&nbsp;NSError? wpCSE.setPublicKey("1#10001#00ccca2c4ef80be7f7a98d5e0eef7e5e6eafe700ef054" + "c07fa73cf86cd78d141f923cff2fb70afb40be36ec78c7a334ef2" + "3451c34cc8df03c2f496cd7f4fcccfd35aba72417c859d7e5e960" + "a5d1667010bb6d9d87b12d836405a5fb11ba28bb3a5e98e1c89d0" + "65fc47de9d11bfac053b3d6550207752724d9fa31ec2255d4952a" + "0dd0dc4f2be8a669b48eb247a1df5d94d921435af66588568999e" + "6a984152c53af211aab64edcd94a0ce1aceb66c50c0d3c074bac3" + "0d6f0ba81a367a03c3b94f17a6b896d34360dd7f459b715555dc0" + "8ece11fc451ffe26a089a93122a699958d2ab8a4da4d2586474fc" + "6e777a558d802381488c24a74cff4fcce3104e727ede3", error: &amp;error) if (error != nil) { // handle error }</p> 
             </div> 
            </div> 
            <h4>Set up the card data</h4> 
            <div class="CodeBlock"> 
             <div class="prettyprint"> 
              <p>let cardData : WPCardData = WPCardData() cardData.cardNumber = "4444333322221111" cardData.cvc = "123" cardData.expiryMonth = "11" cardData.expiryYear = "2020" cardData.cardHolderName = "John Doe"</p> 
             </div> 
            </div> 
            <h4>Validate and encrypt the card data</h4> 
            <div class="CodeBlock"> 
             <div class="prettyprint"> 
              <p> let encryptedData = wpCSE.encrypt(cardData, error: &amp;error) if (error !=nil) { // handle error //to get card data validation error call //alternatively there is a convenient method WorldpayCSE.validate(data: WPCardData!) //that can be used for similar purpose let errorCode = WPErrorCode(rawValue: (UInt)(error!.code)) if errorCode == WPErrorCode.InvalidCardData { let cardValidationErrors: = AnyObject? = error!.userInfo?[kWPErrorDetailsKey]; // handle card validation errors } }</p> 
             </div> 
            </div> 
            <h2>Terms of use</h2> 
            <p>You can find the terms of use for iOS in <a href="ios/termsofuse.htm">Worldpay Developer Terms of Use for iOS</a>.</p> 
            <p class="NextPage"><a href="serversideintegration.htm">Server side integration</a> </p> 
           </div> 
          </div> 
          <!--end of rowcollapse--> 
         </div> 
        </div> 
       </div> 
       <script type="text/javascript">/* <![CDATA[ */
			$(".javascript").show();
		/* ]]> */</script> 
       <script type="text/javascript">/* <![CDATA[ */
			var Options = localStorage.getItem('Options');
			document.getElementById(Options).checked = true;
		/* ]]> */</script> 
       <script type="text/javascript">/* <![CDATA[ */
			var Options = localStorage.getItem('Options');

			if(Options=="javascript"){
			$(".box").not(".javascript").hide();
			$(".javascript").show();
			}
			if(Options=="android"){
			$(".box").not(".android").hide();
			$(".android").show();
			}
			if(Options=="ios"){
			$(".box").not(".ios").hide();
			$(".ios").show();
			}
		/* ]]> */</script> 
       <script src="../resources/scripts/select_all.js">
                            </script> 
       <script>/* <![CDATA[ */
			$('.navigation-wrapper')
			.prepend('<div class="greenlinks"><a href="http://www.worldpay.com/global/support">Support</a><a href="http://support.worldpay.com/support/xmlapi/content/common/logins.htm">Account Login</a></div>');
		/* ]]> */</script> 
       <script type="text/javascript">
                            </script> 
       <!--Scroll to top links -->
       <a href="#" class="scrollToTop"></a>
       <a href="#nearlytop" class="nearlyscrollToTop selected"></a> 
       <div class="abovefooter"> 
        <div class="row" style="margin-left:auto; margin-right:auto;"> 
         <div class="large-3 medium-3 columns"> 
          <ul> 
           <li value="1">Select your territory</li> 
           <li value="2"><a href="http://www.worldpay.com/uk">United Kingdom</a> </li> 
           <li value="3"><a href="http://www.worldpay.com/us">United States of America</a> </li> 
           <li value="4"><a href="http://www.worldpay.com/global">Global</a> </li> 
          </ul> 
         </div> 
         <div class="large-3 medium-3 columns"> 
          <ul> 
           <li value="1">Account logins</li> 
           <li value="2"><a href="https://secure.worldpay.com/merchant/">SME merchant login</a> </li> 
           <li value="3"><a href="https://secure.worldpay.com/sso/public/auth/login.html">Business Manager login</a> </li> 
           <li value="4"><a href="https://secure.worldpay.com/merchant/">Corporate merchant login</a> </li> 
           <li value="5"><a href="https://admin4.wpstn.com/rgmatng">Risk Guardian login</a> </li> 
           <li value="6"><a href="https://portal.worldpay.us/">Merchant Portal (US)</a> </li> 
          </ul> 
         </div> 
         <div class="large-3 medium-3 columns"> 
          <ul> 
           <li value="1">Support</li> 
           <li value="2"><a href="http://www.worldpay.com/uk/support">UK Support</a> </li> 
           <li value="3"><a href="http://www.worldpay.com/us/support">US Support</a> </li> 
           <li value="4"><a href="http://www.worldpay.com/global/support">Global Support</a> </li> 
          </ul> 
         </div> 
         <div class="large-3 medium-3 columns"> 
          <ul> 
           <li value="1">Contact us</li> 
           <li value="2"><a href="http://www.worldpay.com/uk/about/contact-us">UK customers</a> </li> 
           <li value="3"><a href="http://www.worldpay.com/us/get-in-touch">US customers</a> </li> 
           <li value="4"><a href="http://www.worldpay.com/global/about/contact-us">Global eCommerce customers</a> </li> 
          </ul> 
         </div> 
        </div> 
       </div> 
       <footer> 
        <div class="hrfooter"> 
         <div class="row" style="margin-left:auto; margin-right:auto;"> 
          <div class="large-7 medium-7 small-12 columns" style="padding-left:0;"> 
           <p>Guide feedback? Email us at: <a href="mailto:guides@worldpay.com?subject=Guide feedback" title="Send us your feedback" alt="Send us your feedback">guides@worldpay.com</a></p> 
          </div> 
          <div id="socialmedia" class="large-5 medium-5 small-12 columns">
           <a href="https://plus.google.com/102354760000065809589" target="_blank"><img src="../resources/images/footer/google-icon-30x30.jpg"></a>&nbsp;&nbsp;
           <a href="https://www.linkedin.com/company/worldpay" target="_blank"><img src="../resources/images/footer/linkedin-icon-30x30.jpg"></a>&nbsp;&nbsp;
           <a href="https://www.youtube.com/user/WorldpayGlobal" target="_blank"><img src="../resources/images/footer/youtube-icon-30x30.jpg"></a>&nbsp;&nbsp;
           <a href="https://twitter.com/worldpay" target="_blank"><img src="../resources/images/footer/twitter-icon-30x30.jpg"></a>&nbsp;&nbsp;
           <a href="https://www.facebook.com/WorldPay" target="_blank"><img src="../resources/images/footer/facebook-icon-30x30.jpg"></a>
           <p></p>
           <p></p>
          </div> 
         </div> 
         <div class="row" style="margin-left:auto; margin-right:auto;"> 
          <div class="medium-12 columns" style="padding-left:0;"> 
           <p class="footer"><a href="https://www.worldpay.com/sites/default/files/Worldpay_Supplier_Code_of_Conduct.pdf">Supplier Code of Conduct</a>&nbsp;&nbsp;&nbsp;<a href="http://www.worldpay.com/uk/privacy-policy">Privacy Policy</a>&nbsp;&nbsp;&nbsp;<a href="http://www.worldpay.com/sites/default/files/Worldpay-MSA-Statement.pdf">Slavery and Human Trafficking</a>&nbsp;&nbsp;&nbsp;<a href="http://www.worldpay.com/uk/terms-conditions">Terms &amp; Conditions RoW</a></p> 
           <p class="Copyright"><span class="GlobalCopyright"> Worldpay 2017. All rights reserved.</span> </p> 
          </div> 
         </div> 
        </div> 
       </footer> 
      </div> 
     </section>
     <a class="exit-off-canvas"></a> 
    </section> 
   </div> 
   <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script> 
  </div>  
 </body>
</html>