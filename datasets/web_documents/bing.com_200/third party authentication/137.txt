<!doctype html>
<html lang="en-US">
 <head> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
  <!-- Mobile viewport optimized --> 
  <meta name="viewport" content="width=device-width,initial-scale=1"> 
  <!-- Title --> 
  <title>Integrating a LightSwitch app with a third-party authentication system and use single sign-on.</title> 
  <link rel="profile" href="http://gmpg.org/xfn/11"> 
  <link rel="pingback" href="http://blog.pragmaswitch.com/xmlrpc.php"> 
  <!-- WP Head --> 
  <meta name="generator" content="WordPress 4.3.12"> 
  <meta name="template" content="Origin 0.5.8"> 
  <link rel="alternate" type="application/rss+xml" title="Full stack development for the Enterprise » Feed" href="http://blog.pragmaswitch.com/?feed=rss2"> 
  <link rel="alternate" type="application/rss+xml" title="Full stack development for the Enterprise » Comments Feed" href="http://blog.pragmaswitch.com/?feed=comments-rss2"> 
  <link rel="alternate" type="application/rss+xml" title="Full stack development for the Enterprise » Integrating a LightSwitch app with a third-party authentication system and use single sign-on. Comments Feed" href="http://blog.pragmaswitch.com/?feed=rss2&amp;p=102"> 
  <script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/blog.pragmaswitch.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.3.12"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script> 
  <style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style> 
  <link rel="stylesheet" id="style-css" href="http://blog.pragmaswitch.com/wp-content/themes/origin/style.min.css?ver=0.5.8" type="text/css" media="all"> 
  <link rel="stylesheet" id="origin_fancybox-stylesheet-css" href="http://blog.pragmaswitch.com/wp-content/themes/origin/js/fancybox/jquery.fancybox-1.3.4.css?ver=1" type="text/css" media="screen"> 
  <link rel="stylesheet" id="font-bitter-css" href="http://fonts.googleapis.com/css?family=Bitter&amp;ver=1" type="text/css" media="screen"> 
  <script type="text/javascript" src="http://blog.pragmaswitch.com/wp-includes/js/jquery/jquery.js?ver=1.11.3"></script> 
  <script type="text/javascript" src="http://blog.pragmaswitch.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1"></script> 
  <link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://blog.pragmaswitch.com/xmlrpc.php?rsd"> 
  <link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://blog.pragmaswitch.com/wp-includes/wlwmanifest.xml"> 
  <link rel="prev" title="Using a dedicated security database for multiple LightSwitch apps. (Part 2)" href="http://blog.pragmaswitch.com/?p=88"> 
  <link rel="next" title="Tweaking the LightSwitch webdeploy package with a simple script." href="http://blog.pragmaswitch.com/?p=120"> 
  <link rel="canonical" href="http://blog.pragmaswitch.com/?p=102"> 
  <link rel="shortlink" href="http://blog.pragmaswitch.com/?p=102"> 
  <script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-37090758-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script> 
  <style type="text/css">

		/* Font size. */
		
		/* Font family. */
		
		/* Link color. */
				a:hover, a:focus { color: #000; }

		/* Custom CSS. */
		
	
	</style> 
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script pagespeed_no_defer="" data-pso-version="20170307_163748">window.dynamicgoogletags={config:[]};dynamicgoogletags.config=["ca-pub-1119308213603188",[[[["DIV",null,"sidebar-primary",[]],["10px","10px",0],1,[0],"8339979951",0],[["DIV",null,"sidebar-primary",[]],["10px","10px",1],2,[0],"9816713151",0],[["BODY",0,null,[]],["10px","10px",1],1,[2],"2293446355",0]]],[[[[null,[[0,19]],null,16,1,1],[null,[[20,20]],null,34,1,1],[null,[[180,199]],null,17,1,1],[null,[[320,339]],null,32,1,1]],[[["BODY",0,null,[]],["10px","10px",1],1,[4],null,0,null,null,2],[["DIV",null,"site-title",[]],["10px","20px",1],3,[2],null,0,null,null,7],[["DIV",null,"site-description",[]],["10px","10px",1],3,[2],null,0,null,null,6],[["H1",0,null,[]],["10px","10px",1],0,[2],null,0,null,null,10],[["DIV",null,null,["entry-content"]],["10px","18.7000007629395px",1],0,[2],null,0,null,null,10],[["DIV",null,null,["entry-content"]],["10px","10px",1],3,[1],null,0,null,null,10],[["DIV",null,"content",[]],["10px","30px",1],3,[3],null,0,null,null,6],[["DIV",null,"sidebar-primary",[]],["10px","10px",1],3,[3],null,0,null,null,6],[["BODY",0,null,[]],["10px","10px",1],2,[5],null,0,null,null,2],[["DIV",null,"sidebar-primary",[]],["10px","10px",1],1,[0],null,0,null,null,6],[["DIV",null,"sidebar-primary",[]],["10px","10px",1],2,[0],null,0,null,null,6],[["DIV",null,null,["previous"]],["10px","10px",1],3,[3],null,0,null,null,8]],["7347597957","8824331158","1301064355","2777797550","4254530751"],[null,null,null,[]],"20170214_040801"]],"WordPressSinglePost","9956313952",null,0.01,null,[null,1491242129480],0.01,0,null,null,"http://blog.pragmaswitch.com"];(function(){var h=this,aa=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b},p=function(a){return"number"==typeof a},ba=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},r=function(a,b){function c(){}c.prototype=b.prototype;a.Sa=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Ua=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,
d)}};var ca=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},da=function(a,b){return a<b?-1:a>b?1:0},ea=function(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};var fa=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"==typeof a?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},ga=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f="string"==typeof a?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e};var ha=function(a){ha[" "](a);return a};ha[" "]=function(){};var ja=function(a,b){var c=ia;Object.prototype.hasOwnProperty.call(c,a)||(c[a]=b(a))};var la=function(){var a=ka;try{var b;if(b=!!a&&null!=a.location.href)a:{try{ha(a.foo);b=!0;break a}catch(c){}b=!1}return b}catch(c){return!1}},ma=function(a,b,c){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.call(c,a[d],d,a)};var t;a:{var na=h.navigator;if(na){var oa=na.userAgent;if(oa){t=oa;break a}}t=""}var v=function(a){return-1!=t.indexOf(a)};var pa=v("Opera"),w=v("Trident")||v("MSIE"),qa=v("Edge"),ra=v("Gecko")&&!(-1!=t.toLowerCase().indexOf("webkit")&&!v("Edge"))&&!(v("Trident")||v("MSIE"))&&!v("Edge"),sa=-1!=t.toLowerCase().indexOf("webkit")&&!v("Edge"),ta=function(){var a=h.document;return a?a.documentMode:void 0},ua;
a:{var va="",wa=function(){var a=t;if(ra)return/rv\:([^\);]+)(\)|;)/.exec(a);if(qa)return/Edge\/([\d\.]+)/.exec(a);if(w)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(sa)return/WebKit\/(\S+)/.exec(a);if(pa)return/(?:Version)[ \/]?(\S+)/.exec(a)}();wa&&(va=wa?wa[1]:"");if(w){var xa=ta();if(null!=xa&&xa>parseFloat(va)){ua=String(xa);break a}}ua=va}
var ya=ua,ia={},za=function(a){ja(a,function(){for(var b=0,c=ca(String(ya)).split("."),d=ca(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",k=d[f]||"";do{g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];if(0==g[0].length&&0==k[0].length)break;b=da(0==g[1].length?0:parseInt(g[1],10),0==k[1].length?0:parseInt(k[1],10))||da(0==g[2].length,0==k[2].length)||da(g[2],k[2]);g=g[3];k=k[3]}while(0==b)}return 0<=b})},Aa;var Ba=h.document;
Aa=Ba&&w?ta()||("CSS1Compat"==Ba.compatMode?parseInt(ya,10):5):void 0;var x=function(){},Ca="function"==typeof Uint8Array,z=function(a,b,c){a.a=null;b||(b=[]);a.Wa=void 0;a.M=-1;a.l=b;a:{if(a.l.length){b=a.l.length-1;var d=a.l[b];if(d&&"object"==typeof d&&"array"!=aa(d)&&!(Ca&&d instanceof Uint8Array)){a.R=b-a.M;a.G=d;break a}}a.R=Number.MAX_VALUE}a.Va={};if(c)for(b=0;b<c.length;b++)d=c[b],d<a.R?(d+=a.M,a.l[d]=a.l[d]||y):a.G[d]=a.G[d]||y},y=[],A=function(a,b){if(b<a.R){b+=a.M;var c=a.l[b];return c===y?a.l[b]=[]:c}c=a.G[b];return c===y?a.G[b]=[]:c},Ea=function(a){a=
A(Da,a);return null==a?a:+a},B=function(a,b,c){b<a.R?a.l[b+a.M]=c:a.G[b]=c},C=function(a,b,c){a.a||(a.a={});if(!a.a[c]){var d=A(a,c);d&&(a.a[c]=new b(d))}return a.a[c]},D=function(a,b,c){a.a||(a.a={});if(!a.a[c]){for(var d=A(a,c),e=[],f=0;f<d.length;f++)e[f]=new b(d[f]);a.a[c]=e}b=a.a[c];b==y&&(b=a.a[c]=[]);return b},Fa=function(a,b,c){a.a||(a.a={});c=c||[];for(var d=[],e=0;e<c.length;e++)d[e]=E(c[e]);a.a[b]=c;B(a,b,d)},Ga=function(a){if(a.a)for(var b in a.a){var c=a.a[b];if("array"==aa(c))for(var d=
0;d<c.length;d++)c[d]&&E(c[d]);else c&&E(c)}},E=function(a){Ga(a);return a.l};x.prototype.toString=function(){Ga(this);return this.l.toString()};var Ha=function(a){var b;if("array"==aa(a)){for(var c=Array(a.length),d=0;d<a.length;d++)null!=(b=a[d])&&(c[d]="object"==typeof b?Ha(b):b);return c}if(Ca&&a instanceof Uint8Array)return new Uint8Array(a);c={};for(d in a)null!=(b=a[d])&&(c[d]="object"==typeof b?Ha(b):b);return c};var Ia=function(a,b){this.events=[];this.qa={};this.Z=b||h;b&&(b.google_js_reporting_queue=b.google_js_reporting_queue||[],this.events=b.google_js_reporting_queue);this.ka=null!=this.Z.google_measure_js_timing?this.Z.google_measure_js_timing:Math.random()<a};Ia.prototype.disable=function(){fa(this.events,this.ja,this);ma(this.qa,function(a){fa(a,this.ja,this)},this);this.qa={};this.events.length=0;this.ka=!1};
Ia.prototype.ja=function(a){a="goog_"+a.label+"_"+a.type+"_"+a.eventId;var b=this.Z.performance;b&&b.clearMarks&&(b.clearMarks(a+"_start"),b.clearMarks(a+"_end"))};var Ja=function(){var a=!1;try{var b=Object.defineProperty({},"passive",{get:function(){a=!0}});h.addEventListener("test",null,b)}catch(c){}return a}();var Ka=function(a,b,c,d,e){this.na=c||4E3;this.H=a||"&";this.za=b||",$";this.T=void 0!==d?d:"trn";this.Ta=e||null;this.ya=!1;this.V={};this.Ka=0;this.L=[]},Na=function(a,b,c,d){b=b+"//"+c+d;var e=La(a)-d.length-0;if(0>e)return"";a.L.sort(function(a,b){return a-b});d=null;c="";for(var f=0;f<a.L.length;f++)for(var g=a.L[f],k=a.V[g],m=0;m<k.length;m++){if(!e){d=null==d?g:d;break}var l=Ma(k[m],a.H,a.za);if(l){l=c+l;if(e>=l.length){e-=l.length;b+=l;c=a.H;break}else a.ya&&(c=e,l[c-1]==a.H&&--c,b+=l.substr(0,
c),c=a.H,e=0);d=null==d?g:d}}f="";a.T&&null!=d&&(f=c+a.T+"="+(a.Ta||d));return b+f+""},La=function(a){if(!a.T)return a.na;var b=1,c;for(c in a.V)b=c.length>b?c.length:b;return a.na-a.T.length-b-a.H.length-1},Ma=function(a,b,c,d,e){var f=[];ma(a,function(a,k){(a=Oa(a,b,c,d,e))&&f.push(k+"="+a)});return f.join(b)},Oa=function(a,b,c,d,e){if(null==a)return"";b=b||"&";c=c||",$";"string"==typeof c&&(c=c.split(""));if(a instanceof Array){if(d=d||0,d<c.length){for(var f=[],g=0;g<a.length;g++)f.push(Oa(a[g],
b,c,d+1,e));return f.join(c[d])}}else if("object"==typeof a)return e=e||0,2>e?encodeURIComponent(Ma(a,b,c,d,e+1)):"...";return encodeURIComponent(String(a))};var Sa=function(a,b,c,d){var e=Qa;if((c?e.Qa:Math.random())<(d||e.Ba))try{var f;b instanceof Ka?f=b:(f=new Ka,ma(b,function(a,b){var c=f,d=c.Ka++,e={};e[b]=a;a=[e];c.L.push(d);c.V[d]=a}));var g=Na(f,e.Na,e.Da,e.Ma+a+"&");g&&Ra(g)}catch(k){}},Ra=function(a){h.google_image_requests||(h.google_image_requests=[]);var b=h.document.createElement("img");b.src=a;h.google_image_requests.push(b)};var Ta;if(!(Ta=!ra&&!w)){var Ua;if(Ua=w)Ua=9<=Number(Aa);Ta=Ua}Ta||ra&&za("1.9.1");w&&za("9");var F=function(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d};F.prototype.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};var Va=document,Wa=window;var Xa=!!window.google_async_iframe_id,ka=Xa&&window.parent||window;var Qa,G;if(Xa&&!la()){var Ya="."+Va.domain;try{for(;2<Ya.split(".").length&&!la();)Va.domain=Ya=Ya.substr(Ya.indexOf(".")+1),ka=window.parent}catch(a){}la()||(ka=window)}G=ka;var Za=new Ia(1,G);Qa=new function(){this.Na="http:"===Wa.location.protocol?"http:":"https:";this.Da="pagead2.googlesyndication.com";this.Ma="/pagead/gen_204?id=";this.Ba=.01;this.Qa=Math.random()};
if("complete"==G.document.readyState)G.google_measure_js_timing||Za.disable();else if(Za.ka){var $a=function(){G.google_measure_js_timing||Za.disable()};G.addEventListener?G.addEventListener("load",$a,Ja?void 0:!1):G.attachEvent&&G.attachEvent("onload",$a)};var H=function(a){this.pa={};this.pa.c=a;this.o=[];this.u=null;this.v=[];this.fa=0};H.prototype.g=function(a){for(var b=0;b<this.o.length;b++)if(this.o[b]==a)return this;this.o.push(a);return this};var ab=function(a,b){a.u=a.u?a.u:b;return a};H.prototype.C=function(a){for(var b=0;b<this.v.length;b++)if(this.v[b]==a)return this;this.v.push(a);return this};
H.prototype.getData=function(a){var b=this.pa,c={},d;for(d in b)c[d]=b[d];0<this.fa&&(c.t=this.fa);c.err=this.o.join();c.warn=this.v.join();if(this.u){c.excp_n=this.u.name;c.excp_m=this.u.message&&this.u.message.substring(0,512);if(b=this.u.stack){d=this.u.stack;try{-1==d.indexOf("")&&(d="\n"+d);for(var e;d!=e;)e=d,d=d.replace(/((https?:\/..*\/)[^\/:]*:\d+(?:.|\n)*)\2/,"$1");b=d.replace(/\n */g,"\n")}catch(f){b=""}}c.excp_s=b}c.w=0<a.innerWidth?a.innerWidth:null;c.h=0<a.innerHeight?a.innerHeight:
null;return c};var cb=function(a,b){bb(a,a.Ga,a.X,b)},bb=function(a,b,c,d){var e=d.u;d=d.getData(a.K);a.Ia?(d.type=b,a.K.console.log(d),e&&a.K.console.error(e)):0<c&&(d.r=c,Sa(b,d,"jserror"!=b,c))};var I=function(a){return a.dynamicgoogletags=a.dynamicgoogletags||{}};var J=function(a){z(this,a,db)};r(J,x);var db=[4];J.prototype.getId=function(){return A(this,3)};var K=function(a){z(this,a,null)};r(K,x);var eb=function(a){z(this,a,null)};r(eb,x);var L=function(a){return C(a,J,1)},gb=function(a){z(this,a,fb)};r(gb,x);var fb=[1];gb.prototype.i=function(){return D(this,eb,1)};gb.prototype.sa=function(a){Fa(this,1,a)};var M=function(a){z(this,a,hb)};r(M,x);var hb=[2];M.prototype.ma=function(){return A(this,3)};M.prototype.ta=function(a){B(this,3,a)};var ib=function(a){z(this,a,null)};r(ib,x);var N=function(a){z(this,a,jb)};r(N,x);var jb=[1,2,3];N.prototype.i=function(){return D(this,eb,2)};
N.prototype.sa=function(a){Fa(this,2,a)};var O=function(a){z(this,a,kb)};r(O,x);var kb=[3];O.prototype.A=function(){return A(this,1)};O.prototype.D=function(){return C(this,gb,2)};O.prototype.O=function(){return A(this,4)};O.prototype.ma=function(){return A(this,5)};O.prototype.ta=function(a){B(this,5,a)};O.prototype.N=function(){return C(this,lb,9)};var lb=function(a){z(this,a,null)};r(lb,x);var mb=function(a){this.m=a;this.va=[]};mb.prototype.f=function(){return 0<D(this.m,N,3).length?D(this.m,N,3)[0]:null};var nb=function(a){var b=["adsbygoogle-placeholder"];a=a.className?a.className.split(/\s+/):[];for(var c={},d=0;d<a.length;++d)c[a[d]]=!0;for(d=0;d<b.length;++d)if(!c[b[d]])return!1;return!0};var ob=function(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=ea(d.Xa);a[e]=d.value}},rb=function(a,b){var c=pb;b.setAttribute("data-adsbygoogle-status","reserved");b={element:b};(c=c&&c.Oa)&&(b.params=c);qb(a).push(b)},qb=function(a){return a.adsbygoogle=a.adsbygoogle||[]};var sb=function(a,b){if(!a)return!1;a=b.getComputedStyle?b.getComputedStyle(a,null):a.currentStyle;if(!a)return!1;a=a.cssFloat||a.styleFloat;return"left"==a||"right"==a},tb=function(a){for(a=a.previousSibling;a&&1!=a.nodeType;)a=a.previousSibling;return a?a:null},ub=function(a){return!!a.nextSibling||!!a.parentNode&&ub(a.parentNode)};var vb=function(a,b){var c=a.length;if(null!=c)for(var d=0;d<c;d++)b.call(void 0,a[d],d)};var wb=function(a,b,c,d){this.oa=a;this.aa=b;this.ba=c;this.P=d};wb.prototype.query=function(a){var b=[];try{b=a.querySelectorAll(this.oa)}catch(f){}if(!b.length)return[];a=b;b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];a=c}else a=[];a=xb(this,a);p(this.aa)&&(b=this.aa,0>b&&(b+=a.length),a=0<=b&&b<a.length?[a[b]]:[]);if(p(this.ba)){b=[];for(c=0;c<a.length;c++){var d=yb(a[c]),e=this.ba;0>e&&(e+=d.length);0<=e&&e<d.length&&b.push(d[e])}a=b}return a};
wb.prototype.toString=function(){return JSON.stringify({nativeQuery:this.oa,occurrenceIndex:this.aa,paragraphIndex:this.ba,ignoreMode:this.P})};
var xb=function(a,b){if(null==a.P)return b;switch(a.P){case 1:return b.slice(1);case 2:return b.slice(0,b.length-1);case 3:return b.slice(1,b.length-1);case 0:return b;default:throw Error("Unknown ignore mode: "+a.P);}},yb=function(a){var b=[];vb(a.getElementsByTagName("p"),function(a){100<=zb(a)&&b.push(a)});return b},zb=function(a){if(3==a.nodeType)return a.length;if(1!=a.nodeType||"SCRIPT"==a.tagName)return 0;var b=0;vb(a.childNodes,function(a){b+=zb(a)});return b},Ab=function(a){return 0==a.length||
isNaN(a[0])?a:"\\"+(30+parseInt(a[0],10))+" "+a.substring(1)};var Bb=function(a,b){var c=0,d=A(a,6);if(void 0!==d)switch(d){case 0:c=1;break;case 1:c=2;break;case 2:c=3}var d=null,e=A(a,7);if(A(a,1)||a.getId()||0<A(a,4).length){var f=a.getId(),g=A(a,1),e=A(a,4),d=A(a,2);a=A(a,5);var k="";g&&(k+=g);f&&(k+="#"+Ab(f));if(e)for(f=0;f<e.length;f++)k+="."+Ab(e[f]);d=(e=k)?new wb(e,d,a,c):null}else e&&(d=new wb(e,A(a,2),A(a,5),c));return d?d.query(b):[]},Cb=function(a,b){if(a==b)return!0;if(!a||!b||A(a,1)!=A(b,1)||A(a,2)!=A(b,2)||a.getId()!=b.getId()||A(a,7)!=A(b,
7)||A(a,5)!=A(b,5)||A(a,6)!=A(b,6))return!1;a=A(a,4);b=A(b,4);if(a||b)if(a&&b&&a.length==b.length)for(var c=0;c<a.length;c++){if(a[c]!=b[c])return!1}else return!1;return!0};var Db=function(a){a=a.document;return("CSS1Compat"==a.compatMode?a.documentElement:a.body)||{}},Eb=function(a){return void 0===a.pageYOffset?(a.document.documentElement||a.document.body.parentNode||a.document.body).scrollTop:a.pageYOffset};var Fb=function(a,b){b=L(b);if(!b)return null;a=Bb(b,a);return 0<a.length?a[0]:null},Hb=function(a,b){b=Gb(a,b,!0);return p(b)&&!(b<=Db(a).clientHeight)},Ib=function(a,b){return a.body?b-a.body.getBoundingClientRect().top:b},Gb=function(a,b,c){if(!c||!p(A(b,8))){var d=Fb(a.document,b);if(d){var e=null!=C(b,K,2)?A(C(b,K,2),3):void 0;c=a.document.createElement("div");c.className="googlepublisherpluginad";var f=c.style;f.textAlign="center";f.width="100%";f.height="0px";f.clear=e?"both":"none";Jb(c,d,
A(b,3));d=c.getBoundingClientRect().top+Eb(a);c.parentNode.removeChild(c);B(b,8,d)}}b=A(b,8);return p(b)?b-Eb(a):null},Kb={0:0,1:1,2:2,3:3},Lb={0:"auto",1:"horizontal",2:"vertical",3:"rectangle"},Mb=function(a,b){a.sort(function(a,d){a=Gb(b,a,!0);a=p(a)?a:Number.POSITIVE_INFINITY;d=Gb(b,d,!0);d=p(d)?d:Number.POSITIVE_INFINITY;return a-d})},Jb=function(a,b,c){switch(Kb[c]){case 0:b.parentNode&&b.parentNode.insertBefore(a,b);break;case 3:if(c=b.parentNode){var d=b.nextSibling;if(d&&d.parentNode!=c)for(;d&&
8==d.nodeType;)d=d.nextSibling;c.insertBefore(a,d)}break;case 1:b.insertBefore(a,b.firstChild);break;case 2:b.appendChild(a)}if(1!=b.nodeType?0:"INS"==b.tagName&&nb(b))b.style.display="block"};var pb=new function(){this.ia="googlepublisherpluginad";this.Oa={google_tag_origin:"pso"}},P=function(a){this.b=a;this.j=[];this.ea=0;this.o=[];this.v=[];this.Y=null;this.ra=!1},Nb=function(a,b){a=C(a.f(),J,4);if(!(a&&b&&A(b,1)==A(a,1)&&b.getId()==a.getId()&&p(A(b,2))&&p(A(b,5))))return!1;a=A(a,4);b=A(b,4);if(a.length!=b.length)return!1;for(var c=0;c<a.length;++c)if(b[c]!=a[c])return!1;return!0},Ob=function(a){var b=p(void 0)?void 0:20,c=a.f(),d=c.i(),e=C(c,J,4);if(!(a.ra||0>=b)&&e&&0!=Bb(e,a.b.document).length){a.ra=
!0;for(var c=[],f=0;f<d.length;++f){var g=d[f],k=L(g);if(Nb(a,k)){var m=A(k,2),k=A(k,5);null!=m&&null!=k&&0<=m&&0<=k&&(!c[m]||A(L(c[m]),5)<k)&&(c[m]=g)}}k=0;d=Bb(e,a.b.document);for(m=0;m<c.length&&k<b;++m){var e=k,f=a,l=d[m],g=c[m],k=b-k,u=f.f().i(),q=0;if(l&&g){l=yb(l).length;switch(A(L(g),6)){case 0:case 1:--l;break;case 2:l-=2}for(var n=A(L(g),5)+1;n<l&&q<k;++n){var Pa=new g.constructor(Ha(E(g))),Ic=L(Pa);B(Ic,5,n);u.push(Pa);q++}}q&&f.f().sa(u);k=e+q}}};
P.prototype.g=function(a){for(var b=0;b<this.o.length;++b)if(this.o[b]==a)return;this.o.push(a)};P.prototype.C=function(a){for(var b=0;b<this.v.length;++b)if(this.v[b]==a)return;this.v.push(a)};
var Pb=function(a,b,c){var d=Kb[A(b,3)],e=Fb(a.b.document,b);if(e){var f=L(b)?A(L(b),2):void 0,g;a:{g=a.b;if(null!=f)switch(d){case 0:g=sb(tb(e),g);break a;case 3:g=sb(e,g);break a;case 2:f=e.lastChild;g=sb(f?1==f.nodeType?f:tb(f):null,g);break a}g=!1}if(!g&&(c||2!=d||ub(e))&&(c=1==d||2==d?e:e.parentNode,!c||(1!=c.nodeType?0:"INS"==c.tagName&&nb(c))||!(0>=c.offsetWidth)))a:if(A(b,7))a.C(8);else{b:if(A(b,5))c=A(b,5);else{if(c=Q(a).f())if(c=A(c,3),a.ea<c.length){c=c[a.ea++];break b}a.g(4);c=null}if(null!=
c){B(b,7,!0);d=[];(g=a.O())&&d.push(g);g=Q(a).va;for(f=0;f<g.length;++f)d.push(g[f]);p(A(b,9))&&d.push("pso-lv-"+A(b,9));var k=a.b.document;g=a.A();var f=A(b,6),f=null!=f?Lb[f]:f,m=C(b,K,2),l={};m&&(l.ua=A(m,1),l.ha=A(m,2),l.Aa=!!A(m,3));var m=c,u=pb,q=k.createElement("div"),n=q.style;n.textAlign="center";n.width="100%";n.height="auto";n.clear=l.Aa?"both":"none";l.La&&ob(n,l.La);k=k.createElement("ins");n=k.style;n.display="block";n.margin="auto";n.backgroundColor="transparent";l.ua&&(n.marginTop=
l.ua);l.ha&&(n.marginBottom=l.ha);l.wa&&ob(n,l.wa);q.appendChild(k);k.setAttribute("data-ad-format",f?f:"auto");if(f=u&&u.ia)q.className=f;k.className="adsbygoogle";k.setAttribute("data-ad-client",g);m&&k.setAttribute("data-ad-slot",m);d.length&&k.setAttribute("data-ad-channel",d.join("+"));Jb(q,e,A(b,3));try{rb(a.b,k)}catch(Pa){A(b,5)!=c&&a.ea--;B(b,7,!1);a.C(6);q&&q.parentNode&&q.parentNode.removeChild(q);break a}a.j.push(q)}}}},Qb=function(a,b){for(var c=Number.POSITIVE_INFINITY,d=0;d<a.j.length;++d)var e=
a.j[d].getBoundingClientRect().top,f=a.j[d].getBoundingClientRect().bottom,c=Math.min(c,b<e?e-b:f<b?b-f:0);return c},Q=function(a){a=I(a.b).ps||null;if(!a)throw Error("No placementState");return a},Rb=function(a,b){var c=Q(a).m;if(!c||!c.A())return a.g(5),!1;c=D(c,N,3)[0];return c?A(c,3).length<b?(a.g(4),a.g(5),!1):!0:(a.g(5),!1)};P.prototype.A=function(){return Q(this).m.A()||""};P.prototype.O=function(){return Q(this).m.O()||void 0};P.prototype.D=function(){return Q(this).m.D()||new gb};
P.prototype.f=function(){var a=Q(this).f();if(!a)throw Error("No mConfig");return a};var Sb=function(a){a=A(a.f(),6);return null!=a&&0<a};var Tb=function(){this.I=this.J=this.ca=null};var R=function(a){P.call(this,a)};r(R,P);R.prototype.apply=function(a){var b;(b=Q(this).m)&&b.A()&&b.D()?b=!0:(this.g(5),b=!1);if(b){b=this.D().i();for(var c=0;c<b.length;c++){var d=b[c];A(d,7)||Pb(this,d,a)}}};R.prototype.B=function(){return(0==this.D().i().length||0<this.j.length)&&0==this.o.length};var Ub=function(a){P.call(this,a);if(Rb(this,0)){a=this.D().i();for(var b=this.f().i(),c=0;c<a.length;c++){var d=a[c],e;a:{e=d;var f=b;if(e&&L(e))for(var g=0;g<f.length;g++){var k=f[g];if(A(e,3)==A(k,3)&&Cb(L(e),L(k))){e=k;break a}}e=null}e&&C(e,K,2)&&(e=C(e,K,2),d.a||(d.a={}),f=e?E(e):e,d.a[2]=e,B(d,2,f))}}};r(Ub,R);var Wb=function(a,b){var c=void 0===b.pageXOffset?(b.document.documentElement||b.document.body.parentNode||b.document.body).scrollLeft:b.pageXOffset,d=Eb(b);if(a.getBoundingClientRect)return a=a.getBoundingClientRect(),Vb(a)?new F(a.top+d,a.right+c,a.bottom+d,a.left+c):new F(0,0,0,0);b=b.document.createRange();b.selectNodeContents(a);return b.collapsed?new F(0,0,0,0):b.getBoundingClientRect?(a=b.getBoundingClientRect(),Vb(a)?new F(a.top+d,a.right+c,a.bottom+d,a.left+c):new F(0,0,0,0)):new F(0,0,0,
0)},Vb=function(a){return!!a&&p(a.top)&&!isNaN(a.top)&&p(a.right)&&!isNaN(a.right)&&p(a.bottom)&&!isNaN(a.bottom)&&p(a.left)&&!isNaN(a.left)};var ac=function(a){this.K=a;this.Ha=Xb(a);this.xa=S("ins.adsbygoogle",a);this.ga=Yb(a);this.Pa=S("[__lsu_res=reserved]",a);this.U=[];a=Zb(this);for(var b=0;b<a.length;b++)this.U.push(new $b(a[b]))},Xb=function(a){var b=a.googletag;if(!b||"function"!=typeof b.pubads)return S("div[id^=div-gpt-ad]",a);var c=[];try{for(var d=b.pubads().getSlots(),b=0;b<d.length;b++){var e=d[b].getSlotElementId(),f=a.document.getElementById(e);null!=f&&c.push(f)}}catch(g){Sa("ladd_evt",{ok:0,err:g.toString()},!0,.1)}return c},
Yb=function(a){return S("iframe[id^=aswift_],iframe[id^=google_ads_frame]",a)},S=function(a,b){return ga(b.document.querySelectorAll(a),function(a){return a})},Zb=function(a){return[].concat(a.Ha,a.xa,a.ga,a.Pa)},$b=function(a){this.Ea=a;this.W=null};var T=function(a){P.call(this,a)};r(T,P);T.prototype.apply=function(){};T.prototype.B=function(){var a;if(Sb(this)){var b=this.b;a=Xb(b);var c=S("ins.adsbygoogle",b),d=Yb(b),b=S("[__lsu_res=reserved]",b);a=0<[].concat(a,c,d,b).length}else a=!0;return a};var bc=function(a){P.call(this,a);this.F=null};r(bc,P);
bc.prototype.apply=function(a){if(a&&Rb(this,2)){Ob(this);a=Db(this.b).clientHeight||640;null==this.F&&(this.F=new ac(this.b));var b=this.F.ga.length;if(!(5<=b)){var b=Math.min(2,5-b),c=this.f().i();Mb(c,this.b);for(var d=0;d<c.length&&this.j.length<b;++d){var e=c[d];if(Hb(this.b,e)){var f=Gb(this.b,e,!0);if(void 0!==f){var g;a:{g=this.F;for(var k=a,m=f,l=0;l<g.U.length;l++){var u=m,q=k,n;n=g.U[l];n.W||(n.W=Wb(n.Ea,g.K));n=n.W;if(n.top-q<u&&u<n.bottom+q){g=!0;break a}}g=!1}g||Qb(this,f)<a||Pb(this,
e,!0)}}}0==this.j.length&&this.C(1)}}};bc.prototype.B=function(){return Sb(this)?0<Zb(this.F).length:!0};var cc=function(a){P.call(this,a);this.$=!1};r(cc,T);
cc.prototype.apply=function(a){if(a&&!this.$){var b;a:{var c=this.b.document;b=c.body;if(a&&b){a=this.A();var d=pb,e=c.createElement("div");e.style.display="block";if(d=d&&d.ia)e.className=d;c=c.createElement("ins");c.className="adsbygoogle";c.setAttribute("data-ad-client",a);c.setAttribute("data-reactive-ad-format","1");c.style.display="none";e.appendChild(c);Jb(e,b,2);try{rb(this.b,c)}catch(f){this.C(6);e&&e.parentNode&&e.parentNode.removeChild(e);b=5;break a}this.j.push(e);b=0}else b=4}this.$=
0==b}};cc.prototype.B=function(){return this.$&&T.prototype.B.call(this)};var dc=function(a){P.call(this,a);a=Db(a).clientHeight;this.Ca=.1*a;this.Ja=.75*a};r(dc,P);
dc.prototype.apply=function(a){if(Rb(this,3)&&!this.B()){Ob(this);var b=this.f().i();Mb(b,this.b);var c;c=this.Ca;var d;d=document;d=d.querySelectorAll?d.querySelectorAll("header,#header,#masthead,.header,.site-header"):[];for(var e=d.length,f=0<e?d[0]:null,g=1;g<e;g++)d[g].getBoundingClientRect().top<f.getBoundingClientRect().top&&(f=d[g]);(d=f)&&(d=d.getBoundingClientRect())&&d.top!=d.bottom&&d.left!=d.right&&(c=Math.min(c,Ib(document,d.bottom)));for(d=0;d<b.length&&3>this.j.length;d++){e=b[d];
var f=c,g=this.b.document,k=Gb(this.b,e,!1);!p(k)||Ib(g,k)<f?f=!1:(f=Qb(this,k),f=this.Ja<f);f&&(f=Hb(this.b,e),g=A(e,6)||0,f&&0==g&&B(e,6,3),!f&&a||Pb(this,e,a))}}};dc.prototype.B=function(){return 3==this.j.length};var U={};U[16]=R;U[17]=R;U[19]=T;U[29]=bc;U[33]=T;U[30]=cc;U[28]=dc;U[34]=dc;U[32]=Ub;U[1]=R;U[8]=T;U[11]=R;var ec=[19,29,33,30,16,32,17,34],fc=[16,19,33,30,17,1,6,8,11];var gc=function(a,b){a=a.google_ad_modifications=a.google_ad_modifications||{};(a.ad_channels=a.ad_channels||[]).push(b)};var hc=function(a){return 0>a||99<a?null:10>a?"0"+a:""+a};var ic=function(a,b){a=a.google_ad_modifications=a.google_ad_modifications||{};a=a.loeids=a.loeids||[];for(var c=0;c<b.length;c++)a.push(b[c])};var jc=function(a,b,c){this.la=a;this.Fa=c?c:new lb};jc.prototype.N=function(){return this.Fa||new lb};var kc=function(a){if(!p(a))return!1;for(var b=0;b<ec.length;++b)if(a==ec[b])return!1;return!0},pc=function(){var a=V,b=lc,c=mc,d=b.f();if(!d)return nc(16);var e=null,f;a:{var g=D(d,M,1);for(f=0;f<g.length;++f){for(var k=!0,m=0;m<fc.length;++m)A(g[f],4)==fc[m]&&(k=!1);if(k){g=[];0==d.i().length&&g.push("PsoInvalidVariant");0==A(d,3).length&&g.push("PsoNoAdSlotCodes");f=g;break a}}f=[]}g=c.la;if(0==f.length)a:{e=D(d,M,1);if(p(g))for(f=0;f<e.length;f++)if(k=e[f],U[A(k,4)])for(var m=D(k,ib,2),l=0;l<
m.length;l++){var u=m[l],q=A(u,1),u=A(u,2);if(p(q)&&p(u)&&g>=q&&g<=u){e=k;break a}}e=null}else for(k=0;k<f.length;++k)b.va.push(f[k]);if(!e){f=D(d,M,1);e={};for(k=0;k<f.length;k++)e[A(f[k],4)]=!0;f=null;e[19]||e[8]?f=19:e[16]||e[1]?f=16:0<d.i().length&&0<A(d,3).length&&e[34]&&(f=34);null!=f?(e=new M,B(e,6,3),B(e,4,f),16!=f&&19!=f&&e.ta("pso-ama-fallback")):e=null}(f=!e)||(!p(g)||800>g?f=!1:820>g?(ic(a,["26835111"]),f=!0):(840>g&&ic(a,["26835112"]),f=!1));if(f)return nc(16);(g=e.ma())&&gc(a,g);g=!0;
A(c.N(),2)&&(Date.now?Date.now():+new Date)<A(c.N(),2)||(gc(a,"pso-ama-exd"),g=!1);A(b.m,11)&&(gc(a,"pso-ama-stl-tmp"),g=!1);g&&gc(a,"pso-ama-elig");2==A(e,6)&&(b=A(e,1),null!=b&&ic(a,[""+b]));if(g&&(2==A(e,6)||1==A(e,6))){d=D(d,M,1);if(null===c.la)c=[];else{b={};c=[];for(g=0;g<d.length;g++)f=oc(d[g]),null==f||b[f]||(b[f]=!0,c.push(f));b=oc(e);if(null!=b){d=[];b=hc(b);g=!1;if(b)for(f=0;f<c.length;f++)k=hc(c[f]),b==k&&(g=!0),k&&d.push("950"+b+k);g||(d=[]);c=d}else c=[]}ic(a,c)}a=new Tb;a.ca=A(e,5);
a.J=A(e,4);return a},nc=function(a){var b=new Tb;b.J=a;return b},qc=function(a){a=a.google_ad_modifications=a.google_ad_modifications||{};a.remove_ads_by_default=!0;a.ad_whitelist=[{ad_tag_origin:"pso"}];a.ad_blacklist=[];a.space_collapsing="slot"},oc=function(a){var b;switch(A(a,6)){case 1:b=A(a,4);break;case 2:b=A(a,7)}return null!=b?b:null};var rc=function(a){this.document=a};var W=function(a){H.call(this,a)};r(W,H);W.prototype.getData=function(a){var b=W.Sa.getData.call(this,a),c;a:{c=(new rc(a.document)).document.getElementsByTagName("script");for(var d=0;d<c.length;++d)if(c[d].hasAttribute("data-pso-version")){c=c[d].getAttribute("data-pso-version");break a}c=null}b.sv=c;if(d=I(a).ps||null){c=d.m;var d=d.f(),e=b.wpc;b.wpc=null!=e?e:c.A();b.su=A(c,14);b.tn=c.O();b.ev=d&&A(d,5)}if(a=I(a).ss||null)b.s=a.J,b.st=a.ca;return b};var sc=null,tc=!1,wc=function(a){var b=uc,c=vc;b.addEventListener?(a&&b.addEventListener("DOMContentLoaded",a,!1),c&&b.addEventListener("load",c,!1)):b.attachEvent&&c&&b.attachEvent("onload",c)},yc=function(a){p(sc)&&a.clearInterval&&(a.clearInterval(sc),sc=null);tc||xc(a,!1);xc(a,!0)},zc=function(a,b){try{yc(b);var c=I(b).ss||null;if(c&&c.I){var d=c.I,e=d.B(),f=d.o,g=d.v,k=d.Y,m=d.j.length;e||0!=m||f.push(6);for(var l=new W(m),c=0;c<g.length;c++)l.C(g[c]);if(e&&0==f.length&&null===k)bb(a,a.Ra,a.da,
l);else{for(e=0;e<f.length;e++)l.g(f[e]);cb(a,ab(l,k))}}else cb(a,(new W(0)).g(2))}catch(u){cb(a,ab((new W(0)).g(1),u))}I(b).loaded=!0},xc=function(a,b){b||(tc=!0);if((a=I(a).ss||null)&&a.I){a=a.I;try{a.apply(b)}catch(c){a.g(1),null===a.Y&&(a.Y=c)}}},Ac=function(){xc(window,!1)};var X=new function(a){this.Ra="pso_success";this.Ga="pso_failure";this.X=this.da=.01;this.Ia=!1;this.K=a}(window);
try{var V=window,Da,Bc=I(V).config;Da=Bc?new O(Bc):null;if(!Da)throw Error("No config");var Cc=Ea(10),Dc=Ea(7);X.da=null!=Cc?Cc:X.da;X.X=null!=Dc?Dc:X.X;var lc=new mb(Da),Ec=lc;I(V).ps=Ec;var Y,mc;if(v("iPad")||v("Android")&&!v("Mobile")||v("Silk")||!(v("iPod")||v("iPhone")||v("Android")||v("IEMobile")))Y=nc(16);else{var Fc,Gc=/^#([^=]*)=(\d+)$/.exec(V.location.hash);if((Fc=Gc&&3==Gc.length&&"pso_strategy"==Gc[1]?+Gc[2]:null)&&U[Fc]){Y=nc(Fc);var Hc=V;kc(Fc)&&qc(Hc)}else{var Jc=V,Kc=lc.m.N(),Z;try{var Lc=
parseInt(Jc.localStorage.getItem("PSO_EXP0"),10);Z=isNaN(Lc)?null:Lc}catch(a){Z=null}if(null==Z){Z=Math.floor(1024*Math.random());var Mc=Z;try{Jc.localStorage.setItem("PSO_EXP0",Mc.toString())}catch(a){}}mc=new jc(Z,0,Kc);Y=pc()}if(1==Y.ca){var Nc=V;kc(Y.J)&&qc(Nc)}}if(!Y)throw Error("No strategyState created!");var Oc=Y;I(V).ss=Oc;var Pc=V,Qc=Y,Rc=Qc.J;if(p(Rc)){var Sc=U[Rc];Rc&&Sc&&(Qc.I=new Sc(Pc))}var uc=V,vc=ba(zc,X,uc),Tc=ba(yc,uc);switch(uc.document.readyState){case "complete":vc();break;case "interactive":Tc();
wc();break;default:var Uc=uc,Vc=qb(Uc);Vc.loaded||(Vc.onload=Ac);sc=Uc.setInterval(Ac,10);wc(Tc)}}catch(a){cb(X,ab(new W(0),a))};})();
</script> 
 </head> 
 <body class="wordpress ltr en_US parent-theme y2017 m10 d03 h16 tuesday logged-out singular singular-post singular-post-102"> 
  <div id="container"> 
   <div class="wrap"> 
    <div id="header"> 
     <div id="branding"> 
      <div id="site-title">
       <a href="http://blog.pragmaswitch.com" title="Full stack development for the Enterprise" rel="home"><span>Full stack development for the Enterprise</span></a>
      </div> 
     </div>
     <!-- #branding --> 
     <div id="site-description">
      <span>Make things as simple as possible but no simpler...</span>
     </div> 
     <div class="breadcrumb-trail breadcrumbs" itemprop="breadcrumb"> 
      <span class="trail-browse">Browse:</span> 
      <span class="trail-begin"><a href="http://blog.pragmaswitch.com" title="Full stack development for the Enterprise">Home</a></span> 
      <span class="sep">»</span> 
      <span class="trail-end">Integrating a LightSwitch app with a third-party authentication system and use single sign-on.</span> 
     </div> 
    </div>
    <!-- #header --> 
    <div id="main"> 
     <div id="content"> 
      <div class="hfeed"> 
       <div id="post-102" class="hentry post publish post-1 odd author-paul category-uncategorized post_tag-security"> 
        <div class="post-content"> 
         <h1 class="post-title entry-title">Integrating a LightSwitch app with a third-party authentication system and use single sign-on.</h1> 
         <div class="byline">
          <time class="published" datetime="2011-07-31T16:49:00+00:00" title="Sunday, July 31st, 2011, 4:49 pm">July 31, 2011</time> · by 
          <span class="author vcard"><a class="url fn n" rel="author" href="http://blog.pragmaswitch.com/?author=1" title="paul">paul</a></span> · in 
          <span class="category"><a href="http://blog.pragmaswitch.com/?cat=1" rel="tag">Uncategorized</a></span> 
         </div> 
         <div class="entry-content"> 
          <h1>Introduction</h1> 
          <p>Large enterprises often make use of a company-wide authentication system for all their internal applications.</p> 
          <p>This approach has major advantages:</p> 
          <ul> 
           <li>all code and business logic related to authentication is centralised in one place;</li> 
           <li>the authentication mechanism can be integrated on the most suitable application layer;</li> 
           <li>the management of users is very convenient: when an employee leaves the company, his permissions for all applications&nbsp;she was previously subscribed,&nbsp;can be withdrawn by one mouse-click;</li> 
           <li>…</li> 
          </ul> 
          <p>Nonetheless, there is an important drawback: each individual application (and typically, in a major enterprise, there are a lot of applications types: Mainframe, Java, .Net, …) needs to integrate in one way or another with this third-party authentication system.</p> 
          <p>Obviously, it is much easier to make this integration exercise when your application framework is more or less build on custom coding. The other side of the spectrum, a product, is much more difficult to integrate with the third-party authentication system.</p> 
          <p>Lightswitch keeps in a sense the middle between a product and an application development framework. Anyhow, it’s a very easy to do the kind of integration we are envisioning here.</p> 
          <h1>The security context</h1> 
          <p>Of course, the topic I cover here is rather generic. So let’s make following assumptions:</p> 
          <ul> 
           <li>I can retrieve the user for which I have to enforce a single sign on, on the server side of my application, before the xap is accessed.</li> 
           <li>This makes it possible that I transform the security context of this user towards my LightSwitch app via a simple .aspx file.</li> 
           <li>For the rest, I’m just relying on the build-in security which LightSwitch offers (which is based on the classical aspnet membership database.</li> 
          </ul> 
          <h1>Include a transformSecurity.aspx file in the LS project</h1> 
          <p>Open your LightSwitch solution and add a new file to the ServerGenerated project. This file has to be an aspx file.</p> 
          <p>You may remove the code behind file because I handle everything in the aspx file itself.</p> 
          <p>Give following content to this aspx file:</p> 
          <pre class="brush: actionscript3; gutter: true; first-line: 1">&lt;%@ Page Title="Transform security" Language="C#" %&gt;

&lt;h2&gt;

Your userId is not know for this application

&lt;/h2&gt;

&lt;script runat="server"&gt;

protected void Page_Load(object sender, EventArgs e)

{

string applicationName = "Application1"; //must match

string userId= RetrieveUserFromThirdPartySystem();

if (Membership.ValidateUser(userId, "genericPassword"))

{

FormsAuthentication.SetAuthCookie(userId, false);
string url = @"~/default.htm";

Response.Redirect(this.ResolveUrl(url));

}

}

&lt;/script&gt;</pre> 
          <p>&nbsp;</p> 
          <p>Note the&nbsp;<span class="Apple-style-span" style="font-family: Consolas, Monaco, monospace; font-size: 12px; line-height: 18px; white-space: pre;">RetrieveUserFromThirdPartySystem() method. </span>This content of this method depends of course on your third party authentication system. In most case, the authenticated user will be taken from the Http Header. Since we are playing here in the web world (rather than the silverlight), we can execute stuff like: &nbsp;<span class="Apple-style-span" style="font-family: Consolas, Monaco, monospace; font-size: 12px; line-height: 18px; white-space: pre;">userId = HttpContext.Current.Request.Headers[“mySpecialHeaderTag”];</span></p> 
          <p>Note also the call to&nbsp;<span class="Apple-style-span" style="font-family: Consolas, Monaco, monospace; font-size: 12px; line-height: 18px; white-space: pre;">Membership.ValidateUser(userId, “genericPassword”),</span></p> 
          <p>where as password “genericPassword” is used. This seems to look as if every user in my security database will have the same password. I’ll tell you: that’s true and from a security perspective no problem at all. The reason is that the actual authentication is already done by the third-party authentication system. &nbsp;The</p> 
          <pre>FormsAuthentication.SetAuthCookie(userId, false);</pre> 
          <p>will then make sure that the single sign-on really happens: the cookie is created based on the credentials of the already authenticated user.</p> 
          <p>When the user is authenticated, the default.htm page is opened. (that’ the one where the silverlight component is stored).</p> 
          <p>We need to make a slight adjustment to the web.config file in order to make sure that our aspx file is opened before the default.htm file &nbsp;(which is normally accessed first).</p> 
          <pre class="brush: xml; gutter: false; first-line: 1"> &lt;defaultDocument&gt;
      &lt;files&gt;
        &lt;clear /&gt;
        &lt;add value="transformSecurity.aspx" /&gt;
        &lt;add value="default.htm" /&gt;
      &lt;/files&gt;
    &lt;/defaultDocument&gt;</pre> 
          <p>You won’t believe it, but that’s all except one thing. How can we deploy the dedicated aspx file? Thanks to William Stacey, I know now that you can adjust the project file and make this happen. I will not reproduce here how to do this, you can read it on : &nbsp;<a href="http://ourbizforward.com/LightSwitchTips/?ID=114">http://ourbizforward.com/LightSwitchTips/?ID=114</a>. Thank a lot William.</p> 
          <p>&nbsp;</p> 
          <p>Hope this helps.</p> 
          <p>paul.</p> 
         </div>
         <!-- .entry-content --> 
         <div class="entry-meta">
          <span class="post_tag"><span class="before">Tags: </span><a href="http://blog.pragmaswitch.com/?tag=security" rel="tag">Security</a></span>
         </div> 
        </div>
        <!-- .post-content --> 
       </div>
       <!-- .hentry --> 
       <div id="comments-template"> 
        <div class="comments-wrap"> 
         <div id="comments"> 
          <h3 id="comments-number" class="comments-header block-title"><span>One Response</span></h3> 
          <ol class="comment-list"> 
           <li id="comment-34" class="comment even thread-even depth-1 reader has-avatar"> 
            <div class="comment-wrap"> 
             <img alt="Charles" src="http://1.gravatar.com/avatar/d3fa660090275dad6c8de3f418385fb5?s=50&amp;d=mm&amp;r=g" srcset="http://1.gravatar.com/avatar/d3fa660090275dad6c8de3f418385fb5?s=100&amp;d=mm&amp;r=g 2x" class="avatar avatar-50 photo" height="50" width="50"> 
             <div class="comment-meta">
              <span class="comment-author vcard"><cite class="fn">Charles</cite></span>
              <!-- .comment-author .vcard --> 
              <span class="published"><time class="comment-date" datetime="2014-01-21T07:20:50+00:00" title="Tuesday, January 21st, 2014, 7:20 am">January 21, 2014</time> at <time class="comment-time" title="Tuesday, January 21st, 2014, 7:20 am">7:20 am</time></span> · 
             </div> 
             <div class="comment-content comment-text"> 
              <p>The last link on how to adjust the project file is broken…</p> 
             </div>
             <!-- .comment-content .comment-text --> 
            </div>
            <!-- .comment-wrap --> </li>
           <!-- .comment --> 
          </ol>
          <!-- .comment-list --> 
          <p class="comments-closed"> Comments are closed. </p>
          <!-- .comments-closed --> 
         </div>
         <!-- #comments --> 
        </div>
        <!-- .comments-wrap --> 
       </div>
       <!-- #comments-template --> 
      </div>
      <!-- .hfeed --> 
      <div class="loop-nav"> 
       <div class="previous">
        ? 
        <a href="http://blog.pragmaswitch.com/?p=88" rel="prev">Using a dedicated security database for multiple LightSwitch apps. (Part 2)</a>
       </div> 
       <div class="next">
        <a href="http://blog.pragmaswitch.com/?p=120" rel="next">Tweaking the LightSwitch webdeploy package with a simple script.</a> ?
       </div> 
      </div>
      <!-- .loop-nav --> 
     </div>
     <!-- #content --> 
     <div id="sidebar-primary" class="sidebar"> 
      <section id="hybrid-archives-2" class="widget archives widget-archives">
       <h3 class="widget-title">Archives</h3>
       <ul class="xoxo archives">
        <li><a href="http://blog.pragmaswitch.com/?m=201501">January 2015</a></li>
        <li><a href="http://blog.pragmaswitch.com/?m=201412">December 2014</a></li>
        <li><a href="http://blog.pragmaswitch.com/?m=201411">November 2014</a></li>
        <li><a href="http://blog.pragmaswitch.com/?m=201410">October 2014</a></li>
        <li><a href="http://blog.pragmaswitch.com/?m=201409">September 2014</a></li>
        <li><a href="http://blog.pragmaswitch.com/?m=201406">June 2014</a></li>
        <li><a href="http://blog.pragmaswitch.com/?m=201405">May 2014</a></li>
        <li><a href="http://blog.pragmaswitch.com/?m=201404">April 2014</a></li>
        <li><a href="http://blog.pragmaswitch.com/?m=201403">March 2014</a></li>
        <li><a href="http://blog.pragmaswitch.com/?m=201402">February 2014</a></li>
       </ul>
       <!-- .xoxo .archives -->
      </section> 
     </div>
     <!-- #sidebar-primary .aside --> 
    </div>
    <!-- #main --> 
    <div id="footer"> 
     <div class="footer-content"> 
      <p class="copyright">Copyright © 2017 <a class="site-link" href="http://blog.pragmaswitch.com" title="Full stack development for the Enterprise" rel="home"><span>Full stack development for the Enterprise</span></a></p> 
      <p class="credit">Powered by <a class="wp-link" href="http://wordpress.org" title="State-of-the-art semantic personal publishing platform"><span>WordPress</span></a> and <a class="theme-link" href="http://alienwp.com/themes/origin/" title="Origin WordPress Theme"><span>Origin</span></a></p> 
     </div> 
    </div>
    <!-- #footer --> 
   </div>
   <!-- .wrap --> 
  </div>
  <!-- #container --> 
  <script type="text/javascript" src="http://blog.pragmaswitch.com/wp-content/themes/origin/js/fancybox/jquery.fancybox-1.3.4.pack.js?ver=1.0"></script> 
  <script type="text/javascript" src="http://blog.pragmaswitch.com/wp-content/themes/origin/js/fitvids/jquery.fitvids.js?ver=1.0"></script> 
  <script type="text/javascript" src="http://blog.pragmaswitch.com/wp-content/themes/origin/js/footer-scripts.js?ver=1.0"></script> 
  <script type="text/javascript" src="http://blog.pragmaswitch.com/wp-content/themes/origin/js/navigation.js?ver=20130228"></script> 
  <script type="text/javascript" src="http://blog.pragmaswitch.com/wp-content/themes/origin/library/js/drop-downs.min.js?ver=20130805"></script>  
 </body>
</html>