<!doctype html>
<html>
 <head> 
  <title>Npm Registry: JFrog Artifactory User Guide</title>
  <meta name="keywords" content="npm, nodejs, javascript">
  <meta name="description" content="Artifactory provides full support for managing npm packages and ensures optimal and reliable access to npmjs.org."> 
  <meta http-equiv="X-UA-Compatible" content="IE=EDGE,chrome=IE7"> 
  <meta charset="UTF-8"> 
  <meta id="confluence-context-path" name="confluence-context-path" content="/confluence"> 
  <meta id="confluence-base-url" name="confluence-base-url" content="https://www.jfrog.com/confluence"> 
  <meta id="atlassian-token" name="atlassian-token" content="444f84c3ace1ad71b58f4211d63131824dc18103"> 
  <meta id="confluence-space-key" name="confluence-space-key" content="RTF"> 
  <script type="text/javascript">
        var contextPath = '/confluence';
</script> 
  <meta name="confluence-request-time" content="1505672817044"> 
  <meta name="ajs-is-space-admin" content=""> 
  <meta name="ajs-has-space-config" content=""> 
  <meta name="ajs-use-keyboard-shortcuts" content="true"> 
  <meta name="ajs-discovered-plugin-features" content="$discoveredList"> 
  <meta name="stp-license-product-name" content="Confluence"> 
  <meta name="stp-license-days-to-expiry" content="330"> 
  <meta name="stp-license-is-admin" content="false"> 
  <meta name="stp-license-should-keep-banner-hidden" content="true"> 
  <meta name="ajs-keyboardshortcut-hash" content="aa9b0b6956cb7042ec34bb156134ff9f"> 
  <meta name="ajs-is-confluence-admin" content="false"> 
  <meta name="ajs-connection-timeout" content="10000"> 
  <meta name="ajs-page-id" content="46107772"> 
  <meta name="ajs-latest-page-id" content="46107772"> 
  <meta name="ajs-content-type" content="page"> 
  <meta name="ajs-page-title" content="Npm Registry"> 
  <meta name="ajs-latest-published-page-title" content="Npm Registry"> 
  <meta name="ajs-parent-page-title" content="Package Management"> 
  <meta name="ajs-parent-page-id" content="53576888"> 
  <meta name="ajs-space-key" content="RTF"> 
  <meta name="ajs-space-name" content="Artifactory"> 
  <meta name="ajs-from-page-title" content=""> 
  <meta name="ajs-can-remove-page" content="false"> 
  <meta name="ajs-context-path" content="/confluence"> 
  <meta name="ajs-base-url" content="https://www.jfrog.com/confluence"> 
  <meta name="ajs-version-number" content="5.10.1"> 
  <meta name="ajs-build-number" content="6441"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-key" content=""> 
  <meta name="ajs-remote-user-has-licensed-access" content="false"> 
  <meta name="ajs-current-user-fullname" content=""> 
  <meta name="ajs-current-user-avatar-url" content=""> 
  <meta name="ajs-current-user-avatar-uri-reference" content="/confluence/images/icons/profilepics/anonymous.png"> 
  <meta name="ajs-static-resource-url-prefix" content="/confluence/s/en_GB/6441/ceb41ce4dba5df18f2191c32f0465b43365a715a/_"> 
  <meta name="ajs-global-settings-attachment-max-size" content="10485760"> 
  <meta name="ajs-user-locale" content="en_GB"> 
  <meta name="ajs-enabled-dark-features" content="confluence.view.edit.transition,confluence-inline-comments-resolved,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareContentEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.mentions.api.ConfluenceMentionEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.security.ForgotPasswordEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.tasklist.event.SendTaskEmailEvent,file-annotations,confluence.efi.onboarding.rich.space.content,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentCreateEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.follow.FollowEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentReplyEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostCreateEvent,confluence.table.resizable,notification.batch,confluence-inline-comments-rich-editor,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentMentionUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.hipchat.api.events.HipChatUserMapped,quick-reload-inline-comments-flags,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostMovedEvent,clc.quick.create,cql.search.screen,nps.survey.inline.dialog,confluence.efi.onboarding.new.templates,pdf-preview,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageMovedEvent,previews.sharing,previews.versions,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.attachment.AttachmentBatchUploadCompletedEvent,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingLessUsersEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentRemoveEvent,confluence.wrap.macro,atlassian.aui.raphael.disabled,previews.conversion-service,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentUpdateEvent,editor.ajax.save,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageEditedEvent,previews.trigger-all-file-types,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentResolveEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.like.LikeCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentCreateEvent,previews.sharing.pushstate,file-annotations.likes,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingNoSpaceCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareAttachmentEvent,confluence-inline-comments,confluence-inline-comments-dangling-comment"> 
  <meta name="ajs-atl-token" content="444f84c3ace1ad71b58f4211d63131824dc18103"> 
  <meta name="ajs-confluence-flavour" content="VANILLA"> 
  <meta name="ajs-user-date-pattern" content="dd MMM yyyy"> 
  <meta name="ajs-date.format" content="MMM dd, yyyy"> 
  <link rel="shortcut icon" href="/confluence/s/en_GB/6441/ceb41ce4dba5df18f2191c32f0465b43365a715a/6/_/favicon.ico"> 
  <link rel="icon" type="image/x-icon" href="/confluence/s/en_GB/6441/ceb41ce4dba5df18f2191c32f0465b43365a715a/6/_/favicon.ico"> 
  <link rel="search" type="application/opensearchdescription+xml" href="/confluence/opensearch/osd.action" title="JFrog Wiki"> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\u0022/confluence\u0022";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-hipchat-integration-plugin:discovery-javascript-data.link-active"]="{\u0022linkActive\u0022:false,\u0022conditionsMet\u0022:false,\u0022admin\u0022:false}";
WRM._unparsedData["com.atlassian.applinks.applinks-plugin:applinks-common-exported.applinks-help-paths"]="{\u0022entries\u0022:{\u0022applinks.docs.root\u0022:\u0022https://confluence.atlassian.com/display/APPLINKS-052/\u0022,\u0022applinks.docs.diagnostics.troubleshoot.sslunmatched\u0022:\u0022SSL+and+application+link+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.oauthsignatureinvalid\u0022:\u0022OAuth+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.oauthtimestamprefused\u0022:\u0022OAuth+troubleshooting+guide\u0022,\u0022applinks.docs.delete.entity.link\u0022:\u0022Create+links+between+projects\u0022,\u0022applinks.docs.adding.application.link\u0022:\u0022Link+Atlassian+applications+to+work+together\u0022,\u0022applinks.docs.administration.guide\u0022:\u0022Application+Links+Documentation\u0022,\u0022applinks.docs.oauth.security\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.troubleshoot.application.links\u0022:\u0022Troubleshoot+application+links\u0022,\u0022applinks.docs.diagnostics.troubleshoot.unknownerror\u0022:\u0022Network+and+connectivity+troubleshooting+guide\u0022,\u0022applinks.docs.configuring.auth.trusted.apps\u0022:\u0022Configuring+Trusted+Applications+authentication+for+an+application+link\u0022,\u0022applinks.docs.diagnostics.troubleshoot.authlevelunsupported\u0022:\u0022OAuth+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.ssluntrusted\u0022:\u0022SSL+and+application+link+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.unknownhost\u0022:\u0022Network+and+connectivity+troubleshooting+guide\u0022,\u0022applinks.docs.delete.application.link\u0022:\u0022Link+Atlassian+applications+to+work+together\u0022,\u0022applinks.docs.link.applications\u0022:\u0022Link+Atlassian+applications+to+work+together\u0022,\u0022applinks.docs.diagnostics.troubleshoot.oauthproblem\u0022:\u0022OAuth+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.migration\u0022:\u0022Update+application+links+to+use+OAuth\u0022,\u0022applinks.docs.relocate.application.link\u0022:\u0022Link+Atlassian+applications+to+work+together\u0022,\u0022applinks.docs.administering.entity.links\u0022:\u0022Create+links+between+projects\u0022,\u0022applinks.docs.upgrade.application.link\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.diagnostics.troubleshoot.connectionrefused\u0022:\u0022Network+and+connectivity+troubleshooting+guide\u0022,\u0022applinks.docs.configuring.auth.oauth\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.insufficient.remote.permission\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.configuring.application.link.auth\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.diagnostics\u0022:\u0022Application+links+diagnostics\u0022,\u0022applinks.docs.configured.authentication.types\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.adding.entity.link\u0022:\u0022Create+links+between+projects\u0022,\u0022applinks.docs.diagnostics.troubleshoot.unexpectedresponse\u0022:\u0022Network+and+connectivity+troubleshooting+guide\u0022,\u0022applinks.docs.configuring.auth.basic\u0022:\u0022Configuring+Basic+HTTP+Authentication+for+an+Application+Link\u0022,\u0022applinks.docs.diagnostics.troubleshoot.authlevelmismatch\u0022:\u0022OAuth+troubleshooting+guide\u0022}}";
WRM._unparsedData["com.atlassian.applinks.applinks-plugin:applinks-common-exported.applinks-types"]="{\u0022crowd\u0022:\u0022Crowd\u0022,\u0022confluence\u0022:\u0022Confluence\u0022,\u0022fecru\u0022:\u0022FishEye / Crucible\u0022,\u0022stash\u0022:\u0022Stash\u0022,\u0022jira\u0022:\u0022JIRA\u0022,\u0022refapp\u0022:\u0022Reference Application\u0022,\u0022bamboo\u0022:\u0022Bamboo\u0022,\u0022generic\u0022:\u0022Generic Application\u0022}";
WRM._unparsedData["com.atlassian.applinks.applinks-plugin:applinks-common-exported.entity-types"]="{\u0022singular\u0022:{\u0022refapp.charlie\u0022:\u0022Charlie\u0022,\u0022fecru.project\u0022:\u0022Crucible Project\u0022,\u0022fecru.repository\u0022:\u0022FishEye Repository\u0022,\u0022stash.project\u0022:\u0022Stash Project\u0022,\u0022generic.entity\u0022:\u0022Generic Project\u0022,\u0022confluence.space\u0022:\u0022Confluence Space\u0022,\u0022bamboo.project\u0022:\u0022Bamboo Project\u0022,\u0022jira.project\u0022:\u0022JIRA Project\u0022},\u0022plural\u0022:{\u0022refapp.charlie\u0022:\u0022Charlies\u0022,\u0022fecru.project\u0022:\u0022Crucible Projects\u0022,\u0022fecru.repository\u0022:\u0022FishEye Repositories\u0022,\u0022stash.project\u0022:\u0022Stash Projects\u0022,\u0022generic.entity\u0022:\u0022Generic Projects\u0022,\u0022confluence.space\u0022:\u0022Confluence Spaces\u0022,\u0022bamboo.project\u0022:\u0022Bamboo Projects\u0022,\u0022jira.project\u0022:\u0022JIRA Projects\u0022}}";
WRM._unparsedData["com.atlassian.applinks.applinks-plugin:applinks-common-exported.authentication-types"]="{\u0022com.atlassian.applinks.api.auth.types.BasicAuthenticationProvider\u0022:\u0022Basic Access\u0022,\u0022com.atlassian.applinks.api.auth.types.TrustedAppsAuthenticationProvider\u0022:\u0022Trusted Applications\u0022,\u0022com.atlassian.applinks.api.auth.types.CorsAuthenticationProvider\u0022:\u0022CORS\u0022,\u0022com.atlassian.applinks.api.auth.types.OAuthAuthenticationProvider\u0022:\u0022OAuth\u0022,\u0022com.atlassian.applinks.api.auth.types.TwoLeggedOAuthAuthenticationProvider\u0022:\u0022OAuth\u0022,\u0022com.atlassian.applinks.api.auth.types.TwoLeggedOAuthWithImpersonationAuthenticationProvider\u0022:\u0022OAuth\u0022}";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-feature-discovery-plugin:confluence-feature-discovery-plugin-resources.test-mode"]="false";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-license-banner:confluence-license-banner-resources.license-details"]="{\u0022daysBeforeLicenseExpiry\u0022:0,\u0022daysBeforeMaintenanceExpiry\u0022:0,\u0022showLicenseExpiryBanner\u0022:false,\u0022showMaintenanceExpiryBanner\u0022:false,\u0022renewUrl\u0022:null,\u0022salesEmail\u0022:null}";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/confluence/s/68fd4f8003d6bd3bb902930d1c265e2c-CDN/en_GB/6441/ceb41ce4dba5df18f2191c32f0465b43365a715a/9481a9f4cccffc9896ac8068ba6d0c80/_/download/contextbatch/css/_super/batch.css?atlassian.aui.raphael.disabled=true" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/confluence/s/68fd4f8003d6bd3bb902930d1c265e2c-CDN/en_GB/6441/ceb41ce4dba5df18f2191c32f0465b43365a715a/9481a9f4cccffc9896ac8068ba6d0c80/_/download/contextbatch/css/_super/batch.css?atlassian.aui.raphael.disabled=true&amp;conditionalComment=lt+IE+9" data-wrm-key="_super" data-wrm-batch-type="context" media="all">
<![endif]--> 
  <!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/confluence/s/68fd4f8003d6bd3bb902930d1c265e2c-CDN/en_GB/6441/ceb41ce4dba5df18f2191c32f0465b43365a715a/9481a9f4cccffc9896ac8068ba6d0c80/_/download/contextbatch/css/_super/batch.css?atlassian.aui.raphael.disabled=true&amp;conditionalComment=lte+IE+9" data-wrm-key="_super" data-wrm-batch-type="context" media="all">
<![endif]--> 
  <link type="text/css" rel="stylesheet" href="/confluence/s/c555eab3100f8b1d64cf210038281359-CDN/en_GB/6441/ceb41ce4dba5df18f2191c32f0465b43365a715a/4de86253fe7626cdb0be1fb6554ecab6/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments,-_super/batch.css?analytics-enabled=true&amp;analytics-uploadable=true&amp;anonymous-access-enabled=true&amp;atlassian.aui.raphael.disabled=true&amp;confluence.table.resizable=true&amp;confluence.view.edit.transition=true&amp;highlightactions=true&amp;hostenabled=true&amp;is-server-instance=true&amp;nps-acknowledged=true&amp;nps-enabled=true" data-wrm-key="atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments,-_super" data-wrm-batch-type="context" media="all"> 
  <!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/confluence/s/c555eab3100f8b1d64cf210038281359-CDN/en_GB/6441/ceb41ce4dba5df18f2191c32f0465b43365a715a/4de86253fe7626cdb0be1fb6554ecab6/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments,-_super/batch.css?analytics-enabled=true&amp;analytics-uploadable=true&amp;anonymous-access-enabled=true&amp;atlassian.aui.raphael.disabled=true&amp;conditionalComment=lt+IE+9&amp;confluence.table.resizable=true&amp;confluence.view.edit.transition=true&amp;highlightactions=true&amp;hostenabled=true&amp;is-server-instance=true&amp;nps-acknowledged=true&amp;nps-enabled=true" data-wrm-key="atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments,-_super" data-wrm-batch-type="context" media="all">
<![endif]--> 
  <link type="text/css" rel="stylesheet" href="/confluence/s/a2075708469007add0f1bbdf498690b1-CDN/en_GB/6441/ceb41ce4dba5df18f2191c32f0465b43365a715a/fc3104b6d6d434641fd1fcf33f7ef1f7/_/download/contextbatch/css/theme.doc,-_super/batch.css?atlassian.aui.raphael.disabled=true" data-wrm-key="theme.doc,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/confluence/s/en_GB/6441/ceb41ce4dba5df18f2191c32f0465b43365a715a/17/_/styles/colors.css?spaceKey=RTF" media="all"> 
  <link type="text/css" rel="stylesheet" href="/confluence/s/en_GB/6441/ceb41ce4dba5df18f2191c32f0465b43365a715a/17/_/styles/custom.css?spaceKey=RTF" media="all"> 
  <script type="text/javascript" src="/confluence/s/da9873829946841a5e3355f79cd62d6d-CDN/en_GB/6441/ceb41ce4dba5df18f2191c32f0465b43365a715a/9481a9f4cccffc9896ac8068ba6d0c80/_/download/contextbatch/js/_super/batch.js?atlassian.aui.raphael.disabled=true&amp;locale=en-GB" data-wrm-key="_super" data-wrm-batch-type="context"></script> 
  <script type="text/javascript" src="/confluence/s/2cb50b91dca13fc867325403c241c016-CDN/en_GB/6441/ceb41ce4dba5df18f2191c32f0465b43365a715a/4de86253fe7626cdb0be1fb6554ecab6/_/download/contextbatch/js/atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments,-_super/batch.js?analytics-enabled=true&amp;analytics-uploadable=true&amp;anonymous-access-enabled=true&amp;atlassian.aui.raphael.disabled=true&amp;confluence.table.resizable=true&amp;confluence.view.edit.transition=true&amp;highlightactions=true&amp;hostenabled=true&amp;is-server-instance=true&amp;locale=en-GB&amp;nps-acknowledged=true&amp;nps-enabled=true" data-wrm-key="atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments,-_super" data-wrm-batch-type="context"></script> 
  <script type="text/javascript" src="/confluence/s/6c0981174e94142364564819dc0d1413-CDN/en_GB/6441/ceb41ce4dba5df18f2191c32f0465b43365a715a/fc3104b6d6d434641fd1fcf33f7ef1f7/_/download/contextbatch/js/theme.doc,-_super/batch.js?atlassian.aui.raphael.disabled=true&amp;locale=en-GB" data-wrm-key="theme.doc,-_super" data-wrm-batch-type="context"></script> 
  <meta name="stp-license-product-name" content="Confluence"> 
  <meta name="stp-license-days-to-expiry" content="330"> 
  <meta name="stp-license-is-admin" content="false"> 
  <meta name="stp-license-should-keep-banner-hidden" content="true"> 
  <meta name="ajs-site-title" content="JFrog Wiki"> 
  <!-- Google Tag Manager --> 
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T6MF8M');</script> 
  <!-- End Google Tag Manager --> 
  <link rel="canonical" href="https://www.jfrog.com/confluence/display/RTF/Npm+Registry"> 
  <link rel="shortlink" href="https://www.jfrog.com/confluence/x/fIy-Ag"> 
  <meta name="wikilink" content="[RTF:Npm Registry]"> 
  <meta name="page-version" content="48"> 
  <meta name="ajs-page-version" content="48"> 
 </head> 
 <body id="com-atlassian-confluence" class="theme-documentation  aui-theme-default aui-layout"> 
  <div id="stp-licenseStatus-banner"></div> 
  <div id="full-height-container"> 
   <div id="header-precursor"> 
    <!-- Google Tag Manager (noscript) --> 
    <noscript>
     <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T6MF8M" height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript> 
    <!-- End Google Tag Manager (noscript) --> 
    <div id="web_top_banner" style="font-weight: bold; text-align: center;background-color:#000"> 
     <a data-mce-href="https://www.jfrog.com/support-service/webinars-upcoming/" href="https://www.jfrog.com/support-service/webinars-upcoming/?iesrc=ctr" target="_blank"><img src="https://leap.jfrog.com/rs/256-FNZ-187/images/webinars_wiki_2.png" constrain="true" style="display:block;margin:auto;width:100%;height:auto;max-width:1000px;" data-mce-src="https://leap.jfrog.com/rs/256-FNZ-187/images/webinars_wiki_2.png"></a> 
     <br data-mce-bogus="1"> 
    </div> 
   </div> 
   <header id="header" role="banner"> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loading…
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="/confluence/"><img src="/confluence/download/attachments/5668865/atl.site.logo?version=2&amp;modificationDate=1367420260000&amp;api=v2" alt="JFrog Wiki"></a></h1>
       <ul class="aui-nav"> 
        <li> <a id="space-directory-link" href="/confluence/spacedirectory/view.action" class=" aui-nav-imagelink" title="Spaces"> <span>Spaces</span> </a> </li> 
        <li id="browseMenu" role="menu"> <a id="browse-menu-link" class="aui-nav-link aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="browse-menu-link-content" title="Browse"> <span class="browse">Browse</span> </a> 
         <nav id="browse-menu-link-content" class="aui-dropdown2 aui-style-default" aria-hidden="true"> 
          <div class="aui-dropdown2-section"> 
           <ul id="browse-menu-link-leading" class="aui-list-truncate section-leading first"> 
            <li> <a id="space-pages-link" href="/confluence/pages/listpages.action?key=RTF" class="    " title="Browse pages in the Artifactory space"> Pages </a> </li> 
            <li> <a id="space-blogposts-link" href="/confluence/pages/viewrecentblogposts.action?key=RTF" class="    " title="Browse blogs in the Artifactory space"> Blog </a> </li> 
            <li> <a id="space-labels-link" href="/confluence/labels/listlabels-heatmap.action?key=RTF" class="    " title="Browse labels in the Artifactory space"> Labels </a> </li> 
            <li> <a id="space-advanced-link" href="/confluence/spaces/viewspacesummary.action?key=RTF" class="    " title="Browse additional space functions in the Artifactory space"> Space Operations </a> </li> 
           </ul> 
          </div> 
         </nav> </li> 
        <li class="aui-buttons"> </li> 
       </ul> 
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav"> 
        <li> <a id="doctheme-anchor" href="/confluence" class=" aui-nav-imagelink" title=""> <span></span> </a> </li> 
        <li> 
         <form id="quick-search" class="aui-quicksearch dont-default-focus header-quicksearch" action="/confluence/dosearchsite.action" method="get">
          <fieldset>
           <label for="quick-search-query" class="assistive">Quick Search</label>
           <input id="quick-search-query" class="text app-search search quick-search-query" type="text" accessKey="q" autocomplete="off" name="queryString" title="Quick Search" placeholder="Search">
           <input id="quick-search-submit" class="quick-search-submit" type="submit" value="Search">
           <div class="aui-dd-parent quick-nav-drop-down"></div>
          </fieldset>
         </form> </li> 
        <li> <a id="help-menu-link" class="aui-nav-link aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="help-menu-link-content" title="Help"> <span class="aui-icon aui-icon-small aui-iconfont-help">Help</span> </a> 
         <nav id="help-menu-link-content" class="aui-dropdown2 aui-style-default" aria-hidden="true"> 
          <div class="aui-dropdown2-section"> 
           <ul id="help-menu-link-leading" class="aui-list-truncate section-leading first"> 
            <li> <a id="confluence-help-link" href="https://docs.atlassian.com/confluence/docs-510/" class="    " title="Visit the Confluence documentation home" target="_blank"> Online Help </a> </li> 
            <li> <a id="keyboard-shortcuts-link" href="/confluence" class="    " title="View available keyboard shortcuts"> Keyboard Shortcuts </a> </li> 
            <li> <a id="feed-builder-link" href="/confluence/dashboard/configurerssfeed.action" class="    " title="Create your custom RSS feed."> Feed Builder </a> </li> 
            <li> <a id="whats-new-menu-link" href="https://confluence.atlassian.com/display/DOC/Confluence+5.10+Release+Notes" class="    " title=""> What’s new </a> </li> 
            <li> <a id="gadget-directory-link" href="/confluence" class="   user-item administration-link " title="Browse gadgets provided by Confluence"> Available Gadgets </a> </li> 
            <li> <a id="brikit-learn-theme-press-link" href="/confluence" class="    " title="Brief video tours"> Theme Press </a> </li> 
            <li> <a id="confluence-about-link" href="/confluence/aboutconfluencepage.action" class="    " title="Get more information about Confluence"> About Confluence </a> </li> 
           </ul> 
          </div> 
         </nav> </li> 
        <li> </li> 
        <li> </li> 
        <li> </li>
        <li> <a id="login-link" href="/confluence/login.action?os_destination=%2Fdisplay%2FRTF%2FNpm%2BRegistry" class="   user-item login-link " title=""> Log in </a> </li>  
       </ul> 
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
    <br class="clear"> 
   </header> 
   <div id="splitter"> 
    <div id="splitter-sidebar"> 
     <p>Still using Artifactory 4.x ?<br> <a href="/confluence/display/RTF4X/Welcome+to+Artifactory" title="Welcome to Artifactory">JFrog Artifactory 4.x User Guide</a></p> 
     <p>Need help with other JFrog products ?<br> <a href="/confluence/display/MC/Welcome+to+JFrog+Mission+Control" title="Welcome to JFrog Mission Control">JFrog Mission Control User Guide</a><br> <a href="/confluence/display/XRAY/Welcome+to+JFrog+Xray" title="Welcome to JFrog Xray">JFrog Xray User Guide</a><br> <a href="https://bintray.com/docs/usermanual/" class="external-link" rel="nofollow">JFrog Bintray User Guide</a><br> <a href="/confluence/display/CLI/JFrog+CLI" title="JFrog CLI">JFrog CLI User Guide</a></p> 
     <div class="plugin_pagetree"> 
      <div id="pagetreesearch"> 
       <form method="POST" class="aui" action="/confluence/plugins/pagetreesearch/pagetreesearch.action" name="pagetreesearchform"> 
        <input type="hidden" name="ancestorId" value="46107472"> 
        <input type="hidden" name="spaceKey" value="RTF"> 
        <input type="text" class="text medium-field" size="20" name="queryString"> 
        <input type="submit" class="aui-button" value="Search"> 
       </form> 
      </div> 
      <ul class="plugin_pagetree_children_list plugin_pagetree_children_list_noleftspace"> 
       <div class="plugin_pagetree_children"> 
       </div> 
      </ul> 
      <fieldset class="hidden"> 
       <input type="hidden" name="treeId" value=""> 
       <input type="hidden" name="treeRequestId" value="/confluence/plugins/pagetree/naturalchildren.action?decorator=none&amp;excerpt=false&amp;sort=position&amp;reverse=false&amp;disableLinks=false&amp;expandCurrent=false"> 
       <input type="hidden" name="treePageId" value="46107772"> 
       <input type="hidden" name="noRoot" value="false"> 
       <input type="hidden" name="rootPageId" value="46107472"> 
       <input type="hidden" name="rootPage" value=""> 
       <input type="hidden" name="startDepth" value="2"> 
       <input type="hidden" name="spaceKey" value="RTF"> 
       <input type="hidden" name="i18n-pagetree.loading" value="Loading..."> 
       <input type="hidden" name="i18n-pagetree.error.permission" value="Unable to load page tree. It seems that you do not have permission to view the root page."> 
       <input type="hidden" name="i18n-pagetree.eeror.general" value="There was a problem retrieving the page tree. Please check the server log file for more information."> 
       <input type="hidden" name="loginUrl" value="/confluence/login.action?os_destination=%2Fpages%2Fviewpage.action%3FspaceKey%3DRTF%26title%3DNpm%2BRegistry&amp;permissionViolation=true"> 
       <input type="hidden" name="mobile" value="false"> 
       <fieldset class="hidden"> 
        <input type="hidden" name="ancestorId" value="53576888"> 
        <input type="hidden" name="ancestorId" value="46107483"> 
        <input type="hidden" name="ancestorId" value="46107472"> 
       </fieldset> 
      </fieldset> 
     </div> 
    </div> 
    <div id="splitter-content"> 
     <script>require('doctheme/doc-theme')()</script> 
     <div id="theme-header"> 
      <p>Have a question? Want to report an issue? <a href="https://www.jfrog.com/support-service/support/" class="external-link" rel="nofollow">Contact JFrog support</a></p> 
     </div> 
     <div id="main" class="aui-page-panel"> 
      <div id="main-header" class="doctheme-no-override"> 
       <div id="navigation" class="content-navigation view"> 
        <ul class="ajs-menu-bar"> 
         <li class="normal ajs-menu-item"> <a id="action-menu-link" class="action aui-dropdown2-trigger-arrowless aui-button aui-button-subtle ajs-menu-title aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="action-menu" data-container="#navigation"> <span> <span class="aui-icon aui-icon-small aui-iconfont-more"></span> </span> </a> 
          <div id="action-menu" class="aui-dropdown2 aui-style-default" aria-hidden="true"> 
           <div class="aui-dropdown2-section"> 
            <ul id="action-menu-primary" class="section-primary first"> 
             <li> <a id="view-attachments-link" href="/confluence/pages/viewpageattachments.action?pageId=46107772" rel="nofollow" class="action-view-attachments" accesskey="t" title="View Attachments"> <span> A<u>t</u>tachments (16) </span> </a> </li> 
             <li> <a id="action-view-history-link" href="/confluence/pages/viewpreviousversions.action?pageId=46107772" rel="nofollow" class="action-view-history" title=""> <span> Page History </span> </a> </li> 
            </ul> 
           </div> 
           <div class="aui-dropdown2-section"> 
            <ul id="action-menu-secondary" class="section-secondary"> 
             <li> <a id="view-page-info-link" href="/confluence/pages/viewinfo.action?pageId=46107772" rel="nofollow" class="action-view-info" title=""> <span> Page Information </span> </a> </li> 
             <li> <a id="view-resolved-comments" href="/confluence" rel="nofollow" class="" title=""> <span> Resolved comments </span> </a> </li> 
             <li> <a id="link-to-page-link" href="/confluence/pages/viewinfo.action?pageId=46107772" rel="nofollow" class="" title="Link to this Page"> <span> Link to this Page… </span> </a> </li> 
             <li> <a id="view-in-hierarchy-link" href="/confluence/pages/listpages-dirview.action?key=RTF&amp;openId=46107772#selectedPageInHierarchy" rel="nofollow" class="" title=""> <span> View in Hierarchy </span> </a> </li> 
             <li> <a id="action-view-source-link" href="/confluence/plugins/viewsource/viewpagesrc.action?pageId=46107772" rel="nofollow" class="action-view-source popup-link" title=""> <span> View Source </span> </a> </li> 
             <li> <a id="action-export-word-link" href="/confluence/exportword?pageId=46107772" rel="nofollow" class="action-export-word" title=""> <span> Export to Word </span> </a> </li> 
            </ul> 
           </div> 
          </div> </li> 
        </ul> 
       </div> 
       <div id="title-heading" class="pagetitle with-breadcrumbs"> 
        <div class="space-logo " data-key="RTF" data-name="Artifactory" data-entity-type="confluence.space"> 
         <a><img class="logo space custom" src="/confluence/download/attachments/46107468/RTF?version=1&amp;modificationDate=1477579617000&amp;api=v2" alt=""></a> 
        </div> 
        <div id="breadcrumb-section"> 
         <ol id="breadcrumbs"> 
          <li class="first"> <span class=""><a href="/confluence/display/RTF">Artifactory</a></span> </li>
          <li id="ellipsis" title="Show all breadcrumbs"><span><strong>…</strong></span></li> 
          <li class="hidden-crumb"> <span class=""><a href="/confluence/display/RTF/Welcome+to+Artifactory">Welcome to Artifactory</a></span> </li>
          <li class="hidden-crumb"> <span class=""><a href="/confluence/display/RTF/Artifactory+Pro">Artifactory Pro</a></span> </li>
          <li> <span class=""><a href="/confluence/display/RTF/Package+Management">Package Management</a></span> </li>
         </ol> 
        </div> 
        <h1 id="title-text" class="with-breadcrumbs"> <a href="/confluence/display/RTF/Npm+Registry">Npm Registry</a> </h1> 
       </div> 
      </div> 
      <div id="content" class="page view"> 
       <div id="action-messages"> 
       </div> 
       <script type="text/x-template" title="searchResultsGrid">
    <table class="aui">
        <thead>
            <tr class="header">
                <th class="search-result-title">Page Title</th>
                <th class="search-result-space">Space</th>
                <th class="search-result-date">Updated</th>
            </tr>
        </thead>
    </table>
</script> 
       <script type="text/x-template" title="searchResultsGridCount">
    <p class="search-result-count">{0}</p>
</script> 
       <script type="text/x-template" title="searchResultsGridRow">
    <tr class="search-result">
        <td class="search-result-title"><a href="{1}" class="content-type-{2}"><span>{0}</span></a></td>
        <td class="search-result-space"><a class="space" href="/confluence/display/{4}/" title="{3}">{3}</a></td>
        <td class="search-result-date"><span class="date" title="{6}">{5}</span></td>
    </tr>
</script> 
       <fieldset class="hidden parameters"> 
        <input type="hidden" title="parentPageId" value="53576888"> 
       </fieldset> 
       <a href="#page-metadata-end" class="assistive">Skip to end of metadata</a> 
       <div id="page-metadata-start" class="assistive"></div> 
       <div class="page-metadata"> 
        <ul> 
         <li class="page-metadata-item noprint"> <a id="content-metadata-page-restrictions-hidden" href="#" rel="nofollow" class="hidden" title="Unrestricted"> <span> </span> </a> </li> 
         <li class="page-metadata-item noprint"> <a id="content-metadata-attachments" href="/confluence/pages/viewpageattachments.action?pageId=46107772&amp;metadataLink=true" rel="nofollow" class="aui-icon aui-icon-small aui-iconfont-attachment" accesskey="t" title="16 attachments"> <span> </span> </a> </li> 
         <li class="page-metadata-modification-info"> Created by <span class="author"> <a href="    /confluence/display/~yossis
" class="url fn">Yossi Shaul</a></span>, last modified by <span class="editor"> <a href="    /confluence/display/~arielk
" class="url fn">Ariel Kabov</a></span> on <a class="last-modified" title="Show changes" href="/confluence/pages/diffpagesbyversion.action?pageId=46107772&amp;selectedPageVersions=47&amp;selectedPageVersions=48">Aug 13, 2017</a> </li> 
        </ul> 
       </div> 
       <a href="#page-metadata-start" class="assistive">Go to start of metadata</a> 
       <div id="page-metadata-end" class="assistive"></div> 
       <fieldset class="hidden parameters"> 
        <input type="hidden" title="browsePageTreeMode" value="view"> 
       </fieldset> 
       <div id="main-content" class="wiki-content"> 
        <div class="sectionColumnWrapper conf-macro output-block" data-hasbody="true" data-macro-name="section">
         <div class="sectionMacro">
          <div class="sectionMacroRow">
           <div class="columnMacro conf-macro output-block" data-hasbody="true" data-macro-name="column" style="width:75%;min-width:75%;max-width:75%;">
            <h2 id="NpmRegistry-Overview">Overview</h2>
            <p><span class="conf-macro output-inline" data-hasbody="true" data-macro-name="excerpt">Artifactory provides full support for managing npm packages and ensures optimal and reliable access to <em>npmjs.org.</em></span><span>Aggregating multiple npm registries under a virtual repository Artifactory provides access to all your npm packages through a single URL for both upload and download.</span></p>
            <p>&nbsp;</p>
            <p>As a fully-fledged npm registry on top of its capabilities&nbsp;for <a href="/confluence/display/RTF/Configuring+Repositories">advanced artifact management</a>, Artifactory's support for <a class="external-link conf-macro output-inline" data-hasbody="false" data-macro-name="newtablink" href="https://www.npmjs.com/" rel="nofollow" style="text-decoration:none;" target="_blank">npm</a> provides:</p>
            <ol>
             <li>The ability to provision npm packages from Artifactory to the npm command line tool from all repository types</li>
             <li>Calculation of Metadata for npm packages hosted in Artifactory's local repositories</li>
             <li>Access to remote npm registries (such as <code><a class="external-link" href="https://registry.npmjs.org" rel="nofollow">https://registry.npmjs.org</a></code>) through <a href="/confluence/display/RTF/Remote+Repositories">Remote Repositories</a> which provide the usual proxy and caching functionality</li>
             <li>The ability to access multiple npm registries from a single URL by aggregating them under a <a href="/confluence/display/RTF/Virtual+Repositories">Virtual Repository</a>. This overcomes the limitation of the npm client which can only access a single registry at a time.</li>
             <li>Compatibility with the <a class="external-link conf-macro output-inline" data-hasbody="false" data-macro-name="newtablink" href="https://npmjs.org/doc/" rel="nofollow" style="text-decoration:none;" target="_blank">npm command line tool</a> to deploy and remove packages and more.</li>
             <li>Support for <a href="#NpmRegistry-RepositoryLayout">flexible npm repository layouts</a> that allow you to organize your npm packages and assign access privileges according to projects or development teams.</li>
            </ol>
            <p>&nbsp;</p>
            <div class="confluence-information-macro confluence-information-macro-information conf-macro output-block" data-hasbody="true" data-macro-name="info">
             <p class="title">Npm version support</p>
             <span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"> </span>
             <div class="confluence-information-macro-body">
              <p>Artifactory supports NPM version 1.4.3 and above.</p>
             </div>
            </div>
            <h2 id="NpmRegistry-Configuration">Configuration</h2>
            <h3 id="NpmRegistry-LocalNpmRegistry">Local Npm Registry</h3>
            <p>To enable calculation of npm package metadata in local repositories so they are, in effect, npm registries, &nbsp;set the&nbsp;<strong>Package Type</strong>&nbsp;to&nbsp;<strong>npm&nbsp;</strong>when you create the repository:<br><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-thumbnail" width="250" src="/confluence/download/thumbnails/46107772/NpmCreateLocalRepo.jpg?version=1&amp;modificationDate=1437920756000&amp;api=v2" data-image-src="/confluence/download/attachments/46107772/NpmCreateLocalRepo.jpg?version=1&amp;modificationDate=1437920756000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="46107777" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="NpmCreateLocalRepo.jpg" data-base-url="https://www.jfrog.com/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="46107772" data-linked-resource-container-version="48"></span></p>
           </div>
           <p>&nbsp;</p>
           <p>&nbsp;</p>
           <div class="columnMacro conf-macro output-block" data-hasbody="true" data-macro-name="column" style="width:25%;min-width:25%;max-width:25%;">
            <div class="confluence-information-macro has-no-icon confluence-information-macro-information conf-macro output-block" data-hasbody="true" data-macro-name="info">
             <p class="title">Page Contents</p>
             <div class="confluence-information-macro-body">
              <p> </p>
              <div class="toc-macro client-side-toc-macro  conf-macro output-block" data-hasbody="false" data-headerelements="H2,H3,H4" data-macro-name="toc"> 
              </div>
              <p> </p>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
        <h2 id="NpmRegistry-RepositoryLayout">Repository Layout</h2>
        <p>Artifactory allows you to define any layout for your npm regsitries. In order to upload packages according to your custom layout, you need to package your npm files using&nbsp;<code>npm pack.</code></p>
        <p>This creates the .tgz file for your package which you can then upload to any path within your local npm repository.</p>
        <h3 id="NpmRegistry-RemoteNpmRegistry">Remote Npm Registry</h3>
        <p>A&nbsp;<a href="/confluence/display/RTF/Remote+Repositories">Remote Repository</a>&nbsp;defined in Artifactory serves as a caching proxy for a registry managed at a remote URL&nbsp;such as&nbsp;<code><span class="nolink"><span class="nolink"><a class="external-link" href="https://registry.npmjs.org" rel="nofollow">https://registry.npmjs.org</a></span></span></code>.</p>
        <p><span>Artifacts (such as tgz files) requested from a remote repository are cached on demand. You can remove downloaded artifacts from the remote repository cache, however, you can not manually deploy artifacts to a remote npm registry.&nbsp;</span></p>
        <p>To define a remote repository to proxy a remote npm registry follow the steps below:</p>
        <div>
         <ol>
          <li>In the&nbsp;<strong>Admin</strong>&nbsp;module, under&nbsp;<strong>Repositories | Remote,</strong>&nbsp;click "New".&nbsp;</li>
          <li>In the New Repository dialog, set the <strong>Package Type</strong> to <strong>npm</strong>, set the&nbsp;<strong>Repository Key&nbsp;</strong>value, and specify the URL to the remote registry in the&nbsp;<strong>URL&nbsp;</strong>field as displayed below<br>&nbsp;<span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="500" src="/confluence/download/attachments/46107772/NpmNewRemoteRepo.jpg?version=1&amp;modificationDate=1437922326000&amp;api=v2" data-image-src="/confluence/download/attachments/46107772/NpmNewRemoteRepo.jpg?version=1&amp;modificationDate=1437922326000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="46107775" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="NpmNewRemoteRepo.jpg" data-base-url="https://www.jfrog.com/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="46107772" data-linked-resource-container-version="48"></span></li>
          <li>Click "Save &amp; FInish"</li>
         </ol>
        </div>
        <h3 id="NpmRegistry-VirtualNpmRegistry">Virtual Npm Registry</h3>
        <p>A Virtual Repository defined in Artifactory aggregates packages from both local and remote repositories.<br><span>This allows you to access both locally hosted npm packages and remote proxied npm registries from a single URL defined for the virtual repository.<br></span><span>To define a virtual npm registry, create a&nbsp;<a href="/confluence/display/RTF/Virtual+Repositories">virtual repository</a>, set the <strong>Package Type&nbsp;</strong> to be&nbsp;<strong>npm,&nbsp;</strong> and&nbsp;select the underlying local and remote npm registries to include in the&nbsp;<strong>Basic </strong>settings<strong>&nbsp;</strong>tab.</span></p>
        <p><span><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="500" src="/confluence/download/attachments/46107772/NpmVirtualRepository.jpg?version=1&amp;modificationDate=1437923256000&amp;api=v2" data-image-src="/confluence/download/attachments/46107772/NpmVirtualRepository.jpg?version=1&amp;modificationDate=1437923256000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="46107774" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="NpmVirtualRepository.jpg" data-base-url="https://www.jfrog.com/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="46107772" data-linked-resource-container-version="48"></span></span></p>
        <p><span>Click "Save &amp; Finish" to create the repository.</span></p>
        <h4 id="NpmRegistry-AdvancedConfiguration">Advanced Configuration</h4>
        <p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" alt="Npm virtual repository advanced configuration" width="500" src="/confluence/download/attachments/46107772/NpmVirtualAdvancedConfig.jpg?version=1&amp;modificationDate=1448194769000&amp;api=v2" data-image-src="/confluence/download/attachments/46107772/NpmVirtualAdvancedConfig.jpg?version=1&amp;modificationDate=1448194769000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="50102536" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="NpmVirtualAdvancedConfig.jpg" data-base-url="https://www.jfrog.com/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="46107772" data-linked-resource-container-version="48" title="Npm virtual repository advanced configuration"></span></p>
        <p>The fields under&nbsp;<strong>External Dependency Rewrite</strong>&nbsp;are connected to&nbsp;<a href="#NpmRegistry-AutomaticallyRewritingExternalDependencies">automatically rewriting external dependencies</a>&nbsp;for npm packages that need them.</p>
        <div class="table-wrap">
         <table class="wrapped confluenceTable">
          <colgroup>
           <col>
           <col>
          </colgroup>
          <tbody>
           <tr>
            <td class="confluenceTd"><p><strong>Enable Dependency Rewrite</strong></p></td>
            <td colspan="1" class="confluenceTd">When checked, automatically rewriting external dependencies is enabled.</td>
           </tr>
           <tr>
            <td class="confluenceTd"><p><strong>Remote Repository For Cache</strong></p></td>
            <td colspan="1" class="confluenceTd">The remote repository aggregated by this virtual repository in which the external dependency will be cached.</td>
           </tr>
           <tr>
            <td class="confluenceTd"><p><strong>Patterns Whitelist</strong></p></td>
            <td colspan="1" class="confluenceTd"><p>A white list of Ant-style path expressions that specify where external dependencies may be downloaded from. By default, this is set to <code><em>**</em></code> which means that dependencies may be downloaded from any external source.</p><p><span>For example, if you wish to limit external dependencies to only be downloaded from </span><code><em>github.com</em></code><span>, you should add </span><code><em>**/github.com/**</em></code><span> (and remove the default </span><em>** </em><span>expression).</span></p></td>
           </tr>
          </tbody>
         </table>
        </div>
        <hr>
        <h2 id="NpmRegistry-UsingtheNpmCommandLine">Using the&nbsp;Npm Command Line</h2>
        <div class="confluence-information-macro confluence-information-macro-note conf-macro output-block" data-hasbody="true" data-macro-name="note">
         <p class="title">Npm repositories must be prefixed with api/npm in the path</p>
         <span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"> </span>
         <div class="confluence-information-macro-body">
          <p>When accessing an npm repository through Artifactory, the repository URL must be prefixed with <strong>api/npm</strong> in the path. This applies to all npm commands including <code>npm install</code> and <code>npm publish.</code></p>
          <p>For example, if you are using Artifactory standalone or as a local service, you would access your npm repositories using the following URL:</p>
          <p><em><code><a class="external-link" href="http://localhost:8081/artifactory/" rel="nofollow">http://localhost:8081/artifactory/</a><strong>api/npm/</strong>&lt;repository key&gt;</code></em></p>
          <p>Or, if you are using Artifactory SaaS the URL would be:</p>
          <p><em><code>https://&lt;server name&gt;.<a rel="nofollow">jfrog.io/&lt;server</a> name&gt;/<strong>api/npm/</strong>&lt;repository key&gt;</code></em></p>
         </div>
        </div>
        <p>To use the npm command line you need to make sure npm is installed. Npm is included as an integral part of recent versions of&nbsp; <a class="external-link conf-macro output-inline" data-hasbody="false" data-macro-name="newtablink" href="http://nodejs.org/" rel="nofollow" style="text-decoration:none;" target="_blank">Node.js</a>.&nbsp;</p>
        <p>Please refer to&nbsp; <a class="external-link conf-macro output-inline" data-hasbody="false" data-macro-name="newtablink" href="https://github.com/joyent/node/wiki/Installing-Node.js-via-package-manager" rel="nofollow" style="text-decoration:none;" target="_blank">Installing Node.js via package manager</a>&nbsp;on GitHub&nbsp;or the <a class="external-link conf-macro output-inline" data-hasbody="false" data-macro-name="newtablink" href="https://npmjs.org/doc/README.html" rel="nofollow" style="text-decoration:none;" target="_blank">npm README page</a>.</p>
        <p>Once you have created your npm repository, you can select it in the Tree Browser and click&nbsp;<strong>Set Me Up</strong>&nbsp;to get code snippets you can use to change your&nbsp;npm registry URL, deploy and resolve packages using the npm command line tool.</p>
        <h3 id="NpmRegistry-SettingtheDefaultRegistry">Setting the Default Registry</h3>
        <p>For your npm command line client to work with Artifactory, you first need to set the default npm registry with an Artifactory npm repository using the following command (the example below uses a repository called&nbsp;<em><code>npm-repo</code></em>):</p>
        <div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
         <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;">
          <b>Replacing the default registry</b>
         </div>
         <div class="codeContent panelContent pdl"> 
          <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">npm config set registry http://&lt;ARTIFACTORY_SERVER_DOMAIN&gt;:8081/artifactory/api/npm/npm-repo</pre> 
         </div>
        </div>
        <p>For scoped packages, use the following command:</p>
        <div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
         <div class="codeContent panelContent pdl"> 
          <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">npm config set @&lt;SCOPE&gt;:registry http://&lt;ARTIFACTORY_SERVER_DOMAIN&gt;:8081/artifactory/api/npm/npm-repo</pre> 
         </div>
        </div>
        <div class="confluence-information-macro confluence-information-macro-tip conf-macro output-block" data-hasbody="true" data-macro-name="tip">
         <span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"> </span>
         <div class="confluence-information-macro-body">
          <p>We recommend referencing a <a class="external-link" href="http://www.jfrog.com/confluence/display/RTF/Virtual+Repositories" rel="nofollow">Virtual Repository</a> URL as a registry. This gives you the flexibility <span style="color: rgb(34,34,34);">to reconfigure and aggregate other external sources and local repositories of npm packages you deployed.&nbsp;</span></p>
          <p><span style="color: rgb(34,34,34);">Note that If you do this, you need to use the <em><code>--registry</code></em> parameter to specify the local repository into which you are publishing your package when using the <code><a href="#NpmRegistry-DeployingYourPackages">npm publish</a></code> command.</span></p>
         </div>
        </div>
        <h3 id="NpmRegistry-AuthenticatingthenpmClient">Authenticating the npm Client</h3>
        <p>Once you have set the default registry, you need to authenticate the npm client to Artifactory in one of two ways: using the&nbsp;<code>npm login</code>&nbsp;command or using basic authentication.</p>
        <h4 id="NpmRegistry-Usingnpmlogin">Using npm login</h4>
        <p>Authentication using&nbsp;<code>npm login</code>&nbsp;was introduced in version 5.4.&nbsp;</p>
        <p>Run the following command in your npm client. When prompted, provide your Artifactory login credentials:</p>
        <div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
         <div class="codeContent panelContent pdl"> 
          <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">npm login</pre> 
         </div>
        </div>
        <p>Upon running this command, Artifactory creates a <a href="/confluence/display/RTF/Access+Tokens#AccessTokens-GeneratingExpirableTokens">non-expirable access token</a>&nbsp;which the client uses for authentication against Artifactory for subsequent&nbsp;<code>npm install</code>&nbsp;and&nbsp;<code>npm publish</code>&nbsp;actions.&nbsp;</p>
        <p>If the token is removed from Artifactory, the client will have to login again to receive a new token.</p>
        <h4 id="NpmRegistry-UsingBasicAuthentication">Using Basic Authentication</h4>
        <p>To support basic authentication you need to edit your&nbsp;<code><em>.npmrc</em></code>&nbsp;file and&nbsp;enter the following:</p>
        <ul>
         <li>Your Artifactory username and password (formatted&nbsp;<code><a class="external-link" href="http://usernamepassword/" rel="nofollow">username:password</a></code>) as&nbsp; <a class="external-link conf-macro output-inline" data-hasbody="false" data-macro-name="newtablink" href="http://www.base64encode.org/" rel="nofollow" style="text-decoration:none;" target="_blank">Base64</a>&nbsp;encoded strings&nbsp;</li>
         <li>Your email address (<code>npm publish</code>&nbsp;will not work if your email is not specified in&nbsp;<code>.npmrc</code>)</li>
         <li>You need to set &nbsp;<code>always-auth = true</code></li>
        </ul>
        <div class="confluence-information-macro confluence-information-macro-tip conf-macro output-block" data-hasbody="true" data-macro-name="tip">
         <p class="title">.npmrc file location</p>
         <span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"> </span>
         <div class="confluence-information-macro-body">
          <p>Windows: <code><em>%userprofile%\.npmrc</em></code></p>
          <p>Linux: <code><em>~/.npmrc</em></code></p>
         </div>
        </div>
        <div class="confluence-information-macro confluence-information-macro-tip conf-macro output-block" data-hasbody="true" data-macro-name="tip">
         <p class="title">Getting .npmrc entries directly from Artifactory</p>
         <span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"> </span>
         <div class="confluence-information-macro-body">
          <p>You can use the following command to get these strings directly from Artifactory:</p>
          <div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
           <div class="codeContent panelContent pdl"> 
            <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">$ curl -uadmin:&lt;CREDENTIAL&gt; http://&lt;ARTIFACTORY_SERVER_DOMAIN&gt;:8081/artifactory/api/npm/auth</pre> 
           </div>
          </div>
          <p>Where &lt;CREDENTIAL&gt; is your Artifactory password or&nbsp;<a href="/confluence/display/RTF/Updating+Your+Profile#UpdatingYourProfile-APIKey">API Key</a>&nbsp;</p>
          <pre>&nbsp;</pre>
          <pre>Here is an example of the response:</pre>
          <div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
           <div class="codeContent panelContent pdl"> 
            <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">_auth = YWRtaW46e0RFU2VkZX1uOFRaaXh1Y0t3bHN4c2RCTVIwNjF3PT0=
email = myemail@email.com
always-auth = true</pre> 
           </div>
          </div>
         </div>
        </div>
        <p><br>If, in addition, you are also working with scoped packages, you also need to run the following command:</p>
        <div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
         <div class="codeContent panelContent pdl"> 
          <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">curl -uadmin:&lt;CREDENTIAL&gt; http://&lt;ARTIFACTORY_SERVER_DOMAIN&gt;:8081/artifactory/api/npm/npm-repo/auth/&lt;SCOPE&gt;</pre> 
         </div>
        </div>
        <p>Where &lt;CREDENTIAL&gt; is your Artifactory password or&nbsp;<a href="/confluence/display/RTF/Updating+Your+Profile#UpdatingYourProfile-APIKey">API Key</a>&nbsp;</p>
        <p>Paste the response to this command in the ~/.npmrc file on your machine (in Windows, %USERPROFILE%/.npmrc).</p>
        <h3 id="NpmRegistry-ResolvingnpmPackages">Resolving npm Packages</h3>
        <p>Once the npm command line tool is configured, every&nbsp;<code><em>npm install</em></code>&nbsp;command will fetch packages from the npm repository specified above. For example:</p>
        <div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
         <div class="codeContent panelContent pdl"> 
          <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">$ npm install request
npm http GET http://localhost:8081/artifactory/api/npm/npm-repo/request
npm http 200 http://localhost:8081/artifactory/api/npm/npm-repo/request
npm http GET http://localhost:8081/artifactory/api/npm/npm-repo/request/-/request-2.33.0.tgz
npm http 200 http://localhost:8081/artifactory/api/npm/npm-repo/request/-/request-2.33.0.tgz</pre> 
         </div>
        </div>
        <hr>
        <h2 id="NpmRegistry-NpmPublish(DeployingPackages)"><span>Npm Publish (Deploying Packages)</span></h2>
        <h3 id="NpmRegistry-SettingYourCredentials"><span>Setting Your Credentials</span></h3>
        <p>The npm command line tool requires that sensitive operations, such as&nbsp;<code>publish</code>, are authenticated as described under&nbsp;<a href="#NpmRegistry-AuthenticatingthenpmClient">Authenticating the npm Client</a>&nbsp;above.</p>
        <h3 id="NpmRegistry-DeployingYourPackages"><span style="color: rgb(0,100,0);">Deploying Your Packages</span></h3>
        <p>There are two ways to deploy packages to a local repository:</p>
        <ul>
         <li>Edit your&nbsp;<code><em>package.json</em></code>&nbsp;file and add a&nbsp;<a class="external-link" href="https://www.npmjs.org/doc/json.html#publishConfig" rel="nofollow">publishConfig</a>&nbsp;section to a local repository:<br><em><code>"publishConfig":{"registry":"<a class="external-link" href="http://localhost:8081/artifactory/" rel="nofollow">http://localhost:8081/artifactory/</a><strong>api/npm</strong>/npm-local"}</code></em><br><em><code><br></code></em></li>
         <li>Provide a local repository to the&nbsp;<code>npm publish</code>&nbsp;command:<br><em><code>npm publish --registry&nbsp;<span class="nolink"><a class="external-link" href="http://localhost:8081/artifactory/" rel="nofollow">http://localhost:8081/artifactory/</a><strong>api/npm</strong>/npm-local</span></code></em>&nbsp;</li>
        </ul>
        <hr>
        <h2 id="NpmRegistry-SpecifyingtheLatestVersion">Specifying the Latest Version</h2>
        <p>By default, the "latest" version of a package in an NPM registry in Artifactory is the one with the highest&nbsp; <a class="external-link conf-macro output-inline" data-hasbody="false" data-macro-name="newtablink" href="http://semver.org/" rel="nofollow" style="text-decoration:none;" target="_blank">SemVer</a>&nbsp;version number. You can override this behavior so that the most recently uploaded package is returned by Artifactory as the "latest" version. To do so, in Artifactory's system.properties file, add or set:&nbsp;</p>
        <div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
         <div class="codeContent panelContent pdl"> 
          <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">artifactory.npm.tag.tagLatestByPublish = true</pre> 
         </div>
        </div>
        <hr>
        <h2 id="NpmRegistry-WorkingwithArtifactorywithoutAnonymousAccess">Working with Artifactory without Anonymous Access</h2>
        <p>By default, Artifactory allows anonymous access to npm repositories. This is defined in the <strong>Admin</strong> module&nbsp;under&nbsp;<strong>Security | General</strong>. For details please refer to&nbsp;<a class="external-link" href="http://www.jfrog.com/confluence/display/RTF/Security+General+Configuration#SecurityGeneralConfiguration-AllowAnonymousAccess" rel="nofollow">Allow Anonymous Access</a>.<br>If you want to be able to trace how users interact with your repositories you need to uncheck the&nbsp;<a class="external-link" href="http://www.jfrog.com/confluence/display/RTF/Security+General+Configuration#SecurityGeneralConfiguration-AllowAnonymousAccess" rel="nofollow">Allow Anonymous Access</a>&nbsp;setting. This means that users will be required to enter their username and password as described in&nbsp;<a href="#NpmRegistry-SettingYourCredentials">Setting Your Credentials</a>&nbsp;above.</p>
        <hr>
        <h2 id="NpmRegistry-UsingOAuthCredentials">Using&nbsp;OAuth&nbsp;Credentials</h2>
        <p>Artifactory uses GitHub Enterprise as its <a href="https://www.jfrog.com/confluence/display/RTF/OAuth+Integration#OAuthIntegration-ConfiguringOAuth" rel="nofollow">default OAuth provider</a>. If you have an account,&nbsp;you may use your&nbsp;GitHub Enterprise login details to be authenticated when using&nbsp;<code style="line-height: 1.42857;">npm login.&nbsp;</code></p>
        <hr>
        <h2 id="NpmRegistry-NpmSearch">Npm Search</h2>
        <p>Artifactory supports a variety of ways to search of artifacts. For details please refer to&nbsp;<a class="external-link" href="http://www.jfrog.com/confluence/display/RTF/Searching+Artifacts" rel="nofollow">Searching Artifacts</a>.</p>
        <p>Artifactory also supports&nbsp;<em><code>npm search&nbsp;[search terms ...]</code></em>, however, packages may not be available immediately after being published for the following reasons:</p>
        <p>When publishing a package to a local repository,&nbsp;<span>Artifactory calculates&nbsp;</span><span>the search index asynchronously and will wait for a "quiet period" to lapse before indexing the newly published package.</span></p>
        <p><span>Since a virtual repository may contain local repositories, a newly published package may not be available immediately for the same reason.</span></p>
        <p>You can specify the indexing "quiet period" (time since the package was published) by setting the following system properties (in&nbsp;<code><em>$ARTIFACTORY_HOME/etc/artifactory.system.properties</em></code>) . &nbsp;</p>
        <div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
         <div class="codeContent panelContent pdl"> 
          <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">artifactory.npm.index.quietPeriodSecs=60
artifactory.npm.index.cycleSecs=60</pre> 
         </div>
        </div>
        <p><span>In the case of remote repositories, &nbsp;a new package will only be found once Artifactory checks for it according to the&nbsp;</span><a href="/confluence/display/RTF/Advanced+Settings">Retrieval Cache Period</a>&nbsp;setting.</p>
        <div class="confluence-information-macro confluence-information-macro-tip conf-macro output-block" data-hasbody="true" data-macro-name="tip">
         <span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"> </span>
         <div class="confluence-information-macro-body">
          <p>Artifactory annotates each deployed or cached npm package with two properties: <em><code>npm.name</code></em> and <em><code>npm.version</code></em></p>
          <p>You can use <a class="external-link" href="http://www.jfrog.com/confluence/display/RTF/Property+Search" rel="nofollow">Property Search</a> to search for npm packages according to their name or version.&nbsp;</p>
         </div>
        </div>
        <hr>
        <h2 id="NpmRegistry-CleaningUptheLocalNpmCache">Cleaning Up the Local Npm Cache</h2>
        <p>The npm client saves caches of packages that were downloaded, as well as the JSON metadata responses (named&nbsp;<em><code>.cache.json</code></em>).</p>
        <p>The JSON metadata cache files contain URLs which the npm client uses to communicate with the server, as well as other ETag elements sent by previous requests.</p>
        <p>We recommend removing the npm caches (both packages and metadata responses) before using Artifactory for the first time. This is to ensure that your caches only contain elements that are due to requests from Artifactory and not directly from&nbsp;<code><span class="nolink"><a class="external-link" href="http://registry.npmjs.org/" rel="nofollow">https://registry.npmjs.org</a></span></code>.</p>
        <p>The default cache directory on Windows is&nbsp;<span style="color: rgb(0,0,0);"><em><code>%APPDATA%\npm-cache</code></em>&nbsp;while on Linux it is&nbsp;<em><code>~/.npm.</code></em></span></p>
        <hr>
        <h2 id="NpmRegistry-NpmScopePackages">Npm Scope Packages</h2>
        <p>Artifactory fully supports <a class="external-link conf-macro output-inline" data-hasbody="false" data-macro-name="newtablink" href="https://www.npmjs.org/doc/misc/npm-scope.html" rel="nofollow" style="text-decoration:none;" target="_blank">npm scope packages</a>.&nbsp;The support is transparent to the user and does not require any different usage of the npm client.</p>
        <div class="confluence-information-macro confluence-information-macro-warning conf-macro output-block" data-hasbody="true" data-macro-name="warning">
         <p class="title">Npm 'slash' character encoding</p>
         <span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"> </span>
         <div class="confluence-information-macro-body">
          <p>By default, the npm client encodes slash characters ('/') to their ASCII representation ("%2f") before communicating with the npm registry. If you are running Tomcat as your HTTP container (the default for Artifactory), this generates an "HTTP 400" error since Tomcat does not allow encoded slashes by default. In order <span>work with </span>npm<span> scoped packages, you can o<span>verride this default behavior by defining the following property in the </span><em><code>catalina.properties</code></em><span> file of your Tomcat:</span> </span></p>
          <p><code>org.apache.tomcat.util.buf.UDecoder.ALLOW_ENCODED_SLASH=true</code></p>
          <p><span>Note that since Artifactory </span><strong>version 4.4.3</strong><span>, the bundled Tomcat is configured by default to enable encoded slashes. If you are using a previous version you will need to adjust the Tomcat property above. </span></p>
         </div>
        </div>
        <div class="confluence-information-macro confluence-information-macro-information conf-macro output-block" data-hasbody="true" data-macro-name="info">
         <p class="title">URL decoding and reverse proxy</p>
         <span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"> </span>
         <div class="confluence-information-macro-body">
          <p>If Artifactory is running behind a reverse proxy, make sure to disable URL decoding on the proxy itself in order to work with npm scope packages.</p>
          <p>For Apache, add the "<em>AllowEncodedSlashes NoDecode</em>" directive inside the &lt;VirtualHost *:xxx&gt; block.</p>
          <pre>&nbsp;</pre>
         </div>
        </div>
        <h3 id="NpmRegistry-ConfiguringthenpmClientforaScopeRegistry">Configuring the npm Client for a Scope Registry</h3>
        <h4 id="NpmRegistry-UsingLoginCredentials">Using Login Credentials</h4>
        <p>Scopes can be associated with a separate registry. This allows you to seamlessly use a mix of packages from the public npm registry and one or more private registries.</p>
        <p>For example, you can associate the scope&nbsp;<em><code>@jfrog</code></em>&nbsp;with the registry&nbsp;<em><code><a class="external-link" href="http://localhost:8081/artifactory/api/npm/npm-local/" rel="nofollow">http://localhost:8081/artifactory/api/npm/npm-local/</a></code></em>&nbsp;by manually altering your&nbsp;<em><code>~/.npmrc</code></em>&nbsp;file and adding the following configuration:</p>
        <div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
         <div class="codeContent panelContent pdl"> 
          <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">@jfrog:registry=http://localhost:8081/artifactory/api/npm/npm-local/
//localhost:8081/artifactory/api/npm/npm-local/:_password=cGFzc3dvcmQ=
//localhost:8081/artifactory/api/npm/npm-local/:username=admin
//localhost:8081/artifactory/api/npm/npm-local/:email=myemail@email.com
//localhost:8081/artifactory/api/npm/npm-local/:always-auth=true</pre> 
         </div>
        </div>
        <div class="confluence-information-macro confluence-information-macro-tip conf-macro output-block" data-hasbody="true" data-macro-name="tip">
         <p class="title">Getting .npmrc entries directly from Artifactory</p>
         <span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"> </span>
         <div class="confluence-information-macro-body">
          <p>From Artifactory 3.5.3, you can use the following command to get these strings directly from Artifactory:</p>
          <pre>$ curl -uadmin:password "http://localhost:8081/artifactory/api/npm/npm-local/auth/jfrog"<br>@jfrog:registry=http://localhost:8081/artifactory/api/npm/npm-local/<br>//localhost:8081/artifactory/api/npm/npm-local/:_password=QVA1N05OaHZTMnM5Qk02RkR5RjNBVmF4TVFl<br>//localhost:8081/artifactory/api/npm/npm-local/:username=admin<br>//localhost:8081/artifactory/api/npm/npm-local/:email=admin@jfrog.com<br>//localhost:8081/artifactory/api/npm/npm-local/:always-auth=true</pre>
         </div>
        </div>
        <div class="confluence-information-macro confluence-information-macro-note conf-macro output-block" data-hasbody="true" data-macro-name="note">
         <p class="title">User email is required</p>
         <span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"> </span>
         <div class="confluence-information-macro-body">
          <p>When using scope authentication, npm expects a valid email address. Please make sure you have included your email address in your Artifactory user profile.</p>
         </div>
        </div>
        <div class="confluence-information-macro confluence-information-macro-note conf-macro output-block" data-hasbody="true" data-macro-name="note">
         <span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"> </span>
         <div class="confluence-information-macro-body">
          <p>The password is just a base64 encoding of your Artifactory password, the same way used by the <a href="#NpmRegistry-SettingYourCredentials">old authentication configuration</a>.</p>
         </div>
        </div>
        <div class="confluence-information-macro confluence-information-macro-note conf-macro output-block" data-hasbody="true" data-macro-name="note">
         <p class="title">Recommend npm command line tool version 2.1.9 and later.</p>
         <span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"> </span>
         <div class="confluence-information-macro-body">
          <p>While npm scope packages have been available since version 2.0 of the npm command line tool, we highly recommend using npm scope packages with Artifactory only from version 2.1.9 of the npm command line tool.</p>
         </div>
        </div>
        <hr>
        <h2 id="NpmRegistry-AutomaticallyRewritingExternalDependencies">Automatically Rewriting External Dependencies</h2>
        <p>Packages requested by the Npm client frequently use external dependencies as defined in the packages'&nbsp;<code><em>package</em><em>.json</em></code>&nbsp;file. These dependencies may, in turn, need additional dependencies. Therefore, when downloading an Npm&nbsp;package, you may not have full visibility into the full set of dependencies that your original package needs (whether directly or transitively). As a result, you are at risk of downloading malicious dependencies from unknown external resources. To manage this risk, and maintain the best practice of consuming external packages through Artifactory, you may specify a "safe" whitelist from which dependencies may be downloaded, cached in Artifactory&nbsp;and configure to rewrite the dependencies so that the&nbsp;<span style="line-height: 1.42857;">Npm client accesses dependencies through a virtual repository as follows:</span></p>
        <ul>
         <li>Check&nbsp;<strong>Enable Dependency Rewrite&nbsp;</strong>in the Npm&nbsp;virtual repository&nbsp;<a href="#NpmRegistry-AdvancedConfiguration">advanced configuration</a>.</li>
         <li>Specify a whitelist patterns of external resources from which dependencies may be downloaded.&nbsp;</li>
         <li>Specify the remote repository in which those dependencies should be cached.<br>It is preferable to configure a dedicated remote repository for that purpose so it is easier to maintain.&nbsp;</li>
        </ul>
        <p>In the example below the external dependencies will be cached in "npm" remote repository and only package from <code>https://github.com/jfrogdev</code> are allowed to be cached.&nbsp;</p>
        <p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="250" src="/confluence/download/attachments/46107772/image2016-5-1%2017%3A54%3A33.png?version=1&amp;modificationDate=1462114463000&amp;api=v2" data-image-src="/confluence/download/attachments/46107772/image2016-5-1%2017%3A54%3A33.png?version=1&amp;modificationDate=1462114463000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="51189301" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2016-5-1 17:54:33.png" data-base-url="https://www.jfrog.com/confluence" data-linked-resource-content-type="image/png" data-linked-resource-container-id="46107772" data-linked-resource-container-version="48"></span></p>
        <h3 id="NpmRegistry-RewritingWorkflow">Rewriting Workflow</h3>
        <ol>
         <li><p><span style="color: rgb(51,51,51);font-size: 14.0px;line-height: 1.42857;">When downloading an Npm&nbsp;package, Artifactory analyzes the list of dependencies needed by the package.</span></p></li>
         <li><p><span style="color: rgb(51,51,51);font-size: 14.0px;line-height: 1.42857;">If any of the dependencies are hosted on external resources (e.g. on&nbsp;</span><code style="color: rgb(51,51,51);font-size: 14.0px;line-height: 1.42857;"><em>github.com</em></code><span style="color: rgb(51,51,51);font-size: 14.0px;line-height: 1.42857;">), and those resources are specified in the white list,</span></p>
          <ol>
           <li><p><span style="color: rgb(51,51,51);font-size: 14.0px;line-height: 1.42857;">Artifactory will download the dependency from the external resource.</span></p></li>
           <li><p><span style="color: rgb(51,51,51);font-size: 14.0px;line-height: 1.42857;">Artifactory will cache the dependency in the remote repository configured to cache the external dependency.</span></p></li>
           <li><p><span style="color: rgb(51,51,51);font-size: 14.0px;line-height: 1.42857;">Artifactory will then modify the dependency's entry in the package's&nbsp;</span><em style="color: rgb(51,51,51);font-size: 14.0px;line-height: 1.42857;">package</em><em style="color: rgb(51,51,51);font-size: 14.0px;line-height: 1.42857;">.json</em><span style="color: rgb(51,51,51);font-size: 14.0px;line-height: 1.42857;">&nbsp;file indicating its new location in the Artifactory remote repository cache&nbsp;before returning it to the Npm client.</span></p></li>
          </ol></li>
         <li><p><span style="color: rgb(51,51,51);font-size: 14.0px;line-height: 1.42857;">Consequently, every time the Npm client needs to access the dependency, it will be provisioned from its new location in the Artifactory remote repository cache.</span></p></li>
        </ol>
        <hr>
        <h2 id="NpmRegistry-ViewingIndividualNpmPackageInformation">Viewing Individual Npm Package Information</h2>
        <p>Artifactory lets you view selected metadata of an npm package directly from the UI.</p>
        <p>In the&nbsp;<strong>Tree Browser, </strong>drill down to select the tgz file you want to inspect. The metadata is displayed in the&nbsp;<strong>Npm Info</strong>&nbsp;tab.</p>
        <p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="750" src="/confluence/download/attachments/46107772/NpmInfoTab.jpg?version=1&amp;modificationDate=1437924340000&amp;api=v2" data-image-src="/confluence/download/attachments/46107772/NpmInfoTab.jpg?version=1&amp;modificationDate=1437924340000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="46107773" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="NpmInfoTab.jpg" data-base-url="https://www.jfrog.com/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="46107772" data-linked-resource-container-version="48"></span></p>
        <hr>
        <h2 id="NpmRegistry-WatchtheScreencast">Watch the Screencast</h2>
        <iframe width="560" height="315" src="https://www.youtube.com/embed/8wYf9unk_Uw" frameborder="0" allowfullscreen></iframe>
        <p>&nbsp;</p>
        <p>&nbsp;</p> 
       </div> 
       <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://www.jfrog.com/confluence/display/RTF/Npm+Registry"
    dc:identifier="https://www.jfrog.com/confluence/display/RTF/Npm+Registry"
    dc:title="Npm Registry"
    trackback:ping="https://www.jfrog.com/confluence/rpc/trackback/46107772"/>
</rdf:RDF>
--> 
       <div id="labels-section" class="pageSection group"> 
        <div class="labels-section-content content-column" entityid="46107772" entitytype="page"> 
         <div class="labels-content"> 
          <ul class="label-list label-list-right "> 
           <li class="aui-label " data-label-id="53706772"><a class="aui-label-split-main" href="/confluence/label/RTF/npm" rel="tag">npm</a></li>
           <li class="aui-label " data-label-id="53706773"><a class="aui-label-split-main" href="/confluence/label/RTF/nodejs" rel="tag">nodejs</a></li>
           <li class="aui-label " data-label-id="53706774"><a class="aui-label-split-main" href="/confluence/label/RTF/javascript" rel="tag">javascript</a></li> 
          </ul> 
         </div> 
        </div> 
       </div> 
       <div id="comments-section" class="pageSection group"> 
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
   <div id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul id="poweredby"> 
      <li class="noprint">Powered by <a href="http://www.atlassian.com/software/confluence" class="hover-footer-link" rel="nofollow">Atlassian Confluence</a> <span id="footer-build-information">5.10.1</span></li> 
      <li class="print-only">Printed by Atlassian Confluence 5.10.1</li> 
      <li class="noprint"><a href="https://jira.atlassian.com/browse/CONF" class="hover-footer-link" rel="nofollow">Report a bug</a></li> 
      <li class="noprint"><a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=Confluence-stayintouch" class="hover-footer-link" rel="nofollow">Atlassian News</a></li> 
     </ul> 
     <div id="footer-logo">
      <a href="http://www.atlassian.com/" rel="nofollow">Atlassian</a>
     </div> 
     <div style="font-size:10px;color:#575B64;font-family:Verdana,Helvetica,Arial,sans-serif;">
      Copyright © 2017 JFrog Ltd.
     </div> 
     <script>
if (AJS.$('#login-link').is(":visible")) {
    AJS.$('#browse-menu-link').parent().hide();
}
</script> 
    </section> 
   </div> 
  </div> 
  <span style="display:none;" id="confluence-server-performance">{"serverDuration": 166, "requestCorrelationId": "2b7cfa67a6354e20"}</span>   
 </body>
</html>