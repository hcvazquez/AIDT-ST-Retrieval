<!doctype html>
<html class="no-js">
 <head> 
  <script>
  var twilio = twilio || {};
  twilio.environment = "prod";
  twilio.SWIFTYPE_ENGINE_KEY = "T68bXEBf7NaKzyRpvbnG";
  twilio.FACEBOOK_APP_ID = "414254592083321";
</script> 
  <script>
  twilio.account = twilio.account || {};
  

  twilio.user = twilio.user || {};
  
  
    twilio.user.visitorSid = "VId7b472a9377bf08e232058900c8f2dee";
  
  

</script> 
  <script>
  
  window.userBetaFeatures = ["marketplace.otters", "clear-large-cookies", "devtools.enigma.preview", "twilio.quest", "api.video.recordings", "api.messaging.next-gen", "api.fax.v1", "debugger-webhook", "enable-video-rooms", "api.wireless", "marketplace"];
</script> 
  <!-- Optimizely --> 
  <script type="text/javascript" class="sl_notranslate">
    function __cleanup_cookies() {
      var toClear = ['optimizelySegments', 'optimizelyEndUserId', 'optimizelyPendingLogEvents', 'optimizelyBuckets'];
      var exp = (new Date()).toUTCString();
      toClear.forEach(function (key) {
        document.cookie = key + '=z; path=/; domain=.twilio.com; expires=' + exp;
      });
    }

    document.addEventListener("DOMContentLoaded", __cleanup_cookies);
    window['optimizely'] = window['optimizely'] || [];
    window['optimizely'].push(['setCookieDomain', 'www.twilio.com']);
  </script> 
  <script src="https://cdn.optimizely.com/js/6082066.js"></script> 
  <meta http-equiv="content-type" content="text/html; charset=utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="chrome=1"> 
  <meta name="viewport" content="width=device-width"> 
  <meta name="description" content="We demonstrate how to push server exceptions to administrators with SMSes and MMSes using Java, Spring, and Twilio's Java ADK."> 
  <title>
      SMS and MMS Notifications with Java and Spring - Twilio
    </title> 
  <link rel="canonical" href="https://www.twilio.com/docs/tutorials/server-notifications-java-spring"> 
  <link rel="shortcut icon" href="/docs/static/img/favicons/favicon.832.ico"> 
  <link rel="apple-touch-icon" href="/docs/static/img/favicons/favicon_57.832.png"> 
  <link rel="apple-touch-icon" sizes="72x72" href="/docs/static/img/favicons/favicon_72.832.png"> 
  <link rel="apple-touch-icon" sizes="114x114" href="/docs/static/img/favicons/favicon_114.832.png"> 
  <link rel="stylesheet" type="text/css" href="//cloud.typography.com/6230892/752864/css/fonts.css"> 
  <link rel="stylesheet" href="/docs/static/css/font-awesome.min.832.css"> 
  <link rel="stylesheet" href="/docs/static/css/devicon.min.832.css"> 
  <link rel="stylesheet" href="/docs/static/css/twilio-icons.832.css"> 
  <link rel="stylesheet" href="/docs/static/css/font-mfizz.832.css"> 
  <meta property="og:title" content="SMS and MMS Notifications with Java and Spring"> 
  <meta property="og:description" content="We demonstrate how to push server exceptions to administrators with SMSes and MMSes using Java, Spring, and Twilio's Java ADK."> 
  <meta property="og:url" content="https://www.twilio.com/docs/tutorials/server-notifications-java-spring?utm_source=docs&amp;utm_medium=social&amp;utm_campaign=guides_tags"> 
  <meta name="twitter:title" content="SMS and MMS Notifications with Java and Spring"> 
  <meta name="twitter:description" content="We demonstrate how to push server exceptions to administrators with SMSes and MMSes using Java, Spring, and Twilio's Java ADK."> 
  <meta property="fb:app_id" content="414254592083321"> 
  <link rel="stylesheet" href="/docs/static/css/docs.min.832.css"> 
 </head> 
 <body class="
    
      tutorials
    
    
    
  "> 
  <!-- Google Tag Manager --> 
  <noscript>
   <iframe src="//www.googletagmanager.com/ns.html?id=GTM-MWRD6S" height="0" width="0" style="display:none;visibility:hidden"></iframe>
  </noscript> 
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window, document, 'script', 'dataLayer', 'GTM-MWRD6S');</script> 
  <!-- End Google Tag Manager --> 
  <div role="drawer" class="nav__drawer"> 
   <div role="drawer__wrapper" class="nav__drawer-wrapper"> 
    <div role="drawer__nav" class="nav__drawer-nav"> 
     <span class="nav__drawer-auth"> <a href="/login" class="nav__drawer-auth-link">Log In</a> <a href="/try-twilio" class="nav__drawer-auth-link">Sign Up</a> </span> 
     <a href="#close" role="drawer__close" class="nav__drawer-close">Close</a> 
    </div> 
    <div class="nav__drawer-menu"> 
     <div class="nav__drawer-container"> 
      <div class="nav__drawer-grid"> 
       <div class="nav__drawer-section"> 
        <div role="drawer__header" class="nav__drawer-header">
         Products
        </div> 
        <div role="drawer__dropdown" class="nav__drawer-dropdown"> 
         <div class="nav__drawer-column"> 
          <ul> 
           <li> 
            <div class="nav__drawer-link nav__drawer-link--category">
             Communications Cloud
            </div> </li> 
           <li> <a href="/sms" class="nav__drawer-link">Programmable SMS</a> </li> 
           <li> <a href="/voice" class="nav__drawer-link">Programmable Voice</a> </li> 
           <li> <a href="/video" class="nav__drawer-link">Programmable Video</a> </li> 
           <li> <a href="/chat" class="nav__drawer-link">Programmable Chat</a> </li> 
           <li> <a href="/fax" class="nav__drawer-link">Programmable Fax</a> </li> 
          </ul> 
          <ul> 
           <li> 
            <div class="nav__drawer-link nav__drawer-link--category">
             Super Network
            </div> </li> 
           <li> <a href="/phone-numbers" class="nav__drawer-link">Phone Numbers</a> </li> 
           <li> <a href="/sms/short-codes" class="nav__drawer-link">Short Codes</a> </li> 
           <li> <a href="/sip-trunking" class="nav__drawer-link">Elastic SIP Trunking</a> </li> 
           <li> <a href="/wireless" class="nav__drawer-link">Programmable Wireless</a> </li> 
           <li> <a href="/interconnect" class="nav__drawer-link">Interconnect</a> </li> 
           <li> <a href="/lookup" class="nav__drawer-link">Lookup</a> </li> 
          </ul> 
         </div> 
         <div class="nav__drawer-column"> 
          <ul> 
           <li> <a href="/engagement-cloud" class="nav__drawer-link nav__drawer-link--category">Engagement Cloud</a> </li> 
           <li> <a href="/notify" class="nav__drawer-link">Notify</a> </li> 
           <li> <a href="/taskrouter" class="nav__drawer-link">TaskRouter</a> </li> 
           <li> <a href="/two-factor-authentication" class="nav__drawer-link">Two-factor Authentication</a> </li> 
           <li> <a href="/verification" class="nav__drawer-link">Verification</a> </li> 
           <li> <a href="/proxy" class="nav__drawer-link">Proxy</a> </li> 
           <li> <a href="/understand" class="nav__drawer-link">Understand</a> </li> 
          </ul> 
          <ul> 
           <li> 
            <div class="nav__drawer-link nav__drawer-link--category">
             Runtime
            </div> </li> 
           <li> <a href="/sync" class="nav__drawer-link">Sync</a> </li> 
          </ul> 
          <ul> 
           <li> 
            <div class="nav__drawer-link nav__drawer-link--category">
             Marketplace
            </div> </li> 
           <li> <a href="/marketplace/add-ons" class="nav__drawer-link">Add-ons</a> </li> 
           <li> <a href="/marketplace/channels" class="nav__drawer-link">Channels</a> </li> 
          </ul> 
         </div> 
        </div> 
       </div> 
       <div class="nav__drawer-section"> 
        <div role="drawer__header" class="nav__drawer-header">
         Use Cases
        </div> 
        <div role="drawer__dropdown" class="nav__drawer-dropdown"> 
         <ul> 
          <li> <a href="/use-cases/access-security" class="nav__drawer-link nav__drawer-link--category">Access Security</a> </li> 
          <li> <a href="/use-cases/call-and-text-marketing" class="nav__drawer-link nav__drawer-link--category">Call &amp; Text Marketing</a> </li> 
          <li> <a href="/use-cases/collaboration" class="nav__drawer-link nav__drawer-link--category">Collaboration</a> </li> 
          <li> <a href="/use-cases/contact-center" class="nav__drawer-link nav__drawer-link--category">Contact Center</a> </li> 
          <li> <a href="/use-cases/commerce-communications" class="nav__drawer-link nav__drawer-link--category">Commerce Communications</a> </li> 
         </ul> 
         <hr> 
        </div> 
        <div> 
         <div class="nav__drawer-column"> 
          <ul> 
           <li> <a href="https://customers.twilio.com" class="nav__drawer-link nav__drawer-link--small">Customer Stories</a> </li> 
           <li> <a href="/learn" class="nav__drawer-link nav__drawer-link--small">Learn</a> </li> 
           <li> <a href="/showcase" class="nav__drawer-link nav__drawer-link--small">Partner Showcase</a> </li> 
           <li> <a href="/what-is-cloud-communications?" class="nav__drawer-link nav__drawer-link--small">Why Twilio?</a> </li> 
           <li> <a href="/support-plans" class="nav__drawer-link nav__drawer-link--small">Support Plans</a> </li> 
           <li> <a href="/enterprise" class="nav__drawer-link nav__drawer-link--small">Enterprise Plan</a> </li> 
          </ul> 
         </div> 
         <div class="nav__drawer-column"> 
          <ul> 
           <li> <a href="/docs" class="nav__drawer-link nav__drawer-link--small">API &amp; Docs</a> </li> 
           <li> <a href="/blog" class="nav__drawer-link nav__drawer-link--small">Blog</a> </li> 
           <li> <a href="/help" class="nav__drawer-link nav__drawer-link--small">Help</a> </li> 
           <li> <a href="/security" class="nav__drawer-link nav__drawer-link--small">Security</a> </li> 
           <li> <a href="/company/jobs" class="nav__drawer-link nav__drawer-link--small">Jobs at Twilio</a> </li> 
           <li> <a href="http://status.twilio.com" class="nav__drawer-link nav__drawer-link--small">Status</a> </li> 
          </ul> 
         </div> 
        </div> 
        <div class="nav__sales"> 
         <a href="/help/sales" class="nav__sales-button">Talk to Sales</a> 
        </div> 
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div> 
  <div role="nav" class="nav nav--subnav nav--inverted nav--transparent " data-subnav-length="40"> 
   <div role="nav__menu" class="nav__header"> 
    <div class="nav__title">
     <a href="/" class="nav__logo">Twilio</a>
    </div> 
    <nav class="nav__menu"> 
     <ul class="nav__menu-items"> 
      <li class="nav__menu-item"> <a href="/help" class="nav__menu-link"> 
        <svg xmlns="http://www.w3.org/2000/svg" width="5.9" height="13.5" viewbox="-130.2 48.3 5.9 13.5">
         <path fill="none" stroke="#F22F46" stroke-miterlimit="10" d="M-127.5 60.8c0 .3-.2.5-.5.5s-.5-.2-.5-.5.2-.5.5-.5.5.2.5.5zm-2.2-9.6c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5c0 1-.5 1.5-1.3 2.2-.9.9-1.9 1.9-1.9 4.2m-.7-9.3"></path> 
        </svg> Help </a> </li> 
      <li class="nav__menu-item"> <a href="/login" class="nav__menu-link"> 
        <svg xmlns="http://www.w3.org/2000/svg" width="10.2" height="13.5" viewbox="0 0 10.2 13.5"> 
         <circle fill="none" stroke="#F22F46" stroke-miterlimit="10" cx="5.1" cy="3" r="2.5"></circle> 
         <path fill="none" stroke="#F22F46" stroke-miterlimit="10" d="M.5 13.5c0-2.5 2.1-4.6 4.6-4.6s4.6 2.1 4.6 4.6"></path> 
        </svg> Log In </a> </li> 
      <li class="nav__menu-item"> <a href="/try-twilio" class="nav__menu-link"> 
        <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewbox="0 0 13 13"> 
         <path d="M0 6.5h13M6.5 0v13" fill="none" stroke="#F22F46" stroke-miterlimit="10"></path> 
        </svg> Sign Up </a> </li> 
      <li class="nav__menu-item"><a href="#menu" role="nav__activate" class="nav__menu-link nav__menu-activate"><span></span>Menu &amp; Products</a></li> 
     </ul> 
    </nav> 
    <nav role="subnav" class="nav__subnav"> 
     <header class="nav__subnav-header"> 
      <a href="/docs" class="nav__subnav-header-link">Docs</a> 
      <a href="/docs/tutorials" role="subnav__dropdown" class="nav__subnav-link nav__subnav-current">Tutorials</a> 
     </header> 
     <ul role="subnav__items" class="nav__subnav-items"> 
      <li role="subnav__item" class="nav__subnav-item "> <a href="/docs/quickstart" class="nav__subnav-link">Quickstart</a> </li> 
      <li role="subnav__item" class="nav__subnav-item "> <a href="/docs/guides" class="nav__subnav-link">Guides</a> </li> 
      <li role="subnav__item" class="nav__subnav-item "> <a href="/docs/tutorials" class="nav__subnav-link">Tutorials</a> </li> 
      <li role="subnav__item" class="nav__subnav-item "> <a href="/docs/api" class="nav__subnav-link">API Reference</a> </li> 
      <li role="subnav__item" class="nav__subnav-item "> <a href="/docs/libraries" class="nav__subnav-link">SDKs</a> </li> 
     </ul> 
    </nav> 
   </div> 
  </div> 
  <div class="docs__pagenav"> 
   <div class="uk-container uk-container-center"> 
    <div class="uk-grid"> 
     <div class="uk-width-3-4 uk-hidden-small"> 
      <div class="breadcrumbs"> 
       <a href="/docs">Twilio Docs</a> &gt; 
       <a href="/docs/tutorials">Tutorials</a> &gt; 
       <span>SMS and MMS Notifications with Java and Spring</span> 
      </div> 
     </div> 
     <div class="uk-width-1-1 uk-width-medium-1-4"> 
      <div class="search"> 
       <form action="/docs/search" method="GET"> 
        <div class="wrapper"> 
         <input id="search-box" name="q" type="text" value=""> 
        </div> 
        <button type="submit"> <i class="fa fa-fw fa-search"></i> </button> 
       </form> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div> 
  <div class="docs-container"> 
   <div class="uk-container"> 
    <div class="coderail-container "> 
     <div class="sidenav-column" id="sidenav-column"> 
      <div class="sidenav-sticky-content" data-uk-sticky="{boundary: true}"> 
       <div class="collapsible-content"> 
        <div class="theme-switcher uk-hidden-small"> 
         <div class="theme-wrapper"> 
          <a data-theme="light" class="selected"> <i class="fa fa-fw fa-sun-o"></i> </a> 
          <a data-theme="dark"> <i class="fa fa-fw fa-moon-o"></i> </a> 
         </div> 
        </div> 
        <div class="sidenav"> 
         <ul id="doc_menu" class="sidenav__section" data-swiftype-index="false"> 
          <!-- Page entries --> 
          <li id="dynamic-menu"> 
           <ul> 
            <li class="menu-title expanded" role="menu-title" id="doc-navigation-parent"> SMS and MMS Notifications with Java and Spring </li> 
            <ul class="menu-accordion expanded" role="menu-accordion" id="doc-navigation"></ul> 
            <li class="menu-title expanded" role="menu-title"> <span class="heading">Related Tutorials</span> </li> 
            <ul class="menu-accordion expanded" role="menu-accordion"> 
             <li> <a href="https://www.twilio.com/docs/howto/walkthrough/automated-survey/java/spring"> Automated Survey with Java and Spring </a> </li> 
             <li> <a href="https://www.twilio.com/docs/howto/walkthrough/appointment-reminders/java/spark"> Appointment Reminders with Java and Spark </a> </li> 
            </ul> 
           </ul> </li> 
         </ul> 
         <div id="test-element"></div> 
        </div> 
       </div> 
       <div class="nav-collapser"> 
        <div class="nav-collapser-fixed"> 
         <a data-collapser-action="collapse" class="collapse"> <i class="fa fa-chevron-left" aria-hidden="true"></i> </a> 
         <a data-collapser-action="expand" class="expand hidden"> <i class="fa fa-chevron-right" aria-hidden="true"></i> </a> 
        </div> 
        <div class="nav-collapser-absolute hidden"> 
         <a data-collapser-action="collapse" class="collapse"> <i class="fa fa-chevron-left" aria-hidden="true"></i> </a> 
         <a data-collapser-action="expand" class="expand hidden"> <i class="fa fa-chevron-right" aria-hidden="true"></i> </a> 
        </div> 
       </div> 
      </div> 
     </div> 
     <div class="primary-column
        "> 
      <div class="docs-prose"> 
       <h1 class="page-title "> SMS and MMS Notifications with Java and Spring </h1> 
       <div class="by-line"> 
        <div class="authors-body"> 
         <div class="author"> 
          <img src="https://www.gravatar.com/avatar/bbf0ef8570078f3b334e386c4f9dd8bf?d=mm&amp;s=50" title="Agustin Camino" alt="Agustin Camino"> Agustin Camino 
         </div> 
        </div> 
        <div class="publication-date">
          Published on April 17, 2017 
        </div> 
       </div> 
       <div class="tutorial-code-cta" align="center"> 
        <a class="button rounded outline blue" href="https://github.com/TwilioDevEd/server-notifications-spring/archive/master.zip"> Download the Code </a> 
        <select class="button dropdown outline blue" onchange="window.location.href=this.value"> <option value="">Select a Different Language ?</option> <option value="/docs/tutorials/server-notifications-python-django"> Python: Django </option> <option value="/docs/tutorials/server-notifications-node-express"> Node.js: Express </option> <option value="/docs/tutorials/server-notifications-csharp-mvc"> C#: ASP.NET MVC </option> <option value="/docs/tutorials/server-notifications-ruby-rails"> Ruby: Rails </option> <option value="/docs/tutorials/server-notifications-java-spark"> Java: Spark </option> <option value="/docs/tutorials/server-notifications-ruby-sinatra"> Ruby: Sinatra </option> <option value="/docs/tutorials/server-notifications-php-laravel"> PHP: Laravel </option> <option value="/docs/tutorials/server-notifications-java-servlets"> Java: Servlets </option> <option value="/docs/tutorials/server-notifications-java-spring"> Java: Spring </option> <option value="/docs/tutorials/server-notifications-php"> PHP: Laravel </option> </select> 
       </div> 
       <div class="block-rich_text "> 
        <div class="rich-text">
         <p>Today we'll build a Java and&nbsp;<a href="https://spring.io/">Spring</a> sample application which demonstrates how to push&nbsp;SMS alerts on server exceptions. &nbsp;We'll show you how to automatically notify your server administrators when something goes wrong, and cover the plumbing that makes it happen.</p> 
         <p><em><a href="https://customers.twilio.com/178/emc/?utm_source=docs&amp;utm_campaign=docs_to_stories">See how EMC uses Twilio SMS to send IT alerts to 68,000 employees.</a></em></p> 
         <p>Let's get started!</p> 
         <p>Click the button below to move to the next step of the tutorial.</p>
        </div> 
       </div> 
       <div class="block-next_step "> 
        <a href="#"> Spring to It <i class="fa fa-fw fa-chevron-down"></i> </a> 
       </div> 
       <div class="block-rich_text uk-hidden"> 
        <div class="rich-text">
         <h2 id="list-the-server-administrators-or-whomever-else-to-notify"><a class="toclink" href="#list-the-server-administrators-or-whomever-else-to-notify">List the Server Administrators - or Whomever Else - to Notify</a></h2> 
         <p>Here we create a JSON list of administrators and whomever else should be notified if a server exception&nbsp;occurs.</p> 
         <p>The only essential piece of data we need is a <code>phoneNumber</code> for each person.</p>
        </div> 
       </div> 
       <div class="block-code_sample uk-hidden"> 
        <div class="md-code-sample" id="code-json-administrator-list" data-title="JSON Administrator list" data-pref="server"> 
         <div class="inline-mode"> 
          <div id="coderail" class="code-rail code-rail-inline"> 
           <div class="rail-placeholder"></div> 
           <div class="rail-header uk-hidden"> 
            <div class="rail-header-wrapper"> 
             <div class="rail-title"> 
              <div class="title-content inner"> 
               <span>Loading Code Samples...</span> 
              </div> 
             </div> 
             <div class="rail-current-language"> 
              <div class="inner"> 
               <span>Language</span> 
               <i class="fa fa-fw fa-chevron-down"></i> 
              </div> 
             </div> 
            </div> 
           </div> 
           <div class="rail-toolbar uk-hidden"> 
            <div class="toolbar"> 
             <a href="#code" class="uk-hidden tab" data-code>Code</a> 
             <a href="#output" class="uk-hidden inactive" data-output>Output</a> 
             <span class="separator"></span> 
             <a id="download" class="uk-hidden"> <i class="fa fa-fw fa-download"></i> <span>Download Project</span> </a> 
             <a id="github" class="uk-hidden" target="_blank"> <i class="fa fa-fw fa-github-square"></i> <span>View on GitHub</span> </a> 
             <a id="defrosty" class="fr-on" href="#defrosty"> <i class="fa fa-fw fa-eye"></i> <span class="wider-tooltip">Toggle Highlighted Lines</span> </a> 
             <a id="clippy" href="#copy"> <i class="fa fa-fw fa-copy"></i> <span>Copy to Clipboard</span> </a> 
             <a id="linkcode" href="#linkcode"> <i class="fa fa-fw fa-link"></i> <span>Link to this Code</span> </a> 
             <a href="#expand" data-expand> <i class="fa fa-fw fa-arrows-alt"></i> <span>Full Screen</span> </a> 
             <a href="#collapse" class="uk-hidden" data-collapse> <i class="fa fa-fw fa-compress"></i> <span>Normal Size</span> </a> 
            </div> 
           </div> 
           <div class="rail-samples"> 
            <ul> 
             <li> <a href="#code-json-administrator-list"> JSON Administrator list </a> </li> 
            </ul> 
           </div> 
           <div class="rail-languages"></div> 
           <div class="rail-content"> 
            <div class="rail-content-inner"> 
             <div data-sample-title="JSON Administrator list" data-sample="code-json-administrator-list" data-pref="server" data-download-url="https://github.com/TwilioDevEd/server-notifications-spring/archive/master.zip" data-github-url="https://github.com/TwilioDevEd/server-notifications-spring/blob/master/src/main/resources/administrators.json" data-sample-id="1448" class="code-sample"> 
              <div class="sample-language-data" style="display:none;"> 
               <select> <option value="json">JSON</option> </select> 
              </div> 
              <div class="snippet-container"> 
               <pre data-ext="json" data-version="default" data-filename="" class="codehilite"><code><span class="code-line"><span class="p">[</span> </span><span class="code-line"> <span class="p">{</span> </span><span class="code-line"> <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"Bob"</span><span class="p">,</span> </span><span class="code-line"> <span class="nt">"phoneNumber"</span><span class="p">:</span> <span class="s2">"+12025550197"</span> </span><span class="code-line"> <span class="p">},</span> </span><span class="code-line"> <span class="p">{</span> </span><span class="code-line"> <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"Alice"</span><span class="p">,</span> </span><span class="code-line"> <span class="nt">"phoneNumber"</span><span class="p">:</span> <span class="s2">"+5213321678083"</span> </span><span class="code-line"> <span class="p">}</span> </span><span class="code-line"><span class="p">]</span> </span></code></pre> 
              </div> 
              <div class="output-snippet-container"> 
              </div> 
             </div> 
            </div> 
           </div> 
          </div> 
          <div class="rail-caption">
            src/main/resources/administrators.json 
          </div> 
         </div> 
         <div class="button-mode"> 
          <h5 class="title"> <i class="fa fa-fw fa-code"></i> JSON Administrator list </h5> 
          <p>src/main/resources/administrators.json</p> 
          <div class="active-tail"></div> 
         </div> 
        </div> 
       </div> 
       <div class="block-rich_text uk-hidden"> 
        <div class="rich-text">
         <p>Next, let's&nbsp;take a look at how to configure&nbsp;the Twilio REST client.</p>
        </div> 
       </div> 
       <div class="block-next_step uk-hidden"> 
        <a href="#"> Set that Client Up <i class="fa fa-fw fa-chevron-down"></i> </a> 
       </div> 
       <div class="block-rich_text uk-hidden"> 
        <div class="rich-text">
         <h2 id="configuring-the-twilio-rest-client"><a class="toclink" href="#configuring-the-twilio-rest-client">Configuring the Twilio REST Client</a></h2> 
         <p>To send a message we'll need to initialize the <code>TwilioRestClient</code>&nbsp;as documented in the&nbsp;<a href="../../../../../java/install">Twilio Java Helper Library</a>. It requires reading a&nbsp;<code>TWILIO_ACCOUNT_SID</code> and <code>TWILIO_AUTH_TOKEN</code> from <a href="https://www.twilio.com/blog/2017/01/how-to-set-environment-variables.html">environment variables</a>.</p> 
         <p>The values for your Account SID and Authorization Token will come directly from <a href="https://twilio.com/console">the Twilio console</a>:</p> 
         <p><img alt="Twilio Account Summary section of the console" class="richtext-image full-width" height="147" src="https://s3.amazonaws.com/com.twilio.prod.twilio-docs/images/twilio_account_summary_snap.width-800.png" width="344"></p> 
         <p>Click the eyeball icon to expose your Auth Token in&nbsp;a form you can copy and paste.</p>
        </div> 
       </div> 
       <div class="block-code_sample uk-hidden"> 
        <div class="md-code-sample" id="code-configure-twilio-client" data-title="Configure Twilio Client" data-pref="server"> 
         <div class="inline-mode"> 
          <div id="coderail" class="code-rail code-rail-inline"> 
           <div class="rail-placeholder"></div> 
           <div class="rail-header uk-hidden"> 
            <div class="rail-header-wrapper"> 
             <div class="rail-title"> 
              <div class="title-content inner"> 
               <span>Loading Code Samples...</span> 
              </div> 
             </div> 
             <div class="rail-current-language"> 
              <div class="inner"> 
               <span>Language</span> 
               <i class="fa fa-fw fa-chevron-down"></i> 
              </div> 
             </div> 
            </div> 
           </div> 
           <div class="rail-toolbar uk-hidden"> 
            <div class="toolbar"> 
             <a href="#code" class="uk-hidden tab" data-code>Code</a> 
             <a href="#output" class="uk-hidden inactive" data-output>Output</a> 
             <span class="separator"></span> 
             <a id="download" class="uk-hidden"> <i class="fa fa-fw fa-download"></i> <span>Download Project</span> </a> 
             <a id="github" class="uk-hidden" target="_blank"> <i class="fa fa-fw fa-github-square"></i> <span>View on GitHub</span> </a> 
             <a id="defrosty" class="fr-on" href="#defrosty"> <i class="fa fa-fw fa-eye"></i> <span class="wider-tooltip">Toggle Highlighted Lines</span> </a> 
             <a id="clippy" href="#copy"> <i class="fa fa-fw fa-copy"></i> <span>Copy to Clipboard</span> </a> 
             <a id="linkcode" href="#linkcode"> <i class="fa fa-fw fa-link"></i> <span>Link to this Code</span> </a> 
             <a href="#expand" data-expand> <i class="fa fa-fw fa-arrows-alt"></i> <span>Full Screen</span> </a> 
             <a href="#collapse" class="uk-hidden" data-collapse> <i class="fa fa-fw fa-compress"></i> <span>Normal Size</span> </a> 
            </div> 
           </div> 
           <div class="rail-samples"> 
            <ul> 
             <li> <a href="#code-configure-twilio-client"> Configure Twilio Client </a> </li> 
            </ul> 
           </div> 
           <div class="rail-languages"></div> 
           <div class="rail-content"> 
            <div class="rail-content-inner"> 
             <div data-sample-title="Configure Twilio Client" data-sample="code-configure-twilio-client" data-pref="server" data-download-url="https://github.com/TwilioDevEd/server-notifications-spring/archive/master.zip" data-github-url="https://github.com/TwilioDevEd/server-notifications-spring/blob/master/src/main/java/com/twilio/notifications/domain/twilio/Client.java" data-sample-id="1449" class="code-sample"> 
              <div class="sample-language-data" style="display:none;"> 
               <select> <option value="java">Java</option> </select> 
              </div> 
              <div class="snippet-container"> 
               <pre data-ext="java" data-version="default" data-filename="" class="codehilite"><code><span class="code-line fr fr-on"><span class="kn">package</span> <span class="nn">com.twilio.notifications.domain.twilio</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">com.twilio.http.TwilioRestClient</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Client</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="kd">private</span> <span class="n">Credentials</span> <span class="n">credentials</span><span class="o">;</span> </span><span class="code-line fr fr-on"> <span class="kd">private</span> <span class="n">TwilioMessageCreator</span> <span class="n">messageCreator</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line hll fr-on"> <span class="kd">public</span> <span class="nf">Client</span><span class="o">()</span> <span class="o">{</span> </span><span class="code-line hll fr-on"> <span class="k">this</span><span class="o">.</span><span class="na">credentials</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Credentials</span><span class="o">();</span> </span><span class="code-line hll fr-on"> <span class="k">this</span><span class="o">.</span><span class="na">messageCreator</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TwilioMessageCreator</span><span class="o">(</span> </span><span class="code-line hll fr-on"> <span class="k">new</span> <span class="n">TwilioRestClient</span><span class="o">.</span><span class="na">Builder</span><span class="o">(</span><span class="n">credentials</span><span class="o">.</span><span class="na">getAccountSid</span><span class="o">(),</span> <span class="n">credentials</span><span class="o">.</span><span class="na">getAuthToken</span><span class="o">()).</span><span class="na">build</span><span class="o">()</span> </span><span class="code-line hll fr-on"> <span class="o">);</span> </span><span class="code-line hll fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"> <span class="kd">public</span> <span class="nf">Client</span><span class="o">(</span><span class="n">TwilioMessageCreator</span> <span class="n">messageCreator</span><span class="o">,</span> <span class="n">Credentials</span> <span class="n">credentials</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="k">this</span><span class="o">.</span><span class="na">credentials</span> <span class="o">=</span> <span class="n">credentials</span><span class="o">;</span> </span><span class="code-line fr fr-on"> <span class="k">this</span><span class="o">.</span><span class="na">messageCreator</span> <span class="o">=</span> <span class="n">messageCreator</span><span class="o">;</span> </span><span class="code-line fr fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">sendMessage</span><span class="o">(</span><span class="n">String</span> <span class="n">to</span><span class="o">,</span> <span class="n">String</span> <span class="n">message</span><span class="o">,</span> <span class="n">String</span> <span class="n">mediaUrl</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="n">messageCreator</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">to</span><span class="o">,</span> <span class="n">credentials</span><span class="o">.</span><span class="na">getPhoneNumber</span><span class="o">(),</span> <span class="n">message</span><span class="o">,</span> <span class="n">mediaUrl</span><span class="o">);</span> </span><span class="code-line fr fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"><span class="o">}</span> </span></code></pre> 
              </div> 
              <div class="output-snippet-container"> 
              </div> 
             </div> 
            </div> 
           </div> 
          </div> 
          <div class="rail-caption">
            src/main/java/com/twilio/notifications/domain/twilio/Client.java 
          </div> 
         </div> 
         <div class="button-mode"> 
          <h5 class="title"> <i class="fa fa-fw fa-code"></i> Configure Twilio Client </h5> 
          <p>src/main/java/com/twilio/notifications/domain/twilio/Client.java</p> 
          <div class="active-tail"></div> 
         </div> 
        </div> 
       </div> 
       <div class="block-rich_text uk-hidden"> 
        <div class="rich-text">
         <p>Next, we will see how to handle application exceptions and add in our new functionality.</p>
        </div> 
       </div> 
       <div class="block-next_step uk-hidden"> 
        <a href="#"> Next <i class="fa fa-fw fa-chevron-down"></i> </a> 
       </div> 
       <div class="block-rich_text uk-hidden"> 
        <div class="rich-text">
         <h2 id="handling-the-application-exceptions"><a class="toclink" href="#handling-the-application-exceptions">Handling the Application Exceptions</a></h2> 
         <p>Spring MVC provides <a href="https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc">several techniques to handle errors</a> but in this case we are interested in handling all our application exceptions on our own.</p> 
         <p>For catching everything, we can use <a href="https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc#global-exception-handling">Global Exception Handling</a>.</p>
        </div> 
       </div> 
       <div class="block-code_sample uk-hidden"> 
        <div class="md-code-sample" id="code-catch-all-exceptions-in-spring-with-a-global-exception-controller" data-title="Catch all exceptions in Spring with a Global Exception Controller" data-pref="server"> 
         <div class="inline-mode"> 
          <div id="coderail" class="code-rail code-rail-inline"> 
           <div class="rail-placeholder"></div> 
           <div class="rail-header uk-hidden"> 
            <div class="rail-header-wrapper"> 
             <div class="rail-title"> 
              <div class="title-content inner"> 
               <span>Loading Code Samples...</span> 
              </div> 
             </div> 
             <div class="rail-current-language"> 
              <div class="inner"> 
               <span>Language</span> 
               <i class="fa fa-fw fa-chevron-down"></i> 
              </div> 
             </div> 
            </div> 
           </div> 
           <div class="rail-toolbar uk-hidden"> 
            <div class="toolbar"> 
             <a href="#code" class="uk-hidden tab" data-code>Code</a> 
             <a href="#output" class="uk-hidden inactive" data-output>Output</a> 
             <span class="separator"></span> 
             <a id="download" class="uk-hidden"> <i class="fa fa-fw fa-download"></i> <span>Download Project</span> </a> 
             <a id="github" class="uk-hidden" target="_blank"> <i class="fa fa-fw fa-github-square"></i> <span>View on GitHub</span> </a> 
             <a id="defrosty" class="fr-on" href="#defrosty"> <i class="fa fa-fw fa-eye"></i> <span class="wider-tooltip">Toggle Highlighted Lines</span> </a> 
             <a id="clippy" href="#copy"> <i class="fa fa-fw fa-copy"></i> <span>Copy to Clipboard</span> </a> 
             <a id="linkcode" href="#linkcode"> <i class="fa fa-fw fa-link"></i> <span>Link to this Code</span> </a> 
             <a href="#expand" data-expand> <i class="fa fa-fw fa-arrows-alt"></i> <span>Full Screen</span> </a> 
             <a href="#collapse" class="uk-hidden" data-collapse> <i class="fa fa-fw fa-compress"></i> <span>Normal Size</span> </a> 
            </div> 
           </div> 
           <div class="rail-samples"> 
            <ul> 
             <li> <a href="#code-catch-all-exceptions-in-spring-with-a-global-exception-controller"> Catch all exceptions in Spring with a Global Exception Controller </a> </li> 
            </ul> 
           </div> 
           <div class="rail-languages"></div> 
           <div class="rail-content"> 
            <div class="rail-content-inner"> 
             <div data-sample-title="Catch all exceptions in Spring with a Global Exception Controller" data-sample="code-catch-all-exceptions-in-spring-with-a-global-exception-controller" data-pref="server" data-download-url="https://github.com/TwilioDevEd/server-notifications-spring/archive/master.zip" data-github-url="https://github.com/TwilioDevEd/server-notifications-spring/blob/master/src/main/java/com/twilio/notifications/controller/GlobalExceptionController.java" data-sample-id="1575" class="code-sample"> 
              <div class="sample-language-data" style="display:none;"> 
               <select> <option value="java">Java</option> </select> 
              </div> 
              <div class="snippet-container"> 
               <pre data-ext="java" data-version="default" data-filename="" class="codehilite"><code><span class="code-line fr fr-on"><span class="kn">package</span> <span class="nn">com.twilio.notifications.controller</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">com.twilio.notifications.domain.Administrator</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">com.twilio.notifications.domain.twilio.Client</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">com.twilio.notifications.service.AdministratorService</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.ControllerAdvice</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.ExceptionHandler</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.ResponseBody</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line hll fr-on"><span class="nd">@ControllerAdvice</span> </span><span class="code-line fr fr-on"><span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"UnusedDeclaration"</span><span class="o">)</span> </span><span class="code-line fr fr-on"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">GlobalExceptionController</span> <span class="o">{</span> </span><span class="code-line hll fr-on"> <span class="nd">@ExceptionHandler</span><span class="o">(</span><span class="n">Exception</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> </span><span class="code-line hll fr-on"> <span class="nd">@ResponseBody</span> </span><span class="code-line hll fr-on"> <span class="kd">public</span> <span class="n">String</span> <span class="nf">handleAllException</span><span class="o">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="n">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">customMessage</span><span class="o">(</span><span class="n">ex</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span> </span><span class="code-line fr fr-on"> <span class="n">String</span> <span class="n">mediaUrl</span> <span class="o">=</span> <span class="s">"http://goo.gl/ObTXdX"</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"> <span class="c1">// Send a message to the administrators when something goes unexpectedly wrong.</span> </span><span class="code-line fr fr-on"> <span class="n">Administrator</span><span class="o">[]</span> <span class="n">administrators</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AdministratorService</span><span class="o">().</span><span class="na">getAdministrators</span><span class="o">();</span> </span><span class="code-line fr fr-on"> <span class="k">for</span> <span class="o">(</span><span class="n">Administrator</span> <span class="n">administrator</span> <span class="o">:</span> <span class="n">administrators</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="k">new</span> <span class="n">Client</span><span class="o">().</span><span class="na">sendMessage</span><span class="o">(</span><span class="n">administrator</span><span class="o">.</span><span class="na">getPhoneNumber</span><span class="o">(),</span> <span class="n">message</span><span class="o">,</span> <span class="n">mediaUrl</span><span class="o">);</span> </span><span class="code-line fr fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"> <span class="k">return</span> <span class="s">"Something unexpected happened. Keep calm, administrators were notified."</span><span class="o">;</span> </span><span class="code-line hll fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"> <span class="kd">private</span> <span class="n">String</span> <span class="nf">customMessage</span><span class="o">(</span><span class="n">String</span> <span class="n">exceptionMessage</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="k">return</span> <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"It appears the server is having Exception: %s "</span> <span class="o">+</span> </span><span class="code-line fr fr-on"> <span class="s">"Go to: http://newrelic.com for more details. "</span> <span class="o">+</span> </span><span class="code-line fr fr-on"> <span class="s">"Image URL: http://goo.gl/ObTXdX"</span><span class="o">,</span> </span><span class="code-line fr fr-on"> <span class="n">exceptionMessage</span><span class="o">);</span> </span><span class="code-line fr fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"><span class="o">}</span> </span></code></pre> 
              </div> 
              <div class="output-snippet-container"> 
              </div> 
             </div> 
            </div> 
           </div> 
          </div> 
          <div class="rail-caption">
            src/main/java/com/twilio/notifications/controller/GlobalExceptionController.java 
          </div> 
         </div> 
         <div class="button-mode"> 
          <h5 class="title"> <i class="fa fa-fw fa-code"></i> Catch all exceptions in Spring with a Global Exception Controller </h5> 
          <p>src/main/java/com/twilio/notifications/controller/GlobalExceptionController.java</p> 
          <div class="active-tail"></div> 
         </div> 
        </div> 
       </div> 
       <div class="block-rich_text uk-hidden"> 
        <div class="rich-text">
         <p>Next up, let's see how to create a custom message.</p>
        </div> 
       </div> 
       <div class="block-next_step uk-hidden"> 
        <a href="#"> Next <i class="fa fa-fw fa-chevron-down"></i> </a> 
       </div> 
       <div class="block-rich_text uk-hidden"> 
        <div class="rich-text">
         <h2 id="creating-a-custom-alert-message"><a class="toclink" href="#creating-a-custom-alert-message">Creating a Custom Alert Message</a></h2> 
         <p>Here we craft the perfect&nbsp;alert message to send out via text message.</p> 
         <p>You might also decide to include a picture with your exception handling&nbsp;message. Perhaps a screenshot of the application when the crash happened? &nbsp;Some infographics from somewhere?</p>
        </div> 
       </div> 
       <div class="block-code_sample uk-hidden"> 
        <div class="md-code-sample" id="code-custom-exception-message" data-title="Custom exception message" data-pref="server"> 
         <div class="inline-mode"> 
          <div id="coderail" class="code-rail code-rail-inline"> 
           <div class="rail-placeholder"></div> 
           <div class="rail-header uk-hidden"> 
            <div class="rail-header-wrapper"> 
             <div class="rail-title"> 
              <div class="title-content inner"> 
               <span>Loading Code Samples...</span> 
              </div> 
             </div> 
             <div class="rail-current-language"> 
              <div class="inner"> 
               <span>Language</span> 
               <i class="fa fa-fw fa-chevron-down"></i> 
              </div> 
             </div> 
            </div> 
           </div> 
           <div class="rail-toolbar uk-hidden"> 
            <div class="toolbar"> 
             <a href="#code" class="uk-hidden tab" data-code>Code</a> 
             <a href="#output" class="uk-hidden inactive" data-output>Output</a> 
             <span class="separator"></span> 
             <a id="download" class="uk-hidden"> <i class="fa fa-fw fa-download"></i> <span>Download Project</span> </a> 
             <a id="github" class="uk-hidden" target="_blank"> <i class="fa fa-fw fa-github-square"></i> <span>View on GitHub</span> </a> 
             <a id="defrosty" class="fr-on" href="#defrosty"> <i class="fa fa-fw fa-eye"></i> <span class="wider-tooltip">Toggle Highlighted Lines</span> </a> 
             <a id="clippy" href="#copy"> <i class="fa fa-fw fa-copy"></i> <span>Copy to Clipboard</span> </a> 
             <a id="linkcode" href="#linkcode"> <i class="fa fa-fw fa-link"></i> <span>Link to this Code</span> </a> 
             <a href="#expand" data-expand> <i class="fa fa-fw fa-arrows-alt"></i> <span>Full Screen</span> </a> 
             <a href="#collapse" class="uk-hidden" data-collapse> <i class="fa fa-fw fa-compress"></i> <span>Normal Size</span> </a> 
            </div> 
           </div> 
           <div class="rail-samples"> 
            <ul> 
             <li> <a href="#code-custom-exception-message"> Custom exception message </a> </li> 
            </ul> 
           </div> 
           <div class="rail-languages"></div> 
           <div class="rail-content"> 
            <div class="rail-content-inner"> 
             <div data-sample-title="Custom exception message" data-sample="code-custom-exception-message" data-pref="server" data-download-url="https://github.com/TwilioDevEd/server-notifications-spring/archive/master.zip" data-github-url="https://github.com/TwilioDevEd/server-notifications-spring/blob/master/src/main/java/com/twilio/notifications/controller/GlobalExceptionController.java" data-sample-id="1575" class="code-sample"> 
              <div class="sample-language-data" style="display:none;"> 
               <select> <option value="java">Java</option> </select> 
              </div> 
              <div class="snippet-container"> 
               <pre data-ext="java" data-version="default" data-filename="" class="codehilite"><code><span class="code-line fr fr-on"><span class="kn">package</span> <span class="nn">com.twilio.notifications.controller</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">com.twilio.notifications.domain.Administrator</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">com.twilio.notifications.domain.twilio.Client</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">com.twilio.notifications.service.AdministratorService</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.ControllerAdvice</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.ExceptionHandler</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.ResponseBody</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"><span class="nd">@ControllerAdvice</span> </span><span class="code-line fr fr-on"><span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"UnusedDeclaration"</span><span class="o">)</span> </span><span class="code-line fr fr-on"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">GlobalExceptionController</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="nd">@ExceptionHandler</span><span class="o">(</span><span class="n">Exception</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> </span><span class="code-line fr fr-on"> <span class="nd">@ResponseBody</span> </span><span class="code-line fr fr-on"> <span class="kd">public</span> <span class="n">String</span> <span class="nf">handleAllException</span><span class="o">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="n">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">customMessage</span><span class="o">(</span><span class="n">ex</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span> </span><span class="code-line fr fr-on"> <span class="n">String</span> <span class="n">mediaUrl</span> <span class="o">=</span> <span class="s">"http://goo.gl/ObTXdX"</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"> <span class="c1">// Send a message to the administrators when something goes unexpectedly wrong.</span> </span><span class="code-line fr fr-on"> <span class="n">Administrator</span><span class="o">[]</span> <span class="n">administrators</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AdministratorService</span><span class="o">().</span><span class="na">getAdministrators</span><span class="o">();</span> </span><span class="code-line fr fr-on"> <span class="k">for</span> <span class="o">(</span><span class="n">Administrator</span> <span class="n">administrator</span> <span class="o">:</span> <span class="n">administrators</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="k">new</span> <span class="n">Client</span><span class="o">().</span><span class="na">sendMessage</span><span class="o">(</span><span class="n">administrator</span><span class="o">.</span><span class="na">getPhoneNumber</span><span class="o">(),</span> <span class="n">message</span><span class="o">,</span> <span class="n">mediaUrl</span><span class="o">);</span> </span><span class="code-line fr fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"> <span class="k">return</span> <span class="s">"Something unexpected happened. Keep calm, administrators were notified."</span><span class="o">;</span> </span><span class="code-line fr fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"> </span><span class="code-line hll fr-on"> <span class="kd">private</span> <span class="n">String</span> <span class="nf">customMessage</span><span class="o">(</span><span class="n">String</span> <span class="n">exceptionMessage</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line hll fr-on"> <span class="k">return</span> <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"It appears the server is having Exception: %s "</span> <span class="o">+</span> </span><span class="code-line hll fr-on"> <span class="s">"Go to: http://newrelic.com for more details. "</span> <span class="o">+</span> </span><span class="code-line hll fr-on"> <span class="s">"Image URL: http://goo.gl/ObTXdX"</span><span class="o">,</span> </span><span class="code-line hll fr-on"> <span class="n">exceptionMessage</span><span class="o">);</span> </span><span class="code-line hll fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"><span class="o">}</span> </span></code></pre> 
              </div> 
              <div class="output-snippet-container"> 
              </div> 
             </div> 
            </div> 
           </div> 
          </div> 
          <div class="rail-caption">
            src/main/java/com/twilio/notifications/controller/GlobalExceptionController.java 
          </div> 
         </div> 
         <div class="button-mode"> 
          <h5 class="title"> <i class="fa fa-fw fa-code"></i> Custom exception message </h5> 
          <p>src/main/java/com/twilio/notifications/controller/GlobalExceptionController.java</p> 
          <div class="active-tail"></div> 
         </div> 
        </div> 
       </div> 
       <div class="block-rich_text uk-hidden"> 
        <div class="rich-text">
         <p>Let's look at&nbsp;how to load the list of lucky administrators.</p>
        </div> 
       </div> 
       <div class="block-next_step uk-hidden"> 
        <a href="#"> Load the Lucky Administrator List <i class="fa fa-fw fa-chevron-down"></i> </a> 
       </div> 
       <div class="block-rich_text uk-hidden"> 
        <div class="rich-text">
         <h2 id="reading-the-administrators-from-the-json-file"><a class="toclink" href="#reading-the-administrators-from-the-json-file">Reading the Administrators from the JSON File</a></h2> 
         <p>Next we read the admins (and the other lucky folks) from our JSON file.</p> 
         <p>We use&nbsp;the <a href="https://github.com/google/gson">Gson</a> Java library to convert our JSON text file into <code>Administrator</code> objects&nbsp;from our application.</p>
        </div> 
       </div> 
       <div class="block-code_sample uk-hidden"> 
        <div class="md-code-sample" id="code-read-the-administrators-from-the-json-file" data-title="Read the administrators from the JSON File" data-pref="server"> 
         <div class="inline-mode"> 
          <div id="coderail" class="code-rail code-rail-inline"> 
           <div class="rail-placeholder"></div> 
           <div class="rail-header uk-hidden"> 
            <div class="rail-header-wrapper"> 
             <div class="rail-title"> 
              <div class="title-content inner"> 
               <span>Loading Code Samples...</span> 
              </div> 
             </div> 
             <div class="rail-current-language"> 
              <div class="inner"> 
               <span>Language</span> 
               <i class="fa fa-fw fa-chevron-down"></i> 
              </div> 
             </div> 
            </div> 
           </div> 
           <div class="rail-toolbar uk-hidden"> 
            <div class="toolbar"> 
             <a href="#code" class="uk-hidden tab" data-code>Code</a> 
             <a href="#output" class="uk-hidden inactive" data-output>Output</a> 
             <span class="separator"></span> 
             <a id="download" class="uk-hidden"> <i class="fa fa-fw fa-download"></i> <span>Download Project</span> </a> 
             <a id="github" class="uk-hidden" target="_blank"> <i class="fa fa-fw fa-github-square"></i> <span>View on GitHub</span> </a> 
             <a id="defrosty" class="fr-on" href="#defrosty"> <i class="fa fa-fw fa-eye"></i> <span class="wider-tooltip">Toggle Highlighted Lines</span> </a> 
             <a id="clippy" href="#copy"> <i class="fa fa-fw fa-copy"></i> <span>Copy to Clipboard</span> </a> 
             <a id="linkcode" href="#linkcode"> <i class="fa fa-fw fa-link"></i> <span>Link to this Code</span> </a> 
             <a href="#expand" data-expand> <i class="fa fa-fw fa-arrows-alt"></i> <span>Full Screen</span> </a> 
             <a href="#collapse" class="uk-hidden" data-collapse> <i class="fa fa-fw fa-compress"></i> <span>Normal Size</span> </a> 
            </div> 
           </div> 
           <div class="rail-samples"> 
            <ul> 
             <li> <a href="#code-read-the-administrators-from-the-json-file"> Read the administrators from the JSON File </a> </li> 
            </ul> 
           </div> 
           <div class="rail-languages"></div> 
           <div class="rail-content"> 
            <div class="rail-content-inner"> 
             <div data-sample-title="Read the administrators from the JSON File" data-sample="code-read-the-administrators-from-the-json-file" data-pref="server" data-download-url="https://github.com/TwilioDevEd/server-notifications-spring/archive/master.zip" data-github-url="https://github.com/TwilioDevEd/server-notifications-spring/blob/master/src/main/java/com/twilio/notifications/service/AdministratorService.java" data-sample-id="1576" class="code-sample"> 
              <div class="sample-language-data" style="display:none;"> 
               <select> <option value="java">Java</option> </select> 
              </div> 
              <div class="snippet-container"> 
               <pre data-ext="java" data-version="default" data-filename="" class="codehilite"><code><span class="code-line fr fr-on"><span class="kn">package</span> <span class="nn">com.twilio.notifications.service</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">com.google.gson.Gson</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">com.twilio.notifications.domain.Administrator</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">org.springframework.stereotype.Service</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">java.io.FileNotFoundException</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">java.io.FileReader</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"><span class="nd">@Service</span> </span><span class="code-line fr fr-on"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">AdministratorService</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="kd">private</span> <span class="n">String</span> <span class="n">filePath</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"> <span class="kd">public</span> <span class="nf">AdministratorService</span><span class="o">()</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="k">this</span><span class="o">.</span><span class="na">filePath</span> <span class="o">=</span> <span class="n">getClass</span><span class="o">().</span><span class="na">getClassLoader</span><span class="o">().</span><span class="na">getResource</span><span class="o">(</span><span class="s">"administrators.json"</span><span class="o">).</span><span class="na">getPath</span><span class="o">();</span> </span><span class="code-line fr fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"> <span class="kd">public</span> <span class="nf">AdministratorService</span><span class="o">(</span><span class="n">String</span> <span class="n">filePath</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="k">this</span><span class="o">.</span><span class="na">filePath</span> <span class="o">=</span> <span class="n">filePath</span><span class="o">;</span> </span><span class="code-line fr fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"> <span class="kd">public</span> <span class="n">Administrator</span><span class="o">[]</span> <span class="nf">getAdministrators</span><span class="o">()</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="k">try</span> <span class="o">{</span> </span><span class="code-line hll fr-on"> <span class="k">return</span> <span class="k">new</span> <span class="n">Gson</span><span class="o">().</span><span class="na">fromJson</span><span class="o">(</span><span class="k">new</span> <span class="n">FileReader</span><span class="o">(</span><span class="n">filePath</span><span class="o">),</span> <span class="n">Administrator</span><span class="o">[].</span><span class="na">class</span><span class="o">);</span> </span><span class="code-line fr fr-on"> <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">FileNotFoundException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"> <span class="k">return</span> <span class="k">new</span> <span class="n">Administrator</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span> </span><span class="code-line fr fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"><span class="o">}</span> </span></code></pre> 
              </div> 
              <div class="output-snippet-container"> 
              </div> 
             </div> 
            </div> 
           </div> 
          </div> 
          <div class="rail-caption">
            src/main/java/com/twilio/notifications/service/AdministratorService.java 
          </div> 
         </div> 
         <div class="button-mode"> 
          <h5 class="title"> <i class="fa fa-fw fa-code"></i> Read the administrators from the JSON File </h5> 
          <p>src/main/java/com/twilio/notifications/service/AdministratorService.java</p> 
          <div class="active-tail"></div> 
         </div> 
        </div> 
       </div> 
       <div class="block-rich_text uk-hidden"> 
        <div class="rich-text">
         <p>Next up, let's look at how to send a text message.</p>
        </div> 
       </div> 
       <div class="block-next_step uk-hidden"> 
        <a href="#"> Send a Text Message <i class="fa fa-fw fa-chevron-down"></i> </a> 
       </div> 
       <div class="block-rich_text uk-hidden"> 
        <div class="rich-text">
         <h2 id="sending-a-text-message"><a class="toclink" href="#sending-a-text-message">Sending a Text Message</a></h2> 
         <p>There are three parameters needed to <a href="../../../../../quickstart/java/sms/sending-via-rest">send an SMS</a> using the <a href="../../../../../api/rest">Twilio REST API</a>: <code>From</code>, <code>To</code>, and <code>Body</code>.</p> 
         <p><a href="../../../../../help/faq/sms/is-mms-supported-for-all-carriers-in-us-and-canada">US and Canadian phone numbers</a> can also send an image with the message. &nbsp;Other countries can as well, but the image will be included in the message body as a shortened URL.</p>
        </div> 
       </div> 
       <div class="block-code_sample uk-hidden"> 
        <div class="md-code-sample" id="code-twiliomessagecreator-wrapper-class" data-title="TwilioMessageCreator wrapper class" data-pref="server"> 
         <div class="inline-mode"> 
          <div id="coderail" class="code-rail code-rail-inline"> 
           <div class="rail-placeholder"></div> 
           <div class="rail-header uk-hidden"> 
            <div class="rail-header-wrapper"> 
             <div class="rail-title"> 
              <div class="title-content inner"> 
               <span>Loading Code Samples...</span> 
              </div> 
             </div> 
             <div class="rail-current-language"> 
              <div class="inner"> 
               <span>Language</span> 
               <i class="fa fa-fw fa-chevron-down"></i> 
              </div> 
             </div> 
            </div> 
           </div> 
           <div class="rail-toolbar uk-hidden"> 
            <div class="toolbar"> 
             <a href="#code" class="uk-hidden tab" data-code>Code</a> 
             <a href="#output" class="uk-hidden inactive" data-output>Output</a> 
             <span class="separator"></span> 
             <a id="download" class="uk-hidden"> <i class="fa fa-fw fa-download"></i> <span>Download Project</span> </a> 
             <a id="github" class="uk-hidden" target="_blank"> <i class="fa fa-fw fa-github-square"></i> <span>View on GitHub</span> </a> 
             <a id="defrosty" class="fr-on" href="#defrosty"> <i class="fa fa-fw fa-eye"></i> <span class="wider-tooltip">Toggle Highlighted Lines</span> </a> 
             <a id="clippy" href="#copy"> <i class="fa fa-fw fa-copy"></i> <span>Copy to Clipboard</span> </a> 
             <a id="linkcode" href="#linkcode"> <i class="fa fa-fw fa-link"></i> <span>Link to this Code</span> </a> 
             <a href="#expand" data-expand> <i class="fa fa-fw fa-arrows-alt"></i> <span>Full Screen</span> </a> 
             <a href="#collapse" class="uk-hidden" data-collapse> <i class="fa fa-fw fa-compress"></i> <span>Normal Size</span> </a> 
            </div> 
           </div> 
           <div class="rail-samples"> 
            <ul> 
             <li> <a href="#code-twiliomessagecreator-wrapper-class"> TwilioMessageCreator wrapper class </a> </li> 
            </ul> 
           </div> 
           <div class="rail-languages"></div> 
           <div class="rail-content"> 
            <div class="rail-content-inner"> 
             <div data-sample-title="TwilioMessageCreator wrapper class" data-sample="code-twiliomessagecreator-wrapper-class" data-pref="server" data-download-url="https://github.com/TwilioDevEd/server-notifications-spring/archive/master.zip" data-github-url="https://github.com/TwilioDevEd/server-notifications-spring/blob/master/src/main/java/com/twilio/notifications/domain/twilio/TwilioMessageCreator.java" data-sample-id="1577" class="code-sample"> 
              <div class="sample-language-data" style="display:none;"> 
               <select> <option value="java">Java</option> </select> 
              </div> 
              <div class="snippet-container"> 
               <pre data-ext="java" data-version="default" data-filename="" class="codehilite"><code><span class="code-line"><span class="kn">package</span> <span class="nn">com.twilio.notifications.domain.twilio</span><span class="o">;</span> </span><span class="code-line"> </span><span class="code-line"><span class="kn">import</span> <span class="nn">com.twilio.exception.TwilioException</span><span class="o">;</span> </span><span class="code-line"><span class="kn">import</span> <span class="nn">com.twilio.http.TwilioRestClient</span><span class="o">;</span> </span><span class="code-line"><span class="kn">import</span> <span class="nn">com.twilio.rest.api.v2010.account.Message</span><span class="o">;</span> </span><span class="code-line"><span class="kn">import</span> <span class="nn">com.twilio.rest.api.v2010.account.MessageCreator</span><span class="o">;</span> </span><span class="code-line"><span class="kn">import</span> <span class="nn">com.twilio.type.PhoneNumber</span><span class="o">;</span> </span><span class="code-line"><span class="kn">import</span> <span class="nn">org.slf4j.Logger</span><span class="o">;</span> </span><span class="code-line"><span class="kn">import</span> <span class="nn">org.slf4j.LoggerFactory</span><span class="o">;</span> </span><span class="code-line"> </span><span class="code-line"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TwilioMessageCreator</span> <span class="o">{</span> </span><span class="code-line"> </span><span class="code-line"> <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Logger</span> <span class="n">logger</span> <span class="o">=</span> <span class="n">LoggerFactory</span><span class="o">.</span><span class="na">getLogger</span><span class="o">(</span><span class="n">TwilioMessageCreator</span><span class="o">.</span><span class="na">class</span><span class="o">);</span> </span><span class="code-line"> <span class="kd">private</span> <span class="kd">final</span> <span class="n">TwilioRestClient</span> <span class="n">client</span><span class="o">;</span> </span><span class="code-line"> </span><span class="code-line"> <span class="kd">public</span> <span class="nf">TwilioMessageCreator</span><span class="o">(</span><span class="n">TwilioRestClient</span> <span class="n">client</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line"> <span class="k">this</span><span class="o">.</span><span class="na">client</span> <span class="o">=</span> <span class="n">client</span><span class="o">;</span> </span><span class="code-line"> <span class="o">}</span> </span><span class="code-line"> </span><span class="code-line"> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">create</span><span class="o">(</span><span class="n">String</span> <span class="n">to</span><span class="o">,</span> <span class="n">String</span> <span class="n">from</span><span class="o">,</span> <span class="n">String</span> <span class="n">body</span><span class="o">,</span> <span class="n">String</span> <span class="n">mediaUrl</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line"> <span class="n">MessageCreator</span> <span class="n">messageCreator</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MessageCreator</span><span class="o">(</span> </span><span class="code-line"> <span class="k">new</span> <span class="n">PhoneNumber</span><span class="o">(</span><span class="n">to</span><span class="o">),</span> </span><span class="code-line"> <span class="k">new</span> <span class="n">PhoneNumber</span><span class="o">(</span><span class="n">from</span><span class="o">),</span> </span><span class="code-line"> <span class="n">body</span><span class="o">);</span> </span><span class="code-line"> <span class="n">messageCreator</span><span class="o">.</span><span class="na">setMediaUrl</span><span class="o">(</span><span class="n">mediaUrl</span><span class="o">);</span> </span><span class="code-line"> <span class="k">try</span> <span class="o">{</span> </span><span class="code-line"> <span class="n">messageCreator</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">client</span><span class="o">);</span> </span><span class="code-line"> <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">TwilioException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line"> <span class="n">logger</span><span class="o">.</span><span class="na">error</span><span class="o">(</span> </span><span class="code-line"> <span class="s">"An exception occurred trying to send a message to {}, exception: {}"</span><span class="o">,</span> </span><span class="code-line"> <span class="n">to</span><span class="o">,</span> </span><span class="code-line"> <span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span> </span><span class="code-line"> <span class="o">}</span> </span><span class="code-line"> <span class="o">}</span> </span><span class="code-line"><span class="o">}</span> </span></code></pre> 
              </div> 
              <div class="output-snippet-container"> 
              </div> 
             </div> 
            </div> 
           </div> 
          </div> 
          <div class="rail-caption">
            src/main/java/com/twilio/notifications/domain/twilio/TwilioMessageCreator.java 
          </div> 
         </div> 
         <div class="button-mode"> 
          <h5 class="title"> <i class="fa fa-fw fa-code"></i> TwilioMessageCreator wrapper class </h5> 
          <p>src/main/java/com/twilio/notifications/domain/twilio/TwilioMessageCreator.java</p> 
          <div class="active-tail"></div> 
         </div> 
        </div> 
       </div> 
       <div class="block-rich_text uk-hidden"> 
        <div class="rich-text">
         <p>That's all, folks!&nbsp;</p> 
         <p>We've just implemented an automated server notification system in Java and Spring that&nbsp;notifies all the right people when exceptions inevitably occur.</p> 
         <p>Now let's look at some other common features that are easy to add with the Java SDK.</p>
        </div> 
       </div> 
       <div class="block-next_step uk-hidden"> 
        <a href="#"> Spring has Sprung; Grow Some New Features <i class="fa fa-fw fa-chevron-down"></i> </a> 
       </div> 
       <div class="block-rich_text uk-hidden"> 
        <div class="rich-text">
         <h2 id="where-to-next"><a class="toclink" href="#where-to-next">Where to Next?</a></h2> 
         <p>If you're a Java developer working with Twilio, you might want to check out these other tutorials.</p> 
         <p><a href="../../../../../howto/walkthrough/automated-survey/java/spring"><strong>Automated Survey</strong></a></p> 
         <p>Don't let that valuable marketing data slip away! &nbsp;Instantly collect structured data from your users with a survey conducted over a voice call or SMSes.</p> 
         <p><a href="../../../../../howto/walkthrough/appointment-reminders/java/spark"><strong>Appointment Reminders</strong></a></p> 
         <p>Prevent no-shows by building an awesome Twilio-powered appointment reminder feature into your application.</p> 
         <p><strong>Did this help?</strong></p> 
         <p>Thanks for checking out this tutorial!</p> 
         <p>Tweet to us&nbsp;<a href="https://twitter.com/twilio">@twilio</a>&nbsp;and let us know how it went, or what you're building next!</p>
        </div> 
       </div> 
       <div class="contributors"> 
        <div class="contributors-body"> 
         <div class="contributor"> 
          <label>Contributors:</label> 
          <img src="https://www.gravatar.com/avatar/bbf0ef8570078f3b334e386c4f9dd8bf?d=mm&amp;s=50" title="Agustin Camino" alt="Agustin Camino"> 
         </div> 
         <div class="contributor"> 
          <img src="https://www.gravatar.com/avatar/560630d6945c6a8777533e7ea3b4e69b?d=mm&amp;s=50" title="David Prothero" alt="David Prothero"> 
         </div> 
         <div class="contributor"> 
          <img src="https://www.gravatar.com/avatar/7ff74e11de7b63c4ec66966b9cb75f63?d=mm&amp;s=50" title="Andrew Baker" alt="Andrew Baker"> 
         </div> 
         <div class="contributor"> 
          <img src="https://www.gravatar.com/avatar/8eaa238864b16952faee3a57bbb03e21?d=mm&amp;s=50" title="Paul Kamp" alt="Paul Kamp"> 
         </div> 
         <div class="contributor"> 
          <img src="https://www.gravatar.com/avatar/cf08ba1a8f7fdb137914ed30be8b41ab?d=mm&amp;s=50" title="Samuel Mendes" alt="Samuel Mendes"> 
         </div> 
        </div> 
        <div class="contributors-footer"></div> 
       </div> 
       <div class="help-box"> 
        <h4> <i class="fa fa-fw fa-life-ring"></i> Need some help? </h4> 
        <p> We all do sometimes; code is hard. Get help now from our <a href="https://support.twilio.com">support team</a>, or lean on the wisdom of the crowd browsing the <a href="http://stackoverflow.com/questions/tagged/twilio"> Twilio tag</a> on Stack Overflow. </p> 
       </div> 
      </div> 
     </div> 
     <div class="code-column"> 
      <div id="coderail" class="code-rail code-rail-column" data-uk-sticky="{boundary: true}"> 
       <div class="rail-placeholder"></div> 
       <div class="rail-header uk-hidden"> 
        <div class="rail-header-wrapper"> 
         <div class="rail-navigation"> 
          <div class="inner"> 
           <a href="#previous" class="inactive" data-previous> <i class="fa fa-fw fa-arrow-left left"></i> </a> 
          </div> 
          <div class="inner"> 
           <span> <span class="current-index">1</span> <span>/</span> <span class="snippet-total">1</span> </span> 
          </div> 
          <div class="inner"> 
           <a href="#next" data-next> <i class="fa fa-fw fa-arrow-right"></i> </a> 
          </div> 
         </div> 
         <div class="rail-title"> 
          <div class="title-content inner"> 
           <span>Loading Code Samples...</span> 
           <i class="fa fa-fw fa-chevron-down"></i> 
          </div> 
         </div> 
        </div> 
       </div> 
       <div class="rail-toolbar uk-hidden"> 
        <div class="rail-current-language"> 
         <div class="inner"> 
          <span>Language</span> 
          <i class="fa fa-fw fa-chevron-down"></i> 
         </div> 
        </div> 
        <div class="toolbar"> 
         <a href="#code" class="uk-hidden tab" data-code>Code</a> 
         <a href="#output" class="uk-hidden inactive" data-output>Output</a> 
         <span class="separator"></span> 
         <a id="download" class="uk-hidden"> <i class="fa fa-fw fa-download"></i> <span>Download Project</span> </a> 
         <a id="github" class="uk-hidden" target="_blank"> <i class="fa fa-fw fa-github-square"></i> <span>View on GitHub</span> </a> 
         <a id="defrosty" class="fr-on" href="#defrosty"> <i class="fa fa-fw fa-eye"></i> <span class="wider-tooltip">Toggle Highlighted Lines</span> </a> 
         <a id="clippy" href="#copy"> <i class="fa fa-fw fa-copy"></i> <span>Copy to Clipboard</span> </a> 
         <a id="linkcode" href="#linkcode"> <i class="fa fa-fw fa-link"></i> <span>Link to this Code</span> </a> 
         <a href="#expand" data-expand> <i class="fa fa-fw fa-arrows-alt"></i> <span>Full Screen</span> </a> 
         <a href="#collapse" class="uk-hidden" data-collapse> <i class="fa fa-fw fa-compress"></i> <span>Normal Size</span> </a> 
        </div> 
       </div> 
       <div class="rail-samples"> 
        <ul> 
         <li> <a href="#code-json-administrator-list"> JSON Administrator list </a> </li> 
         <li> <a href="#code-configure-twilio-client"> Configure Twilio Client </a> </li> 
         <li> <a href="#code-catch-all-exceptions-in-spring-with-a-global-exception-controller"> Catch all exceptions in Spring with a Global Exception Controller </a> </li> 
         <li> <a href="#code-custom-exception-message"> Custom exception message </a> </li> 
         <li> <a href="#code-read-the-administrators-from-the-json-file"> Read the administrators from the JSON File </a> </li> 
         <li> <a href="#code-twiliomessagecreator-wrapper-class"> TwilioMessageCreator wrapper class </a> </li> 
        </ul> 
       </div> 
       <div class="rail-languages"></div> 
       <div class="rail-content"> 
        <div class="rail-content-inner"> 
         <div data-sample-title="JSON Administrator list" data-sample="code-json-administrator-list" data-pref="server" data-download-url="https://github.com/TwilioDevEd/server-notifications-spring/archive/master.zip" data-github-url="https://github.com/TwilioDevEd/server-notifications-spring/blob/master/src/main/resources/administrators.json" data-sample-id="1448" class="code-sample"> 
          <div class="sample-language-data" style="display:none;"> 
           <select> <option value="json">JSON</option> </select> 
          </div> 
          <div class="snippet-container"> 
           <pre data-ext="json" data-version="default" data-filename="" class="codehilite"><code><span class="code-line"><span class="p">[</span> </span><span class="code-line"> <span class="p">{</span> </span><span class="code-line"> <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"Bob"</span><span class="p">,</span> </span><span class="code-line"> <span class="nt">"phoneNumber"</span><span class="p">:</span> <span class="s2">"+12025550197"</span> </span><span class="code-line"> <span class="p">},</span> </span><span class="code-line"> <span class="p">{</span> </span><span class="code-line"> <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"Alice"</span><span class="p">,</span> </span><span class="code-line"> <span class="nt">"phoneNumber"</span><span class="p">:</span> <span class="s2">"+5213321678083"</span> </span><span class="code-line"> <span class="p">}</span> </span><span class="code-line"><span class="p">]</span> </span></code></pre> 
          </div> 
          <div class="output-snippet-container"> 
          </div> 
         </div> 
         <div data-sample-title="Configure Twilio Client" data-sample="code-configure-twilio-client" data-pref="server" data-download-url="https://github.com/TwilioDevEd/server-notifications-spring/archive/master.zip" data-github-url="https://github.com/TwilioDevEd/server-notifications-spring/blob/master/src/main/java/com/twilio/notifications/domain/twilio/Client.java" data-sample-id="1449" class="code-sample"> 
          <div class="sample-language-data" style="display:none;"> 
           <select> <option value="java">Java</option> </select> 
          </div> 
          <div class="snippet-container"> 
           <pre data-ext="java" data-version="default" data-filename="" class="codehilite"><code><span class="code-line fr fr-on"><span class="kn">package</span> <span class="nn">com.twilio.notifications.domain.twilio</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">com.twilio.http.TwilioRestClient</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Client</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="kd">private</span> <span class="n">Credentials</span> <span class="n">credentials</span><span class="o">;</span> </span><span class="code-line fr fr-on"> <span class="kd">private</span> <span class="n">TwilioMessageCreator</span> <span class="n">messageCreator</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line hll fr-on"> <span class="kd">public</span> <span class="nf">Client</span><span class="o">()</span> <span class="o">{</span> </span><span class="code-line hll fr-on"> <span class="k">this</span><span class="o">.</span><span class="na">credentials</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Credentials</span><span class="o">();</span> </span><span class="code-line hll fr-on"> <span class="k">this</span><span class="o">.</span><span class="na">messageCreator</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TwilioMessageCreator</span><span class="o">(</span> </span><span class="code-line hll fr-on"> <span class="k">new</span> <span class="n">TwilioRestClient</span><span class="o">.</span><span class="na">Builder</span><span class="o">(</span><span class="n">credentials</span><span class="o">.</span><span class="na">getAccountSid</span><span class="o">(),</span> <span class="n">credentials</span><span class="o">.</span><span class="na">getAuthToken</span><span class="o">()).</span><span class="na">build</span><span class="o">()</span> </span><span class="code-line hll fr-on"> <span class="o">);</span> </span><span class="code-line hll fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"> <span class="kd">public</span> <span class="nf">Client</span><span class="o">(</span><span class="n">TwilioMessageCreator</span> <span class="n">messageCreator</span><span class="o">,</span> <span class="n">Credentials</span> <span class="n">credentials</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="k">this</span><span class="o">.</span><span class="na">credentials</span> <span class="o">=</span> <span class="n">credentials</span><span class="o">;</span> </span><span class="code-line fr fr-on"> <span class="k">this</span><span class="o">.</span><span class="na">messageCreator</span> <span class="o">=</span> <span class="n">messageCreator</span><span class="o">;</span> </span><span class="code-line fr fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">sendMessage</span><span class="o">(</span><span class="n">String</span> <span class="n">to</span><span class="o">,</span> <span class="n">String</span> <span class="n">message</span><span class="o">,</span> <span class="n">String</span> <span class="n">mediaUrl</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="n">messageCreator</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">to</span><span class="o">,</span> <span class="n">credentials</span><span class="o">.</span><span class="na">getPhoneNumber</span><span class="o">(),</span> <span class="n">message</span><span class="o">,</span> <span class="n">mediaUrl</span><span class="o">);</span> </span><span class="code-line fr fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"><span class="o">}</span> </span></code></pre> 
          </div> 
          <div class="output-snippet-container"> 
          </div> 
         </div> 
         <div data-sample-title="Catch all exceptions in Spring with a Global Exception Controller" data-sample="code-catch-all-exceptions-in-spring-with-a-global-exception-controller" data-pref="server" data-download-url="https://github.com/TwilioDevEd/server-notifications-spring/archive/master.zip" data-github-url="https://github.com/TwilioDevEd/server-notifications-spring/blob/master/src/main/java/com/twilio/notifications/controller/GlobalExceptionController.java" data-sample-id="1575" class="code-sample"> 
          <div class="sample-language-data" style="display:none;"> 
           <select> <option value="java">Java</option> </select> 
          </div> 
          <div class="snippet-container"> 
           <pre data-ext="java" data-version="default" data-filename="" class="codehilite"><code><span class="code-line fr fr-on"><span class="kn">package</span> <span class="nn">com.twilio.notifications.controller</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">com.twilio.notifications.domain.Administrator</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">com.twilio.notifications.domain.twilio.Client</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">com.twilio.notifications.service.AdministratorService</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.ControllerAdvice</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.ExceptionHandler</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.ResponseBody</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line hll fr-on"><span class="nd">@ControllerAdvice</span> </span><span class="code-line fr fr-on"><span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"UnusedDeclaration"</span><span class="o">)</span> </span><span class="code-line fr fr-on"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">GlobalExceptionController</span> <span class="o">{</span> </span><span class="code-line hll fr-on"> <span class="nd">@ExceptionHandler</span><span class="o">(</span><span class="n">Exception</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> </span><span class="code-line hll fr-on"> <span class="nd">@ResponseBody</span> </span><span class="code-line hll fr-on"> <span class="kd">public</span> <span class="n">String</span> <span class="nf">handleAllException</span><span class="o">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="n">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">customMessage</span><span class="o">(</span><span class="n">ex</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span> </span><span class="code-line fr fr-on"> <span class="n">String</span> <span class="n">mediaUrl</span> <span class="o">=</span> <span class="s">"http://goo.gl/ObTXdX"</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"> <span class="c1">// Send a message to the administrators when something goes unexpectedly wrong.</span> </span><span class="code-line fr fr-on"> <span class="n">Administrator</span><span class="o">[]</span> <span class="n">administrators</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AdministratorService</span><span class="o">().</span><span class="na">getAdministrators</span><span class="o">();</span> </span><span class="code-line fr fr-on"> <span class="k">for</span> <span class="o">(</span><span class="n">Administrator</span> <span class="n">administrator</span> <span class="o">:</span> <span class="n">administrators</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="k">new</span> <span class="n">Client</span><span class="o">().</span><span class="na">sendMessage</span><span class="o">(</span><span class="n">administrator</span><span class="o">.</span><span class="na">getPhoneNumber</span><span class="o">(),</span> <span class="n">message</span><span class="o">,</span> <span class="n">mediaUrl</span><span class="o">);</span> </span><span class="code-line fr fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"> <span class="k">return</span> <span class="s">"Something unexpected happened. Keep calm, administrators were notified."</span><span class="o">;</span> </span><span class="code-line hll fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"> <span class="kd">private</span> <span class="n">String</span> <span class="nf">customMessage</span><span class="o">(</span><span class="n">String</span> <span class="n">exceptionMessage</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="k">return</span> <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"It appears the server is having Exception: %s "</span> <span class="o">+</span> </span><span class="code-line fr fr-on"> <span class="s">"Go to: http://newrelic.com for more details. "</span> <span class="o">+</span> </span><span class="code-line fr fr-on"> <span class="s">"Image URL: http://goo.gl/ObTXdX"</span><span class="o">,</span> </span><span class="code-line fr fr-on"> <span class="n">exceptionMessage</span><span class="o">);</span> </span><span class="code-line fr fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"><span class="o">}</span> </span></code></pre> 
          </div> 
          <div class="output-snippet-container"> 
          </div> 
         </div> 
         <div data-sample-title="Custom exception message" data-sample="code-custom-exception-message" data-pref="server" data-download-url="https://github.com/TwilioDevEd/server-notifications-spring/archive/master.zip" data-github-url="https://github.com/TwilioDevEd/server-notifications-spring/blob/master/src/main/java/com/twilio/notifications/controller/GlobalExceptionController.java" data-sample-id="1575" class="code-sample"> 
          <div class="sample-language-data" style="display:none;"> 
           <select> <option value="java">Java</option> </select> 
          </div> 
          <div class="snippet-container"> 
           <pre data-ext="java" data-version="default" data-filename="" class="codehilite"><code><span class="code-line fr fr-on"><span class="kn">package</span> <span class="nn">com.twilio.notifications.controller</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">com.twilio.notifications.domain.Administrator</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">com.twilio.notifications.domain.twilio.Client</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">com.twilio.notifications.service.AdministratorService</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.ControllerAdvice</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.ExceptionHandler</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.ResponseBody</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"><span class="nd">@ControllerAdvice</span> </span><span class="code-line fr fr-on"><span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"UnusedDeclaration"</span><span class="o">)</span> </span><span class="code-line fr fr-on"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">GlobalExceptionController</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="nd">@ExceptionHandler</span><span class="o">(</span><span class="n">Exception</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> </span><span class="code-line fr fr-on"> <span class="nd">@ResponseBody</span> </span><span class="code-line fr fr-on"> <span class="kd">public</span> <span class="n">String</span> <span class="nf">handleAllException</span><span class="o">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="n">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">customMessage</span><span class="o">(</span><span class="n">ex</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span> </span><span class="code-line fr fr-on"> <span class="n">String</span> <span class="n">mediaUrl</span> <span class="o">=</span> <span class="s">"http://goo.gl/ObTXdX"</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"> <span class="c1">// Send a message to the administrators when something goes unexpectedly wrong.</span> </span><span class="code-line fr fr-on"> <span class="n">Administrator</span><span class="o">[]</span> <span class="n">administrators</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AdministratorService</span><span class="o">().</span><span class="na">getAdministrators</span><span class="o">();</span> </span><span class="code-line fr fr-on"> <span class="k">for</span> <span class="o">(</span><span class="n">Administrator</span> <span class="n">administrator</span> <span class="o">:</span> <span class="n">administrators</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="k">new</span> <span class="n">Client</span><span class="o">().</span><span class="na">sendMessage</span><span class="o">(</span><span class="n">administrator</span><span class="o">.</span><span class="na">getPhoneNumber</span><span class="o">(),</span> <span class="n">message</span><span class="o">,</span> <span class="n">mediaUrl</span><span class="o">);</span> </span><span class="code-line fr fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"> <span class="k">return</span> <span class="s">"Something unexpected happened. Keep calm, administrators were notified."</span><span class="o">;</span> </span><span class="code-line fr fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"> </span><span class="code-line hll fr-on"> <span class="kd">private</span> <span class="n">String</span> <span class="nf">customMessage</span><span class="o">(</span><span class="n">String</span> <span class="n">exceptionMessage</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line hll fr-on"> <span class="k">return</span> <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"It appears the server is having Exception: %s "</span> <span class="o">+</span> </span><span class="code-line hll fr-on"> <span class="s">"Go to: http://newrelic.com for more details. "</span> <span class="o">+</span> </span><span class="code-line hll fr-on"> <span class="s">"Image URL: http://goo.gl/ObTXdX"</span><span class="o">,</span> </span><span class="code-line hll fr-on"> <span class="n">exceptionMessage</span><span class="o">);</span> </span><span class="code-line hll fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"><span class="o">}</span> </span></code></pre> 
          </div> 
          <div class="output-snippet-container"> 
          </div> 
         </div> 
         <div data-sample-title="Read the administrators from the JSON File" data-sample="code-read-the-administrators-from-the-json-file" data-pref="server" data-download-url="https://github.com/TwilioDevEd/server-notifications-spring/archive/master.zip" data-github-url="https://github.com/TwilioDevEd/server-notifications-spring/blob/master/src/main/java/com/twilio/notifications/service/AdministratorService.java" data-sample-id="1576" class="code-sample"> 
          <div class="sample-language-data" style="display:none;"> 
           <select> <option value="java">Java</option> </select> 
          </div> 
          <div class="snippet-container"> 
           <pre data-ext="java" data-version="default" data-filename="" class="codehilite"><code><span class="code-line fr fr-on"><span class="kn">package</span> <span class="nn">com.twilio.notifications.service</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">com.google.gson.Gson</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">com.twilio.notifications.domain.Administrator</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">org.springframework.stereotype.Service</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">java.io.FileNotFoundException</span><span class="o">;</span> </span><span class="code-line fr fr-on"><span class="kn">import</span> <span class="nn">java.io.FileReader</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"><span class="nd">@Service</span> </span><span class="code-line fr fr-on"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">AdministratorService</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="kd">private</span> <span class="n">String</span> <span class="n">filePath</span><span class="o">;</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"> <span class="kd">public</span> <span class="nf">AdministratorService</span><span class="o">()</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="k">this</span><span class="o">.</span><span class="na">filePath</span> <span class="o">=</span> <span class="n">getClass</span><span class="o">().</span><span class="na">getClassLoader</span><span class="o">().</span><span class="na">getResource</span><span class="o">(</span><span class="s">"administrators.json"</span><span class="o">).</span><span class="na">getPath</span><span class="o">();</span> </span><span class="code-line fr fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"> <span class="kd">public</span> <span class="nf">AdministratorService</span><span class="o">(</span><span class="n">String</span> <span class="n">filePath</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="k">this</span><span class="o">.</span><span class="na">filePath</span> <span class="o">=</span> <span class="n">filePath</span><span class="o">;</span> </span><span class="code-line fr fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"> <span class="kd">public</span> <span class="n">Administrator</span><span class="o">[]</span> <span class="nf">getAdministrators</span><span class="o">()</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="k">try</span> <span class="o">{</span> </span><span class="code-line hll fr-on"> <span class="k">return</span> <span class="k">new</span> <span class="n">Gson</span><span class="o">().</span><span class="na">fromJson</span><span class="o">(</span><span class="k">new</span> <span class="n">FileReader</span><span class="o">(</span><span class="n">filePath</span><span class="o">),</span> <span class="n">Administrator</span><span class="o">[].</span><span class="na">class</span><span class="o">);</span> </span><span class="code-line fr fr-on"> <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">FileNotFoundException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line fr fr-on"> <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span> </span><span class="code-line fr fr-on"> </span><span class="code-line fr fr-on"> <span class="k">return</span> <span class="k">new</span> <span class="n">Administrator</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span> </span><span class="code-line fr fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"> <span class="o">}</span> </span><span class="code-line fr fr-on"><span class="o">}</span> </span></code></pre> 
          </div> 
          <div class="output-snippet-container"> 
          </div> 
         </div> 
         <div data-sample-title="TwilioMessageCreator wrapper class" data-sample="code-twiliomessagecreator-wrapper-class" data-pref="server" data-download-url="https://github.com/TwilioDevEd/server-notifications-spring/archive/master.zip" data-github-url="https://github.com/TwilioDevEd/server-notifications-spring/blob/master/src/main/java/com/twilio/notifications/domain/twilio/TwilioMessageCreator.java" data-sample-id="1577" class="code-sample"> 
          <div class="sample-language-data" style="display:none;"> 
           <select> <option value="java">Java</option> </select> 
          </div> 
          <div class="snippet-container"> 
           <pre data-ext="java" data-version="default" data-filename="" class="codehilite"><code><span class="code-line"><span class="kn">package</span> <span class="nn">com.twilio.notifications.domain.twilio</span><span class="o">;</span> </span><span class="code-line"> </span><span class="code-line"><span class="kn">import</span> <span class="nn">com.twilio.exception.TwilioException</span><span class="o">;</span> </span><span class="code-line"><span class="kn">import</span> <span class="nn">com.twilio.http.TwilioRestClient</span><span class="o">;</span> </span><span class="code-line"><span class="kn">import</span> <span class="nn">com.twilio.rest.api.v2010.account.Message</span><span class="o">;</span> </span><span class="code-line"><span class="kn">import</span> <span class="nn">com.twilio.rest.api.v2010.account.MessageCreator</span><span class="o">;</span> </span><span class="code-line"><span class="kn">import</span> <span class="nn">com.twilio.type.PhoneNumber</span><span class="o">;</span> </span><span class="code-line"><span class="kn">import</span> <span class="nn">org.slf4j.Logger</span><span class="o">;</span> </span><span class="code-line"><span class="kn">import</span> <span class="nn">org.slf4j.LoggerFactory</span><span class="o">;</span> </span><span class="code-line"> </span><span class="code-line"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TwilioMessageCreator</span> <span class="o">{</span> </span><span class="code-line"> </span><span class="code-line"> <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Logger</span> <span class="n">logger</span> <span class="o">=</span> <span class="n">LoggerFactory</span><span class="o">.</span><span class="na">getLogger</span><span class="o">(</span><span class="n">TwilioMessageCreator</span><span class="o">.</span><span class="na">class</span><span class="o">);</span> </span><span class="code-line"> <span class="kd">private</span> <span class="kd">final</span> <span class="n">TwilioRestClient</span> <span class="n">client</span><span class="o">;</span> </span><span class="code-line"> </span><span class="code-line"> <span class="kd">public</span> <span class="nf">TwilioMessageCreator</span><span class="o">(</span><span class="n">TwilioRestClient</span> <span class="n">client</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line"> <span class="k">this</span><span class="o">.</span><span class="na">client</span> <span class="o">=</span> <span class="n">client</span><span class="o">;</span> </span><span class="code-line"> <span class="o">}</span> </span><span class="code-line"> </span><span class="code-line"> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">create</span><span class="o">(</span><span class="n">String</span> <span class="n">to</span><span class="o">,</span> <span class="n">String</span> <span class="n">from</span><span class="o">,</span> <span class="n">String</span> <span class="n">body</span><span class="o">,</span> <span class="n">String</span> <span class="n">mediaUrl</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line"> <span class="n">MessageCreator</span> <span class="n">messageCreator</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MessageCreator</span><span class="o">(</span> </span><span class="code-line"> <span class="k">new</span> <span class="n">PhoneNumber</span><span class="o">(</span><span class="n">to</span><span class="o">),</span> </span><span class="code-line"> <span class="k">new</span> <span class="n">PhoneNumber</span><span class="o">(</span><span class="n">from</span><span class="o">),</span> </span><span class="code-line"> <span class="n">body</span><span class="o">);</span> </span><span class="code-line"> <span class="n">messageCreator</span><span class="o">.</span><span class="na">setMediaUrl</span><span class="o">(</span><span class="n">mediaUrl</span><span class="o">);</span> </span><span class="code-line"> <span class="k">try</span> <span class="o">{</span> </span><span class="code-line"> <span class="n">messageCreator</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">client</span><span class="o">);</span> </span><span class="code-line"> <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">TwilioException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span> </span><span class="code-line"> <span class="n">logger</span><span class="o">.</span><span class="na">error</span><span class="o">(</span> </span><span class="code-line"> <span class="s">"An exception occurred trying to send a message to {}, exception: {}"</span><span class="o">,</span> </span><span class="code-line"> <span class="n">to</span><span class="o">,</span> </span><span class="code-line"> <span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span> </span><span class="code-line"> <span class="o">}</span> </span><span class="code-line"> <span class="o">}</span> </span><span class="code-line"><span class="o">}</span> </span></code></pre> 
          </div> 
          <div class="output-snippet-container"> 
          </div> 
         </div> 
        </div> 
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div> 
  <div class="footer" data-swiftype-index="false"> 
   <div class="uk-container uk-container-center"> 
    <div class="footer__statement">
     We cant wait to see what you build.
    </div> 
    <div class="uk-grid"> 
     <div class="uk-width-1-1 uk-width-small-1-3 uk-width-medium-1-5"> 
      <section class="footer__section"> 
       <header class="footer__header">
        Products
       </header> 
       <ul class="footer__list"> 
        <li class="footer__list-item"> <a href="/voice-video" class="footer__link">Voice &amp; Video</a> </li> 
        <li class="footer__list-item"> <a href="/messaging" class="footer__link">Messaging</a> </li> 
        <li class="footer__list-item"> <a href="/authy" class="footer__link">Authentication</a> </li> 
        <li class="footer__list-item"> <a href="/wireless" class="footer__link">Connected Devices</a> </li> 
       </ul> 
      </section> 
     </div> 
     <div class="uk-width-1-1 uk-width-small-1-3 uk-width-medium-1-5"> 
      <section class="footer__section"> 
       <header class="footer__header">
        Use Cases
       </header> 
       <ul class="footer__list"> 
        <li class="footer__list-item"> <a href="/use-cases/access-security" class="footer__link">Access Security</a> </li> 
        <li class="footer__list-item"> <a href="/use-cases/contextual-call-center" class="footer__link">Contextual Call Center</a> </li> 
        <li class="footer__list-item"> <a href="/use-cases/marketplace-communications" class="footer__link">Marketplace Communications</a> </li> 
        <li class="footer__list-item"> <a href="/use-cases/mobile-messaging" class="footer__link">Mobile Messaging</a> </li> 
       </ul> 
      </section> 
     </div> 
     <div class="uk-width-1-1 uk-width-small-1-3 uk-width-medium-1-5"> 
      <section class="footer__section"> 
       <header class="footer__header">
        About
       </header> 
       <ul class="footer__list"> 
        <li class="footer__list-item"> <a href="/what-is-cloud-communications?" class="footer__link">What is Twilio?</a> </li> 
        <li class="footer__list-item"> <a href="https://customers.twilio.com" class="footer__link">Customers</a> </li> 
        <li class="footer__list-item"> <a href="/help" class="footer__link">Get Help</a> </li> 
        <li class="footer__list-item"> <a href="/help/sales" class="footer__link">Talk to Sales</a> </li> 
        <li class="footer__list-item"> <a href="/docs/glossary" class="footer__link">Glossary</a> </li> 
       </ul> 
      </section> 
     </div> 
     <div class="uk-width-1-1 uk-width-medium-2-5"> 
      <section class="footer__section"> 
       <header class="footer__header">
        Hits From The Blog
       </header> 
       <ul class="footer__list footer__list"> 
        <li class="footer__list-item"> <a href="https://www.twilio.com/blog/2017/09/twilio-sync-message-streams-iot-support.html" class="footer__link">New Features for Twilio Sync: Message Streams and IoT Support</a> </li> 
        <li class="footer__list-item"> <a href="https://www.twilio.com/blog/2017/09/daily-fantasy-football-salary-tracker-ruby-twilio-mms.html" class="footer__link">Build Your Own Daily Fantasy Football Salary Tracker with Ruby and Twilio MMS</a> </li> 
        <li class="footer__list-item"> <a href="https://www.twilio.com/blog/2017/09/testing-twilio-sms-api-http-requests-jetbrains-rider.html" class="footer__link">Testing Twilio SMS Requests for .NET Applications with the Rider REST Client</a> </li> 
        <li class="footer__list-item"> <a href="https://www.twilio.com/blog/2017/09/serverless-deploy-nodejs-application-on-faas-without-pain.html" class="footer__link">How to Deploy JavaScript &amp; Node.js Applications to AWS Lambda</a> </li> 
        <li class="footer__list-item"> <a href="https://www.twilio.com/blog/2017/09/reduce-bill-with-origin-based-pricing.html" class="footer__link">Reduce Your Bill With Origin-Based Pricing</a> </li> 
       </ul> 
      </section> 
     </div> 
    </div> 
    <footer class="footer__footer"> 
     <div class="footer__logo" title="Twilio"> 
      <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewbox="0 0 30 30"> 
       <path d="M15 0C6.7 0 0 6.7 0 15s6.7 15 15 15 15-6.7 15-15S23.3 0 15 0zm0 26C8.9 26 4 21.1 4 15S8.9 4 15 4s11 4.9 11 11-4.9 11-11 11z" /> 
       <circle cx="18.7" cy="11.3" r="3.1" /> 
       <circle cx="18.7" cy="18.7" r="3.1" /> 
       <circle cx="11.3" cy="18.7" r="3.1" /> 
       <circle cx="11.3" cy="11.3" r="3.1" /> 
      </svg> 
     </div> 
     <ul class="legal__list"> 
      <li class="legal__list-item"> <a href="/company" class="legal__link">About Twilio</a> </li> 
      <li class="legal__list-item"> <a href="/legal" class="legal__link">Legal</a> </li> 
      <li class="legal__list-item">Copyright  2017 Twilio, Inc. <br class="uk-visible-small">All Rights Reserved. </li> 
     </ul> 
    </footer> 
   </div> 
  </div> 
  <script src="/docs/static/js/vendor.min.832.js"></script> 
  <!-- Mixpanel --> 
  <script type="text/javascript">(function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"===e.location.protocol?"https:":"http:")+'//cdn.mxpnl.com/libs/mixpanel-2.2.min.js';f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f);b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==
  typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,
    e,d])};b.__SV=1.2}})(document,window.mixpanel||[]);
    mixpanel.init("f71c19735fa6ecc5225ff563285e1794");
    </script> 
  <!-- Heap --> 
  <script type="text/javascript">
    window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var n=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(n?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(a,o);for(var r=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["clearEventProperties","identify","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=r(p[c])};
    heap.load('1541905715');

    

    

    </script> 
  <!-- Eloqua --> 
  <script type="text/javascript">
    var _elqQ = _elqQ || [];
    _elqQ.push(['elqSetSiteId', '815114181']);
    _elqQ.push(['elqTrackPageView']);
    _elqQ.push(['elqUseFirstPartyCookie', 'www.twilio.com']);

    (function () {
      function async_load() {
        var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true;
        s.src = '//img03.en25.com/i/elqCfg.min.js';
        var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x);
      }
      if (window.addEventListener) window.addEventListener('DOMContentLoaded', async_load, false);
      else if (window.attachEvent) window.attachEvent('onload', async_load);
    })();
    </script> 
  <!-- Transifex --> 
  <script type="text/javascript">
    window.liveSettings = {
      api_key: '4c06c1c5a6b341e591d969476fe2675f'
    };
    </script> 
  <script type="text/javascript" src="//cdn.transifex.com/live.js"></script> 
  <style>
    .txlive-langselector { display: none; }
    </style> 
  <script src="/docs/static/js/docs.min.832.js"></script>   
 </body>
</html>