<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
	Design by Free CSS Templates
	http://www.freecsstemplates.org
	Released for free under a Creative Commons Attribution 2.5 License
-->
<html>
 <head> 
  <meta http-equiv="content-type" content="text/html; charset=utf-8"> 
  <title>How do I save an image from a URL to a file? - Web Tutorials - avajava.com</title> 
  <meta name="keywords" content="Java Tutorial, save image, url, file"> 
  <meta name="description" content="This Java tutorial shows how to download an image from a URL and save it to a file."> 
  <link href="http://avajava.com:80/tutorials/default.css" rel="stylesheet" type="text/css"> 
  <link href="http://avajava.com:80/tutorials/codeformat.css" rel="stylesheet" type="text/css"> 
  <link rel="shortcut icon" href="http://www.avajava.com/favicon.ico" type="image/vnd.microsoft.icon"> 
  <link rel="icon" href="http://www.avajava.com/favicon.ico" type="image/vnd.microsoft.icon"> 
 </head> 
 <body> 
  <div id="outer"> 
   <div id="header"> 
    <h1> <a href="http://avajava.com:80/tutorials"> AVAJAVA Web Tutorials</a> </h1> 
    <h2 id="firsth2"> Total Categories: 24, Total Tutorials: 508</h2> 
    <h2 id="secondh2"> General Java: 57 of 69 tutorials </h2> 
    <h2 id="thirdh2"> How do I save an image from a URL to a file?</h2> 
   </div> 
   <div id="menu"> 
    <ul> 
     <!-- 
		<li class="first">"Java forwards and backwards"</li>
 --> 
     <!-- 		<li><a class="toptext" href="http://www.jarvana.com/" title="Search Maven Repository">Maven Repository Search</a></li>
		<li><a class="toptext" href="http://www.jarvana.com/jarvana/doc" title="Search for Javadocs Classes and Projects">Javadoc Search</a></li> --> 
    </ul> 
    <div id="search">
      Search Tutorials: 
     <form style="display: inline" action="/tutorials/search" method="get" name="searchForm"> 
      <input style="margin-bottom: 2px;" type="text" size="20" maxlength="50" name="q" value=""> 
      <input id="searchbutton" type="submit" value="  Go  "> 
     </form> 
    </div> 
    <div class="clear"></div> 
   </div> 
   <div id="topbreadcrumb"> 
    <div class="breadcrumbouter"> 
     <div class="breadcrumbinner"> 
      <a title="Go to Categories Index" href="/tutorials/;jsessionid=4CCC39E53734C9792EB256EFC3566979">Web Tutorials</a> :: 
      <a title="Go to previous category: 'Files'" href="/tutorials/categories/files;jsessionid=4CCC39E53734C9792EB256EFC3566979"><img alt="Go to previous category" style="display: inline; border: 0px;" src="/tutorials/images/previous.gif"></a>&nbsp;
      <a title="Go to 'General Java' category" href="/tutorials/categories/general-java;jsessionid=4CCC39E53734C9792EB256EFC3566979">General Java</a>&nbsp;
      <a title="Go to next category: 'JSPs'" href="/tutorials/categories/jsps;jsessionid=4CCC39E53734C9792EB256EFC3566979"><img alt="Go to next category" style="display: inline; border: 0px;" src="/tutorials/images/next.gif"></a> :: 
      <a title="Go to previous tutorial in 'General Java' category: 'How do I find the max and min values of primitive types?'" href="/tutorials/lessons/how-do-i-find-the-max-and-min-values-of-primitive-types.html;jsessionid=4CCC39E53734C9792EB256EFC3566979"><img alt="Go to previous tutorial" style="display: inline; border: 0px;" src="/tutorials/images/previous.gif"></a>&nbsp;57. How do I save an image from a URL to a file?&nbsp;
      <a title="Go to next tutorial in 'General Java' category: 'How do I determine the system's available fonts?'" href="/tutorials/lessons/how-do-i-determine-the-systems-available-fonts.html;jsessionid=4CCC39E53734C9792EB256EFC3566979"><img alt="Go to next tutorial" style="display: inline; border: 0px;" src="/tutorials/images/next.gif"></a> 
     </div> 
    </div> 
   </div> 
   <div id="content"> 
    <div id="primaryContentContainer"> 
     <div id="primaryContent"> 
      <table width="100%"> 
       <tbody>
        <tr> 
         <td id="sidemenu"> 
          <div id="sidemenucats">
           <strong>Tutorial Categories:</strong> 
           <ol>
            <li><a href="/tutorials/categories/ajax">Ajax</a> (1)</li>
            <li><a href="/tutorials/categories/ant">Ant</a> (16)</li>
            <li><a href="/tutorials/categories/apache-web-server">Apache Web Server</a> (8)</li>
            <li><a href="/tutorials/categories/bioinformatics">Bioinformatics</a> (10)</li>
            <li><a href="/tutorials/categories/cascading-style-sheets">Cascading Style Sheets</a> (47)</li>
            <li><a href="/tutorials/categories/classes-and-objects">Classes and Objects</a> (14)</li>
            <li><a href="/tutorials/categories/database">Database</a> (13)</li>
            <li><a href="/tutorials/categories/design-patterns">Design Patterns</a> (22)</li>
            <li><a href="/tutorials/categories/eclipse">Eclipse</a> (39)</li>
            <li><a href="/tutorials/categories/files">Files</a> (62)</li>
            <li><a class="currentcategory" href="/tutorials/categories/general-java">General Java</a> (69)</li>
            <li><a href="/tutorials/categories/jsps">JSPs</a> (9)</li>
            <li><a href="/tutorials/categories/java-basics">Java Basics</a> (11)</li>
            <li><a href="/tutorials/categories/linux">Linux</a> (23)</li>
            <li><a href="/tutorials/categories/logging">Logging</a> (5)</li>
            <li><a href="/tutorials/categories/maven">Maven</a> (88)</li>
            <li><a href="/tutorials/categories/search">Search</a> (12)</li>
            <li><a href="/tutorials/categories/servlets">Servlets</a> (20)</li>
            <li><a href="/tutorials/categories/struts">Struts</a> (1)</li>
            <li><a href="/tutorials/categories/text">Text</a> (19)</li>
            <li><a href="/tutorials/categories/tomcat">Tomcat</a> (8)</li>
            <li><a href="/tutorials/categories/version-control">Version Control</a> (8)</li>
            <li><a href="/tutorials/categories/windows">Windows</a> (2)</li>
            <li><a href="/tutorials/categories/xml">XML</a> (1)</li>
           </ol>
           <!-- Google Ads is off  --> 
           <!-- Amazon Ads is off  --> 
          </div> </td> 
         <td id="mainside">
          <!-- Google Ads is off  --> 
          <hr> 
          <div class="accentuate"> 
           <div class="title">
            How do I save an image from a URL to a file?
           </div> 
           <div>
            Author: Deron Eriksson
           </div> 
           <div class="smaller">
            Description: This Java tutorial shows how to download an image from a URL and save it to a file.
           </div> 
           <div class="smaller">
             Tutorial created using: Windows XP || JDK 1.6.0_10 || Eclipse JEE Ganymede SR1 (Eclipse 3.4.1)
           </div> 
          </div> 
          <hr> <br> <p>Occasionally it can be useful to have the ability to download an image from a URL programmatically and save it as a file. A standard way to do this in Java<a class="extlink2" href="http://java.sun.com/" title="Go to Site for 'Sun Java Developers Site'">S</a><a class="extlink" href="http://en.wikipedia.org/wiki/Java_(programming_language)" title="Go to 'Java (programming language)' in Wikipedia">W</a> is to obtain an input stream to read from a URL and then write this to an output stream associated with a file. </p> <p>The SaveImageFromUrl class demonstrates this technique. It obtains a URL object for an image and then obtains an input stream to this image. It creates an output stream to a file via FileOutputStream. Using standard Java stream handling, the input stream is read in chunks via the while loop, and the bytes are written to the output stream. </p> <h3><a href="../general-java/how-do-i-save-an-image-from-a-url-to-a-file/SaveImageFromUrl.java">SaveImageFromUrl.java</a></h3> <pre><span class="javaKeyword">package</span> com.cakes;

<span class="javaKeyword">import</span> java.io.FileOutputStream;
<span class="javaKeyword">import</span> java.io.IOException;
<span class="javaKeyword">import</span> java.io.InputStream;
<span class="javaKeyword">import</span> java.io.OutputStream;
<span class="javaKeyword">import</span> java.net.URL;

<span class="javaKeyword">public</span> <span class="javaKeyword">class</span> SaveImageFromUrl {

	<span class="javaKeyword">public</span> <span class="javaKeyword">static</span> <span class="javaKeyword">void</span> main(String[] args) <span class="javaKeyword">throws</span> Exception {
		String imageUrl = <span class="javaString">"http://www.avajava.com/images/avajavalogo.jpg"</span>;
		String destinationFile = <span class="javaString">"image.jpg"</span>;

		saveImage(imageUrl, destinationFile);
	}

	<span class="javaKeyword">public</span> <span class="javaKeyword">static</span> <span class="javaKeyword">void</span> saveImage(String imageUrl, String destinationFile) <span class="javaKeyword">throws</span> IOException {
		URL url = <span class="javaKeyword">new</span> URL(imageUrl);
		InputStream is = url.openStream();
		OutputStream os = <span class="javaKeyword">new</span> FileOutputStream(destinationFile);

		<span class="javaKeyword">byte</span>[] b = <span class="javaKeyword">new</span> <span class="javaKeyword">byte</span>[2048];
		<span class="javaKeyword">int</span> length;

		<span class="javaKeyword">while</span> ((length = is.read(b)) != -1) {
			os.write(b, 0, length);
		}

		is.close();
		os.close();
	}

}
</pre> <p></p> 
          <hr> 
          <!-- start related tutorials --> 
          <div> 
           <h3>Related Tutorials:</h3> 
           <ul style="margin-left: 1em;"> 
            <li> <a title="Go to 'General Java' category" href="/tutorials/categories/general-java;jsessionid=4CCC39E53734C9792EB256EFC3566979">General Java</a> :: <a href="/tutorials/lessons/how-do-i-convert-a-web-page-to-a-string.html;jsessionid=4CCC39E53734C9792EB256EFC3566979" title="This Java tutorial describes how to read a URL and convert it to a String.">How do I convert a web page to a String?</a> </li> 
           </ul> 
          </div> 
          <!-- end related tutorials --> 
          <!-- Amazon Ads is off  --> 
          <!-- Google Ads is off  --> </td>
        </tr>
       </tbody>
      </table> 
     </div> 
    </div> 
    <div class="clear">
     &nbsp;
    </div> 
   </div> 
   <div id="bottombreadcrumb"> 
    <div class="breadcrumbouter"> 
     <div class="breadcrumbinner"> 
      <a title="Go to Categories Index" href="/tutorials/;jsessionid=4CCC39E53734C9792EB256EFC3566979">Web Tutorials</a> :: 
      <a title="Go to previous category: 'Files'" href="/tutorials/categories/files;jsessionid=4CCC39E53734C9792EB256EFC3566979"><img alt="Go to previous category" style="display: inline; border: 0px;" src="/tutorials/images/previous.gif"></a>&nbsp;
      <a title="Go to 'General Java' category" href="/tutorials/categories/general-java;jsessionid=4CCC39E53734C9792EB256EFC3566979">General Java</a>&nbsp;
      <a title="Go to next category: 'JSPs'" href="/tutorials/categories/jsps;jsessionid=4CCC39E53734C9792EB256EFC3566979"><img alt="Go to next category" style="display: inline; border: 0px;" src="/tutorials/images/next.gif"></a> :: 
      <a title="Go to previous tutorial in 'General Java' category: 'How do I find the max and min values of primitive types?'" href="/tutorials/lessons/how-do-i-find-the-max-and-min-values-of-primitive-types.html;jsessionid=4CCC39E53734C9792EB256EFC3566979"><img alt="Go to previous tutorial" style="display: inline; border: 0px;" src="/tutorials/images/previous.gif"></a>&nbsp;57. How do I save an image from a URL to a file?&nbsp;
      <a title="Go to next tutorial in 'General Java' category: 'How do I determine the system's available fonts?'" href="/tutorials/lessons/how-do-i-determine-the-systems-available-fonts.html;jsessionid=4CCC39E53734C9792EB256EFC3566979"><img alt="Go to next tutorial" style="display: inline; border: 0px;" src="/tutorials/images/next.gif"></a> 
     </div> 
    </div> 
   </div> 
   <div id="footer"> 
    <p>Copyright © 2014 Code Strategies | Template: <a href="http://www.freecsstemplates.org">Free CSS Templates</a> | <a href="http://www.avajava.com/contact.jsp">Contact</a> 
     <!-- 		| <a href="http://www.avajava.com/about.jsp" title="About">About</a> --> </p> 
   </div> 
  </div> 
  <script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script> 
  <script type="text/javascript">
var pageTracker = _gat._getTracker("UA-4759485-1");
pageTracker._initData();
pageTracker._trackPageview();
</script>   
 </body>
</html>