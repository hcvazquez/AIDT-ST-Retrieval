<!doctype html>
<html>
 <head> 
  <title>Node.JS SSO with Shibboleth SAML Identity Provider (IDP) - Susil Rayamajhi - Wiki@UCSF</title> 
  <meta http-equiv="X-UA-Compatible" content="IE=EDGE,chrome=IE7"> 
  <meta charset="UTF-8"> 
  <meta id="confluence-context-path" name="confluence-context-path" content=""> 
  <meta id="confluence-base-url" name="confluence-base-url" content="https://wiki.library.ucsf.edu"> 
  <meta id="atlassian-token" name="atlassian-token" content="c4232e6e21e7d1048759173cc1e1b20f1282e98a"> 
  <meta id="confluence-space-key" name="confluence-space-key" content="~234877@ucsf.edu"> 
  <script type="text/javascript">
        var contextPath = '';
</script> 
  <meta name="confluence-request-time" content="1507035493968"> 
  <meta name="ajs-is-space-admin" content=""> 
  <meta name="ajs-has-space-config" content=""> 
  <meta name="ajs-use-keyboard-shortcuts" content="true"> 
  <meta name="ajs-discovered-plugin-features" content="$discoveredList"> 
  <meta name="stp-license-product-name" content="Confluence"> 
  <meta name="stp-license-days-to-expiry" content="329"> 
  <meta name="stp-license-is-admin" content="false"> 
  <meta name="stp-license-should-keep-banner-hidden" content="true"> 
  <meta name="ajs-keyboardshortcut-hash" content="4feaedd95bc5405517c6077b8d1e53c6"> 
  <meta name="ajs-is-confluence-admin" content="false"> 
  <meta name="ajs-connection-timeout" content="10000"> 
  <meta name="ajs-page-id" content="361762610"> 
  <meta name="ajs-latest-page-id" content="361762610"> 
  <meta name="ajs-content-type" content="page"> 
  <meta name="ajs-page-title" content="Node.JS SSO with Shibboleth SAML Identity Provider (IDP)"> 
  <meta name="ajs-latest-published-page-title" content="Node.JS SSO with Shibboleth SAML Identity Provider (IDP)"> 
  <meta name="ajs-parent-page-title" content="Home"> 
  <meta name="ajs-parent-page-id" content="296517637"> 
  <meta name="ajs-space-key" content="~234877@ucsf.edu"> 
  <meta name="ajs-space-name" content="Susil Rayamajhi"> 
  <meta name="ajs-from-page-title" content=""> 
  <meta name="ajs-can-remove-page" content="false"> 
  <meta name="ajs-context-path" content=""> 
  <meta name="ajs-base-url" content="https://wiki.library.ucsf.edu"> 
  <meta name="ajs-version-number" content="5.10.7"> 
  <meta name="ajs-build-number" content="6441"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-key" content=""> 
  <meta name="ajs-remote-user-has-licensed-access" content="false"> 
  <meta name="ajs-current-user-fullname" content=""> 
  <meta name="ajs-current-user-avatar-url" content=""> 
  <meta name="ajs-current-user-avatar-uri-reference" content="/images/icons/profilepics/anonymous.png"> 
  <meta name="ajs-static-resource-url-prefix" content="/s/en_GB/6441/08fdc84b52e6e9048619981d39d86d9bfcc50916/_"> 
  <meta name="ajs-global-settings-attachment-max-size" content="20971520"> 
  <meta name="ajs-user-locale" content="en_GB"> 
  <meta name="ajs-enabled-dark-features" content="applinks.v3.ui,pdl,confluence.new-space-ia,confluence.view.edit.transition,confluence-inline-comments-resolved,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareContentEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.mentions.api.ConfluenceMentionEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.security.ForgotPasswordEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.tasklist.event.SendTaskEmailEvent,file-annotations,confluence.efi.onboarding.rich.space.content,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentCreateEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.follow.FollowEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentReplyEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostCreateEvent,confluence.table.resizable,notification.batch,confluence-inline-comments-rich-editor,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentMentionUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.hipchat.api.events.HipChatUserMapped,quick-reload-inline-comments-flags,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostMovedEvent,clc.quick.create,cql.search.screen,nps.survey.inline.dialog,confluence.efi.onboarding.new.templates,pdf-preview,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageMovedEvent,previews.sharing,previews.versions,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.attachment.AttachmentBatchUploadCompletedEvent,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingLessUsersEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentRemoveEvent,confluence.wrap.macro,atlassian.aui.raphael.disabled,previews.conversion-service,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentUpdateEvent,editor.ajax.save,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageEditedEvent,previews.trigger-all-file-types,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentResolveEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.like.LikeCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentCreateEvent,previews.sharing.pushstate,file-annotations.likes,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingNoSpaceCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareAttachmentEvent,confluence-inline-comments,confluence-inline-comments-dangling-comment"> 
  <meta name="ajs-atl-token" content="c4232e6e21e7d1048759173cc1e1b20f1282e98a"> 
  <meta name="ajs-confluence-flavour" content="VANILLA"> 
  <meta name="ajs-user-date-pattern" content="dd MMM yyyy"> 
  <meta name="ajs-date.format" content="MMM dd, yyyy"> 
  <link rel="shortcut icon" href="/s/en_GB/6441/08fdc84b52e6e9048619981d39d86d9bfcc50916/50/_/favicon.ico"> 
  <link rel="icon" type="image/x-icon" href="/s/en_GB/6441/08fdc84b52e6e9048619981d39d86d9bfcc50916/50/_/favicon.ico"> 
  <link rel="search" type="application/opensearchdescription+xml" href="/opensearch/osd.action" title="Wiki@UCSF"> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\u0022\u0022";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-hipchat-integration-plugin:discovery-javascript-data.link-active"]="{\u0022linkActive\u0022:true,\u0022conditionsMet\u0022:true,\u0022admin\u0022:false}";
WRM._unparsedData["com.atlassian.applinks.applinks-plugin:applinks-common-exported.applinks-help-paths"]="{\u0022entries\u0022:{\u0022applinks.docs.root\u0022:\u0022https://confluence.atlassian.com/display/APPLINKS-052/\u0022,\u0022applinks.docs.diagnostics.troubleshoot.sslunmatched\u0022:\u0022SSL+and+application+link+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.oauthsignatureinvalid\u0022:\u0022OAuth+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.oauthtimestamprefused\u0022:\u0022OAuth+troubleshooting+guide\u0022,\u0022applinks.docs.delete.entity.link\u0022:\u0022Create+links+between+projects\u0022,\u0022applinks.docs.adding.application.link\u0022:\u0022Link+Atlassian+applications+to+work+together\u0022,\u0022applinks.docs.administration.guide\u0022:\u0022Application+Links+Documentation\u0022,\u0022applinks.docs.oauth.security\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.troubleshoot.application.links\u0022:\u0022Troubleshoot+application+links\u0022,\u0022applinks.docs.diagnostics.troubleshoot.unknownerror\u0022:\u0022Network+and+connectivity+troubleshooting+guide\u0022,\u0022applinks.docs.configuring.auth.trusted.apps\u0022:\u0022Configuring+Trusted+Applications+authentication+for+an+application+link\u0022,\u0022applinks.docs.diagnostics.troubleshoot.authlevelunsupported\u0022:\u0022OAuth+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.ssluntrusted\u0022:\u0022SSL+and+application+link+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.unknownhost\u0022:\u0022Network+and+connectivity+troubleshooting+guide\u0022,\u0022applinks.docs.delete.application.link\u0022:\u0022Link+Atlassian+applications+to+work+together\u0022,\u0022applinks.docs.link.applications\u0022:\u0022Link+Atlassian+applications+to+work+together\u0022,\u0022applinks.docs.diagnostics.troubleshoot.oauthproblem\u0022:\u0022OAuth+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.migration\u0022:\u0022Update+application+links+to+use+OAuth\u0022,\u0022applinks.docs.relocate.application.link\u0022:\u0022Link+Atlassian+applications+to+work+together\u0022,\u0022applinks.docs.administering.entity.links\u0022:\u0022Create+links+between+projects\u0022,\u0022applinks.docs.upgrade.application.link\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.diagnostics.troubleshoot.connectionrefused\u0022:\u0022Network+and+connectivity+troubleshooting+guide\u0022,\u0022applinks.docs.configuring.auth.oauth\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.insufficient.remote.permission\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.configuring.application.link.auth\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.diagnostics\u0022:\u0022Application+links+diagnostics\u0022,\u0022applinks.docs.configured.authentication.types\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.adding.entity.link\u0022:\u0022Create+links+between+projects\u0022,\u0022applinks.docs.diagnostics.troubleshoot.unexpectedresponse\u0022:\u0022Network+and+connectivity+troubleshooting+guide\u0022,\u0022applinks.docs.configuring.auth.basic\u0022:\u0022Configuring+Basic+HTTP+Authentication+for+an+Application+Link\u0022,\u0022applinks.docs.diagnostics.troubleshoot.authlevelmismatch\u0022:\u0022OAuth+troubleshooting+guide\u0022}}";
WRM._unparsedData["com.atlassian.applinks.applinks-plugin:applinks-common-exported.applinks-types"]="{\u0022crowd\u0022:\u0022Crowd\u0022,\u0022confluence\u0022:\u0022Confluence\u0022,\u0022fecru\u0022:\u0022FishEye / Crucible\u0022,\u0022stash\u0022:\u0022Stash\u0022,\u0022jira\u0022:\u0022JIRA\u0022,\u0022refapp\u0022:\u0022Reference Application\u0022,\u0022bamboo\u0022:\u0022Bamboo\u0022,\u0022generic\u0022:\u0022Generic Application\u0022}";
WRM._unparsedData["com.atlassian.applinks.applinks-plugin:applinks-common-exported.entity-types"]="{\u0022singular\u0022:{\u0022refapp.charlie\u0022:\u0022Charlie\u0022,\u0022fecru.project\u0022:\u0022Crucible Project\u0022,\u0022fecru.repository\u0022:\u0022FishEye Repository\u0022,\u0022stash.project\u0022:\u0022Stash Project\u0022,\u0022generic.entity\u0022:\u0022Generic Project\u0022,\u0022confluence.space\u0022:\u0022Confluence Space\u0022,\u0022bamboo.project\u0022:\u0022Bamboo Project\u0022,\u0022jira.project\u0022:\u0022JIRA Project\u0022},\u0022plural\u0022:{\u0022refapp.charlie\u0022:\u0022Charlies\u0022,\u0022fecru.project\u0022:\u0022Crucible Projects\u0022,\u0022fecru.repository\u0022:\u0022FishEye Repositories\u0022,\u0022stash.project\u0022:\u0022Stash Projects\u0022,\u0022generic.entity\u0022:\u0022Generic Projects\u0022,\u0022confluence.space\u0022:\u0022Confluence Spaces\u0022,\u0022bamboo.project\u0022:\u0022Bamboo Projects\u0022,\u0022jira.project\u0022:\u0022JIRA Projects\u0022}}";
WRM._unparsedData["com.atlassian.applinks.applinks-plugin:applinks-common-exported.authentication-types"]="{\u0022com.atlassian.applinks.api.auth.types.BasicAuthenticationProvider\u0022:\u0022Basic Access\u0022,\u0022com.atlassian.applinks.api.auth.types.TrustedAppsAuthenticationProvider\u0022:\u0022Trusted Applications\u0022,\u0022com.atlassian.applinks.api.auth.types.CorsAuthenticationProvider\u0022:\u0022CORS\u0022,\u0022com.atlassian.applinks.api.auth.types.OAuthAuthenticationProvider\u0022:\u0022OAuth\u0022,\u0022com.atlassian.applinks.api.auth.types.TwoLeggedOAuthAuthenticationProvider\u0022:\u0022OAuth\u0022,\u0022com.atlassian.applinks.api.auth.types.TwoLeggedOAuthWithImpersonationAuthenticationProvider\u0022:\u0022OAuth\u0022}";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-feature-discovery-plugin:confluence-feature-discovery-plugin-resources.test-mode"]="false";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-license-banner:confluence-license-banner-resources.license-details"]="{\u0022daysBeforeLicenseExpiry\u0022:0,\u0022daysBeforeMaintenanceExpiry\u0022:0,\u0022showLicenseExpiryBanner\u0022:false,\u0022showMaintenanceExpiryBanner\u0022:false,\u0022renewUrl\u0022:null,\u0022salesEmail\u0022:null}";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/s/f208a1555dfb95db571fd148b09e8d91-CDN/en_GB/6441/08fdc84b52e6e9048619981d39d86d9bfcc50916/b95580600a17457e95de87add0154d40/_/download/contextbatch/css/_super/batch.css?atlassian.aui.raphael.disabled=true" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/f208a1555dfb95db571fd148b09e8d91-CDN/en_GB/6441/08fdc84b52e6e9048619981d39d86d9bfcc50916/b95580600a17457e95de87add0154d40/_/download/contextbatch/css/_super/batch.css?atlassian.aui.raphael.disabled=true&amp;conditionalComment=lt+IE+9" data-wrm-key="_super" data-wrm-batch-type="context" media="all">
<![endif]--> 
  <!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/f208a1555dfb95db571fd148b09e8d91-CDN/en_GB/6441/08fdc84b52e6e9048619981d39d86d9bfcc50916/b95580600a17457e95de87add0154d40/_/download/contextbatch/css/_super/batch.css?atlassian.aui.raphael.disabled=true&amp;conditionalComment=lte+IE+9" data-wrm-key="_super" data-wrm-batch-type="context" media="all">
<![endif]--> 
  <link type="text/css" rel="stylesheet" href="/s/896c9bb35ef970b65d1cea3c18efb63d-CDN/en_GB/6441/08fdc84b52e6e9048619981d39d86d9bfcc50916/fc801785ab7d65f2f34582dc95596b6f/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments,-_super/batch.css?anonymous-access-enabled=true&amp;atlassian.aui.raphael.disabled=true&amp;confluence.table.resizable=true&amp;confluence.view.edit.transition=true&amp;highlightactions=true&amp;hostenabled=true&amp;is-server-instance=true&amp;nps-acknowledged=true" data-wrm-key="atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments,-_super" data-wrm-batch-type="context" media="all"> 
  <!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/896c9bb35ef970b65d1cea3c18efb63d-CDN/en_GB/6441/08fdc84b52e6e9048619981d39d86d9bfcc50916/fc801785ab7d65f2f34582dc95596b6f/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments,-_super/batch.css?anonymous-access-enabled=true&amp;atlassian.aui.raphael.disabled=true&amp;conditionalComment=lt+IE+9&amp;confluence.table.resizable=true&amp;confluence.view.edit.transition=true&amp;highlightactions=true&amp;hostenabled=true&amp;is-server-instance=true&amp;nps-acknowledged=true" data-wrm-key="atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments,-_super" data-wrm-batch-type="context" media="all">
<![endif]--> 
  <link type="text/css" rel="stylesheet" href="/s/a89db55a24ef9f2f6de127b0d00f48b8-CDN/en_GB/6441/08fdc84b52e6e9048619981d39d86d9bfcc50916/4815e631b650205ba7df6ae04296cede/_/download/contextbatch/css/theme.doc,-_super/batch.css?atlassian.aui.raphael.disabled=true" data-wrm-key="theme.doc,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/s/en_GB/6441/08fdc84b52e6e9048619981d39d86d9bfcc50916/8/_/styles/colors.css?spaceKey=~234877@ucsf.edu" media="all"> 
  <script type="text/javascript" src="/s/a1cc3a31cfc5a6ef111a7296637bda08-CDN/en_GB/6441/08fdc84b52e6e9048619981d39d86d9bfcc50916/b95580600a17457e95de87add0154d40/_/download/contextbatch/js/_super/batch.js?atlassian.aui.raphael.disabled=true&amp;locale=en-GB" data-wrm-key="_super" data-wrm-batch-type="context"></script> 
  <script type="text/javascript" src="/s/49c4c86b18a446d822764d4308640cea-CDN/en_GB/6441/08fdc84b52e6e9048619981d39d86d9bfcc50916/fc801785ab7d65f2f34582dc95596b6f/_/download/contextbatch/js/atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments,-_super/batch.js?anonymous-access-enabled=true&amp;atlassian.aui.raphael.disabled=true&amp;confluence.table.resizable=true&amp;confluence.view.edit.transition=true&amp;highlightactions=true&amp;hostenabled=true&amp;is-server-instance=true&amp;locale=en-GB&amp;nps-acknowledged=true" data-wrm-key="atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments,-_super" data-wrm-batch-type="context"></script> 
  <script type="text/javascript" src="/s/6c0981174e94142364564819dc0d1413-CDN/en_GB/6441/08fdc84b52e6e9048619981d39d86d9bfcc50916/4815e631b650205ba7df6ae04296cede/_/download/contextbatch/js/theme.doc,-_super/batch.js?atlassian.aui.raphael.disabled=true&amp;locale=en-GB" data-wrm-key="theme.doc,-_super" data-wrm-batch-type="context"></script> 
  <meta name="stp-license-product-name" content="Confluence"> 
  <meta name="stp-license-days-to-expiry" content="329"> 
  <meta name="stp-license-is-admin" content="false"> 
  <meta name="stp-license-should-keep-banner-hidden" content="true"> 
  <meta name="ajs-site-title" content="Wiki@UCSF"> 
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-92059340-1', 'auto');
  ga('send', 'pageview');
</script> 
  <script>
jQuery(document).ready(function() {
    jQuery(".external-link").attr("target", "_blank");
});
</script> 
  <link rel="canonical" href="https://wiki.library.ucsf.edu/pages/viewpage.action?pageId=361762610"> 
  <link rel="shortlink" href="https://wiki.library.ucsf.edu/x/Mg_QFQ"> 
  <meta name="wikilink" content="[~234877@ucsf.edu:Node.JS SSO with Shibboleth SAML Identity Provider (IDP)]"> 
  <meta name="page-version" content="7"> 
  <meta name="ajs-page-version" content="7"> 
 </head> 
 <body id="com-atlassian-confluence" class="theme-documentation  aui-theme-default aui-layout"> 
  <div id="stp-licenseStatus-banner"></div> 
  <div id="full-height-container"> 
   <div id="header-precursor"> 
   </div> 
   <header id="header" role="banner"> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="/"><img src="/download/attachments/19103745/atl.site.logo?version=12&amp;modificationDate=1503605078000&amp;api=v2" alt="Wiki@UCSF"></a></h1>
       <ul class="aui-nav"> 
        <li> <a id="space-directory-link" href="/spacedirectory/view.action" class=" aui-nav-imagelink" title="Spaces"> <span>Spaces</span> </a> </li> 
        <li id="browseMenu" role="menu"> <a id="browse-menu-link" class="aui-nav-link aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="browse-menu-link-content" title="Browse"> <span class="browse">Browse</span> </a> 
         <nav id="browse-menu-link-content" class="aui-dropdown2 aui-style-default" aria-hidden="true"> 
          <div class="aui-dropdown2-section"> 
           <ul id="browse-menu-link-leading" class="aui-list-truncate section-leading first"> 
            <li> <a id="space-pages-link" href="/pages/listpages.action?key=~234877@ucsf.edu" class="    " title="Browse pages in the Susil Rayamajhi space"> Pages </a> </li> 
            <li> <a id="space-blogposts-link" href="/pages/viewrecentblogposts.action?key=~234877@ucsf.edu" class="    " title="Browse blogs in the Susil Rayamajhi space"> Blog </a> </li> 
            <li> <a id="space-labels-link" href="/labels/listlabels-heatmap.action?key=~234877@ucsf.edu" class="    " title="Browse labels in the Susil Rayamajhi space"> Labels </a> </li> 
            <li> <a id="space-advanced-link" href="/spaces/viewspacesummary.action?key=~234877@ucsf.edu" class="    " title="Browse additional space functions in the Susil Rayamajhi space"> Space Operations </a> </li> 
           </ul> 
          </div> 
         </nav> </li> 
        <li class="aui-buttons"> </li> 
       </ul> 
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav"> 
        <li> <a id="doctheme-anchor" href="#" class=" aui-nav-imagelink" title=""> <span></span> </a> </li> 
        <li> 
         <form id="quick-search" class="aui-quicksearch dont-default-focus header-quicksearch" action="/dosearchsite.action" method="get">
          <fieldset>
           <label for="quick-search-query" class="assistive">Quick Search</label>
           <input id="quick-search-query" class="text app-search search quick-search-query" type="text" accessKey="q" autocomplete="off" name="queryString" title="Quick Search" placeholder="Search">
           <input id="quick-search-submit" class="quick-search-submit" type="submit" value="Search">
           <div class="aui-dd-parent quick-nav-drop-down"></div>
          </fieldset>
         </form> </li> 
        <li> <a id="help-menu-link" class="aui-nav-link aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="help-menu-link-content" title="Help"> <span class="aui-icon aui-icon-small aui-iconfont-help">Help</span> </a> 
         <nav id="help-menu-link-content" class="aui-dropdown2 aui-style-default" aria-hidden="true"> 
          <div class="aui-dropdown2-section"> 
           <ul id="help-menu-link-leading" class="aui-list-truncate section-leading first"> 
            <li> <a id="confluence-help-link" href="https://docs.atlassian.com/confluence/docs-510/" class="    " title="Visit the Confluence documentation home" target="_blank"> Online Help </a> </li> 
            <li> <a id="keyboard-shortcuts-link" href="#" class="    " title="View available keyboard shortcuts"> Keyboard Shortcuts </a> </li> 
            <li> <a id="feed-builder-link" href="/dashboard/configurerssfeed.action" class="    " title="Create your custom RSS feed."> Feed Builder </a> </li> 
            <li> <a id="whats-new-menu-link" href="https://confluence.atlassian.com/display/DOC/Confluence+5.10+Release+Notes" class="    " title=""> What’s new </a> </li> 
            <li> <a id="gadget-directory-link" href="#" class="   user-item administration-link " title="Browse gadgets provided by Confluence"> Available Gadgets </a> </li> 
            <li> <a id="confluence-about-link" href="/aboutconfluencepage.action" class="    " title="Get more information about Confluence"> About Confluence </a> </li> 
           </ul> 
          </div> 
         </nav> </li> 
        <li> </li> 
        <li> </li> 
        <li> </li>
        <li> <a id="login-link" href="/Shibboleth.sso/DS?target=https%3A%2F%2Fwiki.library.ucsf.edu%2Fpages%2Fviewpage.action%3FpageId%3D361762610&amp;os_destination=%2Fpages%2Fviewpage.action%3FpageId%3D361762610" class="   user-item login-link " title=""> Log in </a> </li>  
       </ul> 
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
    <br class="clear"> 
   </header> 
   <div id="splitter"> 
    <div id="splitter-sidebar"> 
     <div class="plugin_pagetree"> 
      <div id="pagetreesearch"> 
       <form method="POST" class="aui" action="/plugins/pagetreesearch/pagetreesearch.action" name="pagetreesearchform"> 
        <input type="hidden" name="ancestorId" value="296517637"> 
        <input type="hidden" name="spaceKey" value="~234877@ucsf.edu"> 
        <input type="text" class="text medium-field" size="20" name="queryString"> 
        <input type="submit" class="aui-button" value="Search"> 
       </form> 
      </div> 
      <ul class="plugin_pagetree_children_list plugin_pagetree_children_list_noleftspace"> 
       <div class="plugin_pagetree_children"> 
       </div> 
      </ul> 
      <fieldset class="hidden"> 
       <input type="hidden" name="treeId" value=""> 
       <input type="hidden" name="treeRequestId" value="/plugins/pagetree/naturalchildren.action?decorator=none&amp;excerpt=false&amp;sort=position&amp;reverse=false&amp;disableLinks=false&amp;expandCurrent=false"> 
       <input type="hidden" name="treePageId" value="361762610"> 
       <input type="hidden" name="noRoot" value="false"> 
       <input type="hidden" name="rootPageId" value="296517637"> 
       <input type="hidden" name="rootPage" value=""> 
       <input type="hidden" name="startDepth" value="0"> 
       <input type="hidden" name="spaceKey" value="~234877@ucsf.edu"> 
       <input type="hidden" name="i18n-pagetree.loading" value="Loading..."> 
       <input type="hidden" name="i18n-pagetree.error.permission" value="Unable to load page tree. It seems that you do not have permission to view the root page."> 
       <input type="hidden" name="i18n-pagetree.eeror.general" value="There was a problem retrieving the page tree. Please check the server log file for more information."> 
       <input type="hidden" name="loginUrl" value="/Shibboleth.sso/DS?target=%2Fpages%2Fviewpage.action%3FpageId%3D361762610"> 
       <input type="hidden" name="mobile" value="false"> 
       <fieldset class="hidden"> 
        <input type="hidden" name="ancestorId" value="296517637"> 
       </fieldset> 
      </fieldset> 
     </div> 
    </div> 
    <div id="splitter-content"> 
     <script>require('doctheme/doc-theme')()</script> 
     <div id="main" class="aui-page-panel"> 
      <div id="main-header" class="doctheme-no-override"> 
       <div id="navigation" class="content-navigation view"> 
        <ul class="ajs-menu-bar"> 
         <li class="normal ajs-menu-item"> <a id="action-menu-link" class="action aui-dropdown2-trigger-arrowless aui-button aui-button-subtle ajs-menu-title aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="action-menu" data-container="#navigation"> <span> <span class="aui-icon aui-icon-small aui-iconfont-more"></span> </span> </a> 
          <div id="action-menu" class="aui-dropdown2 aui-style-default" aria-hidden="true"> 
           <div class="aui-dropdown2-section"> 
            <ul id="action-menu-primary" class="section-primary first"> 
             <li> <a id="view-attachments-link" href="/pages/viewpageattachments.action?pageId=361762610" rel="nofollow" class="action-view-attachments" accesskey="t" title="View Attachments"> <span> A<u>t</u>tachments (0) </span> </a> </li> 
             <li> <a id="action-view-history-link" href="/pages/viewpreviousversions.action?pageId=361762610" rel="nofollow" class="action-view-history" title=""> <span> Page History </span> </a> </li> 
            </ul> 
           </div> 
           <div class="aui-dropdown2-section"> 
            <ul id="action-menu-secondary" class="section-secondary"> 
             <li> <a id="view-page-info-link" href="/pages/viewinfo.action?pageId=361762610" rel="nofollow" class="action-view-info" title=""> <span> Page Information </span> </a> </li> 
             <li> <a id="view-resolved-comments" href="#" rel="nofollow" class="" title=""> <span> Resolved comments </span> </a> </li> 
             <li> <a id="link-to-page-link" href="/pages/viewinfo.action?pageId=361762610" rel="nofollow" class="" title="Link to this Page"> <span> Link to this Page… </span> </a> </li> 
             <li> <a id="view-in-hierarchy-link" href="/pages/listpages-dirview.action?key=~234877@ucsf.edu&amp;openId=361762610#selectedPageInHierarchy" rel="nofollow" class="" title=""> <span> View in Hierarchy </span> </a> </li> 
             <li> <a id="action-view-source-link" href="/plugins/viewsource/viewpagesrc.action?pageId=361762610" rel="nofollow" class="action-view-source popup-link" title=""> <span> View Source </span> </a> </li> 
             <li> <a id="action-export-pdf-link" href="/spaces/flyingpdf/pdfpageexport.action?pageId=361762610" rel="nofollow" class="" title=""> <span> Export to PDF </span> </a> </li> 
             <li> <a id="action-export-word-link" href="/exportword?pageId=361762610" rel="nofollow" class="action-export-word" title=""> <span> Export to Word </span> </a> </li> 
            </ul> 
           </div> 
          </div> </li> 
        </ul> 
       </div> 
       <div id="title-heading" class="pagetitle with-breadcrumbs"> 
        <img class="userLogo logo anonymous" src="/s/en_GB/6441/08fdc84b52e6e9048619981d39d86d9bfcc50916/_/images/icons/profilepics/anonymous.png" alt="User icon: 234877@ucsf.edu" title="234877@ucsf.edu"> 
        <div id="breadcrumb-section"> 
         <ol id="breadcrumbs"> 
          <li class="first"> <span class=""><a href="/peopledirectory.action">People</a></span> </li>
          <li> <span class=""><a href="/display/~234877@ucsf.edu">Susil Rayamajhi</a></span> </li>
          <li> <span class=""><a href="/display/~234877@ucsf.edu/Home">Home</a></span> </li>
         </ol> 
        </div> 
        <h1 id="title-text" class="with-breadcrumbs"> <a href="/pages/viewpage.action?pageId=361762610">Node.JS SSO with Shibboleth SAML Identity Provider (IDP)</a> </h1> 
       </div> 
      </div> 
      <div id="content" class="page view"> 
       <div id="action-messages"> 
       </div> 
       <script type="text/x-template" title="searchResultsGrid">
    <table class="aui">
        <thead>
            <tr class="header">
                <th class="search-result-title">Page Title</th>
                <th class="search-result-space">Space</th>
                <th class="search-result-date">Updated</th>
            </tr>
        </thead>
    </table>
</script> 
       <script type="text/x-template" title="searchResultsGridCount">
    <p class="search-result-count">{0}</p>
</script> 
       <script type="text/x-template" title="searchResultsGridRow">
    <tr class="search-result">
        <td class="search-result-title"><a href="{1}" class="content-type-{2}"><span>{0}</span></a></td>
        <td class="search-result-space"><a class="space" href="/display/{4}/" title="{3}">{3}</a></td>
        <td class="search-result-date"><span class="date" title="{6}">{5}</span></td>
    </tr>
</script> 
       <fieldset class="hidden parameters"> 
        <input type="hidden" title="parentPageId" value="296517637"> 
       </fieldset> 
       <a href="#page-metadata-end" class="assistive">Skip to end of metadata</a> 
       <div id="page-metadata-start" class="assistive"></div> 
       <div class="page-metadata"> 
        <ul> 
         <li class="page-metadata-item noprint"> <a id="content-metadata-page-restrictions-hidden" href="#" rel="nofollow" class="hidden" title="Unrestricted"> <span> </span> </a> </li> 
         <li class="page-metadata-modification-info"> Created by <span class="author"> <a href="    /display/~234877@ucsf.edu
" class="url fn">Susil Rayamajhi</a></span>, last modified on <a class="last-modified" title="Show changes" href="/pages/diffpagesbyversion.action?pageId=361762610&amp;selectedPageVersions=6&amp;selectedPageVersions=7">Jul 17, 2015</a> </li> 
        </ul> 
       </div> 
       <a href="#page-metadata-start" class="assistive">Go to start of metadata</a> 
       <div id="page-metadata-end" class="assistive"></div> 
       <fieldset class="hidden parameters"> 
        <input type="hidden" title="browsePageTreeMode" value="view"> 
       </fieldset> 
       <div id="main-content" class="wiki-content"> 
        <p>&nbsp;</p>
        <h2 id="Node.JSSSOwithShibbolethSAMLIdentityProvider(IDP)-Objective">Objective</h2>
        <hr>
        <p><br>The purpose of this document is to provide an option on how nodejs based&nbsp;application can be integrated with Shibboleth based SAML SSO for protecting the apps&nbsp;resources. With increase of Node JS adoption, it worth exploring SSO option using Shibboleth SAML implementation. This explains the use of Passport JS and Passport-SAML packages that can be used for the purpose.</p>
        <h3 id="Node.JSSSOwithShibbolethSAMLIdentityProvider(IDP)-Thesearegeneralstepsthatyoucanfollow;">These are general steps that you can follow;</h3>
        <h4 id="Node.JSSSOwithShibbolethSAMLIdentityProvider(IDP)-1.Makesurethatyournodejsapplicationisrunningfinelocallywithoutanyerror(Ref;https://nodejs.org/)">1. Make sure that your nodejs application is running fine locally without any error (Ref;&nbsp;<a class="external-link" href="https://nodejs.org/" rel="nofollow">https://nodejs.org/</a>&nbsp;)</h4>
        <p>&nbsp;</p>
        <div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
         <div class="codeContent panelContent pdl"> 
          <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">[root@localhost ns]# nodemon app
24 May 18:08:41 - [nodemon] starting `node app`
Express server listening on port 3000</pre> 
         </div>
        </div>
        <h4 id="Node.JSSSOwithShibbolethSAMLIdentityProvider(IDP)-2.Getpassportpackage(Ref;http://passportjs.org/)">2. Get passport package (Ref;&nbsp;<a class="external-link" href="http://passportjs.org/" rel="nofollow">http://passportjs.org/</a>)</h4>
        <p>&nbsp;</p>
        <div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
         <div class="codeContent panelContent pdl"> 
          <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">$ npm install passport</pre> 
         </div>
        </div>
        <p>&nbsp;</p>
        <p>This package allows nodejs application to have various kind of authentication services. It comes with 3 main strategies;<br> local - based on local authentication, which might authenticate incoming credentials against DB or ldap.<br> http - based on http authentication, very similar to what JAAS does. This can be either basic or digest based.<br> SAML - based on saml implementation. This can be used to authenticate against product like OpenIDP or in-house shibboleth setup<br> It also has api built it for OAuth, Facebook and twitter</p>
        <h4 id="Node.JSSSOwithShibbolethSAMLIdentityProvider(IDP)-3.GetPassportSAMLpackageforSAMLbasedintegration(Ref;https://www.npmjs.com/package/passport-saml)">3. Get Passport SAML package for SAML based integration (Ref;&nbsp;<a class="external-link" href="https://www.npmjs.com/package/passport-saml" rel="nofollow">https://www.npmjs.com/package/passport-saml</a>)</h4>
        <p>This allows nodejs app to be SSO'd<br> against product like Okta, SimpleSAMLphp, Shibboleth.</p>
        <p>&nbsp;</p>
        <div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
         <div class="codeContent panelContent pdl"> 
          <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">$ npm install passport-saml</pre> 
         </div>
        </div>
        <p>&nbsp;</p>
        <h4 id="Node.JSSSOwithShibbolethSAMLIdentityProvider(IDP)-4.Definepassportsamlstrategyinyourapp.">4. Define passport saml strategy in your app.</h4>
        <p>For simplycity it could go in your app.js file</p>
        <div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
         <div class="codeContent panelContent pdl"> 
          <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">var SamlStrategy = require('passport-saml').Strategy;</pre> 
         </div>
        </div>
        <p>&nbsp;</p>
        <h4 id="Node.JSSSOwithShibbolethSAMLIdentityProvider(IDP)-5.Defineminimumconfpropertiesforpassportsaml">5. Define minimum conf properties for passport saml</h4>
        <div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
         <div class="codeContent panelContent pdl"> 
          <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">path : '/login/callback',
entryPoint : 'https://idp-dev.ucsf.edu/idp/profile/SAML2/Redirect/SSO',
issuer : 'http://172.16.226.167/shibboleth'</pre> 
         </div>
        </div>
        <p>&nbsp;</p>
        <p>Here, <br> path; is the path is the call back path passport saml to make call to itself. It is also the path ( combined with <a href="protocal://hostport" rel="nofollow">protocal://host:port</a>) for IDP to return the SAML response.<br> entryPoint; is the url to the IDP. So the passport saml can redirect the request to idp. Passport saml only supports redirect for this case. Hence you need to find redirect based profile for IDP.<br> issuer; is the name of the passport saml ( this translate to SP entity id ).</p>
        <p>This is a minimum setup. This means this setup will not have encrypted assertion. For this you will have to conf IDP accordingly for this SP entity ID,<br> "<a class="external-link" href="http://172.16.226.167/shibboleth" rel="nofollow">http://172.16.226.167/shibboleth</a>". Relying party conf for this could be;</p>
        <div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
         <div class="codeContent panelContent pdl"> 
          <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">&lt;rp:RelyingParty id="http://172.16.226.167/shibboleth"
provider="https://idp-dev.ucsf.edu/idp/shibboleth"
defaultSigningCredentialRef="IdPCredential"&gt;
&lt;rp:ProfileConfiguration xsi:type="saml:SAML2SSOProfile"
signResponses="never"
signAssertions="never"
encryptAssertions="never"
/&gt;
&lt;/rp:RelyingParty&gt;</pre> 
         </div>
        </div>
        <p>&nbsp;</p>
        <p><br> If you want encrypted assertion and signed, then you need to provide certs to passport saml. If you are running your node app in unix, you could install shibboleth SP ( yum -y install shibboleth.x86_64 on centos ) and then get all the necessary params needed like certs, keys.</p>
        <p>Depending upon how you structure your implementation, it could go in separate conf module or it can go into <a class="external-link" href="http://app.sj" rel="nofollow">app.j</a>s for simplicity or test.</p>
        <h4 id="Node.JSSSOwithShibbolethSAMLIdentityProvider(IDP)-6.Protectyourroute/urlinyournodejsappbycallingpassport.authenticatemethod">6. Protect your route/url in your node js app by calling passport.authenticate method</h4>
        <p><br> For Example;</p>
        <div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
         <div class="codeContent panelContent pdl"> 
          <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">app.get('/SSOLogin',
passport.authenticate('saml', { failureRedirect: '/', failureFlash: true }),
function(req, res) {
res.redirect('/');
}
);</pre> 
         </div>
        </div>
        <p>&nbsp;</p>
        <h4 id="Node.JSSSOwithShibbolethSAMLIdentityProvider(IDP)-7.ProvideSPmetadatatoIDP."><br>7. Provide SP metadata to IDP.</h4>
        <p>I used SP metadata created by my installing shibd in step 5 to give it to IDP. I also used this SP to define SP entity Id. Only thing that you need to change in the SP metadata created is to define ACS is to define ACS for the call back as below;</p>
        <p>&lt;md:AssertionConsumerService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Location="<a class="external-link" href="http://172.16.226.167:3000/login/callback" rel="nofollow">http://172.16.226.167:3000/login/callback</a>" index="1"/&gt;</p>
        <p>Note that passport saml only can take in http-post profile call. Hence callback to this has to be defined for this ACS.</p>
        <p>&nbsp;</p>
        <h4 id="Node.JSSSOwithShibbolethSAMLIdentityProvider(IDP)-8.Startyournodejsappandidpthentest.">8. Start your node js app and idp then test.</h4>
        <p><br> If passport saml configuration seems too vague then you can have a closer look at it by using an example implementation provided by Gerard Braad at, <a class="external-link" href="https://github.com/gbraad/passport-saml-example/" rel="nofollow">https://github.com/gbraad/passport-saml-example/</a>. I used this for setting up sample integration. When I used this I had to made some modification to grab the desiered attribute after successful login. Since it was looking for NameId based format it had to be fixed on IDP.</p>
        <div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
         <div class="codeContent panelContent pdl"> 
          <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">&lt;resolver:AttributeDefinition id="uidNameID"
xsi:type="ad:Simple"
sourceAttributeID="ucsfEduID"
&gt;
&lt;resolver:Dependency ref="ldap" /&gt;
&lt;resolver:AttributeEncoder xsi:type="enc:SAML1String"
name="urn:mace:dir:attribute-def:uidNameID" /&gt;
&lt;resolver:AttributeEncoder xsi:type="enc:SAML2StringNameID"
nameFormat="urn:oasis:names:tc:SAML:1.1:nameid-format:uidNameID" /&gt;
&lt;/resolver:AttributeDefinition&gt;</pre> 
         </div>
        </div>
        <p>&nbsp;</p>
        <p>I also did minor custom code to get attributes that I wanted on saml.js file, as below;</p>
        <div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
         <div class="codeContent panelContent pdl"> 
          <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">--
-- for given name
--
if (!profile.givenName &amp;&amp; profile['urn:oid:2.5.4.42']) {
profile.givenName = profile['urn:oid:2.5.4.42'];
}
if (!profile.givenName &amp;&amp; profile.givenName) {
profile.givenName = profile.givenName;</pre> 
         </div>
        </div>
        <p>&nbsp;</p>
        <p>For simplicity, The above use case did not use SSL and cert in SP communication. If you are doing this for production, make sure your hosts are TLS secured and SAML communication is signed and encrypted. Have Fun Integrating NodeJS with Shibboleth.</p>
        <p>&nbsp;</p>
        <div>
         <span style="line-height: 22.222223px;"><br></span>
        </div> 
       </div> 
       <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://wiki.library.ucsf.edu/pages/viewpage.action?pageId=361762610"
    dc:identifier="https://wiki.library.ucsf.edu/pages/viewpage.action?pageId=361762610"
    dc:title="Node.JS SSO with Shibboleth SAML Identity Provider (IDP)"
    trackback:ping="https://wiki.library.ucsf.edu/rpc/trackback/361762610"/>
</rdf:RDF>
--> 
       <div id="labels-section" class="pageSection group"> 
        <div class="labels-section-content content-column" entityid="361762610" entitytype="page"> 
         <div class="labels-content"> 
          <ul class="label-list label-list-right "> 
           <li class="no-labels-message"> No labels </li> 
          </ul> 
         </div> 
        </div> 
       </div> 
       <div id="comments-section" class="pageSection group"> 
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
   <div id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul id="poweredby"> 
      <li class="noprint">Powered by <a href="http://www.atlassian.com/software/confluence" class="hover-footer-link" rel="nofollow">Atlassian Confluence</a> <span id="footer-build-information">5.10.7</span></li> 
      <li class="print-only">Printed by Atlassian Confluence 5.10.7</li> 
      <li class="noprint"><a href="https://jira.atlassian.com/browse/CONF" class="hover-footer-link" rel="nofollow">Report a bug</a></li> 
      <li class="noprint"><a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=Confluence-stayintouch" class="hover-footer-link" rel="nofollow">Atlassian News</a></li> 
     </ul> 
     <div id="footer-logo">
      <a href="http://www.atlassian.com/" rel="nofollow">Atlassian</a>
     </div> 
    </section> 
   </div> 
  </div> 
  <span style="display:none;" id="confluence-server-performance">{"serverDuration": 74, "requestCorrelationId": "1ae2c391ae2e6477"}</span>   
 </body>
</html>