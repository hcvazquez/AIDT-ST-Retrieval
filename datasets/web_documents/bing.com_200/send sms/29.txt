<!doctype html>
<html lang="en-GB">
 <head> 
  <title>How to read / send sms for QT Widget application &amp; C++ | Qt Forum</title> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <meta name="content-type" content="text/html; charset=UTF-8"> 
  <meta name="apple-mobile-web-app-capable" content="yes"> 
  <meta name="mobile-web-app-capable" content="yes"> 
  <meta property="og:site_name" content="Qt Forum"> 
  <meta name="msapplication-badge" content="frequency=30; polling-uri=https://forum.qt.io/sitemap.xml"> 
  <meta name="keywords" content="Qt,discussion,question,q&amp;a,answer,forum"> 
  <meta name="msapplication-square150x150logo" content="https://ddgobkiprc33d.cloudfront.net/bb9f67d1-3dc4-46a8-a767-fc0da3035553.png"> 
  <meta name="title" content="How to read / send sms for QT Widget application &amp; C++"> 
  <meta name="description" content="Hi, I am asking help on reading and sending sms form qt application written in C++ for Android device. I am quite new to QT, and need some pointers in the right direction how to do this. I found a few things like Telephony class or Easy Content providers ..."> 
  <meta property="og:title" content="How to read / send sms for QT Widget application &amp; C++"> 
  <meta property="og:description" content="Hi, I am asking help on reading and sending sms form qt application written in C++ for Android device. I am quite new to QT, and need some pointers in the right direction how to do this. I found a few things like Telephony class or Easy Content providers ..."> 
  <meta property="og:type" content="article"> 
  <meta property="og:image" content="https://www.gravatar.com/avatar/191c8505b408b6cf42ca6200f24870a5?size=192&amp;d=mm"> 
  <meta property="og:image:url" content="https://www.gravatar.com/avatar/191c8505b408b6cf42ca6200f24870a5?size=192&amp;d=mm"> 
  <meta property="article:published_time" content="2016-01-19T20:12:37.135Z"> 
  <meta property="article:modified_time" content="2016-04-14T16:12:09.906Z"> 
  <meta property="article:section" content="Mobile and Embedded"> 
  <meta property="og:url" content="https://forum.qt.io/topic/62977/how-to-read-send-sms-for-qt-widget-application-c"> 
  <meta property="og:image:width" content="200"> 
  <meta property="og:image:height" content="200"> 
  <link rel="stylesheet" type="text/css" href="/assets/stylesheet.css?v=amvd9bhs4ho"> 
  <link rel="icon" type="image/x-icon" href="/favicon.ico?v=amvd9bhs4ho"> 
  <link rel="manifest" href="/manifest.json"> 
  <link rel="search" type="application/opensearchdescription+xml" href="/osd.xml"> 
  <link rel="stylesheet" href="/plugins/nodebb-plugin-markdown/styles/googlecode.css"> 
  <link rel="prefetch" href="/assets/src/modules/highlight.js?v=amvd9bhs4ho"> 
  <link rel="prefetch" href="/assets/language/en-GB/markdown.json?v=amvd9bhs4ho"> 
  <link rel="prefetch" href="/assets/src/modules/composer.js?v=amvd9bhs4ho"> 
  <link rel="prefetch" href="/assets/src/modules/composer/uploads.js?v=amvd9bhs4ho"> 
  <link rel="prefetch" href="/assets/src/modules/composer/drafts.js?v=amvd9bhs4ho"> 
  <link rel="prefetch" href="/assets/src/modules/composer/tags.js?v=amvd9bhs4ho"> 
  <link rel="prefetch" href="/assets/src/modules/composer/categoryList.js?v=amvd9bhs4ho"> 
  <link rel="prefetch" href="/assets/src/modules/composer/resize.js?v=amvd9bhs4ho"> 
  <link rel="prefetch" href="/assets/src/modules/composer/autocomplete.js?v=amvd9bhs4ho"> 
  <link rel="prefetch" href="/assets/templates/composer.tpl?v=amvd9bhs4ho"> 
  <link rel="prefetch" href="/assets/language/en-GB/topic.json?v=amvd9bhs4ho"> 
  <link rel="prefetch" href="/assets/language/en-GB/modules.json?v=amvd9bhs4ho"> 
  <link rel="prefetch" href="/assets/language/en-GB/tags.json?v=amvd9bhs4ho"> 
  <link rel="alternate" type="application/rss+xml" href="https://forum.qt.io/topic/62977.rss"> 
  <link rel="up" href="https://forum.qt.io/category/11/mobile-and-embedded"> 
  <script>
		var RELATIVE_PATH = "";
		var config = JSON.parse('{"environment":"production","relative_path":"","version":"1.5.0","siteTitle":"Qt Forum","browserTitle":"Qt Forum","titleLayout":"&#123;pageTitle&#125; | &#123;browserTitle&#125;","showSiteTitle":true,"minimumTitleLength":"3","maximumTitleLength":"255","minimumPostLength":"8","maximumPostLength":"32767","minimumTagsPerTopic":0,"maximumTagsPerTopic":5,"minimumTagLength":3,"maximumTagLength":15,"hasImageUploadPlugin":true,"useOutgoingLinksPage":false,"allowGuestSearching":true,"allowGuestUserSearching":false,"allowGuestHandles":false,"allowFileUploads":true,"allowTopicsThumbnail":false,"usePagination":false,"disableChat":false,"disableChatMessageEditing":false,"socketioTransports":["websocket","polling"],"websocketAddress":"","maxReconnectionAttempts":"5","reconnectionDelay":"3000","topicsPerPage":"40","postsPerPage":"40","maximumFileSize":"2048","theme:id":"nodebb-theme-qt","theme:src":"","defaultLang":"en-GB","userLang":"en-GB","loggedIn":false,"cache-buster":"v=amvd9bhs4ho","requireEmailConfirmation":false,"topicPostSort":"oldest_to_newest","categoryTopicSort":"newest_to_oldest","csrf_token":"FiuJ6kgh-lssvy5BQBrrybx_mz1pkw8USNek","searchEnabled":true,"bootswatchSkin":"noskin","defaultBootswatchSkin":"noskin","timeagoCutoff":30,"cookies":{"enabled":false,"message":"[[global:cookies.message]]","dismiss":"[[global:cookies.accept]]","link":"[[global:cookies.learn_more]]"},"topicSearchEnabled":false,"delayImageLoading":true,"markdown":{"highlight":1,"theme":"googlecode.css"},"hideSubCategories":false,"hideCategoryLastPost":false,"enableQuickReply":false,"composer-default":{},"question-and-answer":{"makeDefault":"on","defaultCid":"0","forceQuestions":"on","defaultCid_4":"off","defaultCid_10":"off","defaultCid_11":"off","defaultCid_12":"off","defaultCid_13":"off","defaultCid_14":"off","defaultCid_52":"off","defaultCid_17":"off","defaultCid_21":"off","defaultCid_54":"off","defaultCid_20":"off","defaultCid_15":"off","defaultCid_45":"off","defaultCid_18":"off","defaultCid_19":"off","defaultCid_22":"off","defaultCid_53":"off","defaultCid_3":"off","defaultCid_6":"off","defaultCid_7":"off","defaultCid_23":"off","defaultCid_8":"off","defaultCid_9":"off","defaultCid_24":"off","defaultCid_25":"off","defaultCid_49":"off","defaultCid_48":"off","defaultCid_47":"off","defaultCid_34":"off","defaultCid_35":"off","defaultCid_36":"off","defaultCid_29":"off","defaultCid_39":"off","defaultCid_37":"off","defaultCid_46":"off","defaultCid_28":"off","defaultCid_43":"off","defaultCid_33":"off","defaultCid_26":"off","defaultCid_30":"off","defaultCid_40":"off","defaultCid_38":"off","defaultCid_42":"off","defaultCid_32":"off","defaultCid_41":"off","defaultCid_27":"off","defaultCid_31":"off","defaultCid_50":"off","defaultCid_51":"off","defaultCid_2":"off","defaultCid_5":"off","defaultCid_16":"off","defaultCid_44":"off","defaultCid_55":"off"}}');
		var app = {
			template: "topic",
			user: JSON.parse('{"uid":0,"username":"Guest","userslug":"","email":"","picture":"","status":"offline","reputation":0,"email:confirmed":false,"isAdmin":false,"isGlobalMod":false,"isMod":false,"isEmailConfirmSent":false}')
		};
	</script> 
  <script src="/assets/nodebb.min.js?v=amvd9bhs4ho"></script> 
 </head> 
 <body class="page-topic page-topic-62977 page-topic-how-to-read-send-sms-for-qt-widget-application-c skin-noskin"> 
  <nav id="menu" class="hidden"> 
   <section class="menu-profile"> 
   </section> 
   <section class="menu-section" data-section="navigation"> 
    <h3 class="menu-section-title">Navigation</h3> 
    <ul class="menu-section-list"></ul> 
   </section> 
  </nav> 
  <main id="panel"> 
   <nav class="navbar navbar-default navbar-fixed-top header" id="header-menu" component="navbar"> 
    <div class="container"> 
     <div class="navbar-header"> 
      <button type="button" class="navbar-toggle" id="mobile-menu"> <span component="notifications/icon" class="notification-icon fa fa-fw fa-bell-o" data-content="0"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> 
      <a href="/"> <img alt="" class=" forum-logo" src="https://ddgobkiprc33d.cloudfront.net/bb9f67d1-3dc4-46a8-a767-fc0da3035553.png"> </a> 
      <a href="/"> <h1 class="navbar-brand forum-title">Qt Forum</h1> </a> 
      <div component="navbar/title" class="visible-xs hidden"> 
       <span></span> 
      </div> 
     </div> 
     <div id="nav-dropdown" class="hidden-xs"> 
      <ul id="logged-out-menu" class="nav navbar-nav navbar-right"> 
       <li> <a href="/login"> <i class="fa fa-sign-in visible-xs-inline"></i> <span>Login</span> </a> </li> 
      </ul> 
      <ul class="nav navbar-nav navbar-right"> 
       <li> 
        <form id="search-form" class="navbar-form navbar-right hidden-xs" role="search" method="GET" action=""> 
         <button id="search-button" type="button" class="btn btn-link"><i class="fa fa-search fa-fw" title="Search"></i></button> 
         <div class="hidden" id="search-fields"> 
          <div class="form-group"> 
           <input type="text" class="form-control" placeholder="Search" name="query" value=""> 
           <a href="#"><i class="fa fa-gears fa-fw advanced-search-link"></i></a> 
          </div> 
          <button type="submit" class="btn btn-default hide">Search</button> 
         </div> 
        </form> </li> 
       <li class="visible-xs" id="search-menu"> <a href="/search"> <i class="fa fa-search fa-fw"></i> Search </a> </li> 
      </ul> 
      <ul class="nav navbar-nav navbar-right hidden-xs"> 
       <li> <a href="#" id="reconnect" class="hide" title="Connection to Qt Forum has been lost, attempting to reconnect..."> <i class="fa fa-check"></i> </a> </li> 
      </ul> 
      <ul class="nav navbar-nav navbar-right pagination-block visible-lg visible-md"> 
       <li class="dropdown"> <a><i class="fa fa-angle-double-up pointer fa-fw pagetop"></i></a> <a><i class="fa fa-angle-up pointer fa-fw pageup"></i></a> <a href="#" class="dropdown-toggle" data-toggle="dropdown"> <span class="pagination-text"></span> </a> <a><i class="fa fa-angle-down pointer fa-fw pagedown"></i></a> <a><i class="fa fa-angle-double-down pointer fa-fw pagebottom"></i></a> 
        <div class="progress-container"> 
         <div class="progress-bar"></div> 
        </div> 
        <ul class="dropdown-menu" role="menu"> 
         <input type="text" class="form-control" id="indexInput" placeholder="Enter index"> 
        </ul> </li> 
      </ul> 
      <ul id="main-nav" class="nav navbar-nav"> 
       <li class=""> <a href="/categories" title="Categories"> <i class="fa fa-fw fa-list"></i> <span class="visible-xs-inline">Categories</span> </a> </li> 
       <li class=""> <a href="/recent" title="Recent"> <i class="fa fa-fw fa-clock-o"></i> <span class="visible-xs-inline">Recent</span> </a> </li> 
       <li class=""> <a href="/tags" title="Tags"> <i class="fa fa-fw fa-tags"></i> <span class="visible-xs-inline">Tags</span> </a> </li> 
       <li class=""> <a href="/popular" title="Popular"> <i class="fa fa-fw fa-fire"></i> <span class="visible-xs-inline">Popular</span> </a> </li> 
       <li class=""> <a href="/groups" title="Groups"> <i class="fa fa-fw fa-group"></i> <span class="visible-xs-inline">Groups</span> </a> </li> 
       <li class=""> <a href="/search" title="Search"> <i class="fa fa-fw fa-search"></i> <span class="visible-xs-inline">Search</span> </a> </li> 
      </ul> 
     </div> 
    </div> 
   </nav> 
   <div class="container" id="content"> 
    <noscript> 
     <div class="alert alert-danger"> 
      <p> Your browser does not seem to support JavaScript. As a result, your viewing experience will be diminished, and you have been placed in <strong>read-only mode</strong>. </p> 
      <p> Please download a browser that supports JavaScript, or enable it if it's disabled (i.e. NoScript). </p> 
     </div> 
    </noscript> 
    <ol class="breadcrumb"> 
     <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb"> <a href="/" itemprop="url"> <span itemprop="title"> Home </span> </a> </li> 
     <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb"> <a href="/category/4/qt-development" itemprop="url"> <span itemprop="title"> Qt Development </span> </a> </li> 
     <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb"> <a href="/category/11/mobile-and-embedded" itemprop="url"> <span itemprop="title"> Mobile and Embedded </span> </a> </li> 
     <li component="breadcrumb/current" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" class="active"> <span itemprop="title"> How to read / send sms for QT Widget application &amp; C++ <a target="_blank" href="/topic/62977.rss"><i class="fa fa-rss-square"></i></a> </span> </li> 
    </ol> 
    <div widget-area="header"></div> 
    <div class="row"> 
     <div class="topic col-lg-12 col-sm-12" has-widget-class="topic col-lg-9 col-sm-12" has-widget-target="sidebar"> 
      <h1 component="post/header" class="hidden-xs" itemprop="name"> <i class="pull-left fa fa-thumb-tack hidden" title="Pinned"></i> <i class="pull-left fa fa-lock hidden" title="Locked"></i> <i class="pull-left fa fa-arrow-circle-right hidden" title="Moved"></i> <span class="topic-title" component="topic/title">How to read / send sms for QT Widget application &amp; C++</span> </h1> 
      <div component="topic/deleted/message" class="alert alert-warning hidden clearfix"> 
       <span class="pull-left">This topic has been deleted. Only users with topic management privileges can see it.</span> 
       <span class="pull-right"> </span> 
      </div> 
      <hr class="visible-xs"> 
      <ul component="topic" class="posts" data-tid="62977" data-cid="11"> 
       <li component="post" class="" data-index="0" data-pid="308245" data-uid="26277" data-timestamp="1453234358478" data-username="QTUserForAndroid" data-userslug="qtuserforandroid" itemscope itemtype="http://schema.org/Comment"> <a component="post/anchor" data-index="0" name="0"></a> 
        <meta itemprop="datePublished" content="2016-01-19T20:12:38.478Z"> 
        <meta itemprop="dateModified" content="2016-04-12T20:27:33.500Z"> 
        <div class="clearfix post-header"> 
         <div class="icon pull-left"> 
          <a href="/user/qtuserforandroid"> <img component="user/picture" data-uid="26277" src="https://www.gravatar.com/avatar/191c8505b408b6cf42ca6200f24870a5?size=192&amp;d=mm" align="left" itemprop="image"> <i component="user/status" class="fa fa-circle status offline" title="Offline"></i> </a> 
         </div> 
         <small class="pull-left"> <strong> <a href="/user/qtuserforandroid" itemprop="author" data-username="QTUserForAndroid" data-uid="26277">QTUserForAndroid</a> </strong> 
          <div class="visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block"> 
           <a class="permalink" href="/post/308245"><span class="timeago" title="2016-01-19T20:12:38.478Z"></span></a> 
           <i class="fa fa-pencil-square pointer edit-icon "></i> 
           <small data-editor="qtuserforandroid" component="post/editor" class="hidden">last edited by QTUserForAndroid <span class="timeago" title="2016-04-12T20:27:33.500Z"></span></small> 
           <span> </span> 
          </div> <span class="bookmarked"><i class="fa fa-bookmark-o"></i></span> </small> 
        </div> <br> 
        <div class="content" component="post/content" itemprop="text"> 
         <p>Hi, I am asking help on reading and sending sms form qt application written in C++ for Android device. I am quite new to QT, and need some pointers in the right direction how to do this.</p> 
         <p>I found a few things like<br> Telephony class or<br> Easy Content providers <a href="https://github.com/EverythingMe/easy-content-providers#sample-app" rel="nofollow">https://github.com/EverythingMe/easy-content-providers#sample-app</a> (looks like a JAVA sample program)</p> 
         <p>Please help me with pointers what is the easiest way to do this, and if possible can you post a example. (Please include the #includes, header file and other changes needed).</p> 
         <p>Any help would be appreciated, to get me going.</p> 
         <p>Many thanks</p> 
        </div> 
        <div class="clearfix post-footer"> 
         <small class="pull-right"> <span class="post-tools"> <a component="post/reply" href="#" class="no-select hidden">Reply</a> <a component="post/quote" href="#" class="no-select hidden">Quote</a> </span> <span class="votes"> <a component="post/upvote" href="#" class=""> <i class="fa fa-chevron-up"></i> </a> <span component="post/vote-count" data-votes="0">0</span> <a component="post/downvote" href="#" class=""> <i class="fa fa-chevron-down"></i> </a> </span> <span component="post/tools" class="dropdown moderator-tools bottom-sheet "> <a href="#" data-toggle="dropdown"><i class="fa fa-fw fa-ellipsis-v"></i></a> 
           <ul class="dropdown-menu dropdown-menu-right" role="menu"></ul> </span> </small> 
         <a component="post/reply-count" href="#" class="threaded-replies no-select hidden"> <span component="post/reply-count/avatars" class="avatars "> </span> <span class="replies-count" component="post/reply-count/text" data-replies="0">0 Replies</span> <span class="replies-last hidden-xs">Last reply <span class="timeago" title=""></span></span> <i class="fa fa-fw fa-chevron-right" component="post/replies/open"></i> <i class="fa fa-fw fa-chevron-down hidden" component="post/replies/close"></i> <i class="fa fa-fw fa-spin fa-spinner hidden" component="post/replies/loading"></i> </a> 
        </div> 
        <hr> 
        <div class="post-bar-placeholder"></div> </li> 
       <li component="post" class="" data-index="1" data-pid="308345" data-uid="10616" data-timestamp="1453276498324" data-username="raven-worx" data-userslug="raven-worx" itemscope itemtype="http://schema.org/Comment"> <a component="post/anchor" data-index="1" name="1"></a> 
        <meta itemprop="datePublished" content="2016-01-20T07:54:58.324Z"> 
        <meta itemprop="dateModified" content=""> 
        <div class="clearfix post-header"> 
         <div class="icon pull-left"> 
          <a href="/user/raven-worx"> <img component="user/picture" data-uid="10616" src="https://www.gravatar.com/avatar/a8965944c97d83c0bcbb1e860533148d?size=192&amp;d=mm" align="left" itemprop="image"> <i component="user/status" class="fa fa-circle status offline" title="Offline"></i> </a> 
         </div> 
         <small class="pull-left"> <strong> <a href="/user/raven-worx" itemprop="author" data-username="raven-worx" data-uid="10616">raven-worx</a> </strong> <a href="/groups/moderators"><small class="label group-label inline-block" style="background-color: #408500;"><i class="fa fa-check-square-o"></i> Moderators</small></a> 
          <div class="visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block"> 
           <a class="permalink" href="/post/308345"><span class="timeago" title="2016-01-20T07:54:58.324Z"></span></a> 
           <i class="fa fa-pencil-square pointer edit-icon hidden"></i> 
           <small data-editor="" component="post/editor" class="hidden">last edited by <span class="timeago" title=""></span></small> 
           <span> </span> 
          </div> <span class="bookmarked"><i class="fa fa-bookmark-o"></i></span> </small> 
        </div> <br> 
        <div class="content" component="post/content" itemprop="text"> 
         <p>you will need to call the Android API directly from Qt, using <a href="doc.qt.io/qt-5/qandroidjniobject.html">QtAndroidExtras</a> module. Search for "Qt JNI" and additionally how to read SMS on android on the web for more resources.<br> Basically you need to create a JAVA file in your app with a method which does what you want and simply call this method via JNI from your Qt code.</p> 
        </div> 
        <div class="clearfix post-footer"> 
         <div component="post/signature" data-uid="10616" class="post-signature">
          <p>---- SUPPORT REQUESTS VIA CHAT WILL BE IGNORED ----<br> If you have a question please use the forum so others can benefit from the solution in the future</p> 
         </div> 
         <small class="pull-right"> <span class="post-tools"> <a component="post/reply" href="#" class="no-select hidden">Reply</a> <a component="post/quote" href="#" class="no-select hidden">Quote</a> </span> <span class="votes"> <a component="post/upvote" href="#" class=""> <i class="fa fa-chevron-up"></i> </a> <span component="post/vote-count" data-votes="0">0</span> <a component="post/downvote" href="#" class=""> <i class="fa fa-chevron-down"></i> </a> </span> <span component="post/tools" class="dropdown moderator-tools bottom-sheet "> <a href="#" data-toggle="dropdown"><i class="fa fa-fw fa-ellipsis-v"></i></a> 
           <ul class="dropdown-menu dropdown-menu-right" role="menu"></ul> </span> </small> 
         <a component="post/reply-count" href="#" class="threaded-replies no-select "> <span component="post/reply-count/avatars" class="avatars "> <span><img component="user/picture" data-uid="26277" title="QTUserForAndroid" class="avatar" src="https://www.gravatar.com/avatar/191c8505b408b6cf42ca6200f24870a5?size=192&amp;d=mm" itemprop="image"></span> </span> <span class="replies-count" component="post/reply-count/text" data-replies="1">1 Replies</span> <span class="replies-last hidden-xs">Last reply <span class="timeago" title="2016-03-01T19:48:37.270Z"></span></span> <i class="fa fa-fw fa-chevron-right" component="post/replies/open"></i> <i class="fa fa-fw fa-chevron-down hidden" component="post/replies/close"></i> <i class="fa fa-fw fa-spin fa-spinner hidden" component="post/replies/loading"></i> </a> 
        </div> 
        <hr> </li> 
       <li component="post" class="" data-index="2" data-pid="316086" data-uid="26277" data-timestamp="1456861717270" data-username="QTUserForAndroid" data-userslug="qtuserforandroid" itemscope itemtype="http://schema.org/Comment"> <a component="post/anchor" data-index="2" name="2"></a> 
        <meta itemprop="datePublished" content="2016-03-01T19:48:37.270Z"> 
        <meta itemprop="dateModified" content=""> 
        <div class="clearfix post-header"> 
         <div class="icon pull-left"> 
          <a href="/user/qtuserforandroid"> <img component="user/picture" data-uid="26277" src="https://www.gravatar.com/avatar/191c8505b408b6cf42ca6200f24870a5?size=192&amp;d=mm" align="left" itemprop="image"> <i component="user/status" class="fa fa-circle status offline" title="Offline"></i> </a> 
         </div> 
         <small class="pull-left"> <strong> <a href="/user/qtuserforandroid" itemprop="author" data-username="QTUserForAndroid" data-uid="26277">QTUserForAndroid</a> </strong> 
          <div class="visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block"> 
           <a class="permalink" href="/post/316086"><span class="timeago" title="2016-03-01T19:48:37.270Z"></span></a> 
           <i class="fa fa-pencil-square pointer edit-icon hidden"></i> 
           <small data-editor="" component="post/editor" class="hidden">last edited by <span class="timeago" title=""></span></small> 
           <a component="post/parent" class="btn btn-xs btn-default hidden-xs" data-topid="308345" href="/post/308345"><i class="fa fa-reply"></i> @raven-worx</a> 
           <span> </span> 
          </div> <span class="bookmarked"><i class="fa fa-bookmark-o"></i></span> </small> 
        </div> <br> 
        <div class="content" component="post/content" itemprop="text"> 
         <p>Hi, i tried the JNI example, and got it working, but JNI is only for static JAVA calls. All the sms send /receive examples i could find (java) use a non static call. So i investigated how to do a non static call, but no success so far.</p> 
         <p>After many many searches on the web, i found a article (in French) how to send a sms with SMSManager Class, calling the API function SendTextMessage() directly from QT C++ code. This works perfectly, but unfortunately only give a example on a send sms.<br> <a href="http://grimaldi.univ-tln.fr/une-application-qt-android-qui-envoie-des-sms.html" rel="nofollow">http://grimaldi.univ-tln.fr/une-application-qt-android-qui-envoie-des-sms.html</a></p> 
         <p>So my Question: Can the smsmanager class receive sms? I do not see a function call for this<br> <a href="http://developer.android.com/reference/android/telephony/SmsManager.html" rel="nofollow">http://developer.android.com/reference/android/telephony/SmsManager.html</a></p> 
         <p>Or do i need to use something like smsmessage class<br> <a href="http://developer.android.com/reference/android/telephony/SmsMessage.html" rel="nofollow">http://developer.android.com/reference/android/telephony/SmsMessage.html</a></p> 
         <p>Except for the send sms example (French site), i do not find any examples on the web how to send and receive sms via a QT Widget C++ application for Android? Why is no one using it? I must be looking at the wrong places!! I do find several java examples (non static) but cannot get the call to the java non static function from QT working.</p> 
         <p>I would like to</p> 
         <ol> 
          <li>Read my Android phone inbox</li> 
          <li>Retrieve sms messages as they arrive.</li> 
         </ol> 
         <p>Any help will be appreciated, a QT example would be much appreciated. I am really stuck now after weeks of trying and searching the web.</p> 
         <p>Thanks</p> 
        </div> 
        <div class="clearfix post-footer"> 
         <small class="pull-right"> <span class="post-tools"> <a component="post/reply" href="#" class="no-select hidden">Reply</a> <a component="post/quote" href="#" class="no-select hidden">Quote</a> </span> <span class="votes"> <a component="post/upvote" href="#" class=""> <i class="fa fa-chevron-up"></i> </a> <span component="post/vote-count" data-votes="0">0</span> <a component="post/downvote" href="#" class=""> <i class="fa fa-chevron-down"></i> </a> </span> <span component="post/tools" class="dropdown moderator-tools bottom-sheet "> <a href="#" data-toggle="dropdown"><i class="fa fa-fw fa-ellipsis-v"></i></a> 
           <ul class="dropdown-menu dropdown-menu-right" role="menu"></ul> </span> </small> 
         <a component="post/reply-count" href="#" class="threaded-replies no-select hidden"> <span component="post/reply-count/avatars" class="avatars "> </span> <span class="replies-count" component="post/reply-count/text" data-replies="0">0 Replies</span> <span class="replies-last hidden-xs">Last reply <span class="timeago" title=""></span></span> <i class="fa fa-fw fa-chevron-right" component="post/replies/open"></i> <i class="fa fa-fw fa-chevron-down hidden" component="post/replies/close"></i> <i class="fa fa-fw fa-spin fa-spinner hidden" component="post/replies/loading"></i> </a> 
        </div> 
        <hr> </li> 
       <li component="post" class="" data-index="3" data-pid="321988" data-uid="26277" data-timestamp="1460492521863" data-username="QTUserForAndroid" data-userslug="qtuserforandroid" itemscope itemtype="http://schema.org/Comment"> <a component="post/anchor" data-index="3" name="3"></a> 
        <meta itemprop="datePublished" content="2016-04-12T20:22:01.863Z"> 
        <meta itemprop="dateModified" content="2016-04-12T20:59:41.624Z"> 
        <div class="clearfix post-header"> 
         <div class="icon pull-left"> 
          <a href="/user/qtuserforandroid"> <img component="user/picture" data-uid="26277" src="https://www.gravatar.com/avatar/191c8505b408b6cf42ca6200f24870a5?size=192&amp;d=mm" align="left" itemprop="image"> <i component="user/status" class="fa fa-circle status offline" title="Offline"></i> </a> 
         </div> 
         <small class="pull-left"> <strong> <a href="/user/qtuserforandroid" itemprop="author" data-username="QTUserForAndroid" data-uid="26277">QTUserForAndroid</a> </strong> 
          <div class="visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block"> 
           <a class="permalink" href="/post/321988"><span class="timeago" title="2016-04-12T20:22:01.863Z"></span></a> 
           <i class="fa fa-pencil-square pointer edit-icon "></i> 
           <small data-editor="qtuserforandroid" component="post/editor" class="hidden">last edited by QTUserForAndroid <span class="timeago" title="2016-04-12T20:59:41.624Z"></span></small> 
           <span> </span> 
          </div> <span class="bookmarked"><i class="fa fa-bookmark-o"></i></span> </small> 
        </div> <br> 
        <div class="content" component="post/content" itemprop="text"> 
         <p>OK, no one is replying to this problem, nor can i find any example on the web. But what i did manage to get working is to call a static JAVA procedure from QT (JNI), and the Java Procedure then calls a non static JAVA procedure to send a sms, or receive a sms.<br> The send sms is working 100%, but i cannot get the receive sms to work. I guess the receive sms JAVA code must be a class of its own? It is compiling without a error but does not work. Crash in the java procedure sms_receive(int n)</p> 
         <p>Is there anyone who can help me. U need to be a JAVA expert to get this going!!</p> 
         <p>Thanks, here is my code so far.</p> 
         <pre><code>Mainwindow.cpp file

#include &lt;QtAndroidExtras/QAndroidJniObject&gt; // For JNI, need to select Android Build
#include &lt;QAndroidJniObject&gt;

int My_Procedure_Call_SendSMS(int n)
{
int Answer1;
Answer1 =  QAndroidJniObject::callStaticMethod&lt;jint&gt;("org/qtproject/qt5/android/bindings/MyActivity","JAVA_Send_SMS","(I)I",n);
return Answer1;
}

int My_Procedure_Call_ReceiveSMS(int n)
{
int Answer2;
Answer2 =  QAndroidJniObject::callStaticMethod&lt;jint&gt;("org/qtproject/qt5/android/bindings/MyActivity","JAVA_Receive_SMS","(I)I",n);
return Answer2;
}

MyActivity.java

import org.qtproject.qt5.android.bindings.QtActivity;
import android.content.Intent;
import android.os.Bundle;
import android.util.Log;
import java.lang.String;

import android.app.Activity;


public class MyActivity extends QtActivity // This is the class
{

// Instantiation of this class
private static MyActivity m_instance;
public MyActivity()
{
    m_instance = this;
}

public static int JAVA_Send_SMS(int n)
{
int Answer1;

    Log.d(QtApplication.QtTAG, "JAVA_Send_SMS() entered");
    My_Java_Procedures java_procedures = new My_Java_Procedures();
    Answer1 = java_procedures.sms_send(n);
    return Answer1;
}
public static int JAVA_Receive_SMS(int n)
{
int Answer2;

    Log.d(QtApplication.QtTAG, "JAVA_Receive_SMS() entered");
    My_Java_Procedures java_procedures = new My_Java_Procedures();
    Answer2 = java_procedures.sms_receive(n);
    return Answer2;
}
}
My_Java_Procedures.java
package org.qtproject.qt5.android.bindings;

import android.app.Activity;
import android.content.ContentResolver;
import android.database.Cursor;
import android.net.Uri;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.ListView;
import android.widget.SimpleCursorAdapter;
import android.widget.TextView;

import android.content.Intent;

import java.util.HashSet;
import java.util.Set;
import java.util.StringTokenizer;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;

import android.os.Bundle;
import android.preference.PreferenceManager;
import android.telephony.SmsMessage;

import android.telephony.SmsManager; // For sending sms

public class My_Java_Procedures {

// Call Instantiation
// **********************************
public My_Java_Procedures My_Java_Procedures_instance;
{
    My_Java_Procedures_instance = this;
}
// **********************************

public int sms_send(int n)
{
// Remember to add your permisions to Android Manifest file
System.out.println("Eureka Send");

// http://pulse7.net/android/send-sms-message-android/
// Use import android.telephony.SmsManager;

// Initialize SmsManager Object
SmsManager smsManager = SmsManager.getDefault();

// Send Message using method of SmsManager object
smsManager.sendTextMessage("your cell number", null,"Message Body", null, null);
return n+10;
}


//public int sms_receive(Context context,Intent intent,int n)
public int sms_receive(int n)
{
    System.out.println("Debug message Receive SMS");

    // http://stackoverflow.com/questions/19856338/using-new-telephony-content-provider-to-read-sms
    Activity act = new Activity();
    //Intent intent = new Intent(this, DisplayMessageActivity.class);
    Cursor cursor = act.getApplicationContext().getContentResolver().query(Uri.parse("content://sms/inbox"), null, null, null, null);

    System.out.println("Debug 2");
    //ContentResolver resolver = getContentResolver();
    //Cursor cursor = resolver().query(Uri.parse("content://sms/inbox"), null, null, null, null);

// http://www.learn-android-easily.com/2013/04/accessing-inbox-in-android.html
//    String senderNumber=cursor.getString(cursor.getColumnIndex("address"));
//    String smsBody=cursor.getString(cursor.getColumnIndex("body"));
//    String dateTime=cursor.getString(cursor.getColumnIndex("date"));

    if (cursor.moveToFirst()) { // must check the result to prevent exception
    System.out.println("Debug 3");
        do {
           String msgData = "";
           for(int idx=0;idx&lt;cursor.getColumnCount();idx++)
           {
               msgData += " " + cursor.getColumnName(idx) + ":" + cursor.getString(idx);
               System.out.println(msgData);
           }
           // use msgData
        } while (cursor.moveToNext());
    } else {
       // empty box, no SMS
    }

return n+100;
}
} // End Class

</code></pre> 
        </div> 
        <div class="clearfix post-footer"> 
         <small class="pull-right"> <span class="post-tools"> <a component="post/reply" href="#" class="no-select hidden">Reply</a> <a component="post/quote" href="#" class="no-select hidden">Quote</a> </span> <span class="votes"> <a component="post/upvote" href="#" class=""> <i class="fa fa-chevron-up"></i> </a> <span component="post/vote-count" data-votes="0">0</span> <a component="post/downvote" href="#" class=""> <i class="fa fa-chevron-down"></i> </a> </span> <span component="post/tools" class="dropdown moderator-tools bottom-sheet "> <a href="#" data-toggle="dropdown"><i class="fa fa-fw fa-ellipsis-v"></i></a> 
           <ul class="dropdown-menu dropdown-menu-right" role="menu"></ul> </span> </small> 
         <a component="post/reply-count" href="#" class="threaded-replies no-select hidden"> <span component="post/reply-count/avatars" class="avatars "> </span> <span class="replies-count" component="post/reply-count/text" data-replies="0">0 Replies</span> <span class="replies-last hidden-xs">Last reply <span class="timeago" title=""></span></span> <i class="fa fa-fw fa-chevron-right" component="post/replies/open"></i> <i class="fa fa-fw fa-chevron-down hidden" component="post/replies/close"></i> <i class="fa fa-fw fa-spin fa-spinner hidden" component="post/replies/loading"></i> </a> 
        </div> 
        <hr> </li> 
       <li component="post" class="" data-index="4" data-pid="322026" data-uid="5334" data-timestamp="1460527009031" data-username="kuzulis" data-userslug="kuzulis" itemscope itemtype="http://schema.org/Comment"> <a component="post/anchor" data-index="4" name="4"></a> 
        <meta itemprop="datePublished" content="2016-04-13T05:56:49.031Z"> 
        <meta itemprop="dateModified" content="2016-04-13T05:57:10.138Z"> 
        <div class="clearfix post-header"> 
         <div class="icon pull-left"> 
          <a href="/user/kuzulis"> <img component="user/picture" data-uid="5334" src="https://www.gravatar.com/avatar/4c0f9e7f5f690478f8b51b0e66fb33c0?size=192&amp;d=mm" align="left" itemprop="image"> <i component="user/status" class="fa fa-circle status offline" title="Offline"></i> </a> 
         </div> 
         <small class="pull-left"> <strong> <a href="/user/kuzulis" itemprop="author" data-username="kuzulis" data-uid="5334">kuzulis</a> </strong> 
          <div class="visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block"> 
           <a class="permalink" href="/post/322026"><span class="timeago" title="2016-04-13T05:56:49.031Z"></span></a> 
           <i class="fa fa-pencil-square pointer edit-icon "></i> 
           <small data-editor="kuzulis" component="post/editor" class="hidden">last edited by kuzulis <span class="timeago" title="2016-04-13T05:57:10.138Z"></span></small> 
           <span> </span> 
          </div> <span class="bookmarked"><i class="fa fa-bookmark-o"></i></span> </small> 
        </div> <br> 
        <div class="content" component="post/content" itemprop="text"> 
         <p>Send SMS:</p> 
         <pre><code>void Widget::on_pushButton_clicked()
{
    // get the Qt android activity
    QAndroidJniObject activity = QAndroidJniObject::callStaticObjectMethod("org/qtproject/qt5/android/QtNative",
                                                                            "activity",
                                                                            "()Landroid/app/Activity;");
    if (activity.isValid()){

        //get the default SmsManager
        QAndroidJniObject mySmsManager = QAndroidJniObject::callStaticObjectMethod("android/telephony/SmsManager",
                                                                                   "getDefault",
                                                                                   "()Landroid/telephony/SmsManager;");
        if (!mySmsManager.isValid()) {
            qDebug() &lt;&lt; "Something wrong with SMS manager...";
        } else {

            // get phone number &amp; text from UI and convert to Java String
            QAndroidJniObject myPhoneNumber = QAndroidJniObject::fromString(ui-&gt;lineEditDestinataire-&gt;text());
            QAndroidJniObject myTextMessage = QAndroidJniObject::fromString(ui-&gt;lineEditTexte-&gt;text());
            QAndroidJniObject scAddress = NULL;
            //QAndroidJniObject sentIntent = NULL;
            //QAndroidJniObject deliveryIntent = NULL;

            // call the java function:
            // public void SmsManager.sendTextMessage(String destinationAddress,
            //                                        String scAddress, String text,
            //                                        PendingIntent sentIntent, PendingIntent deliveryIntent)
            // see: http://developer.android.com/reference/android/telephony/SmsManager.html

            mySmsManager.callMethod&lt;void&gt;("sendTextMessage",
                                          "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Landroid/app/PendingIntent;Landroid/app/PendingIntent;)V",
                                          myPhoneNumber.object&lt;jstring&gt;(),
                                          scAddress.object&lt;jstring&gt;(),
                                          myTextMessage.object&lt;jstring&gt;(), NULL, NULL );
        }

    } else {
        qDebug() &lt;&lt; "Something wrong with Qt activity...";
    }
} 
</code></pre> 
        </div> 
        <div class="clearfix post-footer"> 
         <small class="pull-right"> <span class="post-tools"> <a component="post/reply" href="#" class="no-select hidden">Reply</a> <a component="post/quote" href="#" class="no-select hidden">Quote</a> </span> <span class="votes"> <a component="post/upvote" href="#" class=""> <i class="fa fa-chevron-up"></i> </a> <span component="post/vote-count" data-votes="0">0</span> <a component="post/downvote" href="#" class=""> <i class="fa fa-chevron-down"></i> </a> </span> <span component="post/tools" class="dropdown moderator-tools bottom-sheet "> <a href="#" data-toggle="dropdown"><i class="fa fa-fw fa-ellipsis-v"></i></a> 
           <ul class="dropdown-menu dropdown-menu-right" role="menu"></ul> </span> </small> 
         <a component="post/reply-count" href="#" class="threaded-replies no-select hidden"> <span component="post/reply-count/avatars" class="avatars "> </span> <span class="replies-count" component="post/reply-count/text" data-replies="0">0 Replies</span> <span class="replies-last hidden-xs">Last reply <span class="timeago" title=""></span></span> <i class="fa fa-fw fa-chevron-right" component="post/replies/open"></i> <i class="fa fa-fw fa-chevron-down hidden" component="post/replies/close"></i> <i class="fa fa-fw fa-spin fa-spinner hidden" component="post/replies/loading"></i> </a> 
        </div> 
        <hr> </li> 
       <li component="post" class="" data-index="5" data-pid="322322" data-uid="26277" data-timestamp="1460650329906" data-username="QTUserForAndroid" data-userslug="qtuserforandroid" itemscope itemtype="http://schema.org/Comment"> <a component="post/anchor" data-index="5" name="5"></a> 
        <meta itemprop="datePublished" content="2016-04-14T16:12:09.906Z"> 
        <meta itemprop="dateModified" content="2016-04-14T18:28:03.707Z"> 
        <div class="clearfix post-header"> 
         <div class="icon pull-left"> 
          <a href="/user/qtuserforandroid"> <img component="user/picture" data-uid="26277" src="https://www.gravatar.com/avatar/191c8505b408b6cf42ca6200f24870a5?size=192&amp;d=mm" align="left" itemprop="image"> <i component="user/status" class="fa fa-circle status offline" title="Offline"></i> </a> 
         </div> 
         <small class="pull-left"> <strong> <a href="/user/qtuserforandroid" itemprop="author" data-username="QTUserForAndroid" data-uid="26277">QTUserForAndroid</a> </strong> 
          <div class="visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block"> 
           <a class="permalink" href="/post/322322"><span class="timeago" title="2016-04-14T16:12:09.906Z"></span></a> 
           <i class="fa fa-pencil-square pointer edit-icon "></i> 
           <small data-editor="qtuserforandroid" component="post/editor" class="hidden">last edited by QTUserForAndroid <span class="timeago" title="2016-04-14T18:28:03.707Z"></span></small> 
           <span> </span> 
          </div> <span class="bookmarked"><i class="fa fa-bookmark-o"></i></span> </small> 
        </div> <br> 
        <div class="content" component="post/content" itemprop="text"> 
         <p>Thanks</p> 
         <p>I tried your example on how to send sms. Unfortunately the application crash when mySmsManager.callMethod&lt;void&gt;("sendTextMessage",.... is executed. Builds correctly.</p> 
         <p>But i think i have a problem with Qt 5.6 with Qt Extras not installed. Will go back to Qt 5.1.1 and test. Did test in Qt 5.5.1 Same crash problem. Probably some installation or package i need?</p> 
         <p>The only includes i added was<br> #include &lt;QDebug&gt;<br> #include &lt;QtAndroidExtras/QAndroidJniObject&gt; // For JNI, need to select Android Build<br> #include &lt;QAndroidJniObject&gt;</p> 
         <p>and added the QT extras in the Pro file</p> 
         <p>You don't perhaps have some clue or example on how to read the Android SMS inbox, and how to receive incomming sms on the fly?</p> 
         <p>Thanks</p> 
        </div> 
        <div class="clearfix post-footer"> 
         <small class="pull-right"> <span class="post-tools"> <a component="post/reply" href="#" class="no-select hidden">Reply</a> <a component="post/quote" href="#" class="no-select hidden">Quote</a> </span> <span class="votes"> <a component="post/upvote" href="#" class=""> <i class="fa fa-chevron-up"></i> </a> <span component="post/vote-count" data-votes="0">0</span> <a component="post/downvote" href="#" class=""> <i class="fa fa-chevron-down"></i> </a> </span> <span component="post/tools" class="dropdown moderator-tools bottom-sheet "> <a href="#" data-toggle="dropdown"><i class="fa fa-fw fa-ellipsis-v"></i></a> 
           <ul class="dropdown-menu dropdown-menu-right" role="menu"></ul> </span> </small> 
         <a component="post/reply-count" href="#" class="threaded-replies no-select hidden"> <span component="post/reply-count/avatars" class="avatars "> </span> <span class="replies-count" component="post/reply-count/text" data-replies="0">0 Replies</span> <span class="replies-last hidden-xs">Last reply <span class="timeago" title=""></span></span> <i class="fa fa-fw fa-chevron-right" component="post/replies/open"></i> <i class="fa fa-fw fa-chevron-down hidden" component="post/replies/close"></i> <i class="fa fa-fw fa-spin fa-spinner hidden" component="post/replies/loading"></i> </a> 
        </div> 
        <hr> </li> 
      </ul> 
      <div class="post-bar"> 
       <div class="clearfix"> 
        <div class="tags pull-left"> 
         <a href="/tags/sms"> <span class="tag-item" data-tag="sms" style="">sms</span> <span class="tag-topic-count human-readable-number" title="6">6</span></a> 
         <a href="/tags/android"> <span class="tag-item" data-tag="android" style="">android</span> <span class="tag-topic-count human-readable-number" title="367">367</span></a> 
         <a href="/tags/c++"> <span class="tag-item" data-tag="c++" style="">c++</span> <span class="tag-topic-count human-readable-number" title="329">329</span></a> 
         <a href="/tags/qt widget"> <span class="tag-item" data-tag="qt widget" style="">qt widget</span> <span class="tag-topic-count human-readable-number" title="1">1</span></a> 
         <a href="/tags/telephony class"> <span class="tag-item" data-tag="telephony class" style="">telephony class</span> <span class="tag-topic-count human-readable-number" title="1">1</span></a> 
        </div> 
        <div class="topic-main-buttons pull-right"> 
         <span class="loading-indicator btn pull-left hidden" done="0"> <span class="hidden-xs">Loading More Posts</span> <i class="fa fa-refresh fa-spin"></i> </span> 
         <div class="stats hidden-xs"> 
          <span component="topic/post-count" class="human-readable-number" title="6">6</span>
          <br> 
          <small>Posts</small> 
         </div> 
         <div class="stats hidden-xs"> 
          <span class="human-readable-number" title="3025">3025</span>
          <br> 
          <small>Views</small> 
         </div> 
         <div component="topic/reply/container" class="btn-group action-bar hidden"> 
          <button class="btn btn-primary" component="topic/reply">Reply</button> 
          <button type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown"> <span class="caret"></span> </button> 
          <ul class="dropdown-menu pull-right" role="menu"> 
           <li><a href="#" component="topic/reply-as-topic">Reply as topic</a></li> 
          </ul> 
         </div> 
         <a component="topic/reply/guest" href="/login" class="btn btn-primary">Log in to reply</a> 
         <div class="pull-right">
          &nbsp; 
         </div> 
        </div> 
       </div> 
       <hr> 
      </div> 
      <div class="visible-xs visible-sm pagination-block text-center"> 
       <div class="progress-bar"></div> 
       <div class="wrapper"> 
        <i class="fa fa-2x fa-angle-double-up pointer fa-fw pagetop"></i> 
        <i class="fa fa-2x fa-angle-up pointer fa-fw pageup"></i> 
        <span class="pagination-text"></span> 
        <i class="fa fa-2x fa-angle-down pointer fa-fw pagedown"></i> 
        <i class="fa fa-2x fa-angle-double-down pointer fa-fw pagebottom"></i> 
       </div> 
      </div> 
     </div> 
     <div widget-area="sidebar" class="col-lg-3 col-sm-12 hidden"></div> 
    </div> 
    <div widget-area="footer"></div> 
    <noscript> 
     <div component="pagination" class="text-center pagination-container hidden"> 
      <ul class="pagination hidden-xs"> 
       <li class="previous pull-left disabled"> <a href="?" data-page="1"><i class="fa fa-chevron-left"></i> </a> </li> 
       <li class="next pull-right disabled"> <a href="?" data-page="1"> <i class="fa fa-chevron-right"></i></a> </li> 
      </ul> 
      <ul class="pagination hidden-sm hidden-md hidden-lg"> 
       <li class="first disabled"> <a href="?page=1" data-page="1"><i class="fa fa-fast-backward"></i> </a> </li> 
       <li class="previous disabled"> <a href="?" data-page="1"><i class="fa fa-chevron-left"></i> </a> </li> 
       <li component="pagination/select-page" class="page select-page"> <a href="#">1 / 1</a> </li> 
       <li class="next disabled"> <a href="?" data-page="1"> <i class="fa fa-chevron-right"></i></a> </li> 
       <li class="last disabled"> <a href="?page=1" data-page="1"><i class="fa fa-fast-forward"></i> </a> </li> 
      </ul> 
     </div> 
    </noscript> 
    <script id="ajaxify-data" type="application/json">{"tid":62977,"uid":26277,"cid":11,"mainPid":"308245","title":"How to read &#x2F; send sms for QT Widget application &amp; C++","slug":"62977/how-to-read-send-sms-for-qt-widget-application-c","timestamp":1453234357135,"lastposttime":1460650329906,"postcount":6,"viewcount":3025,"locked":false,"deleted":false,"pinned":false,"teaserPid":"322322","titleRaw":"How to read / send sms for QT Widget application & C++","timestampISO":"2016-01-19T20:12:37.135Z","lastposttimeISO":"2016-04-14T16:12:09.906Z","tags":[{"value":"sms","color":"","bgColor":"","score":6},{"value":"android","color":"","bgColor":"","score":367},{"value":"c++","color":"","bgColor":"","score":329},{"value":"qt widget","color":"","bgColor":"","score":1},{"value":"telephony class","color":"","bgColor":"","score":1}],"posts":[{"pid":308245,"uid":26277,"tid":62977,"content":"<p>Hi, I am asking help on reading and sending sms form qt application written in C++ for Android device. I am quite new to QT, and need some pointers in the right direction how to do this.<\/p>\n<p>I found a few things like<br />\nTelephony class or<br />\nEasy Content providers <a href=\"https://github.com/EverythingMe/easy-content-providers#sample-app\" rel=\"nofollow\">https://github.com/EverythingMe/easy-content-providers#sample-app<\/a> (looks like a JAVA sample program)<\/p>\n<p>Please help me with pointers what is the easiest way to do this, and if possible can you post a example. (Please include the #includes, header file and other changes needed).<\/p>\n<p>Any help would be appreciated, to get me going.<\/p>\n<p>Many thanks<\/p>\n","timestamp":1453234358478,"votes":0,"editor":{"username":"QTUserForAndroid","userslug":"qtuserforandroid","uid":26277},"edited":1460492853500,"deleted":false,"upvotes":0,"downvotes":0,"timestampISO":"2016-01-19T20:12:38.478Z","editedISO":"2016-04-12T20:27:33.500Z","index":0,"user":{"username":"QTUserForAndroid","userslug":"qtuserforandroid","picture":"https://www.gravatar.com/avatar/191c8505b408b6cf42ca6200f24870a5?size=192&d=mm","fullname":"","signature":"","reputation":0,"postcount":16,"banned":false,"status":"offline","uid":26277,"lastonline":1460738334670,"groupTitle":null,"icon:text":"Q","icon:bgColor":"#795548","lastonlineISO":"2016-04-15T16:38:54.670Z","custom_profile_info":[]},"bookmarked":false,"upvoted":false,"downvoted":false,"replies":{"users":[],"timestampISO":"","count":0},"selfPost":false,"display_edit_tools":false,"display_delete_tools":false,"display_moderator_tools":false,"display_move_tools":false,"display_post_menu":true},{"pid":308345,"uid":10616,"tid":62977,"content":"<p>you will need to call the Android API directly from Qt, using <a href=\"doc.qt.io/qt-5/qandroidjniobject.html\">QtAndroidExtras<\/a> module. Search for &quot;Qt JNI&quot; and additionally how to read SMS on android on the web for more resources.<br />\nBasically you need to create a JAVA file in your app with a method which does what you want and simply call this method via JNI from your Qt code.<\/p>\n","timestamp":1453276498324,"votes":0,"editor":null,"edited":0,"deleted":false,"replies":{"timestampISO":"2016-03-01T19:48:37.270Z","users":[{"username":"QTUserForAndroid","userslug":"qtuserforandroid","picture":"https://www.gravatar.com/avatar/191c8505b408b6cf42ca6200f24870a5?size=192&d=mm","uid":26277,"icon:text":"Q","icon:bgColor":"#795548","status":"offline","administrator":false,"banned":false,"banned_until":0,"banned_until_readable":"Not Banned","email:confirmed":false}],"count":1},"upvotes":0,"downvotes":0,"timestampISO":"2016-01-20T07:54:58.324Z","editedISO":"","index":1,"user":{"username":"raven-worx","userslug":"raven-worx","picture":"https://www.gravatar.com/avatar/a8965944c97d83c0bcbb1e860533148d?size=192&d=mm","fullname":"","signature":"<p>---- SUPPORT REQUESTS VIA CHAT WILL BE IGNORED ----<br />\nIf you have a question please use the forum so others can benefit from the solution in the future<\/p>\n","reputation":1652,"postcount":3842,"banned":false,"status":"offline","uid":10616,"lastonline":1505485806270,"groupTitle":"Moderators","icon:text":"R","icon:bgColor":"#607d8b","lastonlineISO":"2017-09-15T14:30:06.270Z","selectedGroup":{"name":"Moderators","slug":"moderators","labelColor":"#408500","icon":"fa-check-square-o","userTitle":"Moderators"},"custom_profile_info":[]},"bookmarked":false,"upvoted":false,"downvoted":false,"selfPost":false,"display_edit_tools":false,"display_delete_tools":false,"display_moderator_tools":false,"display_move_tools":false,"display_post_menu":true},{"pid":316086,"uid":26277,"tid":62977,"content":"<p>Hi, i tried the JNI example, and got it working, but JNI is only for static JAVA calls. All the sms send /receive examples i could find (java) use a non static call. So i investigated how to do a non static call, but no success so far.<\/p>\n<p>After many many searches on the web, i found a article (in French) how to send a sms with SMSManager Class, calling the API function SendTextMessage()  directly from QT C++ code. This works perfectly, but unfortunately only give a example on a send sms.<br />\n<a href=\"http://grimaldi.univ-tln.fr/une-application-qt-android-qui-envoie-des-sms.html\" rel=\"nofollow\">http://grimaldi.univ-tln.fr/une-application-qt-android-qui-envoie-des-sms.html<\/a><\/p>\n<p>So my Question: Can the smsmanager class receive sms? I do not see a function call for this<br />\n<a href=\"http://developer.android.com/reference/android/telephony/SmsManager.html\" rel=\"nofollow\">http://developer.android.com/reference/android/telephony/SmsManager.html<\/a><\/p>\n<p>Or do i need to use something like smsmessage class<br />\n<a href=\"http://developer.android.com/reference/android/telephony/SmsMessage.html\" rel=\"nofollow\">http://developer.android.com/reference/android/telephony/SmsMessage.html<\/a><\/p>\n<p>Except for the send sms example (French site), i do not find any examples on the web how to send and receive sms via a QT Widget C++ application for Android? Why is no one using it? I must be looking at the wrong places!! I do find several java examples (non static) but cannot get the call to the java non static function from QT working.<\/p>\n<p>I would like to<\/p>\n<ol>\n<li>Read my Android phone inbox<\/li>\n<li>Retrieve sms messages as they arrive.<\/li>\n<\/ol>\n<p>Any help will be appreciated, a QT example would be much appreciated. I am really stuck now after weeks of trying and searching the web.<\/p>\n<p>Thanks<\/p>\n","timestamp":1456861717270,"votes":0,"editor":null,"edited":0,"deleted":false,"toPid":"308345","upvotes":0,"downvotes":0,"timestampISO":"2016-03-01T19:48:37.270Z","editedISO":"","index":2,"parent":{"username":"raven-worx"},"user":{"username":"QTUserForAndroid","userslug":"qtuserforandroid","picture":"https://www.gravatar.com/avatar/191c8505b408b6cf42ca6200f24870a5?size=192&d=mm","fullname":"","signature":"","reputation":0,"postcount":16,"banned":false,"status":"offline","uid":26277,"lastonline":1460738334670,"groupTitle":null,"icon:text":"Q","icon:bgColor":"#795548","lastonlineISO":"2016-04-15T16:38:54.670Z","custom_profile_info":[]},"bookmarked":false,"upvoted":false,"downvoted":false,"replies":{"users":[],"timestampISO":"","count":0},"selfPost":false,"display_edit_tools":false,"display_delete_tools":false,"display_moderator_tools":false,"display_move_tools":false,"display_post_menu":true},{"pid":321988,"uid":26277,"tid":62977,"content":"<p>OK, no one is replying to this problem, nor can i find any example on the web. But what i did manage to get working is to call a static JAVA procedure from QT (JNI), and the Java Procedure then calls a non static JAVA procedure to send a sms, or receive a sms.<br />\nThe send sms is working 100%, but i cannot get the receive sms to work. I guess the receive sms JAVA code must be a class of its own? It is compiling without a error but does not work. Crash in the java procedure sms_receive(int n)<\/p>\n<p>Is there anyone who can help me.  U need to be a JAVA expert to get this going!!<\/p>\n<p>Thanks, here is my code so far.<\/p>\n<pre><code>Mainwindow.cpp file\n\n#include &lt;QtAndroidExtras/QAndroidJniObject&gt; // For JNI, need to select Android Build\n#include &lt;QAndroidJniObject&gt;\n\nint My_Procedure_Call_SendSMS(int n)\n{\nint Answer1;\nAnswer1 =  QAndroidJniObject::callStaticMethod&lt;jint&gt;(&quot;org/qtproject/qt5/android/bindings/MyActivity&quot;,&quot;JAVA_Send_SMS&quot;,&quot;(I)I&quot;,n);\nreturn Answer1;\n}\n\nint My_Procedure_Call_ReceiveSMS(int n)\n{\nint Answer2;\nAnswer2 =  QAndroidJniObject::callStaticMethod&lt;jint&gt;(&quot;org/qtproject/qt5/android/bindings/MyActivity&quot;,&quot;JAVA_Receive_SMS&quot;,&quot;(I)I&quot;,n);\nreturn Answer2;\n}\n\nMyActivity.java\n\nimport org.qtproject.qt5.android.bindings.QtActivity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport java.lang.String;\n\nimport android.app.Activity;\n\n\npublic class MyActivity extends QtActivity // This is the class\n{\n\n// Instantiation of this class\nprivate static MyActivity m_instance;\npublic MyActivity()\n{\n    m_instance = this;\n}\n\npublic static int JAVA_Send_SMS(int n)\n{\nint Answer1;\n\n    Log.d(QtApplication.QtTAG, &quot;JAVA_Send_SMS() entered&quot;);\n    My_Java_Procedures java_procedures = new My_Java_Procedures();\n    Answer1 = java_procedures.sms_send(n);\n    return Answer1;\n}\npublic static int JAVA_Receive_SMS(int n)\n{\nint Answer2;\n\n    Log.d(QtApplication.QtTAG, &quot;JAVA_Receive_SMS() entered&quot;);\n    My_Java_Procedures java_procedures = new My_Java_Procedures();\n    Answer2 = java_procedures.sms_receive(n);\n    return Answer2;\n}\n}\nMy_Java_Procedures.java\npackage org.qtproject.qt5.android.bindings;\n\nimport android.app.Activity;\nimport android.content.ContentResolver;\nimport android.database.Cursor;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.widget.Button;\nimport android.widget.ListView;\nimport android.widget.SimpleCursorAdapter;\nimport android.widget.TextView;\n\nimport android.content.Intent;\n\nimport java.util.HashSet;\nimport java.util.Set;\nimport java.util.StringTokenizer;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\n\nimport android.os.Bundle;\nimport android.preference.PreferenceManager;\nimport android.telephony.SmsMessage;\n\nimport android.telephony.SmsManager; // For sending sms\n\npublic class My_Java_Procedures {\n\n// Call Instantiation\n// **********************************\npublic My_Java_Procedures My_Java_Procedures_instance;\n{\n    My_Java_Procedures_instance = this;\n}\n// **********************************\n\npublic int sms_send(int n)\n{\n// Remember to add your permisions to Android Manifest file\nSystem.out.println(&quot;Eureka Send&quot;);\n\n// http://pulse7.net/android/send-sms-message-android/\n// Use import android.telephony.SmsManager;\n\n// Initialize SmsManager Object\nSmsManager smsManager = SmsManager.getDefault();\n\n// Send Message using method of SmsManager object\nsmsManager.sendTextMessage(&quot;your cell number&quot;, null,&quot;Message Body&quot;, null, null);\nreturn n+10;\n}\n\n\n//public int sms_receive(Context context,Intent intent,int n)\npublic int sms_receive(int n)\n{\n    System.out.println(&quot;Debug message Receive SMS&quot;);\n\n    // http://stackoverflow.com/questions/19856338/using-new-telephony-content-provider-to-read-sms\n    Activity act = new Activity();\n    //Intent intent = new Intent(this, DisplayMessageActivity.class);\n    Cursor cursor = act.getApplicationContext().getContentResolver().query(Uri.parse(&quot;content://sms/inbox&quot;), null, null, null, null);\n\n    System.out.println(&quot;Debug 2&quot;);\n    //ContentResolver resolver = getContentResolver();\n    //Cursor cursor = resolver().query(Uri.parse(&quot;content://sms/inbox&quot;), null, null, null, null);\n\n// http://www.learn-android-easily.com/2013/04/accessing-inbox-in-android.html\n//    String senderNumber=cursor.getString(cursor.getColumnIndex(&quot;address&quot;));\n//    String smsBody=cursor.getString(cursor.getColumnIndex(&quot;body&quot;));\n//    String dateTime=cursor.getString(cursor.getColumnIndex(&quot;date&quot;));\n\n    if (cursor.moveToFirst()) { // must check the result to prevent exception\n    System.out.println(&quot;Debug 3&quot;);\n        do {\n           String msgData = &quot;&quot;;\n           for(int idx=0;idx&lt;cursor.getColumnCount();idx++)\n           {\n               msgData += &quot; &quot; + cursor.getColumnName(idx) + &quot;:&quot; + cursor.getString(idx);\n               System.out.println(msgData);\n           }\n           // use msgData\n        } while (cursor.moveToNext());\n    } else {\n       // empty box, no SMS\n    }\n\nreturn n+100;\n}\n} // End Class\n\n<\/code><\/pre>\n","timestamp":1460492521863,"votes":0,"editor":{"username":"QTUserForAndroid","userslug":"qtuserforandroid","uid":26277},"edited":1460494781624,"deleted":false,"upvotes":0,"downvotes":0,"timestampISO":"2016-04-12T20:22:01.863Z","editedISO":"2016-04-12T20:59:41.624Z","index":3,"user":{"username":"QTUserForAndroid","userslug":"qtuserforandroid","picture":"https://www.gravatar.com/avatar/191c8505b408b6cf42ca6200f24870a5?size=192&d=mm","fullname":"","signature":"","reputation":0,"postcount":16,"banned":false,"status":"offline","uid":26277,"lastonline":1460738334670,"groupTitle":null,"icon:text":"Q","icon:bgColor":"#795548","lastonlineISO":"2016-04-15T16:38:54.670Z","custom_profile_info":[]},"bookmarked":false,"upvoted":false,"downvoted":false,"replies":{"users":[],"timestampISO":"","count":0},"selfPost":false,"display_edit_tools":false,"display_delete_tools":false,"display_moderator_tools":false,"display_move_tools":false,"display_post_menu":true},{"pid":322026,"uid":5334,"tid":62977,"content":"<p>Send SMS:<\/p>\n<pre><code>void Widget::on_pushButton_clicked()\n{\n    // get the Qt android activity\n    QAndroidJniObject activity = QAndroidJniObject::callStaticObjectMethod(&quot;org/qtproject/qt5/android/QtNative&quot;,\n                                                                            &quot;activity&quot;,\n                                                                            &quot;()Landroid/app/Activity;&quot;);\n    if (activity.isValid()){\n\n        //get the default SmsManager\n        QAndroidJniObject mySmsManager = QAndroidJniObject::callStaticObjectMethod(&quot;android/telephony/SmsManager&quot;,\n                                                                                   &quot;getDefault&quot;,\n                                                                                   &quot;()Landroid/telephony/SmsManager;&quot;);\n        if (!mySmsManager.isValid()) {\n            qDebug() &lt;&lt; &quot;Something wrong with SMS manager...&quot;;\n        } else {\n\n            // get phone number &amp; text from UI and convert to Java String\n            QAndroidJniObject myPhoneNumber = QAndroidJniObject::fromString(ui-&gt;lineEditDestinataire-&gt;text());\n            QAndroidJniObject myTextMessage = QAndroidJniObject::fromString(ui-&gt;lineEditTexte-&gt;text());\n            QAndroidJniObject scAddress = NULL;\n            //QAndroidJniObject sentIntent = NULL;\n            //QAndroidJniObject deliveryIntent = NULL;\n\n            // call the java function:\n            // public void SmsManager.sendTextMessage(String destinationAddress,\n            //                                        String scAddress, String text,\n            //                                        PendingIntent sentIntent, PendingIntent deliveryIntent)\n            // see: http://developer.android.com/reference/android/telephony/SmsManager.html\n\n            mySmsManager.callMethod&lt;void&gt;(&quot;sendTextMessage&quot;,\n                                          &quot;(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Landroid/app/PendingIntent;Landroid/app/PendingIntent;)V&quot;,\n                                          myPhoneNumber.object&lt;jstring&gt;(),\n                                          scAddress.object&lt;jstring&gt;(),\n                                          myTextMessage.object&lt;jstring&gt;(), NULL, NULL );\n        }\n\n    } else {\n        qDebug() &lt;&lt; &quot;Something wrong with Qt activity...&quot;;\n    }\n} \n<\/code><\/pre>\n","timestamp":1460527009031,"votes":0,"editor":{"username":"kuzulis","userslug":"kuzulis","uid":5334},"edited":1460527030138,"deleted":false,"upvotes":0,"downvotes":0,"timestampISO":"2016-04-13T05:56:49.031Z","editedISO":"2016-04-13T05:57:10.138Z","index":4,"user":{"username":"kuzulis","userslug":"kuzulis","picture":"https://www.gravatar.com/avatar/4c0f9e7f5f690478f8b51b0e66fb33c0?size=192&d=mm","fullname":"","signature":"","reputation":164,"postcount":620,"banned":false,"status":"offline","uid":5334,"lastonline":1505303244326,"groupTitle":null,"icon:text":"K","icon:bgColor":"#1b5e20","lastonlineISO":"2017-09-13T11:47:24.326Z","custom_profile_info":[]},"bookmarked":false,"upvoted":false,"downvoted":false,"replies":{"users":[],"timestampISO":"","count":0},"selfPost":false,"display_edit_tools":false,"display_delete_tools":false,"display_moderator_tools":false,"display_move_tools":false,"display_post_menu":true},{"pid":322322,"uid":26277,"tid":62977,"content":"<p>Thanks<\/p>\n<p>I tried your example on how to send sms. Unfortunately the application crash when  mySmsManager.callMethod&lt;void&gt;(&quot;sendTextMessage&quot;,.... is executed. Builds correctly.<\/p>\n<p>But i think i have a problem with Qt 5.6 with Qt  Extras not installed. Will go back to Qt 5.1.1 and test. Did test in Qt 5.5.1 Same crash problem. Probably some installation or package i need?<\/p>\n<p>The only includes i added was<br />\n#include &lt;QDebug&gt;<br />\n#include &lt;QtAndroidExtras/QAndroidJniObject&gt; // For JNI, need to select Android Build<br />\n#include &lt;QAndroidJniObject&gt;<\/p>\n<p>and added the QT extras in the Pro file<\/p>\n<p>You don't perhaps have some clue or example on how to read the Android SMS inbox, and how to receive incomming sms on the fly?<\/p>\n<p>Thanks<\/p>\n","timestamp":1460650329906,"votes":0,"editor":{"username":"QTUserForAndroid","userslug":"qtuserforandroid","uid":26277},"edited":1460658483707,"deleted":false,"upvotes":0,"downvotes":0,"timestampISO":"2016-04-14T16:12:09.906Z","editedISO":"2016-04-14T18:28:03.707Z","index":5,"user":{"username":"QTUserForAndroid","userslug":"qtuserforandroid","picture":"https://www.gravatar.com/avatar/191c8505b408b6cf42ca6200f24870a5?size=192&d=mm","fullname":"","signature":"","reputation":0,"postcount":16,"banned":false,"status":"offline","uid":26277,"lastonline":1460738334670,"groupTitle":null,"icon:text":"Q","icon:bgColor":"#795548","lastonlineISO":"2016-04-15T16:38:54.670Z","custom_profile_info":[]},"bookmarked":false,"upvoted":false,"downvoted":false,"replies":{"users":[],"timestampISO":"","count":0},"selfPost":false,"display_edit_tools":false,"display_delete_tools":false,"display_moderator_tools":false,"display_move_tools":false,"display_post_menu":true}],"category":{"cid":11,"name":"Mobile and Embedded","description":"The forum for developing everything embedded: Linux, WinCE, Symbian, MeeGo... you name it.","icon":"fa-mobile","bgColor":"#41cd52","color":"#FFFFFF","slug":"11/mobile-and-embedded","parentCid":"4","topic_count":8188,"post_count":37874,"disabled":false,"order":3,"link":"","numRecentReplies":1,"class":"col-md-4 col-xs-12","imageClass":"auto","totalPostCount":37874,"totalTopicCount":8188,"descriptionParsed":"The forum for developing everything embedded: Linux, WinCE, Symbian, MeeGo... you name it."},"thread_tools":[{"class":"toggleQuestionStatus alert-warning","title":"Ask as question","icon":"fa-question-circle"}],"isFollowing":false,"isNotFollowing":true,"isIgnoring":false,"bookmark":null,"postSharing":[{"id":"facebook","name":"Facebook","class":"fa-facebook","activated":true},{"id":"twitter","name":"Twitter","class":"fa-twitter","activated":true},{"id":"google","name":"Google+","class":"fa-google-plus","activated":true}],"deleter":null,"deletedTimestampISO":"","related":[],"unreplied":false,"icons":[],"breadcrumbs":[{"text":"[[global:home]]","url":"/"},{"text":"Qt Development","url":"/category/4/qt-development"},{"text":"Mobile and Embedded","url":"/category/11/mobile-and-embedded"},{"text":"How to read &#x2F; send sms for QT Widget application &amp; C++"}],"privileges":{"topics:reply":false,"topics:read":true,"topics:delete":false,"posts:edit":false,"posts:delete":false,"read":true,"view_thread_tools":false,"editable":false,"deletable":false,"view_deleted":false,"isAdminOrMod":false,"disabled":false,"tid":"62977","uid":0},"topicStaleDays":60,"reputation:disabled":false,"downvote:disabled":false,"feeds:disableRSS":false,"bookmarkThreshold":5,"postEditDuration":0,"postDeleteDuration":0,"scrollToMyPost":true,"rssFeedUrl":"/topic/62977.rss","pagination":{"prev":{"page":1,"active":false},"next":{"page":1,"active":false},"rel":[],"pages":[],"currentPage":1,"pageCount":1},"loggedIn":false,"relative_path":"","template":{"name":"topic","topic":true},"url":"/topic/62977/how-to-read-send-sms-for-qt-widget-application-c","bodyClass":"page-topic page-topic-62977 page-topic-how-to-read-send-sms-for-qt-widget-application-c"}</script> 
   </div>
   <!-- END container --> 
  </main> 
  <div class="hide"> 
   <script type="text/tpl" data-template="500">
&#x3C;div class=&#x22;alert alert-danger&#x22;&#x3E;
&#x9;&#x3C;strong&#x3E;Internal Error.&#x3C;/strong&#x3E;
&#x9;&#x3C;p&#x3E;Oops! Looks like something went wrong!&#x3C;/p&#x3E;
&#x9;&#x3C;p&#x3E;&#x3C;/p&#x3E;
&#x9;&#x3C;!-- IF error --&#x3E;&#x3C;p&#x3E;&#x3C;/p&#x3E;&#x3C;!-- ENDIF error --&#x3E;
&#x3C;/div&#x3E;
</script> 
  </div> 
  <div class="topic-search hidden"> 
   <div class="btn-group"> 
    <button type="button" class="btn btn-default count"></button> 
    <button type="button" class="btn btn-default prev"><i class="fa fa-fw fa-angle-up"></i></button> 
    <button type="button" class="btn btn-default next"><i class="fa fa-fw fa-angle-down"></i></button> 
   </div> 
  </div> 
  <div component="toaster/tray" class="alert-window"> 
   <div id="reconnect-alert" class="alert alert-dismissable alert-warning clearfix hide" component="toaster/toast"> 
    <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button> 
    <p>Looks like your connection to Qt Forum was lost, please wait while we try to reconnect.</p> 
   </div> 
  </div> 
  <script>
		require(['forum/footer']);
	</script>   
 </body>
</html>