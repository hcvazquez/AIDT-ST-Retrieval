<!doctype html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) & !(IE 8)]><!-->
<html lang="en-US">
 <!--<![endif]-->
 <head> 
  <meta charset="UTF-8"> 
  <meta name="viewport" content="width=device-width"> 
  <title>PHP: How to get all images from an HTML page | Geekality</title> 
  <link rel="profile" href="http://gmpg.org/xfn/11"> 
  <link rel="pingback" href="http://www.geekality.net/xmlrpc.php"> 
  <!--[if lt IE 9]>
	<script src="http://www.geekality.net/wp-content/themes/twentyfourteen/js/html5.js"></script>
	<![endif]--> 
  <link rel="dns-prefetch" href="//fonts.googleapis.com"> 
  <link href="https://fonts.gstatic.com" crossorigin rel="preconnect"> 
  <link rel="alternate" type="application/rss+xml" title="Geekality » Feed" href="http://www.geekality.net/feed/"> 
  <link rel="alternate" type="application/rss+xml" title="Geekality » Comments Feed" href="http://www.geekality.net/comments/feed/"> 
  <link rel="alternate" type="application/rss+xml" title="Geekality » PHP: How to get all images from an HTML page Comments Feed" href="http://www.geekality.net/2011/05/12/php-how-to-get-all-images-from-an-html-page/feed/"> 
  <style type="text/css">.codecolorer a { text-decoration: none !important }</style> 
  <link rel="stylesheet" id="colorbox-theme5-css" href="http://www.geekality.net/wp-content/plugins/jquery-lightbox-for-native-galleries/colorbox/theme5/colorbox.css?ver=1.3.14" type="text/css" media="screen"> 
  <link rel="stylesheet" id="wp-quicklatex-format-css" href="http://www.geekality.net/wp-content/plugins/wp-quicklatex/css/quicklatex-format.css?ver=4.8.1" type="text/css" media="all"> 
  <link rel="stylesheet" id="twentyfourteen-lato-css" href="https://fonts.googleapis.com/css?family=Lato%3A300%2C400%2C700%2C900%2C300italic%2C400italic%2C700italic&amp;subset=latin%2Clatin-ext" type="text/css" media="all"> 
  <link rel="stylesheet" id="genericons-css" href="http://www.geekality.net/wp-content/themes/twentyfourteen/genericons/genericons.css?ver=3.0.3" type="text/css" media="all"> 
  <link rel="stylesheet" id="twentyfourteen-style-css" href="http://www.geekality.net/wp-content/themes/twentyfourteen/style.css?ver=4.8.1" type="text/css" media="all"> 
  <!--[if lt IE 9]>
<link rel='stylesheet' id='twentyfourteen-ie-css'  href='http://www.geekality.net/wp-content/themes/twentyfourteen/css/ie.css?ver=20131205' type='text/css' media='all' />
<![endif]--> 
  <link rel="stylesheet" id="codecolorer-css" href="http://www.geekality.net/wp-content/plugins/codecolorer/codecolorer.css?ver=0.9.11" type="text/css" media="screen"> 
  <script type="text/javascript" src="http://www.geekality.net/wp-includes/js/jquery/jquery.js?ver=1.12.4"></script> 
  <script type="text/javascript" src="http://www.geekality.net/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1"></script> 
  <script type="text/javascript" src="http://www.geekality.net/wp-content/plugins/jquery-lightbox-for-native-galleries/colorbox/jquery.colorbox-min.js?ver=1.3.14"></script> 
  <script type="text/javascript" src="http://www.geekality.net/wp-content/plugins/wp-quicklatex/js/wp-quicklatex-frontend.js?ver=1.0"></script> 
  <link rel="https://api.w.org/" href="http://www.geekality.net/wp-json/"> 
  <link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.geekality.net/xmlrpc.php?rsd"> 
  <link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.geekality.net/wp-includes/wlwmanifest.xml"> 
  <link rel="prev" title="PHP: Dealing with absolute and relative URLs" href="http://www.geekality.net/2011/05/12/php-dealing-with-absolute-and-relative-urls/"> 
  <link rel="next" title="Ultra simple SFTP server for Windows" href="http://www.geekality.net/2011/05/13/ultra-simple-sftp-server-for-windows/"> 
  <meta name="generator" content="WordPress 4.8.1"> 
  <link rel="canonical" href="http://www.geekality.net/2011/05/12/php-how-to-get-all-images-from-an-html-page/"> 
  <link rel="shortlink" href="http://www.geekality.net/?p=1585"> 
  <link rel="alternate" type="application/json+oembed" href="http://www.geekality.net/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.geekality.net%2F2011%2F05%2F12%2Fphp-how-to-get-all-images-from-an-html-page%2F"> 
  <link rel="alternate" type="text/xml+oembed" href="http://www.geekality.net/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.geekality.net%2F2011%2F05%2F12%2Fphp-how-to-get-all-images-from-an-html-page%2F&amp;format=xml"> 
  <style id="fourteen-colors" type="text/css">/* Custom Contrast Color */
		.site:before,
		#secondary,
		.site-header,
		.site-footer,
		.menu-toggle,
		.featured-content,
		.featured-content .entry-header,
		.slider-direction-nav a,
		.ie8 .featured-content,
		.ie8 .site:before {
			background-color: #282828;
		}

		.grid .featured-content .entry-header,
		.ie8 .grid .featured-content .entry-header {
			border-color: #282828;
		}

		.slider-control-paging a:before {
			background-color: rgba(255,255,255,.33);
		}

		.hentry .mejs-mediaelement,
		.hentry .mejs-container .mejs-controls {
			background: #282828;
		}
	
			.content-sidebar .widget_twentyfourteen_ephemera .widget-title:before {
				background: #282828;
			}

			.paging-navigation,
			.content-sidebar .widget .widget-title {
				border-top-color: #282828;
			}

			.content-sidebar .widget .widget-title, 
			.content-sidebar .widget .widget-title a,
			.paging-navigation,
			.paging-navigation a:hover,
			.paging-navigation a {
				color: #282828;
			}

			/* Override the site title color option with an over-qualified selector, as the option is hidden. */
			h1.site-title a {
				color: #fff;
			}
		
		.menu-toggle:active,
		.menu-toggle:focus,
		.menu-toggle:hover {
			background-color: #6c6c6c;
		}
		/* Custom accent color. */
		button,
		.button,
		.contributor-posts-link,
		input[type="button"],
		input[type="reset"],
		input[type="submit"],
		.search-toggle,
		.hentry .mejs-controls .mejs-time-rail .mejs-time-current,
		.hentry .mejs-overlay:hover .mejs-overlay-button,
		.widget button,
		.widget .button,
		.widget input[type="button"],
		.widget input[type="reset"],
		.widget input[type="submit"],
		.widget_calendar tbody a,
		.content-sidebar .widget input[type="button"],
		.content-sidebar .widget input[type="reset"],
		.content-sidebar .widget input[type="submit"],
		.slider-control-paging .slider-active:before,
		.slider-control-paging .slider-active:hover:before,
		.slider-direction-nav a:hover,
		.ie8 .primary-navigation ul ul,
		.ie8 .secondary-navigation ul ul,
		.ie8 .primary-navigation li:hover > a,
		.ie8 .primary-navigation li.focus > a,
		.ie8 .secondary-navigation li:hover > a,
		.ie8 .secondary-navigation li.focus > a {
			background-color: #f27f1a;
		}

		.site-navigation a:hover {
			color: #f27f1a;
		}

		::-moz-selection {
			background: #f27f1a;
		}

		::selection {
			background: #f27f1a;
		}

		.paging-navigation .page-numbers.current {
			border-color: #f27f1a;
		}

		@media screen and (min-width: 782px) {
			.primary-navigation li:hover > a,
			.primary-navigation li.focus > a,
			.primary-navigation ul ul {
				background-color: #f27f1a;
			}
		}

		@media screen and (min-width: 1008px) {
			.secondary-navigation li:hover > a,
			.secondary-navigation li.focus > a,
			.secondary-navigation ul ul {
				background-color: #f27f1a;
			}
		}
	
			.contributor-posts-link,
			.button,
			button,
			input[type="button"],
			input[type="reset"],
			input[type="submit"],
			.search-toggle:before,
			.hentry .mejs-overlay:hover .mejs-overlay-button,
			.widget button,
			.widget .button,
			.widget input[type="button"],
			.widget input[type="reset"],
			.widget input[type="submit"],
			.widget_calendar tbody a,
			.widget_calendar tbody a:hover,
			.site-footer .widget_calendar tbody a,
			.content-sidebar .widget input[type="button"],
			.content-sidebar .widget input[type="reset"],
			.content-sidebar .widget input[type="submit"],
			button:hover,
			button:focus,
			.button:hover,
			.button:focus,
			.widget a.button:hover,
			.widget a.button:focus,
			.widget a.button:active,
			.content-sidebar .widget a.button,
			.content-sidebar .widget a.button:hover,
			.content-sidebar .widget a.button:focus,
			.content-sidebar .widget a.button:active,
			.contributor-posts-link:hover,
			.contributor-posts-link:active,
			input[type="button"]:hover,
			input[type="button"]:focus,
			input[type="reset"]:hover,
			input[type="reset"]:focus,
			input[type="submit"]:hover,
			input[type="submit"]:focus,
			.slider-direction-nav a:hover:before,
			.ie8 .primary-navigation li:hover > a,
			.ie8 .primary-navigation li.focus > a,
			.ie8 .secondary-navigation li:hover > a,
			.ie8 .secondary-navigation li.focus > a {
				color: #2b2b2b;
			}

			@media screen and (min-width: 782px) {
				.site-navigation li .current_page_item > a,
				.site-navigation li .current_page_ancestor > a,
				.site-navigation li .current-menu-item > a,
				.site-navigation li .current-menu-ancestor > a,
				.primary-navigation ul ul a,
				.primary-navigation li:hover > a,
				.primary-navigation li.focus > a,
				.primary-navigation ul ul {
					color: #2b2b2b;
				}
			}

			@media screen and (min-width: 1008px) {
				.secondary-navigation ul ul a,
				.secondary-navigation li:hover > a,
				.secondary-navigation li.focus > a,
				.secondary-navigation ul ul {
					color: #2b2b2b;
				}
			}

			::selection {
				color: #2b2b2b;
			}

			::-moz-selection {
				color: #2b2b2b;
			}

			.hentry .mejs-controls .mejs-time-rail .mejs-time-loaded {
				background-color: #2b2b2b;
			}

		
		/* Generated variants of custom accent color. */
		a,
		.content-sidebar .widget a {
			color: #c55200;
		}

		.contributor-posts-link:hover,
		.button:hover,
		.button:focus,
		.slider-control-paging a:hover:before,
		.search-toggle:hover,
		.search-toggle.active,
		.search-box,
		.widget_calendar tbody a:hover,
		button:hover,
		button:focus,
		input[type="button"]:hover,
		input[type="button"]:focus,
		input[type="reset"]:hover,
		input[type="reset"]:focus,
		input[type="submit"]:hover,
		input[type="submit"]:focus,
		.widget button:hover,
		.widget .button:hover,
		.widget button:focus,
		.widget .button:focus,
		.widget input[type="button"]:hover,
		.widget input[type="button"]:focus,
		.widget input[type="reset"]:hover,
		.widget input[type="reset"]:focus,
		.widget input[type="submit"]:hover,
		.widget input[type="submit"]:focus,
		.content-sidebar .widget input[type="button"]:hover,
		.content-sidebar .widget input[type="button"]:focus,
		.content-sidebar .widget input[type="reset"]:hover,
		.content-sidebar .widget input[type="reset"]:focus,
		.content-sidebar .widget input[type="submit"]:hover,
		.content-sidebar .widget input[type="submit"]:focus,
		.ie8 .primary-navigation ul ul a:hover,
		.ie8 .primary-navigation ul ul li.focus > a,
		.ie8 .secondary-navigation ul ul a:hover,
		.ie8 .secondary-navigation ul ul li.focus > a {
			background-color: #ff9c37;
		}

		.featured-content a:hover,
		.featured-content .entry-title a:hover,
		.widget a:hover,
		.widget-title a:hover,
		.widget_twentyfourteen_ephemera .entry-meta a:hover,
		.hentry .mejs-controls .mejs-button button:hover,
		.site-info a:hover,
		.featured-content a:hover {
			color: #ff9c37;
		}

		a:active,
		a:hover,
		.entry-title a:hover,
		.entry-meta a:hover,
		.cat-links a:hover,
		.entry-content .edit-link a:hover,
		.post-navigation a:hover,
		.image-navigation a:hover,
		.comment-author a:hover,
		.comment-list .pingback a:hover,
		.comment-list .trackback a:hover,
		.comment-metadata a:hover,
		.comment-reply-title small a:hover,
		.content-sidebar .widget a:hover,
		.content-sidebar .widget .widget-title a:hover,
		.content-sidebar .widget_twentyfourteen_ephemera .entry-meta a:hover {
			color: #e26f1d;
		}

		.page-links a:hover,
		.paging-navigation a:hover {
			border-color: #e26f1d;
		}

		.entry-meta .tag-links a:hover:before {
			border-right-color: #e26f1d;
		}

		.page-links a:hover,
		.entry-meta .tag-links a:hover {
			background-color: #e26f1d;
		}

		@media screen and (min-width: 782px) {
			.primary-navigation ul ul a:hover,
			.primary-navigation ul ul li.focus > a {
				background-color: #ff9c37;
			}
		}

		@media screen and (min-width: 1008px) {
			.secondary-navigation ul ul a:hover,
			.secondary-navigation ul ul li.focus > a {
				background-color: #ff9c37;
			}
		}

		button:active,
		.button:active,
		.contributor-posts-link:active,
		input[type="button"]:active,
		input[type="reset"]:active,
		input[type="submit"]:active,
		.widget input[type="button"]:active,
		.widget input[type="reset"]:active,
		.widget input[type="submit"]:active,
		.content-sidebar .widget input[type="button"]:active,
		.content-sidebar .widget input[type="reset"]:active,
		.content-sidebar .widget input[type="submit"]:active {
			background-color: #ffb04b;
		}

		.site-navigation .current_page_item > a,
		.site-navigation .current_page_ancestor > a,
		.site-navigation .current-menu-item > a,
		.site-navigation .current-menu-ancestor > a {
			color: #ffb04b;
		}
	</style> 
  <style>@media screen and (min-width: 783px){.primary-navigation{float: right;margin-left: 20px;}a { transition: all .5s ease; }}</style> 
  <style>.site {margin: 0 auto;max-width: 1260px;width: 100%;}.site-header{max-width: 1260px;}
		@media screen and (min-width: 1110px) {.archive-header,.comments-area,.image-navigation,.page-header,.page-content,.post-navigation,.site-content .entry-header,
	    .site-content .entry-content,.site-content .entry-summary,.site-content footer.entry-meta{padding-left: 55px;}}</style> 
  <style>
	    .site-content .entry-header,.site-content .entry-content,.site-content .entry-summary,.site-content .entry-meta,.page-content 
		{max-width: 700px;}.comments-area{max-width: 700px;}.post-navigation, .image-navigation{max-width: 700px;}</style> 
  <style>.site:before,#secondary{width:0;display:none;}.ie8 .site:before,.ie8 #secondary{width:0px;display:none;}
	    .featured-content{padding-left:0;}.site-content,.site-main .widecolumn{margin-left:0;}.ie8 .site-content,.ie8 .site-main .widecolumn{margin-left:0;}
		@media screen and (min-width: 1008px) {.search-box-wrapper{padding-left:0;}}
		@media screen and (min-width: 1080px) {.search-box-wrapper,.featured-content{padding-left:0;}}
		@media screen and (min-width: 1080px) {.grid-content{padding-left:0;}}
	</style> 
  <style>.hentry{max-width: 1038px;}
	    img.size-full,img.size-large,.wp-post-image,.post-thumbnail img,.site-content .post-thumbnail img{max-height: 572px;}
	</style> 
  <style>
		.slider .featured-content .hentry{max-height: 500px;}.slider .featured-content{max-width: 1600px;
		margin: 0px auto;}.slider .featured-content .post-thumbnail img{max-width: 1600px;width: 100%;}
		.slider .featured-content .post-thumbnail{background:none;}.slider .featured-content a.post-thumbnail:hover{background-color:transparent;}
	</style> 
  <style>.featured-content{display:none; visibility: hidden;}</style> 
  <meta name="readability-verification" content="e92QHmvrDvRj9U4NT98acZ6k6jDaW49pPbfGVyeN"> 
  <meta property="fb:admins" content="662575382"> 
  <!-- jQuery Lightbox For Native Galleries v3.1.3 | http://www.viper007bond.com/wordpress-plugins/jquery-lightbox-for-native-galleries/ --> 
  <script type="text/javascript">
// <![CDATA[
	jQuery(document).ready(function($){
		$(".gallery").each(function(index, obj){
			var galleryid = Math.floor(Math.random()*10000);
			$(obj).find("a").colorbox({rel:galleryid, maxWidth:"95%", maxHeight:"95%"});
		});
		$("a.lightbox").colorbox({maxWidth:"95%", maxHeight:"95%"});
	});
// ]]>
</script> 
  <style type="text/css">.broken_link, a.broken_link {
	text-decoration: line-through;
}</style>
 </head> 
 <body class="post-template-default single single-post postid-1585 single-format-standard header-image singular"> 
  <div id="page" class="hfeed site"> 
   <div id="site-header"> 
    <a href="http://www.geekality.net/" rel="home"> <img src="http://www.geekality.net/wp-content/uploads/2015/04/cropped-Liriope.png" width="1260" height="240" alt="Geekality"> </a> 
   </div> 
   <header id="masthead" class="site-header" role="banner"> 
    <div class="header-main"> 
     <h1 class="site-title"><a href="http://www.geekality.net/" rel="home">Geekality</a></h1> 
     <div class="search-toggle"> 
      <a href="#search-container" class="screen-reader-text" aria-expanded="false" aria-controls="search-container">Search</a> 
     </div> 
     <nav id="primary-navigation" class="site-navigation primary-navigation" role="navigation"> 
      <button class="menu-toggle">Primary Menu</button> 
      <a class="screen-reader-text skip-link" href="#content">Skip to content</a> 
      <div id="primary-menu" class="nav-menu">
       <ul> 
        <li class="page_item page-item-2 page_item_has_children"><a href="http://www.geekality.net/about/">About Me</a> 
         <ul class="children"> 
          <li class="page_item page-item-396"><a href="http://www.geekality.net/about/the-website/">The website</a></li> 
          <li class="page_item page-item-112"><a href="http://www.geekality.net/about/curriculum-vitae/">Curriculum Vitae</a></li> 
         </ul> </li> 
        <li class="page_item page-item-545 page_item_has_children"><a href="http://www.geekality.net/programming/">Programming</a> 
         <ul class="children"> 
          <li class="page_item page-item-218"><a href="http://www.geekality.net/programming/programming/">My journey into computing</a></li> 
         </ul> </li> 
       </ul>
      </div> 
     </nav> 
    </div> 
    <div id="search-container" class="search-box-wrapper hide"> 
     <div class="search-box"> 
      <form role="search" method="get" class="search-form" action="http://www.geekality.net/"> 
       <label> <span class="screen-reader-text">Search for:</span> <input type="search" class="search-field" placeholder="Search …" value="" name="s"> </label> 
       <input type="submit" class="search-submit" value="Search"> 
      </form> 
     </div> 
    </div> 
   </header>
   <!-- #masthead --> 
   <div id="main" class="site-main"> 
    <div id="primary" class="content-area"> 
     <div id="content" class="site-content" role="main"> 
      <article id="post-1585" class="post-1585 post type-post status-publish format-standard hentry category-software-development tag-curl tag-html tag-parsing tag-php tag-regular-expression tag-snippet tag-tutorial"> 
       <header class="entry-header"> 
        <div class="entry-meta"> 
         <span class="cat-links"><a href="http://www.geekality.net/category/technology/software-development/" rel="category tag">Software Development</a></span> 
        </div> 
        <h1 class="entry-title">PHP: How to get all images from an HTML page</h1> 
        <div class="entry-meta"> 
         <span class="entry-date"><a href="http://www.geekality.net/2011/05/12/php-how-to-get-all-images-from-an-html-page/" rel="bookmark"><time class="entry-date" datetime="2011-05-12T23:59:59+00:00">May 12, 2011</time></a></span> 
         <span class="byline"><span class="author vcard"><a class="url fn n" href="http://www.geekality.net/author/admin/" rel="author">Torleif</a></span></span> 
         <span class="comments-link"><a href="http://www.geekality.net/2011/05/12/php-how-to-get-all-images-from-an-html-page/#comments"><span class="dsq-postid" data-dsqidentifier="1585 http://www.geekality.net/?p=1585">51 Comments</span></a></span> 
        </div>
        <!-- .entry-meta --> 
       </header>
       <!-- .entry-header --> 
       <div class="entry-content"> 
        <p></p>
        <figure id="attachment_1598" style="width: 233px" class="wp-caption alignright">
         <a href="http://www.rgbstock.com/photo/mg2mFcI/Photo+Template+5"><img src="http://www.geekality.net/wp-content/uploads/2011/05/photo-template-233x300.jpg" alt="" title="Photo Template" width="233" height="300" class="size-medium wp-image-1598" srcset="http://www.geekality.net/wp-content/uploads/2011/05/photo-template-233x300.jpg 233w, http://www.geekality.net/wp-content/uploads/2011/05/photo-template-58x75.jpg 58w, http://www.geekality.net/wp-content/uploads/2011/05/photo-template-540x694.jpg 540w, http://www.geekality.net/wp-content/uploads/2011/05/photo-template.jpg 630w" sizes="(max-width: 233px) 100vw, 233px"></a>
         <figcaption class="wp-caption-text">
          rgbstock.com
         </figcaption>
        </figure>I was curious to how I could make something similar to what Facebook does when you add a link. Somehow it loads images found on the page your link leads to, and then it presents them to you so you can select one you want to use as a thumbnail.
        <p></p> 
        <p>Well, step one to solve this is of course to find all the images on a page, and that is what I will present in this post. It will be sort of like a backend service we can use later from an AJAX call. You post it a URL, and you get all the image URLs it found back. Let’s put the petal to medal!</p> 
        <p><span id="more-1585"></span></p> 
        <h2>Getting the URL</h2> 
        <p>We’ll use POST for this, and it shouldn’t require much explanation.</p> 
        <div class="codecolorer-container php default" style="overflow:auto;white-space:nowrap;">
         <div class="php codecolorer">
          <span class="re0">$url</span> 
          <span class="sy0">=</span> 
          <a href="http://www.php.net/array_key_exists"><span class="kw3">array_key_exists</span></a>
          <span class="br0">(</span>
          <span class="st_h">'url'</span>
          <span class="sy0">,</span> 
          <span class="re0">$_POST</span>
          <span class="br0">)</span> 
          <br> &nbsp; &nbsp; ? 
          <span class="re0">$_POST</span>
          <span class="br0">[</span>
          <span class="st_h">'url'</span>
          <span class="br0">]</span> 
          <br> &nbsp; &nbsp; 
          <span class="sy0">:</span> 
          <span class="kw4">null</span>
          <span class="sy0">;</span>
         </div>
        </div> 
        <h2>Loading the HTML</h2> 
        <p>To load the HTML we’ll use the handy <a href="http://php.net/manual/en/book.curl.php">cURL</a> library, which I’ve used in earlier posts as well.</p> 
        <div class="codecolorer-container php default" style="overflow:auto;white-space:nowrap;">
         <div class="php codecolorer">
          <span class="re0">$request</span> 
          <span class="sy0">=</span> 
          <a href="http://www.php.net/curl_init"><span class="kw3">curl_init</span></a>
          <span class="br0">(</span>
          <span class="br0">)</span>
          <span class="sy0">;</span>
          <br> 
          <a href="http://www.php.net/curl_setopt_array"><span class="kw3">curl_setopt_array</span></a>
          <span class="br0">(</span>
          <span class="re0">$request</span>
          <span class="sy0">,</span> 
          <a href="http://www.php.net/array"><span class="kw3">array</span></a>
          <br> 
          <span class="br0">(</span>
          <br> &nbsp; &nbsp; CURLOPT_URL 
          <span class="sy0">=&gt;</span> 
          <span class="re0">$url</span>
          <span class="sy0">,</span>
          <br> &nbsp; &nbsp; 
          <br> &nbsp; &nbsp; CURLOPT_RETURNTRANSFER 
          <span class="sy0">=&gt;</span> 
          <span class="kw4">TRUE</span>
          <span class="sy0">,</span>
          <br> &nbsp; &nbsp; CURLOPT_HEADER 
          <span class="sy0">=&gt;</span> 
          <span class="kw4">FALSE</span>
          <span class="sy0">,</span>
          <br> &nbsp; &nbsp; 
          <br> &nbsp; &nbsp; CURLOPT_SSL_VERIFYPEER 
          <span class="sy0">=&gt;</span> 
          <span class="kw4">TRUE</span>
          <span class="sy0">,</span>
          <br> &nbsp; &nbsp; CURLOPT_CAINFO 
          <span class="sy0">=&gt;</span> 
          <span class="st_h">'cacert.pem'</span>
          <span class="sy0">,</span>
          <br> 
          <br> &nbsp; &nbsp; CURLOPT_FOLLOWLOCATION 
          <span class="sy0">=&gt;</span> 
          <span class="kw4">TRUE</span>
          <span class="sy0">,</span>
          <br> &nbsp; &nbsp; CURLOPT_MAXREDIRS 
          <span class="sy0">=&gt;</span> 
          <span class="nu0">10</span>
          <span class="sy0">,</span>
          <br> 
          <span class="br0">)</span>
          <span class="br0">)</span>
          <span class="sy0">;</span>
          <br> 
          <span class="re0">$response</span> 
          <span class="sy0">=</span> 
          <a href="http://www.php.net/curl_exec"><span class="kw3">curl_exec</span></a>
          <span class="br0">(</span>
          <span class="re0">$request</span>
          <span class="br0">)</span>
          <span class="sy0">;</span>
          <br> 
          <a href="http://www.php.net/curl_close"><span class="kw3">curl_close</span></a>
          <span class="br0">(</span>
          <span class="re0">$request</span>
          <span class="br0">)</span>
          <span class="sy0">;</span>
         </div>
        </div> 
        <p>We just create and execute a request for the supplied URL. The response is stored in a variable so we can use it later.</p> 
        <p> ? We won’t bother with any fancy error handling or anywhere else. If it doesn’t work, we’ll just give an empty list back. Bad URLs, faulty HTML, not our problem ?</p> 
        <p> ? The SSL and cacert.pem stuff is explained in <a href="/?p=1413" title="cURL SSL Verification">an earlier post</a>.</p> 
        <h2>Parsing the HTML</h2> 
        <p>You might have seen examples on how to find things in HTML using regular expressions. This is by most experienced developers regarded as <a href="http://blog.codinghorror.com/parsing-html-the-cthulhu-way/">A Bad Idea™</a>. What we can, and probably should, use instead is the <a href="http://php.net/manual/en/class.domdocument.php">DOMDocument</a> class you find in PHP. This class can parse XML and HTML into a neat <a href="http://en.wiktionary.org/wiki/Document_Object_Model" title="Document Object Model">DOM</a> which is a lot easier to work with.</p> 
        <div class="codecolorer-container php default" style="overflow:auto;white-space:nowrap;">
         <div class="php codecolorer">
          <span class="re0">$document</span> 
          <span class="sy0">=</span> 
          <span class="kw2">new</span> DOMDocument
          <span class="br0">(</span>
          <span class="br0">)</span>
          <span class="sy0">;</span>
          <br> 
          <span class="kw1">if</span>
          <span class="br0">(</span>
          <span class="re0">$response</span>
          <span class="br0">)</span>
          <br> 
          <span class="br0">{</span>
          <br> &nbsp; &nbsp; 
          <a href="http://www.php.net/libxml_use_internal_errors"><span class="kw3">libxml_use_internal_errors</span></a>
          <span class="br0">(</span>
          <span class="kw4">true</span>
          <span class="br0">)</span>
          <span class="sy0">;</span>
          <br> &nbsp; &nbsp; 
          <span class="re0">$document</span>
          <span class="sy0">-&gt;</span>
          <span class="me1">loadHTML</span>
          <span class="br0">(</span>
          <span class="re0">$response</span>
          <span class="br0">)</span>
          <span class="sy0">;</span>
          <br> &nbsp; &nbsp; 
          <a href="http://www.php.net/libxml_clear_errors"><span class="kw3">libxml_clear_errors</span></a>
          <span class="br0">(</span>
          <span class="br0">)</span>
          <span class="sy0">;</span>
          <br> 
          <span class="br0">}</span>
         </div>
        </div> 
        <p>Not everyone writes perfectly formed HTML without errors so we load the HTML, the DOMDocument class will do its best to plow through the HTML and figure it all out. When it does come across things that are a bit out of wack, it will let us know by spitting out warnings. There’s a big chance it managed to deal with it fine, but just for our information. However, like I mentioned earlier, we don’t care about errors here and we definitely don’t want those warnings messing up our output. </p> 
        <p>So, what we do here is to tell libxml (which is used internally) to <a href="http://php.net/manual/en/function.libxml-use-internal-errors.php">enable user error handling</a> instead. When we now load the HTML, those errors and warnings are then instead collected quietly. We can get to them afterwards by calling <a href="http://php.net/manual/en/function.libxml-get-errors.php">libxml_get_errors</a>, but since we don’t care about them at all we just <a href="http://php.net/manual/en/function.libxml-clear-errors.php">clear them out</a> instead. Easy peasy.</p> 
        <h2>Dealing with relative URLs</h2> 
        <p>As you perhaps know you can have both <a href="http://en.wikipedia.org/wiki/Uniform_Resource_Locator#Absolute_vs_relative_URLs">absolute and relative URLs</a> in HTML. The relative URLs are relative to the base path of the HTML page. Unless the HTML page has a <a href="http://www.w3.org/TR/html-markup/base.html" class="broken_link" rel="nofollow">base tag</a>. In that case we need to use whatever that specifies instead. So, how do we deal with all of that?</p> 
        <p>Well, I decided to stick that in <a href="/?p=1587" title="Dealing with absolute and relative URLs">a different post</a>. What’s important here is that we can get the base tag from the DOM like this:</p> 
        <div class="codecolorer-container php default" style="overflow:auto;white-space:nowrap;">
         <div class="php codecolorer">
          <span class="re0">$tags</span> 
          <span class="sy0">=</span> 
          <span class="re0">$document</span>
          <span class="sy0">-&gt;</span>
          <span class="me1">getElementsByTagName</span>
          <span class="br0">(</span>
          <span class="st_h">'base'</span>
          <span class="br0">)</span>
          <span class="sy0">;</span>
          <br> 
          <br> 
          <span class="kw1">foreach</span>
          <span class="br0">(</span>
          <span class="re0">$tags</span> 
          <span class="kw1">as</span> 
          <span class="re0">$tag</span>
          <span class="br0">)</span>
          <br> &nbsp; &nbsp; 
          <span class="kw1">return</span> 
          <span class="re0">$tag</span>
          <span class="sy0">-&gt;</span>
          <span class="me1">getAttribute</span>
          <span class="br0">(</span>
          <span class="st_h">'href'</span>
          <span class="br0">)</span>
          <span class="sy0">;</span>
         </div>
        </div> 
        <p>Of course if there is a base tag, it should only be one, but since we get a collection back from <code class="codecolorer text default"><span class="text">getElementsByTagName</span></code> I just use <code class="codecolorer text default"><span class="text">foreach</span></code> for simplicity. </p> 
        <p>Next up we have a function which turn a relative URL into an absolute one. The signature looks like the following and the content you can read more about in <a href="/?p=1587" title="Dealing with absolute and relative URLs">that earlier mentioned post</a>.</p> 
        <div class="codecolorer-container php default" style="overflow:auto;white-space:nowrap;">
         <div class="php codecolorer">
          <span class="kw2">private</span> static 
          <span class="kw2">function</span> make_absolute
          <span class="br0">(</span>
          <span class="re0">$url</span>
          <span class="sy0">,</span> 
          <span class="re0">$base</span>
          <span class="br0">)</span> 
          <br> 
          <span class="br0">{</span>
          <br> &nbsp; &nbsp; 
          <span class="co1">// "Magic"</span>
          <br> 
          <span class="br0">}</span>
         </div>
        </div> 
        <h2>Getting the images</h2> 
        <p>Now to the fun part. With the HTML loaded up and the base path figured out, we just need to fetch the images.</p> 
        <div class="codecolorer-container php default" style="overflow:auto;white-space:nowrap;">
         <div class="php codecolorer">
          <span class="re0">$images</span> 
          <span class="sy0">=</span> 
          <a href="http://www.php.net/array"><span class="kw3">array</span></a>
          <span class="br0">(</span>
          <span class="br0">)</span>
          <span class="sy0">;</span>
          <br> 
          <br> 
          <span class="kw1">foreach</span>
          <span class="br0">(</span>
          <span class="re0">$document</span>
          <span class="sy0">-&gt;</span>
          <span class="me1">getElementsByTagName</span>
          <span class="br0">(</span>
          <span class="st_h">'img'</span>
          <span class="br0">)</span> 
          <span class="kw1">as</span> 
          <span class="re0">$img</span>
          <span class="br0">)</span>
          <br> 
          <span class="br0">{</span>
          <br> &nbsp; &nbsp; 
          <span class="co1">// Extract what we want</span>
          <br> &nbsp; &nbsp; 
          <span class="re0">$image</span> 
          <span class="sy0">=</span> 
          <a href="http://www.php.net/array"><span class="kw3">array</span></a>
          <br> &nbsp; &nbsp; 
          <span class="br0">(</span>
          <br> &nbsp; &nbsp; &nbsp; &nbsp; 
          <span class="st_h">'src'</span> 
          <span class="sy0">=&gt;</span> 
          <span class="kw2">self</span>
          <span class="sy0">::</span>
          <span class="me2">make_absolute</span>
          <span class="br0">(</span>
          <span class="re0">$img</span>
          <span class="sy0">-&gt;</span>
          <span class="me1">getAttribute</span>
          <span class="br0">(</span>
          <span class="st_h">'src'</span>
          <span class="br0">)</span>
          <span class="sy0">,</span> 
          <span class="re0">$base</span>
          <span class="br0">)</span>
          <span class="sy0">,</span>
          <br> &nbsp; &nbsp; 
          <span class="br0">)</span>
          <span class="sy0">;</span>
          <br> &nbsp; &nbsp; 
          <br> &nbsp; &nbsp; 
          <span class="co1">// Skip images without src</span>
          <br> &nbsp; &nbsp; 
          <span class="kw1">if</span>
          <span class="br0">(</span> 
          <span class="sy0">!</span> 
          <span class="re0">$image</span>
          <span class="br0">[</span>
          <span class="st_h">'src'</span>
          <span class="br0">]</span>
          <span class="br0">)</span>
          <br> &nbsp; &nbsp; &nbsp; &nbsp; 
          <span class="kw1">continue</span>
          <span class="sy0">;</span>
          <br> 
          <br> &nbsp; &nbsp; 
          <span class="co1">// Add to collection. Use src as key to prevent duplicates.</span>
          <br> &nbsp; &nbsp; 
          <span class="re0">$images</span>
          <span class="br0">[</span>
          <span class="re0">$image</span>
          <span class="br0">[</span>
          <span class="st_h">'src'</span>
          <span class="br0">]</span>
          <span class="br0">]</span> 
          <span class="sy0">=</span> 
          <span class="re0">$image</span>
          <span class="sy0">;</span>
          <br> 
          <span class="br0">}</span>
          <br> 
          <span class="re0">$images</span> 
          <span class="sy0">=</span> 
          <a href="http://www.php.net/array_values"><span class="kw3">array_values</span></a>
          <span class="br0">(</span>
          <span class="re0">$images</span>
          <span class="br0">)</span>
          <span class="sy0">;</span>
         </div>
        </div> 
        <p>Now that was pretty simple, wasn’t it? The perhaps weird thing here is that I first collect them in an array, using the image source as a key. This way we won’t end up with duplicate image URLs. We also skip images which for some reason were to not have any URL. </p> 
        <p>We could of course also get other stuff from the image tag here, like the height, width, alt text or title, or we could do some more elaborate filtering to try to weed out uninteresting images. For example really tiny ones or whatever else we might think of.</p> 
        <h2>Echo it all out</h2> 
        <p>Now we just need to echo it all out in a format we can use easily on the client side. And we will, surprise, surprise, of course use <a href="/?p=1021" title="How to easily provide JSON and JSONP">our good friend JSON</a> for this ?</p> 
        <div class="codecolorer-container php default" style="overflow:auto;white-space:nowrap;">
         <div class="php codecolorer">
          <a href="http://www.php.net/header"><span class="kw3">header</span></a>
          <span class="br0">(</span>
          <span class="st_h">'content-type: application/json; charset=utf-8'</span>
          <span class="br0">)</span>
          <span class="sy0">;</span>
          <br> 
          <span class="re0">$result</span> 
          <span class="sy0">=</span> 
          <a href="http://www.php.net/array"><span class="kw3">array</span></a>
          <span class="br0">(</span>
          <span class="st_h">'images'</span> 
          <span class="sy0">=&gt;</span> 
          <span class="re0">$images</span>
          <span class="br0">)</span>
          <span class="sy0">;</span>
          <br> 
          <span class="kw1">echo</span> 
          <a href="http://www.php.net/json_encode"><span class="kw3">json_encode</span></a>
          <span class="br0">(</span>
          <span class="re0">$result</span>
          <span class="br0">)</span>
          <span class="sy0">;</span>
         </div>
        </div> 
        <p>We set the appropriate header, wrap it up in a result array, encode it, and spit it out. And that’s pretty much all there is to that part.</p> 
        <h2>Working sample</h2> 
        <p>When I implemented this I decided to wrap most of this up in a class I called Image_Finder. I have also created a tiny interface for this so you can test it out for yourself. Will go through that interface (or a variant of it) later, but since that’s all HTML and JavaScript you are of course more than welcome to have a peek at the source of it ?</p> 
        <p>Either way, you can find it all, code and sample, at <a href="http://samples.geekality.net/image-fetcher/">samples.geekality.net/image-fetcher</a>. Let me know if you like it. And definitely let me know if you find any bugs ?</p> 
        <p>Bugs, improvements, suggestions, praise; please leave a comment. I like to learn ?</p> 
       </div>
       <!-- .entry-content --> 
       <footer class="entry-meta">
        <span class="tag-links"><a href="http://www.geekality.net/tag/curl/" rel="tag">Curl</a><a href="http://www.geekality.net/tag/html/" rel="tag">HTML</a><a href="http://www.geekality.net/tag/parsing/" rel="tag">Parsing</a><a href="http://www.geekality.net/tag/php/" rel="tag">PHP</a><a href="http://www.geekality.net/tag/regular-expression/" rel="tag">Regular Expression</a><a href="http://www.geekality.net/tag/snippet/" rel="tag">Snippet</a><a href="http://www.geekality.net/tag/tutorial/" rel="tag">Tutorial</a></span>
       </footer>
      </article>
      <!-- #post-## --> 
      <nav class="navigation post-navigation" role="navigation"> 
       <h1 class="screen-reader-text">Post navigation</h1> 
       <div class="nav-links"> 
        <a href="http://www.geekality.net/2011/05/12/php-dealing-with-absolute-and-relative-urls/" rel="prev"><span class="meta-nav">Previous Post</span>PHP: Dealing with absolute and relative URLs</a>
        <a href="http://www.geekality.net/2011/05/13/ultra-simple-sftp-server-for-windows/" rel="next"><span class="meta-nav">Next Post</span>Ultra simple SFTP server for Windows</a> 
       </div>
       <!-- .nav-links --> 
      </nav>
      <!-- .navigation --> 
      <div id="disqus_thread"> 
       <div id="dsq-content"> 
        <ul id="dsq-comments"> 
         <li class="comment even thread-even depth-1" id="dsq-comment-6294"> 
          <div id="dsq-comment-header-6294" class="dsq-comment-header"> 
           <cite id="dsq-cite-6294"> <span id="dsq-author-user-6294">Niels van Kerkhoven</span> </cite> 
          </div> 
          <div id="dsq-comment-body-6294" class="dsq-comment-body"> 
           <div id="dsq-comment-message-6294" class="dsq-comment-message">
            <p>The program for fetching the images works great.<br> However when I run it on my server it wants a file named get-images.php but I cannot find it on your site.<br> Could you help me?</p> 
           </div> 
          </div> 
          <ul class="children"> 
           <li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="dsq-comment-6295"> 
            <div id="dsq-comment-header-6295" class="dsq-comment-header"> 
             <cite id="dsq-cite-6295"> <a id="dsq-author-user-6295" href="http://www.geekality.net" target="_blank" rel="nofollow">Torleif</a> </cite> 
            </div> 
            <div id="dsq-comment-body-6295" class="dsq-comment-body"> 
             <div id="dsq-comment-message-6295" class="dsq-comment-message">
              <p>Seems to be a left-over from while I was messing around with this. It should probably be changed to scan.php. See there was a slight mismatch between my local version and the one uploaded as well. Have re-uploaded it, so hopefully it’s error free now :p</p> 
              <p>Thanks for the heads up!</p> 
             </div> 
            </div> 
            <ul class="children"> 
             <li class="comment even depth-3" id="dsq-comment-6297"> 
              <div id="dsq-comment-header-6297" class="dsq-comment-header"> 
               <cite id="dsq-cite-6297"> <span id="dsq-author-user-6297">Niels van Kerkhoven</span> </cite> 
              </div> 
              <div id="dsq-comment-body-6297" class="dsq-comment-body"> 
               <div id="dsq-comment-message-6297" class="dsq-comment-message">
                <p>With the new version firefox and IE opens the scan.php for saving/opening (localhost version).</p> 
               </div> 
              </div> 
              <ul class="children"> 
               <li class="comment byuser comment-author-admin bypostauthor odd alt depth-4" id="dsq-comment-6299"> 
                <div id="dsq-comment-header-6299" class="dsq-comment-header"> 
                 <cite id="dsq-cite-6299"> <a id="dsq-author-user-6299" href="http://www.geekality.net" target="_blank" rel="nofollow">Torleif</a> </cite> 
                </div> 
                <div id="dsq-comment-body-6299" class="dsq-comment-body"> 
                 <div id="dsq-comment-message-6299" class="dsq-comment-message">
                  <p>Then I think you’re doing something wrong. Works here in all my browsers. I’m guessing you have forgotten the JavaScript file, or perhaps you have the path wrong? And that’s probably what was wrong before too actually, when I come to think about it…</p> 
                 </div> 
                </div> </li>
               <!-- #comment-## --> 
              </ul>
              <!-- .children --> </li>
             <!-- #comment-## --> 
            </ul>
            <!-- .children --> </li>
           <!-- #comment-## --> 
          </ul>
          <!-- .children --> </li>
         <!-- #comment-## --> 
         <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-6314"> 
          <div id="dsq-comment-header-6314" class="dsq-comment-header"> 
           <cite id="dsq-cite-6314"> <span id="dsq-author-user-6314">Niels van Kerkhoven</span> </cite> 
          </div> 
          <div id="dsq-comment-body-6314" class="dsq-comment-body"> 
           <div id="dsq-comment-message-6314" class="dsq-comment-message">
            <p>when adding the url of my site the reply is not shown.<br> Is this correct?</p> 
           </div> 
          </div> 
          <ul class="children"> 
           <li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="dsq-comment-6315"> 
            <div id="dsq-comment-header-6315" class="dsq-comment-header"> 
             <cite id="dsq-cite-6315"> <a id="dsq-author-user-6315" href="http://www.geekality.net" target="_blank" rel="nofollow">Torleif</a> </cite> 
            </div> 
            <div id="dsq-comment-body-6315" class="dsq-comment-body"> 
             <div id="dsq-comment-message-6315" class="dsq-comment-message">
              <p>Depends what your site is ? Tried using the domain of your email address and got 8 images. So if that’s your URL, then it should get some images ?</p> 
              <p>If you have an online version of this I could try it and see if I find something obviously wrong.</p> 
             </div> 
            </div> </li>
           <!-- #comment-## --> 
          </ul>
          <!-- .children --> </li>
         <!-- #comment-## --> 
         <li class="comment even thread-even depth-1" id="dsq-comment-6335"> 
          <div id="dsq-comment-header-6335" class="dsq-comment-header"> 
           <cite id="dsq-cite-6335"> <span id="dsq-author-user-6335">Niels van Kerkhoven</span> </cite> 
          </div> 
          <div id="dsq-comment-body-6335" class="dsq-comment-body"> 
           <div id="dsq-comment-message-6335" class="dsq-comment-message">
            <p>Could you please run the imagefetcher from the url I supplied in the previous post?<br> Maybe it works for you.</p> 
           </div> 
          </div> 
          <ul class="children"> 
           <li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="dsq-comment-6336"> 
            <div id="dsq-comment-header-6336" class="dsq-comment-header"> 
             <cite id="dsq-cite-6336"> <a id="dsq-author-user-6336" href="http://www.geekality.net" target="_blank" rel="nofollow">Torleif</a> </cite> 
            </div> 
            <div id="dsq-comment-body-6336" class="dsq-comment-body"> 
             <div id="dsq-comment-message-6336" class="dsq-comment-message">
              <p>No, the scan.php file doesn’t return anything. So that’s where the error must be. </p> 
              <p>By the way, when you copy things from others, don’t hot-link graphics and scripts, and definitely don’t leave tracking code. You have just copied the whole HTML of the index page, which is not good. Please remove the Clicky script code at the bottom of the page at least.</p> 
             </div> 
            </div> </li>
           <!-- #comment-## --> 
          </ul>
          <!-- .children --> </li>
         <!-- #comment-## --> 
         <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-6343"> 
          <div id="dsq-comment-header-6343" class="dsq-comment-header"> 
           <cite id="dsq-cite-6343"> <span id="dsq-author-user-6343">Niels van Kerkhoven</span> </cite> 
          </div> 
          <div id="dsq-comment-body-6343" class="dsq-comment-body"> 
           <div id="dsq-comment-message-6343" class="dsq-comment-message">
            <p>Could it be that your scan file is different then the one from the website, because that is the code I copied.<br> BTW All links are removed</p> 
           </div> 
          </div> 
          <ul class="children"> 
           <li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="dsq-comment-6361"> 
            <div id="dsq-comment-header-6361" class="dsq-comment-header"> 
             <cite id="dsq-cite-6361"> <a id="dsq-author-user-6361" href="http://www.geekality.net" target="_blank" rel="nofollow">Torleif</a> </cite> 
            </div> 
            <div id="dsq-comment-body-6361" class="dsq-comment-body"> 
             <div id="dsq-comment-message-6361" class="dsq-comment-message">
              <p>The one in the sample is the one. The source code viewer is dynamic, so it’s the same as the contents of the actual file used. So, shouldn’t be any problems there.</p> 
              <p>Thank you for removing the links ?</p> 
             </div> 
            </div> </li>
           <!-- #comment-## --> 
          </ul>
          <!-- .children --> </li>
         <!-- #comment-## --> 
         <li class="comment even thread-even depth-1" id="dsq-comment-9807"> 
          <div id="dsq-comment-header-9807" class="dsq-comment-header"> 
           <cite id="dsq-cite-9807"> <span id="dsq-author-user-9807">Graham</span> </cite> 
          </div> 
          <div id="dsq-comment-body-9807" class="dsq-comment-body"> 
           <div id="dsq-comment-message-9807" class="dsq-comment-message">
            <p>Having similar problems with script execution. Think the version you uploaded may be faulty.</p> 
           </div> 
          </div> 
          <ul class="children"> 
           <li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="dsq-comment-9809"> 
            <div id="dsq-comment-header-9809" class="dsq-comment-header"> 
             <cite id="dsq-cite-9809"> <a id="dsq-author-user-9809" href="http://www.geekality.net" target="_blank" rel="nofollow">Torleif</a> </cite> 
            </div> 
            <div id="dsq-comment-body-9809" class="dsq-comment-body"> 
             <div id="dsq-comment-message-9809" class="dsq-comment-message">
              <p>Rather than thinking it is faulty, how about finding the fault? ? How does it not work? Do you get an error message? When you view the source of the sample, you see the actual code that is running. And if what I uploaded was faulty, then the sample wouldn’t run. And it runs fine here on all my browsers, no problems at all.</p> 
              <p>Check instead your script and your extensions. Does your web server support cURL for example?</p> 
             </div> 
            </div> </li>
           <!-- #comment-## --> 
          </ul>
          <!-- .children --> </li>
         <!-- #comment-## --> 
         <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-12495"> 
          <div id="dsq-comment-header-12495" class="dsq-comment-header"> 
           <cite id="dsq-cite-12495"> <span id="dsq-author-user-12495">Pinazinho</span> </cite> 
          </div> 
          <div id="dsq-comment-body-12495" class="dsq-comment-body"> 
           <div id="dsq-comment-message-12495" class="dsq-comment-message">
            <p>If you add on line 70 of image_fetcher.class.php this code:</p> 
            <p>$numargs = func_num_args();<br> if ($numargs == 2) {<br> list($width, $height, $type, $attr) = getimagesize(@$image[‘src’]);<br> if($width &lt;= func_get_arg(0) &amp;&amp; $height &lt;= func_get_arg(1) )<br> continue;<br> }</p> 
            <p>you can choose to select only images with, at least, a minimum with and height. If you don’t pass any arguments, it will does the same till now.</p> 
            <p>scan.php line 19:</p> 
            <p>$images = $finder-&gt;get_images(100,100);</p> 
           </div> 
          </div> 
          <ul class="children"> 
           <li class="comment odd alt depth-2" id="dsq-comment-12497"> 
            <div id="dsq-comment-header-12497" class="dsq-comment-header"> 
             <cite id="dsq-cite-12497"> <a id="dsq-author-user-12497" href="http://www.geekality.net/" target="_blank" rel="nofollow">Torleif Berger</a> </cite> 
            </div> 
            <div id="dsq-comment-body-12497" class="dsq-comment-body"> 
             <div id="dsq-comment-message-12497" class="dsq-comment-message">
              <p>Yeah, you could probably add a lot of functionality and smartness here, but the main points were basic cURL usage and how to parse HTML without using regex ?</p> 
             </div> 
            </div> </li>
           <!-- #comment-## --> 
          </ul>
          <!-- .children --> </li>
         <!-- #comment-## --> 
         <li class="comment even thread-even depth-1" id="dsq-comment-12513"> 
          <div id="dsq-comment-header-12513" class="dsq-comment-header"> 
           <cite id="dsq-cite-12513"> <a id="dsq-author-user-12513" href="https://nahuiocelotl.org/" target="_blank" rel="nofollow">Óscar Palacios Ruiz</a> </cite> 
          </div> 
          <div id="dsq-comment-body-12513" class="dsq-comment-body"> 
           <div id="dsq-comment-message-12513" class="dsq-comment-message">
            <p>Great coding. I had written a small method on my own, but it was really slow, and I have to deliver this today! I included your class in my code, but of course retained your credits. Thank you so very much.</p> 
           </div> 
          </div> 
          <ul class="children"> 
           <li class="comment odd alt depth-2" id="dsq-comment-12514"> 
            <div id="dsq-comment-header-12514" class="dsq-comment-header"> 
             <cite id="dsq-cite-12514"> <a id="dsq-author-user-12514" href="http://www.geekality.net/" target="_blank" rel="nofollow">Torleif Berger</a> </cite> 
            </div> 
            <div id="dsq-comment-body-12514" class="dsq-comment-body"> 
             <div id="dsq-comment-message-12514" class="dsq-comment-message">
              <p>Thanks! Fun to know the code is useful for others ?</p> 
             </div> 
            </div> </li>
           <!-- #comment-## --> 
          </ul>
          <!-- .children --> </li>
         <!-- #comment-## --> 
         <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-12568"> 
          <div id="dsq-comment-header-12568" class="dsq-comment-header"> 
           <cite id="dsq-cite-12568"> <span id="dsq-author-user-12568">Tommaso Cardone</span> </cite> 
          </div> 
          <div id="dsq-comment-body-12568" class="dsq-comment-body"> 
           <div id="dsq-comment-message-12568" class="dsq-comment-message">
            <p>Thank you for this script ?</p> 
           </div> 
          </div> </li>
         <!-- #comment-## --> 
         <li class="comment odd alt thread-even depth-1" id="dsq-comment-12572"> 
          <div id="dsq-comment-header-12572" class="dsq-comment-header"> 
           <cite id="dsq-cite-12572"> <span id="dsq-author-user-12572">glurl</span> </cite> 
          </div> 
          <div id="dsq-comment-body-12572" class="dsq-comment-body"> 
           <div id="dsq-comment-message-12572" class="dsq-comment-message">
            <p>Hi, good coding. I made some changes to suit my needs. I need the script returns only the url links of a page. Basically, I got this by changing the occurrences of tags ‘src’ to ‘href’ and ‘img’ with ‘a’. However, I am having difficulty in getting the name of the link appear associated with its URL. What I did was the following:</p> 
            <p>var image = $ (‘<a>‘)<br> . prop (data.images [n])<br> . html (‘test’)<br> . appendTo (‘# output’)<br> . load (imageLoaded);<br> }</a></p>
            <a> </a>
            <p><a>How do I do to every link appear in a line and with its name instead of word ‘test’? Thank you.</a></p> 
           </div> 
          </div> 
          <ul class="children"> 
           <li class="comment even depth-2" id="dsq-comment-12573"> 
            <div id="dsq-comment-header-12573" class="dsq-comment-header"> 
             <cite id="dsq-cite-12573"> <a id="dsq-author-user-12573" href="http://www.geekality.net/" target="_blank" rel="nofollow">Torleif Berger</a> </cite> 
            </div> 
            <div id="dsq-comment-body-12573" class="dsq-comment-body"> 
             <div id="dsq-comment-message-12573" class="dsq-comment-message">
              <p>You need to get the content of the ‘a’ tag. Probably a property called innerHTML or something. Read up on the documentation for DOMDocument on php.net for how to do that. Note that this might end up a huge pain though, as links can contain text, images, and other stuff.</p> 
             </div> 
            </div> 
            <ul class="children"> 
             <li class="comment odd alt depth-3" id="dsq-comment-12574"> 
              <div id="dsq-comment-header-12574" class="dsq-comment-header"> 
               <cite id="dsq-cite-12574"> <span id="dsq-author-user-12574">glurl</span> </cite> 
              </div> 
              <div id="dsq-comment-body-12574" class="dsq-comment-body"> 
               <div id="dsq-comment-message-12574" class="dsq-comment-message">
                <p>Thank you!</p> 
               </div> 
              </div> </li>
             <!-- #comment-## --> 
            </ul>
            <!-- .children --> </li>
           <!-- #comment-## --> 
          </ul>
          <!-- .children --> </li>
         <!-- #comment-## --> 
         <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-12640"> 
          <div id="dsq-comment-header-12640" class="dsq-comment-header"> 
           <cite id="dsq-cite-12640"> <span id="dsq-author-user-12640">chipi92</span> </cite> 
          </div> 
          <div id="dsq-comment-body-12640" class="dsq-comment-body"> 
           <div id="dsq-comment-message-12640" class="dsq-comment-message">
            <p>Is this post alive? I cannot get the curl_exec working, it is stucked there. What can be? Any idea?</p> 
           </div> 
          </div> 
          <ul class="children"> 
           <li class="comment odd alt depth-2" id="dsq-comment-12642"> 
            <div id="dsq-comment-header-12642" class="dsq-comment-header"> 
             <cite id="dsq-cite-12642"> <a id="dsq-author-user-12642" href="http://www.geekality.net/" target="_blank" rel="nofollow">Torleif Berger</a> </cite> 
            </div> 
            <div id="dsq-comment-body-12642" class="dsq-comment-body"> 
             <div id="dsq-comment-message-12642" class="dsq-comment-message">
              <p>Well, the post has never been alive, but its author still is! No idea why it’s not working for you. You kind of need to debug it yourself. Google, PHP docs, etc. Use the curl_error function, check the return status code, etc. If all else fails, you can always post a question at StackOverflow.com. Good luck ?</p> 
             </div> 
            </div> </li>
           <!-- #comment-## --> 
          </ul>
          <!-- .children --> </li>
         <!-- #comment-## --> 
         <li class="comment even thread-even depth-1" id="dsq-comment-12641"> 
          <div id="dsq-comment-header-12641" class="dsq-comment-header"> 
           <cite id="dsq-cite-12641"> <span id="dsq-author-user-12641">chipi92</span> </cite> 
          </div> 
          <div id="dsq-comment-body-12641" class="dsq-comment-body"> 
           <div id="dsq-comment-message-12641" class="dsq-comment-message">
            <p>It might be Twitter is blocking request from my free host provider.</p> 
            <p>IMPORTANT!!</p> 
            <p>The request return a json encode variable.</p> 
            <p>I cannot get data.images without decoding the return variable from scan.php</p> 
            <p>In function getImagesFromUrlDone:</p> 
            <p>$(‘#output’).empty();<br> data = jQuery.parseJSON(data);</p> 
            <p>And then we can do data.images</p> 
           </div> 
          </div> 
          <ul class="children"> 
           <li class="comment odd alt depth-2" id="dsq-comment-12909"> 
            <div id="dsq-comment-header-12909" class="dsq-comment-header"> 
             <cite id="dsq-cite-12909"> <a id="dsq-author-user-12909" href="http://www.geekality.net/" target="_blank" rel="nofollow">Torleif Berger</a> </cite> 
            </div> 
            <div id="dsq-comment-body-12909" class="dsq-comment-body"> 
             <div id="dsq-comment-message-12909" class="dsq-comment-message">
              <p>That’s because you’re not supposed to use scan.php. You should use the class:</p> 
              <div class="codecolorer-container text default" style="overflow:auto;white-space:nowrap;">
               <div class="text codecolorer">
                // Create image finder
                <br> include('image_finder.class.php');
                <br> $finder = new ImageFinder($url);
                <br> 
                <br> // Get images
                <br> $images = $finder-&gt;get_images();
               </div>
              </div> 
             </div> 
            </div> </li>
           <!-- #comment-## --> 
          </ul>
          <!-- .children --> </li>
         <!-- #comment-## --> 
         <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-12684"> 
          <div id="dsq-comment-header-12684" class="dsq-comment-header"> 
           <cite id="dsq-cite-12684"> <span id="dsq-author-user-12684">Mike</span> </cite> 
          </div> 
          <div id="dsq-comment-body-12684" class="dsq-comment-body"> 
           <div id="dsq-comment-message-12684" class="dsq-comment-message">
            <p>Hye, I want to display urls of images on a page with php and i don’t know how. You can help me?</p> 
           </div> 
          </div> 
          <ul class="children"> 
           <li class="comment odd alt depth-2" id="dsq-comment-12688"> 
            <div id="dsq-comment-header-12688" class="dsq-comment-header"> 
             <cite id="dsq-cite-12688"> <a id="dsq-author-user-12688" href="http://www.geekality.net/" target="_blank" rel="nofollow">Torleif Berger</a> </cite> 
            </div> 
            <div id="dsq-comment-body-12688" class="dsq-comment-body"> 
             <div id="dsq-comment-message-12688" class="dsq-comment-message">
              <p>If you can’t figure it out from the code above, then no. Try StackOverflow.com.</p> 
             </div> 
            </div> </li>
           <!-- #comment-## --> 
          </ul>
          <!-- .children --> </li>
         <!-- #comment-## --> 
         <li class="comment even thread-even depth-1" id="dsq-comment-12689"> 
          <div id="dsq-comment-header-12689" class="dsq-comment-header"> 
           <cite id="dsq-cite-12689"> <span id="dsq-author-user-12689">elijah</span> </cite> 
          </div> 
          <div id="dsq-comment-body-12689" class="dsq-comment-body"> 
           <div id="dsq-comment-message-12689" class="dsq-comment-message">
            <p>This is an awesome plugin, one question. How would you go about using it in Laravel? I know its a noob question.<br> Can this be made into a package and installed thru composer?</p> 
           </div> 
          </div> 
          <ul class="children"> 
           <li class="comment odd alt depth-2" id="dsq-comment-12692"> 
            <div id="dsq-comment-header-12692" class="dsq-comment-header"> 
             <cite id="dsq-cite-12692"> <a id="dsq-author-user-12692" href="http://www.geekality.net/" target="_blank" rel="nofollow">Torleif Berger</a> </cite> 
            </div> 
            <div id="dsq-comment-body-12692" class="dsq-comment-body"> 
             <div id="dsq-comment-message-12692" class="dsq-comment-message">
              <p>You could just copy it in as a regular class you’d write manually I suppose. Anything is possible of course, but not sure I’d want this as a Composer package as it’s kind of narrow and very customized to specific usage. And besides, the code is quite short, so it’s probably just as easy to just re-implement it where you need it.</p> 
             </div> 
            </div> </li>
           <!-- #comment-## --> 
          </ul>
          <!-- .children --> </li>
         <!-- #comment-## --> 
         <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-12709"> 
          <div id="dsq-comment-header-12709" class="dsq-comment-header"> 
           <cite id="dsq-cite-12709"> <span id="dsq-author-user-12709">Goktug Yenisen</span> </cite> 
          </div> 
          <div id="dsq-comment-body-12709" class="dsq-comment-body"> 
           <div id="dsq-comment-message-12709" class="dsq-comment-message">
            <p>Heey<br> Good work but it doesnt work for me. When i click get images button, its going to scan.php page and showing json encoded codes.<br> Can you help me ?</p> 
           </div> 
          </div> 
          <ul class="children"> 
           <li class="comment odd alt depth-2" id="dsq-comment-12710"> 
            <div id="dsq-comment-header-12710" class="dsq-comment-header"> 
             <cite id="dsq-cite-12710"> <a id="dsq-author-user-12710" href="http://www.geekality.net/" target="_blank" rel="nofollow">Torleif Berger</a> </cite> 
            </div> 
            <div id="dsq-comment-body-12710" class="dsq-comment-body"> 
             <div id="dsq-comment-message-12710" class="dsq-comment-message">
              <p>Sounds like you haven’t hooked up the Javascript correctly.</p> 
             </div> 
            </div> </li>
           <!-- #comment-## --> 
          </ul>
          <!-- .children --> </li>
         <!-- #comment-## --> 
         <li class="comment even thread-even depth-1" id="dsq-comment-12773"> 
          <div id="dsq-comment-header-12773" class="dsq-comment-header"> 
           <cite id="dsq-cite-12773"> <span id="dsq-author-user-12773">Junax</span> </cite> 
          </div> 
          <div id="dsq-comment-body-12773" class="dsq-comment-body"> 
           <div id="dsq-comment-message-12773" class="dsq-comment-message">
            <p>I tried your demo above but its not working on this URL: <a href="http://shop.nordstrom.com/c/women" rel="nofollow">http://shop.nordstrom.com/c/women</a><br> Is there any workaround on this? Thanks!</p> 
           </div> 
          </div> </li>
         <!-- #comment-## --> 
         <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-12782"> 
          <div id="dsq-comment-header-12782" class="dsq-comment-header"> 
           <cite id="dsq-cite-12782"> <span id="dsq-author-user-12782">hi</span> </cite> 
          </div> 
          <div id="dsq-comment-body-12782" class="dsq-comment-body"> 
           <div id="dsq-comment-message-12782" class="dsq-comment-message">
            <p>hi<br> soooooooooooooooooooooo gooooooooooooooooood</p> 
            <p>Is it possible we use this code for save image in own host that the script is running now?</p> 
            <p>If yes How is it possible ?</p> 
           </div> 
          </div> 
          <ul class="children"> 
           <li class="comment even depth-2" id="dsq-comment-12783"> 
            <div id="dsq-comment-header-12783" class="dsq-comment-header"> 
             <cite id="dsq-cite-12783"> <a id="dsq-author-user-12783" href="http://www.geekality.net/" target="_blank" rel="nofollow">Torleif Berger</a> </cite> 
            </div> 
            <div id="dsq-comment-body-12783" class="dsq-comment-body"> 
             <div id="dsq-comment-message-12783" class="dsq-comment-message">
              <p>….what?</p> 
             </div> 
            </div> </li>
           <!-- #comment-## --> 
          </ul>
          <!-- .children --> </li>
         <!-- #comment-## --> 
         <li class="comment odd alt thread-even depth-1" id="dsq-comment-12812"> 
          <div id="dsq-comment-header-12812" class="dsq-comment-header"> 
           <cite id="dsq-cite-12812"> <span id="dsq-author-user-12812">Jose</span> </cite> 
          </div> 
          <div id="dsq-comment-body-12812" class="dsq-comment-body"> 
           <div id="dsq-comment-message-12812" class="dsq-comment-message">
            <p>Why I cannot load pages like facebook or twitter?? It works fine with other website except with a few, even the DOMDocument doesn’t work with either</p> 
           </div> 
          </div> 
          <ul class="children"> 
           <li class="comment even depth-2" id="dsq-comment-12813"> 
            <div id="dsq-comment-header-12813" class="dsq-comment-header"> 
             <cite id="dsq-cite-12813"> <a id="dsq-author-user-12813" href="http://www.geekality.net/" target="_blank" rel="nofollow">Torleif Berger</a> </cite> 
            </div> 
            <div id="dsq-comment-body-12813" class="dsq-comment-body"> 
             <div id="dsq-comment-message-12813" class="dsq-comment-message">
              <p>This script reads the HTML of the page you give it. Sites like Facebook and Twitter loads their content dynamically through Javascript, so the actual image tags aren’t found in the HTML.</p> 
             </div> 
            </div> </li>
           <!-- #comment-## --> 
          </ul>
          <!-- .children --> </li>
         <!-- #comment-## --> 
         <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-12853"> 
          <div id="dsq-comment-header-12853" class="dsq-comment-header"> 
           <cite id="dsq-cite-12853"> <span id="dsq-author-user-12853">Don Lester</span> </cite> 
          </div> 
          <div id="dsq-comment-body-12853" class="dsq-comment-body"> 
           <div id="dsq-comment-message-12853" class="dsq-comment-message">
            <p>Hello nice coding by the way.<br> but i have a problem, when i used your codes.<br> I mean when i copied all of it ( index.php,<br> image_finder.class.php, scan.php, and script.php ), when i clicked the button it redirects to <a href="http://localhost/htmltest/scan.php" rel="nofollow">http://localhost/htmltest/scan.php</a>.<br> and it just displays the json code.</p> 
           </div> 
          </div> 
          <ul class="children"> 
           <li class="comment even depth-2" id="dsq-comment-12854"> 
            <div id="dsq-comment-header-12854" class="dsq-comment-header"> 
             <cite id="dsq-cite-12854"> <a id="dsq-author-user-12854" href="http://www.geekality.net/" target="_blank" rel="nofollow">Torleif Berger</a> </cite> 
            </div> 
            <div id="dsq-comment-body-12854" class="dsq-comment-body"> 
             <div id="dsq-comment-message-12854" class="dsq-comment-message">
              <p>Did you forget the javascript file? The sample is using javascript to load the images returned in the JSON.</p> 
             </div> 
            </div> </li>
           <!-- #comment-## --> 
          </ul>
          <!-- .children --> </li>
         <!-- #comment-## --> 
         <li class="comment odd alt thread-even depth-1" id="dsq-comment-12881"> 
          <div id="dsq-comment-header-12881" class="dsq-comment-header"> 
           <cite id="dsq-cite-12881"> <span id="dsq-author-user-12881">Getulio Jr</span> </cite> 
          </div> 
          <div id="dsq-comment-body-12881" class="dsq-comment-body"> 
           <div id="dsq-comment-message-12881" class="dsq-comment-message">
            <p>Excellent!<br> But I can´t make it work with “data-src” too… Already tried many things =(<br> Can you help me doing this, please?</p> 
           </div> 
          </div> 
          <ul class="children"> 
           <li class="comment even depth-2" id="dsq-comment-12882"> 
            <div id="dsq-comment-header-12882" class="dsq-comment-header"> 
             <cite id="dsq-cite-12882"> <a id="dsq-author-user-12882" href="http://www.geekality.net/" target="_blank" rel="nofollow">Torleif Berger</a> </cite> 
            </div> 
            <div id="dsq-comment-body-12882" class="dsq-comment-body"> 
             <div id="dsq-comment-message-12882" class="dsq-comment-message">
              <p>In addition to, or instead of? If instead of, just swap ‘src’ with ‘data-src’. If addition to, just add a case for it in the $image array where it fetches the ‘src’ attribute, and then afterwards add some checks for which one is present and which one you want.</p> 
             </div> 
            </div> </li>
           <!-- #comment-## --> 
          </ul>
          <!-- .children --> </li>
         <!-- #comment-## --> 
         <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-12886"> 
          <div id="dsq-comment-header-12886" class="dsq-comment-header"> 
           <cite id="dsq-cite-12886"> <span id="dsq-author-user-12886">Poogie</span> </cite> 
          </div> 
          <div id="dsq-comment-body-12886" class="dsq-comment-body"> 
           <div id="dsq-comment-message-12886" class="dsq-comment-message">
            <p>Some pages have images loaded by JS or external CSS includes. How do I extract images mentioned by those methods? For instance take a look at this: <a href="https://www.jonathanadler.com/furniture/home-office/mrs.-godfrey-chair/9468-VeniceNavy-Walnut.html" rel="nofollow">https://www.jonathanadler.com/furniture/home-office/mrs.-godfrey-chair/9468-VeniceNavy-Walnut.html</a></p> 
            <p>The big blue chair image is loaded by JS.</p> 
           </div> 
          </div> 
          <ul class="children"> 
           <li class="comment even depth-2" id="dsq-comment-12887"> 
            <div id="dsq-comment-header-12887" class="dsq-comment-header"> 
             <cite id="dsq-cite-12887"> <a id="dsq-author-user-12887" href="http://www.geekality.net/" target="_blank" rel="nofollow">Torleif Berger</a> </cite> 
            </div> 
            <div id="dsq-comment-body-12887" class="dsq-comment-body"> 
             <div id="dsq-comment-message-12887" class="dsq-comment-message">
              <p>For that you’d have to get creative, and would depend a lot on how the site does it exactly… might not even be possible…</p> 
              <p>As for your example, I do get big blue chair image back using my sample thing though… JS might just be for switching the images around and not actually loading them?</p> 
             </div> 
            </div> </li>
           <!-- #comment-## --> 
          </ul>
          <!-- .children --> </li>
         <!-- #comment-## --> 
         <li class="comment odd alt thread-even depth-1" id="dsq-comment-12907"> 
          <div id="dsq-comment-header-12907" class="dsq-comment-header"> 
           <cite id="dsq-cite-12907"> <a id="dsq-author-user-12907" href="http://www.manhattanbalustrades.co.za" target="_blank" rel="nofollow">Jacques Mulder</a> </cite> 
          </div> 
          <div id="dsq-comment-body-12907" class="dsq-comment-body"> 
           <div id="dsq-comment-message-12907" class="dsq-comment-message">
            <p>Excellent code. Just breaking my brain over how to get background image from a div tag. Would you be so kind as to give me the adjustment in your code to find these image on the page.</p> 
           </div> 
          </div> 
          <ul class="children"> 
           <li class="comment even depth-2" id="dsq-comment-12908"> 
            <div id="dsq-comment-header-12908" class="dsq-comment-header"> 
             <cite id="dsq-cite-12908"> <a id="dsq-author-user-12908" href="http://www.geekality.net/" target="_blank" rel="nofollow">Torleif Berger</a> </cite> 
            </div> 
            <div id="dsq-comment-body-12908" class="dsq-comment-body"> 
             <div id="dsq-comment-message-12908" class="dsq-comment-message">
              <p>To do that, you’d have to find all style attributes and parse their content to find background images. Not a trivial change, and not planning to figure that one out for you, sorry ? But the tools should be in the post already, find the tags with the attributes, get their content, look for image urls.</p> 
             </div> 
            </div> </li>
           <!-- #comment-## --> 
          </ul>
          <!-- .children --> </li>
         <!-- #comment-## --> 
         <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-12911"> 
          <div id="dsq-comment-header-12911" class="dsq-comment-header"> 
           <cite id="dsq-cite-12911"> <span id="dsq-author-user-12911">curious learner</span> </cite> 
          </div> 
          <div id="dsq-comment-body-12911" class="dsq-comment-body"> 
           <div id="dsq-comment-message-12911" class="dsq-comment-message">
            <p>Hello Torleif I have to buy you a drink for this post! Awesome!!<br> This is probably how sites like <a href="http://www.wheretoget.it" rel="nofollow">http://www.wheretoget.it</a> and <a href="http://www.thehunt.com" rel="nofollow">http://www.thehunt.com</a> are adding images from external urls to their commenting system. i have been trying to figure it out.<br> Can this plugin be used to power such functionality?<br> So when you retrieve the images, how do you add them to a comment or or use as a thumbnail?</p> 
           </div> 
          </div> 
          <ul class="children"> 
           <li class="comment even depth-2" id="dsq-comment-12913"> 
            <div id="dsq-comment-header-12913" class="dsq-comment-header"> 
             <cite id="dsq-cite-12913"> <a id="dsq-author-user-12913" href="http://www.geekality.net/" target="_blank" rel="nofollow">Torleif Berger</a> </cite> 
            </div> 
            <div id="dsq-comment-body-12913" class="dsq-comment-body"> 
             <div id="dsq-comment-message-12913" class="dsq-comment-message">
              <p>No thanks, I’m good with the water in my pipes ?<br> It could be how they do it, but they could also be using <a href="http://oembed.com" rel="nofollow">http://oembed.com</a>. Some pages also define images for Facebook via Open Graph og:image meta tag, which they could be getting. Many possibilities ?<br> When you have found an image, you should probably download it and then add it to your page/comment like you do any other image. You could of course just link directly, but hot-linking (which it is called) isn’t the best. You’re both stealing their bandwidth and setting yourself up for dead images if they ever remove it.</p> 
             </div> 
            </div> </li>
           <!-- #comment-## --> 
          </ul>
          <!-- .children --> </li>
         <!-- #comment-## --> 
         <li class="comment odd alt thread-even depth-1" id="dsq-comment-12945"> 
          <div id="dsq-comment-header-12945" class="dsq-comment-header"> 
           <cite id="dsq-cite-12945"> <span id="dsq-author-user-12945">ily</span> </cite> 
          </div> 
          <div id="dsq-comment-body-12945" class="dsq-comment-body"> 
           <div id="dsq-comment-message-12945" class="dsq-comment-message">
            <p>when i key in url <a href="http://www.yahoo.com,why" rel="nofollow">http://www.yahoo.com,why</a> the output is </p> 
            <p>{“images”:[{“src”:”http://us.i1.yimg.com/us.yimg.com/i/yahoo.gif”}]}</p> 
           </div> 
          </div> 
          <ul class="children"> 
           <li class="comment even depth-2" id="dsq-comment-12946"> 
            <div id="dsq-comment-header-12946" class="dsq-comment-header"> 
             <cite id="dsq-cite-12946"> <a id="dsq-author-user-12946" href="http://www.geekality.net/" target="_blank" rel="nofollow">Torleif Berger</a> </cite> 
            </div> 
            <div id="dsq-comment-body-12946" class="dsq-comment-body"> 
             <div id="dsq-comment-message-12946" class="dsq-comment-message">
              <p>I don’t know? works fine in the sample.</p> 
             </div> 
            </div> 
            <ul class="children"> 
             <li class="comment odd alt depth-3" id="dsq-comment-12966"> 
              <div id="dsq-comment-header-12966" class="dsq-comment-header"> 
               <cite id="dsq-cite-12966"> <span id="dsq-author-user-12966">Alexander Roddis</span> </cite> 
              </div> 
              <div id="dsq-comment-body-12966" class="dsq-comment-body"> 
               <div id="dsq-comment-message-12966" class="dsq-comment-message">
                <p>Because TraackingPixels are Images as well. ;(</p> 
               </div> 
              </div> </li>
             <!-- #comment-## --> 
            </ul>
            <!-- .children --> </li>
           <!-- #comment-## --> 
          </ul>
          <!-- .children --> </li>
         <!-- #comment-## --> 
         <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-13057"> 
          <div id="dsq-comment-header-13057" class="dsq-comment-header"> 
           <cite id="dsq-cite-13057"> <span id="dsq-author-user-13057">Gabor Roos</span> </cite> 
          </div> 
          <div id="dsq-comment-body-13057" class="dsq-comment-body"> 
           <div id="dsq-comment-message-13057" class="dsq-comment-message">
            <p>is it posible that every time a user submits a url to safe the input url to database and at index page as a gallery in base of the output url, like fusker do<br> hope some can help me out</p> 
           </div> 
          </div> </li>
         <!-- #comment-## --> 
         <li class="comment odd alt thread-even depth-1" id="dsq-comment-13086"> 
          <div id="dsq-comment-header-13086" class="dsq-comment-header"> 
           <cite id="dsq-cite-13086"> <span id="dsq-author-user-13086">Fabrício Mello</span> </cite> 
          </div> 
          <div id="dsq-comment-body-13086" class="dsq-comment-body"> 
           <div id="dsq-comment-message-13086" class="dsq-comment-message">
            <p>In the demo samples.geekality.net/image-fetcher I tried several times and its working only with homepage of the sites</p> 
           </div> 
          </div> 
          <ul class="children"> 
           <li class="comment even depth-2" id="dsq-comment-13094"> 
            <div id="dsq-comment-header-13094" class="dsq-comment-header"> 
             <cite id="dsq-cite-13094"> <a id="dsq-author-user-13094" href="http://www.geekality.net/" target="_blank" rel="nofollow">Torleif Berger</a> </cite> 
            </div> 
            <div id="dsq-comment-body-13094" class="dsq-comment-body"> 
             <div id="dsq-comment-message-13094" class="dsq-comment-message">
              <p>“the sites”?</p> 
             </div> 
            </div> </li>
           <!-- #comment-## --> 
          </ul>
          <!-- .children --> </li>
         <!-- #comment-## --> 
        </ul> 
       </div> 
      </div> 
      <script type="text/javascript">
var disqus_url = 'http://www.geekality.net/2011/05/12/php-how-to-get-all-images-from-an-html-page/';
var disqus_identifier = '1585 http://www.geekality.net/?p=1585';
var disqus_container_id = 'disqus_thread';
var disqus_shortname = 'geekality';
var disqus_title = "PHP: How to get all images from an HTML page";
var disqus_config_custom = window.disqus_config;
var disqus_config = function () {
    /*
    All currently supported events:
    onReady: fires when everything is ready,
    onNewComment: fires when a new comment is posted,
    onIdentify: fires when user is authenticated
    */
    
    
    this.language = '';
        this.callbacks.onReady.push(function () {

        // sync comments in the background so we don't block the page
        var script = document.createElement('script');
        script.async = true;
        script.src = '?cf_action=sync_comments&post_id=1585';

        var firstScript = document.getElementsByTagName('script')[0];
        firstScript.parentNode.insertBefore(script, firstScript);
    });
    
    if (disqus_config_custom) {
        disqus_config_custom.call(this);
    }
};

(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script> 
     </div>
     <!-- #content --> 
    </div>
    <!-- #primary --> 
    <div id="content-sidebar" class="content-sidebar widget-area" role="complementary"> 
     <aside id="text-27" class="widget widget_text"> 
      <div class="textwidget">
       <p>Greetings! I am <b>Torleif Berger</b>, currently working as a <b>Software/Web Developer</b>. I’m a <b>Seventh-Day Adventist</b>, an <b>introvert</b> and a <b>highly sensitive person (HSP)</b>. I like to dabble in various types of <b>juggling</b>, <b>in-door rowing</b> and other activities, but most of my time is spent in front of a screen. Have a look around c”,)</p> 
       <p><a id="so-flair" href="https://stackoverflow.com/users/39321/svish"><img title="My profile at Stack Overflow" src="//stackoverflow.com/users/flair/39321.png" alt="My profile at Stack Overflow"></a></p> 
       <p><a href="https://profiles.google.com/torleif.berger" rel="author"><img src="//www.google.com/images/icons/ui/gprofile_button-32.png"></a> <a title="Follow me on Twitter!" href="https://twitter.com/svish"><img src="//www.geekality.net/wp-content/icons/twitter.png" alt="Twitter"></a> <a title="Facebook" href="https://www.facebook.com/svish"><img src="//www.geekality.net/wp-content/icons/facebook.png" alt="Facebook"></a> <a title="Latest blog posts" href="//www.geekality.net/feed"><img src="//www.geekality.net/wp-content/icons/feed.png" alt="RSS feed"></a> <a title="YouTube" href="https://www.youtube.com/user/Svish85"><img src="//www.geekality.net/wp-content/icons/youtube.png" alt="YouTube"></a> <a title="vimeo" href="https://www.vimeo.com/svish"><img src="//www.geekality.net/wp-content/icons/vimeo.png" alt="vimeo"></a></p> 
      </div> 
     </aside> 
     <aside id="recent-posts-2" class="widget widget_recent_entries"> 
      <h1 class="widget-title">Recent Posts</h1> 
      <ul> 
       <li> <a href="http://www.geekality.net/2017/08/24/batch-convert-svg-to-png-on-windows-using-inkscape/">Batch convert SVG to PNG on Windows using Inkscape</a> </li> 
       <li> <a href="http://www.geekality.net/2017/08/23/setting-up-gpg-signing-for-gitgithub-on-windows/">Setting up GPG signing for Git/GitHub on Windows</a> </li> 
       <li> <a href="http://www.geekality.net/2017/08/23/setting-up-gpg-on-windows/">Setting up GPG on Windows</a> </li> 
       <li> <a href="http://www.geekality.net/2017/08/23/password-less-sftpssh/">Password-less SFTP/SSH</a> </li> 
       <li> <a href="http://www.geekality.net/2017/08/10/php-unset-all-defined-variables/">PHP: Unset all defined variables</a> </li> 
       <li> <a href="http://www.geekality.net/2017/08/03/php-pathable-recursiveiteratoriterator/">PHP: Pathable RecursiveIteratorIterator</a> </li> 
       <li> <a href="http://www.geekality.net/2017/08/01/live-preview-for-strftime-formats/">Live preview for strftime formats</a> </li> 
      </ul> 
     </aside> 
     <aside id="categories-3" class="widget widget_categories">
      <h1 class="widget-title">Categories</h1>
      <label class="screen-reader-text" for="cat">Categories</label>
      <select name="cat" id="cat" class="postform"> <option value="-1">Select Category</option> <option class="level-0" value="287">Gaming</option> <option class="level-0" value="99">Life</option> <option class="level-1" value="33">&nbsp;&nbsp;&nbsp;Personal</option> <option class="level-0" value="34">Random</option> <option class="level-0" value="58">Reviews</option> <option class="level-0" value="4">Technology</option> <option class="level-1" value="5">&nbsp;&nbsp;&nbsp;Software Development</option> <option class="level-2" value="36">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Project Euler</option> <option class="level-0" value="1">Uncategorized</option> </select> 
      <script type="text/javascript">
/* <![CDATA[ */
(function() {
	var dropdown = document.getElementById( "cat" );
	function onCatChange() {
		if ( dropdown.options[ dropdown.selectedIndex ].value > 0 ) {
			location.href = "http://www.geekality.net/?cat=" + dropdown.options[ dropdown.selectedIndex ].value;
		}
	}
	dropdown.onchange = onCatChange;
})();
/* ]]> */
</script> 
     </aside>
     <aside id="archives-2" class="widget widget_archive">
      <h1 class="widget-title">Archives</h1> 
      <label class="screen-reader-text" for="archives-dropdown-2">Archives</label> 
      <select id="archives-dropdown-2" name="archive-dropdown" onchange="document.location.href=this.options[this.selectedIndex].value;"> <option value="">Select Month</option> <option value="http://www.geekality.net/2017/08/"> August 2017 </option> <option value="http://www.geekality.net/2017/07/"> July 2017 </option> <option value="http://www.geekality.net/2017/02/"> February 2017 </option> <option value="http://www.geekality.net/2016/11/"> November 2016 </option> <option value="http://www.geekality.net/2016/07/"> July 2016 </option> <option value="http://www.geekality.net/2016/04/"> April 2016 </option> <option value="http://www.geekality.net/2016/03/"> March 2016 </option> <option value="http://www.geekality.net/2016/02/"> February 2016 </option> <option value="http://www.geekality.net/2016/01/"> January 2016 </option> <option value="http://www.geekality.net/2015/12/"> December 2015 </option> <option value="http://www.geekality.net/2015/11/"> November 2015 </option> <option value="http://www.geekality.net/2015/09/"> September 2015 </option> <option value="http://www.geekality.net/2015/08/"> August 2015 </option> <option value="http://www.geekality.net/2015/03/"> March 2015 </option> <option value="http://www.geekality.net/2015/01/"> January 2015 </option> <option value="http://www.geekality.net/2014/11/"> November 2014 </option> <option value="http://www.geekality.net/2014/10/"> October 2014 </option> <option value="http://www.geekality.net/2014/09/"> September 2014 </option> <option value="http://www.geekality.net/2014/08/"> August 2014 </option> <option value="http://www.geekality.net/2014/07/"> July 2014 </option> <option value="http://www.geekality.net/2014/06/"> June 2014 </option> <option value="http://www.geekality.net/2014/05/"> May 2014 </option> <option value="http://www.geekality.net/2014/04/"> April 2014 </option> <option value="http://www.geekality.net/2014/03/"> March 2014 </option> <option value="http://www.geekality.net/2014/01/"> January 2014 </option> <option value="http://www.geekality.net/2013/12/"> December 2013 </option> <option value="http://www.geekality.net/2013/11/"> November 2013 </option> <option value="http://www.geekality.net/2013/10/"> October 2013 </option> <option value="http://www.geekality.net/2013/09/"> September 2013 </option> <option value="http://www.geekality.net/2013/08/"> August 2013 </option> <option value="http://www.geekality.net/2013/07/"> July 2013 </option> <option value="http://www.geekality.net/2013/06/"> June 2013 </option> <option value="http://www.geekality.net/2013/05/"> May 2013 </option> <option value="http://www.geekality.net/2013/04/"> April 2013 </option> <option value="http://www.geekality.net/2013/03/"> March 2013 </option> <option value="http://www.geekality.net/2013/02/"> February 2013 </option> <option value="http://www.geekality.net/2013/01/"> January 2013 </option> <option value="http://www.geekality.net/2012/11/"> November 2012 </option> <option value="http://www.geekality.net/2012/10/"> October 2012 </option> <option value="http://www.geekality.net/2012/09/"> September 2012 </option> <option value="http://www.geekality.net/2012/08/"> August 2012 </option> <option value="http://www.geekality.net/2012/07/"> July 2012 </option> <option value="http://www.geekality.net/2012/06/"> June 2012 </option> <option value="http://www.geekality.net/2012/05/"> May 2012 </option> <option value="http://www.geekality.net/2012/04/"> April 2012 </option> <option value="http://www.geekality.net/2012/03/"> March 2012 </option> <option value="http://www.geekality.net/2012/02/"> February 2012 </option> <option value="http://www.geekality.net/2012/01/"> January 2012 </option> <option value="http://www.geekality.net/2011/11/"> November 2011 </option> <option value="http://www.geekality.net/2011/10/"> October 2011 </option> <option value="http://www.geekality.net/2011/09/"> September 2011 </option> <option value="http://www.geekality.net/2011/08/"> August 2011 </option> <option value="http://www.geekality.net/2011/06/"> June 2011 </option> <option value="http://www.geekality.net/2011/05/"> May 2011 </option> <option value="http://www.geekality.net/2011/04/"> April 2011 </option> <option value="http://www.geekality.net/2011/03/"> March 2011 </option> <option value="http://www.geekality.net/2011/02/"> February 2011 </option> <option value="http://www.geekality.net/2010/12/"> December 2010 </option> <option value="http://www.geekality.net/2010/11/"> November 2010 </option> <option value="http://www.geekality.net/2010/10/"> October 2010 </option> <option value="http://www.geekality.net/2010/09/"> September 2010 </option> <option value="http://www.geekality.net/2010/08/"> August 2010 </option> <option value="http://www.geekality.net/2010/06/"> June 2010 </option> <option value="http://www.geekality.net/2010/05/"> May 2010 </option> <option value="http://www.geekality.net/2010/04/"> April 2010 </option> <option value="http://www.geekality.net/2010/03/"> March 2010 </option> <option value="http://www.geekality.net/2010/02/"> February 2010 </option> <option value="http://www.geekality.net/2010/01/"> January 2010 </option> <option value="http://www.geekality.net/2009/12/"> December 2009 </option> <option value="http://www.geekality.net/2009/11/"> November 2009 </option> <option value="http://www.geekality.net/2009/10/"> October 2009 </option> <option value="http://www.geekality.net/2009/09/"> September 2009 </option> <option value="http://www.geekality.net/2009/03/"> March 2009 </option> <option value="http://www.geekality.net/2009/01/"> January 2009 </option> <option value="http://www.geekality.net/2008/12/"> December 2008 </option> </select> 
     </aside>
     <aside id="text-28" class="widget widget_text"> 
      <div class="textwidget">
       <a id="creative-commons-license" rel="license" href="https://creativecommons.org/licenses/by/3.0/"><img alt="Creative Commons License" title="Attribution 3.0 Unported" style="border-width:0" src="//i.creativecommons.org/l/by/3.0/88x31.png"></a>
      </div> 
     </aside>
    </div>
    <!-- #content-sidebar --> 
    <div id="secondary"> 
     <h2 class="site-description">With a hint of Social Ineptitude</h2> 
    </div>
    <!-- #secondary --> 
   </div>
   <!-- #main --> 
   <footer id="colophon" class="site-footer" role="contentinfo"> 
    <div class="site-info"> 
     <a href="https://wordpress.org/">Proudly powered by WordPress</a> 
    </div>
    <!-- .site-info --> 
   </footer>
   <!-- #colophon --> 
  </div>
  <!-- #page --> 
  <script type="text/javascript">
        // <![CDATA[
        var disqus_shortname = 'geekality';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1 && nodes[i].parentNode.tagName == 'A') {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('data-dsqidentifier'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) { url = url[0]; }
                    else { url = url[1]; }
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
        // ]]>
        </script> 
  <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script> 
  <script src="//static.getclicky.com/js" type="text/javascript"></script> 
  <script type="text/javascript">try{ clicky.init(147983); }catch(e){}</script> 
  <noscript>
   <p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/147983ns.gif"></p>
  </noscript> 
  <script type="text/javascript" src="http://www.geekality.net/wp-includes/js/comment-reply.min.js?ver=4.8.1"></script> 
  <script type="text/javascript" src="http://www.geekality.net/wp-content/themes/twentyfourteen/js/functions.js?ver=20150315"></script> 
  <script type="text/javascript" src="http://www.geekality.net/wp-includes/js/wp-embed.min.js?ver=4.8.1"></script>  
 </body>
</html>