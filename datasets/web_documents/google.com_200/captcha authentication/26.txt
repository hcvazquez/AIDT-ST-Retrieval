<!doctype html>
<html>
 <head> 
  <title>Integrating reCaptcha with CAS - CAS User Manual - Apereo Wiki</title> 
  <meta http-equiv="X-UA-Compatible" content="IE=EDGE,chrome=IE7"> 
  <meta charset="UTF-8"> 
  <meta id="confluence-context-path" name="confluence-context-path" content=""> 
  <meta id="confluence-base-url" name="confluence-base-url" content="https://wiki.jasig.org"> 
  <meta id="atlassian-token" name="atlassian-token" content="c9cc7f1426f61e0356b142dc98053b88ebf5a596"> 
  <meta id="confluence-space-key" name="confluence-space-key" content="CASUM"> 
  <script type="text/javascript">
        var contextPath = '';
</script> 
  <!-- include system css resources --> 
  <link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/86/_/download/superbatch/css/batch.css" media="all"> 
  <link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/86/_/download/superbatch/css/batch.css?media=print" media="print"> 
  <!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/86/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]--> 
  <!--[if lte IE 8]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/86/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+8" media="all">
<![endif]--> 
  <!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/86/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]--> 
  <link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/e26727167644f3d00c0e78e369913423/_/download/contextbatch/css/main/batch.css" media="all"> 
  <link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/0b9f56d51dfb60ebb588ae4197639178/_/download/contextbatch/css/atl.general/batch.css" media="all"> 
  <link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/2.1.3/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter.css" media="all"> 
  <link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/2.1.3/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin:sh-theme-confluence/com.atlassian.confluence.ext.newcode-macro-plugin:sh-theme-confluence.css" media="all"> 
  <link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/2.4.3/_/download/batch/confluence.macros.advanced:children-resource/confluence.macros.advanced:children-resource.css" media="all"> 
  <link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/6.3.8/_/download/batch/com.atlassian.confluence.plugins.confluence-space-ia:spacesidebar/com.atlassian.confluence.plugins.confluence-space-ia:spacesidebar.css" media="all"> 
  <!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/6.3.8/_/download/batch/com.atlassian.confluence.plugins.confluence-space-ia:spacesidebar/com.atlassian.confluence.plugins.confluence-space-ia:spacesidebar.css?conditionalComment=lt+IE+9" media="all">
<![endif]--> 
  <link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/5.3.3-m6/_/download/batch/confluence.extra.jira:web-resources-adg/confluence.extra.jira:web-resources-adg.css" media="all"> 
  <link type="text/css" rel="stylesheet" href="/s/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/21/_/styles/colors.css?spaceKey=CASUM" media="all"> 
  <link type="text/css" rel="stylesheet" href="/s/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/1.0/_/download/resources/com.atlassian.confluence.themes.default:styles/default-theme.css" media="all"> 
  <!-- end system css resources --> 
  <meta name="confluence-request-time" content="1507035480091"> 
  <meta name="ajs-is-confluence-admin" content="false"> 
  <meta name="ajs-connection-timeout" content="10000"> 
  <meta name="ajs-use-keyboard-shortcuts" content="true"> 
  <meta name="ajs-keyboardshortcut-hash" content="3631628e032db0ff08c5365f6953223a"> 
  <style>.ia-fixed-sidebar, .ia-splitter-left {width: 285px;}.theme-default .ia-splitter #main {margin-left: 285px;}.ia-fixed-sidebar {visibility: hidden;}</style> 
  <meta name="ajs-page-id" content="54952045"> 
  <meta name="ajs-content-type" content="page"> 
  <meta name="ajs-page-title" content="Integrating reCaptcha with CAS"> 
  <meta name="ajs-parent-page-title" content="Home"> 
  <meta name="ajs-parent-page-id" content="2424984"> 
  <meta name="ajs-space-key" content="CASUM"> 
  <meta name="ajs-space-name" content="CAS User Manual"> 
  <meta name="ajs-editor.loader.comment.resources" content="<link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/2e20a076163b97b6387fca7771332682/_/download/contextbatch/css/comment-editor/batch.css&quot; media=&quot;all&quot;>
"> 
  <meta name="ajs-context-path" content=""> 
  <meta name="ajs-base-url" content="https://wiki.jasig.org"> 
  <meta name="ajs-version-number" content="5.4.3"> 
  <meta name="ajs-build-number" content="4732"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-current-user-fullname" content=""> 
  <meta name="ajs-current-user-avatar-url" content=""> 
  <meta name="ajs-static-resource-url-prefix" content="/s/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/_"> 
  <meta name="ajs-global-settings-attachment-max-size" content="104857600"> 
  <meta name="ajs-user-locale" content="en_GB"> 
  <meta name="ajs-enabled-dark-features" content="sync.event"> 
  <meta name="ajs-atl-token" content="c9cc7f1426f61e0356b142dc98053b88ebf5a596"> 
  <meta name="ajs-confluence-flavour" content="VANILLA"> 
  <meta name="ajs-editor.loader.resources" content="<link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/81927461f4a336943c903e9594ee1047/_/download/contextbatch/css/editor,macro-browser,fullpage-editor,-atl.general/batch.css&quot; media=&quot;all&quot;>
<link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/81927461f4a336943c903e9594ee1047/_/download/contextbatch/css/editor,macro-browser,fullpage-editor,-atl.general/batch.css?media=%28max-width%3A+1450px%29&quot; media=&quot;(max-width: 1450px)&quot;>
<!--[if lt IE 9]>
<link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/81927461f4a336943c903e9594ee1047/_/download/contextbatch/css/editor,macro-browser,fullpage-editor,-atl.general/batch.css?conditionalComment=lt+IE+9&quot; media=&quot;all&quot;>
<![endif]-->
<script type=&quot;text/javascript&quot; src=&quot;/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/81927461f4a336943c903e9594ee1047/_/download/contextbatch/js/editor,macro-browser,fullpage-editor,-atl.general/batch.js&quot; ></script>
"> 
  <meta name="ajs-date.format" content="MMM dd, yyyy"> 
  <link rel="shortcut icon" href="/favicon.ico"> 
  <link rel="icon" type="image/x-icon" href="/favicon.ico"> 
  <link rel="search" type="application/opensearchdescription+xml" href="/opensearch/osd.action" title="Apereo Wiki"> 
  <!-- include system javascript resources --> 
  <script type="text/javascript" src="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/86/_/download/superbatch/js/batch.js"></script> 
  <!--[if lte IE 8]>
<script type="text/javascript" src="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/86/_/download/superbatch/js/batch.js?conditionalComment=lte+IE+8" ></script>
<![endif]--> 
  <script type="text/javascript" src="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/17360ed34d1ff6ffb8d989181049cca3/_/download/contextbatch/js/atl.comments/batch.js"></script> 
  <script type="text/javascript" src="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/e26727167644f3d00c0e78e369913423/_/download/contextbatch/js/main/batch.js"></script> 
  <script type="text/javascript" src="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/0b9f56d51dfb60ebb588ae4197639178/_/download/contextbatch/js/atl.general/batch.js"></script> 
  <script type="text/javascript" src="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/2.1.3/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter.js"></script> 
  <script type="text/javascript" src="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/2.1.3/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter-brushes/com.atlassian.confluence.ext.newcode-macro-plugin:syntaxhighlighter-brushes.js"></script> 
  <script type="text/javascript" src="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/6.3.8/_/download/batch/com.atlassian.confluence.plugins.confluence-space-ia:soy-resources/com.atlassian.confluence.plugins.confluence-space-ia:soy-resources.js"></script> 
  <script type="text/javascript" src="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/5.4.3/_/download/batch/com.atlassian.confluence.plugins.editor-loader:background-loading-editor/com.atlassian.confluence.plugins.editor-loader:background-loading-editor.js"></script> 
  <script type="text/javascript" src="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/6.3.8/_/download/batch/com.atlassian.confluence.plugins.confluence-space-ia:spacesidebar/com.atlassian.confluence.plugins.confluence-space-ia:spacesidebar.js"></script> 
  <script type="text/javascript" src="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/1.3/_/download/batch/com.atlassian.mywork.mywork-confluence-host-plugin:mw-header-anchor/com.atlassian.mywork.mywork-confluence-host-plugin:mw-header-anchor.js"></script> 
  <!-- end system javascript resources --> 
 </head> 
 <body onload="placeFocus()" id="com-atlassian-confluence" class="theme-default  aui-layout aui-theme-default"> 
  <ul id="assistive-skip-links" class="assistive"> 
   <li><a href="#title-heading">Skip to content</a></li> 
   <li><a href="#breadcrumbs">Skip to breadcrumbs</a></li> 
   <li><a href="#header-menu-bar">Skip to header menu</a></li> 
   <li><a href="#navigation">Skip to action menu</a></li> 
   <li><a href="#quick-search-query">Skip to quick search</a></li> 
  </ul> 
  <div id="page"> 
   <div id="full-height-container"> 
    <div id="header-precursor"> 
     <div class="cell"> 
     </div> 
    </div> 
    <header id="header" role="banner"> 
     <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
      <div class="aui-header-inner">
       <div class="aui-header-before">
        <a class="aui-dropdown2-trigger app-switcher-trigger" aria-owns="app-switcher" aria-haspopup="true" tabindex="0"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
        <div id="app-switcher" class="aui-dropdown2 aui-style-default">
         <div class="app-switcher-loading">
          Loading…
         </div>
        </div>
        <script>
            (function (NL) {
                var initialise = function () {
                    // For some milestones of AUI, the atlassian soy namespace was renamed to aui. Handle that here by ensuring that window.atlassian is defined.
                    window.atlassian = window.atlassian || window.aui;
                    new NL.AppSwitcher({
                        dropdownContents: '#app-switcher'
                    });
                };
                if (NL.AppSwitcher) {
                    initialise();
                } else {
                    NL.onInit = initialise;
                }
            }(window.NL = (window.NL || {})));
            window.NL.isUserAdmin = false</script>
       </div>
       <div class="aui-header-primary">
        <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="/"><img src="/s/en_GB-1988229788/4732/f543bd9a3bbc12daed85f6f5e5cba84282599932.20/_/images/logo/confluence-logo.png" alt="Apereo Wiki"></a></h1>
        <ul class="aui-nav"> 
         <li> <a id="space-directory-link" href="/spacedirectory/view.action" class=" aui-nav-imagelink" title="Spaces"> <span>Spaces</span> </a> </li> 
        </ul> 
       </div>
       <div class="aui-header-secondary">
        <ul class="aui-nav"> 
         <li> 
          <form id="quick-search" class="aui-quicksearch dont-default-focus header-quicksearch" action="/dosearchsite.action" method="get"> 
           <fieldset> 
            <label for="quick-search-query" class="assistive">Quick Search</label> 
            <input id="quick-search-query" class="text app-search search quick-search-query" type="text" accessKey="q" autocomplete="off" name="queryString" title="Quick Search" placeholder="Search"> 
            <input id="quick-search-submit" class="quick-search-submit" type="submit" value="Search"> 
            <div class="aui-dd-parent quick-nav-drop-down"></div> 
           </fieldset> 
           <div class="hidden parameters"> 
            <!-- putMetadata failed to add value for key "quick-nav-enabled" so rendering metadata inline - see server debug log for details --> 
            <meta name="ajs-quick-nav-enabled" content="true"> 
           </div> 
          </form> </li> 
         <li> <a id="help-menu-link" class="aui-nav-link aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="help-menu-link-content" title="Help"> <span class="aui-icon aui-icon-small aui-iconfont-help">Help</span> </a> 
          <nav id="help-menu-link-content" class="aui-dropdown2 aui-style-default" aria-hidden="true"> 
           <div class="aui-dropdown2-section"> 
            <ul id="help-menu-link-leading" class="aui-list-truncate section-leading first"> 
             <li> <a id="confluence-help-link" href="http://docs.atlassian.com/confluence/docs-54/Getting+Help+And+Support" class="    " title="Visit the Confluence documentation home" target="_blank"> Online Help </a> </li> 
             <li> <a id="keyboard-shortcuts-link" href="#" class="    " title="View available keyboard shortcuts"> Keyboard Shortcuts </a> </li> 
             <li> <a id="feed-builder-link" href="/dashboard/configurerssfeed.action" class="    " title="Create your custom RSS feed."> Feed Builder </a> </li> 
             <li> <a id="whats-new-menu-link" href="http://docs.atlassian.com/confluence/docs-54/whatsnew/iframe" class="    " title=""> What’s new </a> </li> 
             <li> <a id="gadget-directory-link" href="#" class="   user-item administration-link " title="Browse gadgets provided by Confluence"> Available Gadgets </a> </li> 
             <li> <a id="confluence-about-link" href="/aboutconfluencepage.action" class="    " title="Get more information about Confluence"> About Confluence </a> </li> 
            </ul> 
           </div> 
          </nav> </li> 
         <li> </li> 
         <li> </li>
         <li> <a id="login-link" href="/login.action?os_destination=%2Fdisplay%2FCASUM%2FIntegrating%2BreCaptcha%2Bwith%2BCAS" class="   user-item login-link " title=""> Log in </a> </li>  
        </ul> 
       </div>
      </div>
      <!-- .aui-header-inner-->
     </nav>
     <!-- .aui-header --> 
     <br class="clear"> 
    </header> 
    <!-- \#header --> 
    <div id="main" class=" aui-page-panel"> 
     <div id="main-header"> 
      <div id="navigation" class="content-navigation view"> 
       <ul class="ajs-menu-bar"> 
        <li class="normal ajs-menu-item"> <a id="action-menu-link" class="action ajs-menu-title aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="action-menu" data-container="#navigation"><span><span>Tools</span></span></a> 
         <div id="action-menu" class="aui-dropdown2 aui-style-default"> 
          <ul id="action-menu-primary" class="section-primary first aui-dropdown2-section"> 
           <li> <a id="view-attachments-link" href="/pages/viewpageattachments.action?pageId=54952045" rel="nofollow" class="action-view-attachments" accesskey="t" title="View Attachments"> <span>A<u>t</u>tachments (0)</span> </a> </li> 
           <li> <a id="action-view-history-link" href="/pages/viewpreviousversions.action?pageId=54952045" rel="nofollow" class="action-view-history" title=""> <span>Page History</span> </a> </li> 
           <li> <a id="action-page-permissions-link" href="/pages/viewinfo.action?pageId=54952045" rel="nofollow" class="action-page-permissions" title="Edit restrictions"> <span>Restrictions</span> </a> </li> 
          </ul> 
          <ul id="action-menu-secondary" class="section-secondary aui-dropdown2-section"> 
           <li> <a id="view-page-info-link" href="/pages/viewinfo.action?pageId=54952045" rel="nofollow" class="action-view-info" title=""> <span>Page Information</span> </a> </li> 
           <li> <a id="link-to-page-link" href="/pages/viewinfo.action?pageId=54952045" rel="nofollow" class="" title="Link to this Page"> <span>Link to this Page…</span> </a> </li> 
           <li> <a id="view-in-hierarchy-link" href="/pages/reorderpages.action?key=CASUM&amp;openId=54952045#selectedPageInHierarchy" rel="nofollow" class="" title=""> <span>View in Hierarchy</span> </a> </li> 
           <li> <a id="action-view-source-link" href="/plugins/viewsource/viewpagesrc.action?pageId=54952045" rel="nofollow" class="action-view-source popup-link" title=""> <span>View Source</span> </a> </li> 
           <li> <a id="action-export-pdf-link" href="/spaces/flyingpdf/pdfpageexport.action?pageId=54952045" rel="nofollow" class="" title=""> <span>Export to PDF</span> </a> </li> 
           <li> <a id="action-export-word-link" href="/exportword?pageId=54952045" rel="nofollow" class="action-export-word" title=""> <span>Export to Word</span> </a> </li> 
          </ul> 
         </div> </li> 
       </ul> 
      </div> 
      <div id="title-heading" class="pagetitle with-breadcrumbs"> 
       <div id="breadcrumb-section"> 
        <ol id="breadcrumbs"> 
         <li class="first"> <span class=""><a href="/collector/pages.action?key=CASUM">Pages</a></span> </li>
         <li> <span class=""><a href="/display/CASUM/Home">Home</a></span> </li>
        </ol> 
       </div> 
       <h1 id="title-text" class="with-breadcrumbs"> <a href="/display/CASUM/Integrating+reCaptcha+with+CAS">Integrating reCaptcha with CAS</a> </h1> 
      </div> 
     </div>
     <!-- \#main-header --> 
     <div id="sidebar-container"> 
     </div>
     <!-- \#sidebar-container --> 
     <div id="content" class="page view"> 
      <div id="action-messages"> 
      </div> 
      <a href="#page-metadata-end" class="assistive">Skip to end of metadata</a> 
      <div id="page-metadata-start" class="assistive"></div> 
      <div class="page-metadata"> 
       <ul> 
        <li class="page-metadata-modification-info"> Created and last modified by <span class="author"> <a href="    /display/~kldavis4
" class="url fn">Kelly Davis</a></span> on <a class="last-modified" title="Oct 30, 2012 09:27" href="/pages/diffpagesbyversion.action?pageId=54952045&amp;selectedPageVersions=3&amp;selectedPageVersions=4">Oct 30, 2012</a> </li> 
       </ul> 
      </div> 
      <a href="#page-metadata-start" class="assistive">Go to start of metadata</a> 
      <div id="page-metadata-end" class="assistive"></div> 
      <style>
.spacetree * ul{
padding-left:0px;
margin-left: 0px;
}
.spacetree * li{
margin-left: 5px;
padding-left:5px;
}

</style> 
      <table cellspacing="2" cellpadding="5"> 
       <tbody>
        <tr> 
         <td valign="top" align="left" width="22%" bgcolor="#F9F9F9" class="noprint"> 
          <div class="tabletitle">
           Table of Contents
          </div> 
          <div class="spacetree"> 
           <h5 id="Navigation-Home"><a href="/display/CASUM/Home">Home</a></h5>
           <h5 id="Navigation-OverallArchitecture"><a href="/display/CASUM/Overall+Architecture">Overall Architecture</a></h5>
           <p></p>
           <ul class="childpages-macro">
            <li><a href="/display/CASUM/Building+and+Deploying">Building and Deploying</a></li>
            <li><a href="/display/CASUM/Development">Development</a></li>
            <li><a href="/display/CASUM/Introduction">Introduction</a></li>
            <li><a href="/display/CASUM/Java+Versions">Java Versions</a></li>
            <li><a href="/display/CASUM/Releasing">Releasing</a></li>
            <li><a href="/display/CASUM/Spring+Configuration">Spring Configuration</a></li>
            <li><a href="/display/CASUM/Technical+Overview">Technical Overview</a></li>
            <li><a href="/display/CASUM/Upgrading">Upgrading</a></li>
           </ul>
           <p></p>
           <h5 id="Navigation-Authentication"><a href="/display/CASUM/Authentication">Authentication</a></h5>
           <p></p>
           <ul class="childpages-macro">
            <li><a href="/display/CASUM/Active+Directory">Active Directory</a></li>
            <li><a href="/display/CASUM/Generic">Generic</a></li>
            <li><a href="/display/CASUM/JAAS">JAAS</a></li>
            <li><a href="/display/CASUM/JDBC">JDBC</a></li>
            <li><a href="/display/CASUM/LDAP">LDAP</a></li>
            <li><a href="/display/CASUM/Legacy">Legacy</a></li>
            <li><a href="/display/CASUM/RADIUS">RADIUS</a></li>
            <li><a href="/display/CASUM/SPNEGO">SPNEGO</a></li>
            <li><a href="/display/CASUM/Trusted">Trusted</a></li>
            <li><a href="/display/CASUM/X.509+Certificates">X.509 Certificates</a></li>
           </ul>
           <p></p>
           <h5 id="Navigation-AuthenticationManagers"><a href="/display/CASUM/Authentication+Managers">Authentication Managers</a></h5>
           <p></p>
           <ul class="childpages-macro">
            <li><a href="/display/CASUM/AuthenticationHandler-to-PrincipalResolver+AuthenticationManager">AuthenticationHandler-to-PrincipalResolver AuthenticationManager</a></li>
            <li><a href="/display/CASUM/Default+AuthenticationManager">Default AuthenticationManager</a></li>
            <li><a href="/display/CASUM/Direct+Mapping+AuthenticationManager">Direct Mapping AuthenticationManager</a></li>
           </ul>
           <p></p>
           <h5 id="Navigation-SecurityPolicy"><a href="/display/CASUM/Security+Policy">Security Policy</a></h5>
           <p></p>
           <ul class="childpages-macro">
            <li><a href="/display/CASUM/Ticket+Expiration+Policy">Ticket Expiration Policy</a></li>
            <li><a href="/display/CASUM/Remember+Me">Remember Me</a></li>
            <li><a href="/display/CASUM/Throttling+Login+Attempts">Throttling Login Attempts</a></li>
           </ul>
           <p></p>
           <h5 id="Navigation-TicketRegistry"><a href="/display/CASUM/TicketRegistry">TicketRegistry</a></h5>
           <p></p>
           <ul class="childpages-macro">
            <li><a href="/display/CASUM/BerkleyDB">BerkleyDB</a></li>
            <li><a href="/display/CASUM/Default">Default</a></li>
            <li><a href="/display/CASUM/EhcacheTicketRegistry">EhcacheTicketRegistry</a></li>
            <li><a href="/display/CASUM/JBOSS+TreeCache">JBOSS TreeCache</a></li>
            <li><a href="/display/CASUM/JDBCTicketRegistry">JDBCTicketRegistry</a></li>
            <li><a href="/display/CASUM/JpaTicketRegistry">JpaTicketRegistry</a></li>
            <li><a href="/display/CASUM/MemcacheTicketRegistry">MemcacheTicketRegistry</a></li>
            <li><a href="/display/CASUM/TicketRegistry+Cleaner">TicketRegistry Cleaner</a></li>
           </ul>
           <p></p>
           <h5 id="Navigation-Testing"><a href="/display/CASUM/Testing">Testing</a></h5>
           <p></p>
           <ul class="childpages-macro">
            <li><a href="/display/CASUM/Apache+JMeter">Apache JMeter</a></li>
            <li><a href="/display/CASUM/Java+HttpComponents+Based+Test+Class">Java HttpComponents Based Test Class</a></li>
            <li><a href="/display/CASUM/Nagios+plugins">Nagios plugins</a></li>
           </ul>
           <p></p>
           <h5 id="Navigation-Protocols"><a href="/display/CASUM/Protocols">Protocols</a></h5>
           <p></p>
           <ul class="childpages-macro">
            <li><a href="/display/CASUM/Add+Your+Custom+Protocol">Add Your Custom Protocol</a></li>
            <li><a href="/display/CASUM/Applications+that+Require+POST+Responses">Applications that Require POST Responses</a></li>
            <li><a href="/display/CASUM/CAS">CAS</a></li>
            <li><a href="/display/CASUM/OAuth">OAuth</a></li>
            <li><a href="/display/CASUM/OpenID">OpenID</a></li>
            <li><a href="/pages/viewpage.action?pageId=57577635">pac4j = CAS/OAuth/OpenID client support</a></li>
            <li><a href="/display/CASUM/RESTful+API">RESTful API</a></li>
            <li><a href="/display/CASUM/SAML+1.1">SAML 1.1</a></li>
            <li><a href="/pages/viewpage.action?pageId=6063484">SAML 2.0 (Google Accounts Integration)</a></li>
            <li><a href="/display/CASUM/Single+Sign+Out">Single Sign Out</a></li>
           </ul>
           <p></p>
           <h5 id="Navigation-AdvancedTopics"><a href="/display/CASUM/Advanced+Topics">Advanced Topics</a></h5>
           <p></p>
           <ul class="childpages-macro">
            <li><a href="/pages/viewpage.action?pageId=13570204">Adding "Public Workstation" vs. "Private Workstation" Timeouts</a></li>
            <li><a href="/display/CASUM/Auditing+and+Statistics+Via+Inspektr">Auditing and Statistics Via Inspektr</a></li>
            <li><a href="/display/CASUM/Internationalization">Internationalization</a></li>
            <li><a href="/pages/viewpage.action?pageId=26149328">LDAP Password Policy Enforcement (LPPE)</a></li>
            <li><a href="/display/CASUM/Second-Level+CAS+Server">Second-Level CAS Server</a></li>
            <li><a href="/display/CASUM/Terracotta">Terracotta</a></li>
            <li><a href="/display/CASUM/Use+Javascript+Redirection">Use Javascript Redirection</a></li>
            <li><a href="/display/CASUM/Deployment+Scenarios">Deployment Scenarios</a></li>
            <li><a href="/display/CASUM/Preserving+URL+anchor+fragments+on+login+form+submission">Preserving URL anchor fragments on login form submission</a></li>
            <li><a href="/display/CASUM/Acceptable+Use+interface+for+Login+Webflow">Acceptable Use interface for Login Webflow</a></li>
            <li><a href="/display/CASUM/Change+Password+Integration+With+Jasig+CAS+3.4.7">Change Password Integration With Jasig CAS 3.4.7</a></li>
            <li><a href="/display/CASUM/Localization">Localization</a></li>
           </ul>
           <p></p>
           <h5 id="Navigation-TutorialsandHOWTOs"><a href="/display/CASUM/Tutorials+and+HOWTOs">Tutorials and HOWTOs</a></h5>
           <p></p>
           <ul class="childpages-macro">
            <li><a href="/display/CASUM/CAS+on+Windows+Quick+Setup+Guide">CAS on Windows Quick Setup Guide</a></li>
            <li><a href="/display/CASUM/Clustering+CAS">Clustering CAS</a></li>
            <li><a href="/display/CASUM/Demo">Demo</a></li>
            <li><a href="/display/CASUM/HOWTO+Configure+JBoss+for+HTTPS">HOWTO Configure JBoss for HTTPS</a></li>
            <li><a href="/display/CASUM/HOWTO+Configure+Single+Sign+On+Session+Timeout">HOWTO Configure Single Sign On Session Timeout</a></li>
            <li><a href="/display/CASUM/HOWTO+Setup+Dual+Authentication+in+CAS+-+SSL+Client+Auth+and+LDAP">HOWTO Setup Dual Authentication in CAS - SSL Client Auth and LDAP</a></li>
            <li><a href="/pages/viewpage.action?pageId=10650669">HOWTO Setup LDAP GSSAPI+Kerberos Authentication in CAS</a></li>
            <li><a href="/display/CASUM/HOWTO+Switch+to+Sun+JVM+in+RHEL">HOWTO Switch to Sun JVM in RHEL</a></li>
            <li><a href="/display/CASUM/End-to-end+Windows+Example">End-to-end Windows Example</a></li>
            <li><a href="/display/CASUM/HOWTO+Use+Jasypt+to+encrypt+passwords+in+configuration+files">HOWTO Use Jasypt to encrypt passwords in configuration files</a></li>
            <li><a href="/pages/viewpage.action?pageId=47874068">HOWTO utilize javax.servlet.http.HttpServletRequest isUserInRole( java.lang.String role )</a></li>
            <li><a href="/display/CASUM/Migrating+an+existing+CAS+server+installation">Migrating an existing CAS server installation</a></li>
            <li><a href="/display/CASUM/Using+CAS+with+two+different+AD+forests">Using CAS with two different AD forests</a></li>
            <li><a href="/display/CASUM/Best+Practice+-+Setting+Up+CAS+Locally+using+the+Maven+WAR+Overlay+Method">Best Practice - Setting Up CAS Locally using the Maven WAR Overlay Method</a></li>
            <li><a href="/display/CASUM/Deploying+CAS+3.0.x+in+RHEL+5+with+Sun+Java">Deploying CAS 3.0.x in RHEL 5 with Sun Java</a></li>
            <li><a href="/display/CASUM/HOWTO+CASifying+ASP.NET+WebApp+-+ExampleWebsite">HOWTO CASifying ASP.NET WebApp - ExampleWebsite</a></li>
            <li><a href="/display/CASUM/HOWTO+Configure+CAS+for+LDAP+DIGEST-MD5">HOWTO Configure CAS for LDAP DIGEST-MD5</a></li>
            <li><a href="/display/CASUM/HOWTO+Run+Canoo+Web+Tests">HOWTO Run Canoo Web Tests</a></li>
            <li><a href="/display/CASUM/Shibboleth-CAS+Integration">Shibboleth-CAS Integration</a></li>
           </ul>
           <p></p>
           <h5 id="Navigation-Troubleshooting"><a href="/display/CASUM/Troubleshooting">Troubleshooting</a></h5>
           <p></p>
           <ul class="childpages-macro">
            <li><a href="/display/CASUM/Logging">Logging</a></li>
            <li><a href="/display/CASUM/SSL+Troubleshooting+and+Reference+Guide">SSL Troubleshooting and Reference Guide</a></li>
           </ul>
           <p></p>
           <h5 id="Navigation-ServicesManagement"><a href="/display/CASUM/Services+Management">Services Management</a></h5>
           <p></p>
           <ul class="childpages-macro">
            <li><a href="/display/CASUM/Adding+a+New+Service">Adding a New Service</a></li>
            <li><a href="/display/CASUM/Attributes">Attributes</a></li>
            <li><a href="/display/CASUM/Configuring">Configuring</a></li>
            <li><a href="/display/CASUM/Deleting">Deleting</a></li>
            <li><a href="/display/CASUM/Editing">Editing</a></li>
           </ul>
           <p></p>
           <h5 id="Navigation-Extensions"><a href="/display/CASUM/Extensions">Extensions</a></h5>
           <p></p>
           <ul class="childpages-macro">
            <li><a href="/display/CASUM/ClearPass">ClearPass</a></li>
           </ul>
           <p></p> 
          </div> </td> 
         <td valign="top" align="left" width="78%" class="pagecontent"> 
          <div class="wiki-content"> 
           <p>This document describes integrating <a href="http://www.google.com/recaptcha" class="external-link" rel="nofollow">reCaptcha</a> with CAS. reCaptcha <span>is a free CAPTCHA service that helps to digitize books, newspapers and old time radio shows. This tutorial uses the&nbsp;<a href="http://code.google.com/p/recaptcha4j/" class="external-link" rel="nofollow">recaptch4j</a>&nbsp;library to access the reCaptcha service.&nbsp;</span>The version of CAS used in this tutorial is 3.4.11. This tutorial was based on <a href="/display/CASUM/JCAPTCHA+integration+with+CAS">another</a> by&nbsp;<a href="https://wiki.jasig.org/display/~aek" rel="nofollow">Axel Mendoza Pupo</a> that covered JCAPTCHA integration.</p>
           <h1 id="IntegratingreCaptchawithCAS-login-webflow.xml">login-webflow.xml</h1>
           <p>The following changes need to be made to <code>WEB-INF/login-webflow.xml</code>:</p>
           <div class="code panel pdl" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;">
             <b>Replace view-state "viewLoginForm" with:</b>
            </div>
            <div class="codeContent panelContent pdl"> 
             <script type="syntaxhighlighter" class="theme: Confluence; brush: html/xml; gutter: false"><![CDATA[&lt;view-state id=&quot;viewLoginForm&quot; view=&quot;casLoginView&quot; model=&quot;credentials&quot;&gt;
	&lt;binder&gt;
    	&lt;binding property=&quot;username&quot; /&gt;
        &lt;binding property=&quot;password&quot; /&gt;
    &lt;/binder&gt;
    &lt;on-entry&gt;
    	&lt;set name=&quot;viewScope.commandName&quot; value=&quot;&#39;credentials&#39;&quot; /&gt;
    &lt;/on-entry&gt;
    &lt;transition on=&quot;submit&quot; bind=&quot;true&quot; validate=&quot;true&quot; to=&quot;realSubmit&quot;&gt;
    	&lt;evaluate expression=&quot;authenticationViaFormAction.doBind(flowRequestContext, flowScope.credentials)&quot; /&gt;
    &lt;/transition&gt;
&lt;/view-state&gt;]]></script> 
            </div>
           </div>
           <div class="code panel pdl" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;">
             <b>Replace action-state "realSubmit" with:</b>
            </div>
            <div class="codeContent panelContent pdl"> 
             <script type="syntaxhighlighter" class="theme: Confluence; brush: html/xml; gutter: false"><![CDATA[&lt;action-state id=&quot;realSubmit&quot;&gt;
	&lt;evaluate expression=&quot;authenticationViaFormAction.submit(flowRequestContext, flowScope.credentials, messageContext)&quot; /&gt;
	&lt;transition on=&quot;warn&quot; to=&quot;warn&quot; /&gt;
	&lt;transition on=&quot;success&quot; to=&quot;captchaCheck&quot; /&gt;
	&lt;transition on=&quot;error&quot; to=&quot;errorCount&quot; /&gt;
&lt;/action-state&gt;]]></script> 
            </div>
           </div>
           <div class="code panel pdl" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;">
             <b>Add action-states:</b>
            </div>
            <div class="codeContent panelContent pdl"> 
             <script type="syntaxhighlighter" class="theme: Confluence; brush: html/xml; gutter: false"><![CDATA[&lt;action-state id=&quot;captchaValidate&quot;&gt;
	&lt;evaluate expression=&quot;captchaValidateAction&quot;/&gt;
    &lt;transition on=&quot;success&quot; to=&quot;sendTicketGrantingTicket&quot; /&gt;
    &lt;transition on=&quot;error&quot; to=&quot;errorCount&quot; /&gt;
&lt;/action-state&gt;
    
&lt;action-state id=&quot;errorCount&quot;&gt;
	&lt;evaluate expression=&quot;captchaErrorCountAction&quot;/&gt;
    &lt;transition on=&quot;success&quot; to=&quot;generateLoginTicket&quot; /&gt;
&lt;/action-state&gt;]]></script> 
            </div>
           </div>
           <div class="code panel pdl" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;">
             <b>Add decision-state:</b>
            </div>
            <div class="codeContent panelContent pdl"> 
             <script type="syntaxhighlighter" class="theme: Confluence; brush: html/xml; gutter: false"><![CDATA[&lt;decision-state id=&quot;captchaCheck&quot;&gt;
	&lt;if test=&quot;flowScope.count != null &amp;amp;&amp;amp; flowScope.count &gt;= 3&quot; then=&quot;captchaValidate&quot; else=&quot;sendTicketGrantingTicket&quot;/&gt;
&lt;/decision-state&gt;]]></script> 
            </div>
           </div>
           <h1 id="IntegratingreCaptchawithCAS-ImplementCaptchaErrorCountAction">Implement CaptchaErrorCountAction</h1>
           <p>&nbsp;</p>
           <div class="code panel pdl" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;">
             <b>CaptchaErrorCountAction.java</b>
            </div>
            <div class="codeContent panelContent pdl"> 
             <script type="syntaxhighlighter" class="theme: Confluence; brush: java; gutter: false"><![CDATA[package com.acme.cas.captcha;
import org.springframework.webflow.action.AbstractAction;
import org.springframework.webflow.execution.Event;
import org.springframework.webflow.execution.RequestContext;

public class CaptchaErrorCountAction extends AbstractAction {
    @Override
    protected Event doExecute(RequestContext context) throws Exception {
        int count;
        try {
            count = (Integer) context.getFlowScope().get(&quot;count&quot;);
        } catch (Exception e) {
            count = 0;
        }
        count++;
        context.getFlowScope().put(&quot;count&quot;, count);
        return success();
    }
}

]]></script> 
            </div>
           </div>
           <p>&nbsp;</p>
           <h1 id="IntegratingreCaptchawithCAS-ImplementCaptchaValidateAction">Implement CaptchaValidateAction</h1>
           <p>&nbsp;</p>
           <div class="code panel pdl" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;">
             <b>CaptchaValidateAction.java</b>
            </div>
            <div class="codeContent panelContent pdl"> 
             <script type="syntaxhighlighter" class="theme: Confluence; brush: java; gutter: false"><![CDATA[package com.acme.cas.captcha;
import javax.servlet.http.HttpServletRequest;
import net.tanesha.recaptcha.ReCaptchaImpl;
import net.tanesha.recaptcha.ReCaptchaResponse;
import org.apache.commons.lang.StringUtils;
import org.jasig.cas.web.support.WebUtils;
import org.springframework.util.Assert;
import org.springframework.webflow.action.AbstractAction;
import org.springframework.webflow.execution.Event;
import org.springframework.webflow.execution.RequestContext;

public class CaptchaValidateAction extends AbstractAction {
    private ReCaptchaImpl reCaptcha;
    
    public CaptchaValidateAction(ReCaptchaImpl recaptcha) {
        this.reCaptcha = recaptcha;
        Assert.notNull(this.reCaptcha, &quot;ReCaptchaImpl required&quot;);
    }
    
    @Override
    protected Event doExecute(RequestContext context) throws Exception {
        HttpServletRequest request = WebUtils.getHttpServletRequest(context);
        String recaptchaChallengeField = request.getParameter(&quot;recaptcha_challenge_field&quot;);
        String recaptchaResponseField = request.getParameter(&quot;recaptcha_response_field&quot;);
        String showCaptchaField = request.getParameter(&quot;showCaptcha&quot;);
        if ((StringUtils.isNotBlank(showCaptchaField)) &amp;&amp;
            !verifyCaptcha(request.getRemoteAddr(), recaptchaChallengeField, recaptchaResponseField)) {
            return error();
        }
        return success();
    }
    
    /**
     * Call recaptcha4j to verify captcha response
     * 
     * @param remoteAddress ip address of the client
     * @param challenge the recaptcha challenge field
     * @param response the recaptcha response field
     * @return boolean indicating verification success or failure
     */
    protected boolean verifyCaptcha(String remoteAddress, String challenge, String response) {        
        ReCaptchaResponse reCaptchaResponse = reCaptcha.checkAnswer(remoteAddress, challenge, response);
        return reCaptchaResponse.isValid();
    }
}
 ]]></script> 
            </div>
           </div>
           <h1 id="IntegratingreCaptchawithCAS-SpringConfiguration">Spring Configuration</h1>
           <p>Add the following file to <code>WEB-INF/spring-configuration</code>:</p>
           <div class="code panel pdl" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;">
             <b>captcha.xml</b>
            </div>
            <div class="codeContent panelContent pdl"> 
             <script type="syntaxhighlighter" class="theme: Confluence; brush: html/xml; gutter: false"><![CDATA[&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xmlns:p=&quot;http://www.springframework.org/schema/p&quot;
       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;
       xsi:schemaLocation=&quot;
         http://www.springframework.org/schema/beans
         http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
         http://www.springframework.org/schema/mvc 
         http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd
         http://www.springframework.org/schema/context
         http://www.springframework.org/schema/context/spring-context-3.0.xsd&quot; &gt;
 
    &lt;description&gt;
      Configuration for reCaptcha
    &lt;/description&gt;
  
    &lt;context:annotation-config /&gt;
    
	&lt;mvc:annotation-driven /&gt;
	&lt;mvc:default-servlet-handler /&gt;
 
    &lt;context:property-placeholder location=&quot;classpath:/casserver.properties&quot; /&gt;
    
    &lt;bean id=&quot;reCaptcha&quot; class=&quot;net.tanesha.recaptcha.ReCaptchaImpl&quot;&gt;
            &lt;property name=&quot;privateKey&quot; value=&quot;${recaptcha.private.key}&quot; /&gt;
            &lt;property name=&quot;publicKey&quot; value=&quot;${recaptcha.public.key}&quot; /&gt;
            &lt;property name=&quot;includeNoscript&quot; value=&quot;false&quot; /&gt;
    &lt;/bean&gt;
    
    &lt;bean id=&quot;reCaptchaPublicKey&quot; class=&quot;java.lang.String&quot;&gt;
        &lt;constructor-arg value=&quot;${recaptcha.public.key}&quot;/&gt;
    &lt;/bean&gt;
        
    &lt;bean id=&quot;captchaErrorCountAction&quot; class=&quot;com.acme.cas.captcha.CaptchaErrorCountAction&quot;/&gt;
    
    &lt;bean id=&quot;captchaValidateAction&quot; class=&quot;com.acme.cas.captcha.CaptchaValidateAction&quot;&gt;
        &lt;constructor-arg&gt;
            &lt;ref local=&quot;reCaptcha&quot;/&gt;
        &lt;/constructor-arg&gt;
    &lt;/bean&gt;
&lt;/beans&gt;]]></script> 
            </div>
           </div>
           <p>Note the reCaptchaPublicKey is exposed in the context here as a bean for reference in the view.</p>
           <h1 id="IntegratingreCaptchawithCAS-AddreCaptchakeystopropertiesfile">Add reCaptcha keys to properties file</h1>
           <p>Add the <code>recaptcha.private.key</code> and <code>recaptcha.public.key</code> properties to <code>src/main/resources/casserver.properties</code>.</p>
           <div class="code panel pdl" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;">
             <b>casserver.properties</b>
            </div>
            <div class="codeContent panelContent pdl"> 
             <script type="syntaxhighlighter" class="theme: Confluence; brush: plain; gutter: false"><![CDATA[recaptcha.public.key=&lt;your recaptcha public key&gt;
recaptcha.private.key=&lt;your recaptcha private key&gt;]]></script> 
            </div>
           </div>
           <h1 id="IntegratingreCaptchawithCAS-AddreCaptchatocasLoginView.jsp">Add reCaptcha to casLoginView.jsp</h1>
           <div class="code panel pdl" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;">
             <b>WEB-INF/view/jsp/default/ui/casLoginView.jsp</b>
            </div>
            <div class="codeContent panelContent pdl"> 
             <script type="syntaxhighlighter" class="theme: Confluence; brush: html/xml; gutter: false"><![CDATA[&lt;c:if test=&quot;${not empty count &amp;&amp; count &gt;= 3}&quot;&gt;
	&lt;div class=&quot;error&quot;&gt;&lt;p&gt;Multiple failed login attempts detected!  Please enter the letters shown in the image below to prove you are human.&lt;/p&gt;&lt;/div&gt;
    &lt;div id=&quot;captcha&quot;&gt;&lt;/div&gt;
    &lt;!--[if lte IE 6]&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;https://www.google.com/recaptcha/api/challenge?k=&lt;spring:eval expression=&quot;@reCaptchaPublicKey&quot;/&gt;&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
    	var isRunningIE6 = true;                              
    &lt;/script&gt;
    &lt;![endif]--&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;https://www.google.com/recaptcha/api/js/recaptcha_ajax.js&quot;&gt;&lt;/script&gt;
    &lt;script&gt;
    	function showCaptcha() {
        	if (typeof(isRunningIE6) === &#39;undefined&#39;) {
            	Recaptcha.create(&#39;&lt;spring:eval expression=&quot;@reCaptchaPublicKey&quot;/&gt;&#39;, &quot;captcha&quot;, {
                	theme: &#39;white&#39;,
                    callback: Recaptcha.focus_response_field,
                    tabindex: 2
                });
            }
        }
        showCaptcha();
    &lt;/script&gt;                            
    &lt;input type=&quot;hidden&quot; name=&quot;showCaptcha&quot; value=&quot;true&quot; /&gt;
&lt;/c:if&gt;]]></script> 
            </div>
           </div>
           <p>Note the reCaptchaPublicKey bean is referenced here.</p>
           <h1 id="IntegratingreCaptchawithCAS-AddreCaptcha4jdependencyinpom.xml">Add reCaptcha4j dependency in pom.xml</h1>
           <div class="code panel pdl" style="border-width: 1px;">
            <div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;">
             <b>pom.xml</b>
            </div>
            <div class="codeContent panelContent pdl"> 
             <script type="syntaxhighlighter" class="theme: Confluence; brush: html/xml; gutter: false"><![CDATA[&lt;dependency&gt;
	&lt;groupId&gt;net.tanesha.recaptcha4j&lt;/groupId&gt;
    &lt;artifactId&gt;recaptcha4j&lt;/artifactId&gt;
    &lt;version&gt;0.0.7&lt;/version&gt;
&lt;/dependency&gt;]]></script> 
            </div>
           </div> 
          </div> </td> 
        </tr> 
       </tbody>
      </table> 
      <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://wiki.jasig.org/display/CASUM/Integrating+reCaptcha+with+CAS"
    dc:identifier="https://wiki.jasig.org/display/CASUM/Integrating+reCaptcha+with+CAS"
    dc:title="Integrating reCaptcha with CAS"
    trackback:ping="https://wiki.jasig.org/rpc/trackback/54952045"/>
</rdf:RDF>
--> 
      <div id="labels-section" class="pageSection group"> 
       <div class="labels-section-content content-column" entityid="54952045" entitytype="page"> 
        <div class="labels-content"> 
         <ul class="label-list label-list-right "> 
          <li class="no-labels-message"> No labels </li> 
         </ul> 
        </div> 
       </div>
      </div> 
      <div id="comments-section" class="pageSection group"> 
       <div class="bottom-comment-panels comment-panels"> 
       </div> 
      </div> 
     </div> 
    </div>
    <!-- \#main --> 
    <div id="footer"> 
     <section class="footer-body"> 
      <p class="license license-opensource"> Powered by a free <b>Atlassian Confluence Open Source Project License</b> granted to Java Architectures Special Interest Group. <a href="http://www.atlassian.com/c/conf/11461">Evaluate Confluence today</a>.<br> </p> 
      <ul id="poweredby"> 
       <li class="noprint">Powered by <a href="http://www.atlassian.com/software/confluence" class="hover-footer-link">Atlassian Confluence</a> <span id="footer-build-information">5.4.3</span>, <a href="http://www.atlassian.com/software/confluence/overview/team-collaboration-software?utm_source=confluence-footer" class="hover-footer-link">Team Collaboration Software</a></li> 
       <li class="print-only">Printed by Atlassian Confluence 5.4.3, Team Collaboration Software.</li> 
       <li class="noprint"><a href="http://jira.atlassian.com/secure/BrowseProject.jspa?id=10470" class="hover-footer-link">Report a bug</a></li> 
       <li class="noprint"><a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=Confluence-stayintouch" class="hover-footer-link">Atlassian News</a></li> 
      </ul> 
      <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-7467127-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script> 
     </section> 
    </div> 
   </div>
   <!-- \#full-height-container --> 
  </div>
  <!-- \#page -->   
 </body>
</html>