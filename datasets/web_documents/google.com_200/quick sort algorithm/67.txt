<!doctype html>
<html lang="en" dir="ltr" class="client-nojs">
 <head> 
  <meta charset="UTF-8"> 
  <title>Sorting algorithms/Quicksort - Rosetta Code</title> 
  <script src="/cdn-cgi/apps/head/7qaJovFEYxjqsAZAxmfekTkNrFg.js"></script>
  <script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script> 
  <script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":0,"wgPageName":"Sorting_algorithms/Quicksort","wgTitle":"Sorting algorithms/Quicksort","wgCurRevisionId":250686,"wgRevisionId":250686,"wgArticleId":2147,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Programming Tasks","Sorting Algorithms","Recursion","WikipediaSourced","360 Assembly","ACL2","ActionScript","Ada","ALGOL 68","ALGOL W","APL","AppleScript","AWK","AutoHotkey","BASIC","BBC BASIC","BCPL","Bracmat","C","C++","C sharp","Clojure","COBOL","CoffeeScript","Common Lisp","Crystal","Curry","D","Dart","E","EchoLisp","Eero","Eiffel","Elixir","Erlang","ERRE","F Sharp","Factor","Fexl","Forth","Fortran","FreeBASIC","FunL","Go","Haskell","IDL","Icon","Unicon","Io","J","Java","JavaScript","Joy","Jq","Julia","K","Kotlin","Lobster","Logo","Logtalk","Lua","Lucid","M4","Mathematica","MATLAB","MAXScript","Modula-2","Modula-3","Mond",
"Nemerle","NetRexx","Nial","Nim","Nix","Objeck","Objective-C","OCaml","Octave","Oforth","OoRexx","Oz","PARI/GP","Pascal","Perl","Perl 6","Phix","PHP","PicoLisp","PL/I","PowerShell","Prolog","PureBasic","Python","Qi","R","Racket","REXX","Ruby","Run BASIC","Rust","Sather","Scala","Scheme","Seed7","SETL","Sidef","Simula","Standard ML","Swift","Tcl","UBasic/4tH","UnixPipes","Ursala","V","GUISS/Omit","VBA","VBScript","Wart","XPL0","Zkl"],"wgBreakFrames":!1,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Sorting_algorithms/Quicksort","wgRelevantArticleId":2147,"wgIsProbablyEditable":!0,"wgRestrictionEdit":[],"wgRestrictionMove":[],
"sfgAutocompleteValues":[],"sfgAutocompleteOnAllChars":!1,"sfgFieldProperties":[],"sfgDependentFields":[],"sfgShowOnSelect":[],"sfgScriptPath":"/mw/extensions/SemanticForms","sdgDownArrowImage":"/mw/extensions/SemanticDrilldown/skins/down-arrow.png","sdgRightArrowImage":"/mw/extensions/SemanticDrilldown/skins/right-arrow.png"});mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});mw.loader.load(["ext.smw.style","ext.smw.tooltips","mediawiki.page.startup","mediawiki.legacy.wikibits"]);
} );</script> 
  <link rel="stylesheet" href="/mw/load.php?debug=false&amp;lang=en&amp;modules=ext.bootstrap.styles&amp;only=styles&amp;skin=chameleon"> 
  <meta name="ResourceLoaderDynamicStyles" content=""> 
  <link rel="stylesheet" href="/mw/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=chameleon"> 
  <style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}</style> 
  <script async src="/mw/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=chameleon"></script> 
  <meta name="generator" content="MediaWiki 1.26.2"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <link rel="ExportRDF" type="application/rdf+xml" title="Sorting algorithms/Quicksort" href="/mw/index.php?title=Special:ExportRDF/Sorting_algorithms/Quicksort&amp;xmlmime=rdf"> 
  <link rel="alternate" type="application/x-wiki" title="Edit" href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit"> 
  <link rel="edit" title="Edit" href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit"> 
  <link rel="shortcut icon" href="/favicon.ico"> 
  <link rel="search" type="application/opensearchdescription+xml" href="/mw/opensearch_desc.php" title="Rosetta Code (en)"> 
  <link rel="EditURI" type="application/rsd+xml" href="https://rosettacode.org/mw/api.php?action=rsd"> 
  <link rel="copyright" href="http://www.gnu.org/licenses/fdl-1.2.html"> 
  <link rel="alternate" type="application/atom+xml" title="Rosetta Code Atom feed" href="/mw/index.php?title=Special:RecentChanges&amp;feed=atom"> 
 </head> 
 <body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Sorting_algorithms_Quicksort layout-standard skin-chameleon action-view"> 
  <div class="container"> 
   <div class="row"> 
    <div class="col-lg-3"> 
     <div id="p-logo" class="p-logo" role="banner"> 
      <a href="/wiki/Rosetta_Code" title="Visit the main page"><img src="/mw/title.png" alt="Rosetta Code"></a> 
     </div> 
    </div> 
    <div class="col-lg-9"> 
     <div class="row"> 
      <div class="col-lg-12"> 
       <div class="p-personal pull-right" id="p-personal"> 
        <ul class="p-personal-tools list-inline pull-right"> 
         <li id="pt-createaccount"><a href="/mw/index.php?title=Special:UserLogin&amp;returnto=Sorting+algorithms%2FQuicksort&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li> 
         <li id="pt-login"><a href="/mw/index.php?title=Special:UserLogin&amp;returnto=Sorting+algorithms%2FQuicksort" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li> 
        </ul> 
        <div class="newtalk-notifier"> 
        </div> 
       </div> 
      </div> 
     </div> 
     <div class="row"> 
      <div class="col-lg-12"> 
       <div id="p-search" class="p-search pull-right" role="search"> 
        <form id="searchform" class="mw-search form-inline" action="/mw/index.php"> 
         <input type="hidden" name="title" value="Special:Search"> 
         <div class="input-group"> 
          <input name="search" placeholder="Search" title="Search Rosetta Code [f]" accesskey="f" id="searchInput" class="form-control"> 
          <div class="input-group-btn"> 
           <button value="Go" id="searchGoButton" name="go" title="Go to a page with this exact name if it exists" type="submit" class="searchGoButton btn btn-default"><span class="glyphicon glyphicon-share-alt"></span></button>
           <button value="Search" id="mw-searchButton" name="fulltext" title="Search the pages for this text" type="submit" class="mw-searchButton btn btn-default"><span class="glyphicon glyphicon-search"></span></button> 
          </div> 
         </div> 
        </form> 
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
   <div class="row"> 
    <div class="col-lg-12"> 
     <nav class="navbar navbar-default p-navbar" role="navigation" id="mw-navigation"> 
      <div class="container-fluid">
       <div class="navbar-header"> 
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#mw-navigation-collapse"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> 
       </div> 
       <div class="collapse navbar-collapse" id="mw-navigation-collapse">
        <ul class="nav navbar-nav"> 
         <li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">Community <b class="caret"></b></a> 
          <ul class="dropdown-menu p-Community" id="p-Community"> 
           <li id="n-Twitter"><a href="http://twitter.com/rosettacode" rel="nofollow">Twitter</a></li> 
           <li id="n-Chat.2FIRC"><a href="/wiki/Special:WebChat">Chat/IRC</a></li> 
           <li id="n-Planet"><a href="http://rosettacode.org/planet" rel="nofollow">Planet</a></li> 
           <li id="n-The-Village-Pump"><a href="/wiki/Rosetta_Code:Village_Pump">The Village Pump</a></li> 
           <li id="n-Finances"><a href="/wiki/Rosetta_Code:Finances">Finances</a></li> 
          </ul> </li> 
         <li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">Explore <b class="caret"></b></a> 
          <ul class="dropdown-menu p-Explore" id="p-Explore"> 
           <li id="n-Languages"><a href="/wiki/Category:Programming_Languages">Languages</a></li> 
           <li id="n-Tasks"><a href="/wiki/Category:Programming_Tasks">Tasks</a></li> 
           <li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li> 
           <li id="n-Similar-sites"><a href="/wiki/Help:Similar_Sites">Similar sites</a></li> 
           <li id="n-randompage"><a href="/wiki/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li> 
          </ul> </li>
        </ul> 
       </div> 
      </div> 
     </nav> 
    </div> 
   </div> 
   <div class="row"> 
    <div class="col-lg-12"> 
     <ul class="p-contentnavigation list-inline text-center" id="p-contentnavigation"> 
      <li id="p-namespaces"> 
       <ul class="list-inline"> 
        <li id="ca-nstab-main" class="selected"><a href="/wiki/Sorting_algorithms/Quicksort" title="View the content page [c]" accesskey="c" class="selected">Page</a></li> 
        <li id="ca-talk"><a href="/wiki/Talk:Sorting_algorithms/Quicksort" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li> 
       </ul> </li> 
      <li id="p-views"> 
       <ul class="list-inline"> 
        <li id="ca-edit"><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit" title="Edit this page [e]" accesskey="e">Edit</a></li> 
        <li id="ca-history"><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li> 
       </ul> </li> 
     </ul> 
    </div> 
   </div> 
   <div class="row"> 
    <div class="col-lg-12"> 
    </div> 
   </div> 
   <div class="row"> 
    <div class="col-lg-12"> 
     <div id="content" class="mw-body">
      <a id="top"></a> 
      <div id="mw-js-message" style="display:none;"></div> 
      <div class="contentHeader"> 
       <h1 id="firstHeading" class="firstHeading">Sorting algorithms/Quicksort</h1> 
       <div id="siteSub">
        From Rosetta Code
       </div> 
       <div id="contentSub" class="small">
        <span class="subpages">&lt; <a href="/wiki/Sorting_algorithms" title="Sorting algorithms">Sorting algorithms</a></span>
       </div>
       <div id="jump-to-nav" class="mw-jump">
        Jump to:
        <a href="#mw-navigation">navigation</a>, 
        <a href="#p-search">search</a>
       </div> 
      </div>
      <div id="bodyContent"> 
       <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
        <div class="infobox" style="width: 2in">
         <div class="floatleft">
          <a href="/wiki/Category:Solutions_by_Programming_Task" title="Category:Solutions by Programming Task"><img alt="Task" src="/mw/images/thumb/b/ba/Rcode-button-task-crushed.png/64px-Rcode-button-task-crushed.png" width="64" height="64" srcset="/mw/images/thumb/b/ba/Rcode-button-task-crushed.png/96px-Rcode-button-task-crushed.png 1.5x, /mw/images/thumb/b/ba/Rcode-button-task-crushed.png/128px-Rcode-button-task-crushed.png 2x"></a>
         </div>
         <b>Sorting algorithms/Quicksort</b>
         <br> You are encouraged to 
         <a href="/wiki/Rosetta_Code:Solve_a_Task" title="Rosetta Code:Solve a Task">solve this task</a> according to the task description, using any language you may know.
        </div> 
        <div class="infobox" style="width: 2in"> 
         <p><big><b>Sorting Algorithm</b></big><br> This is a sorting algorithm. It may be applied to a set of data in order to sort it. </p> For other sorting algorithms, see 
         <a href="/wiki/Category:Sorting_Algorithms" title="Category:Sorting Algorithms">Category:Sorting Algorithms</a>, or:
         <br>
         <small>
          <center>
           <b><a href="/wiki/O" title="O">O</a>(<i>n</i> log<i>n</i>) Sorts</b>
           <br>
           <a href="/wiki/Sorting_algorithms/Heapsort" title="Sorting algorithms/Heapsort">Heapsort</a> | 
           <a href="/wiki/Sorting_algorithms/Merge_sort" title="Sorting algorithms/Merge sort">Mergesort</a> | 
           <strong class="selflink">Quicksort</strong>
           <br>
           <b><a href="/wiki/O" title="O">O</a>(<i>n</i> log<sup>2</sup><i>n</i>) Sorts</b>
           <br>
           <a href="/wiki/Sorting_algorithms/Shell_sort" title="Sorting algorithms/Shell sort">Shell&nbsp;Sort</a>
           <br>
           <b><a href="/wiki/O" title="O">O</a>(<i>n</i><sup>2</sup>) Sorts</b>
           <br>
           <a href="/wiki/Sorting_algorithms/Bubble_sort" title="Sorting algorithms/Bubble sort">Bubble&nbsp;sort</a> | 
           <a href="/wiki/Sorting_algorithms/Cocktail_sort" title="Sorting algorithms/Cocktail sort">Cocktail&nbsp;sort</a> | 
           <a href="/wiki/Sorting_algorithms/Comb_sort" title="Sorting algorithms/Comb sort">Comb&nbsp;sort</a> | 
           <a href="/wiki/Sorting_algorithms/Gnome_sort" title="Sorting algorithms/Gnome sort">Gnome&nbsp;sort</a> | 
           <a href="/wiki/Sorting_algorithms/Insertion_sort" title="Sorting algorithms/Insertion sort">Insertion&nbsp;sort</a> | 
           <a href="/wiki/Sorting_algorithms/Selection_sort" title="Sorting algorithms/Selection sort">Selection&nbsp;sort</a> | 
           <a href="/wiki/Sorting_algorithms/Strand_sort" title="Sorting algorithms/Strand sort">Strand&nbsp;sort</a> 
           <br>
           <b>Other Sorts</b>
           <br>
           <a href="/wiki/Sorting_algorithms/Bead_sort" title="Sorting algorithms/Bead sort">Bead&nbsp;sort</a> | 
           <a href="/wiki/Sorting_algorithms/Bogosort" title="Sorting algorithms/Bogosort">Bogosort</a> | 
           <a href="/wiki/Sorting_algorithms/Counting_sort" title="Sorting algorithms/Counting sort">Counting&nbsp;sort</a> | 
           <a href="/wiki/Sorting_algorithms/Pancake_sort" title="Sorting algorithms/Pancake sort">Pancake&nbsp;sort</a> | 
           <a href="/wiki/Sorting_algorithms/Permutation_sort" title="Sorting algorithms/Permutation sort">Permutation&nbsp;sort</a> | 
           <a href="/wiki/Sorting_algorithms/Radix_sort" title="Sorting algorithms/Radix sort">Radix&nbsp;sort</a> | 
           <a href="/wiki/Sorting_algorithms/Sleep_sort" title="Sorting algorithms/Sleep sort">Sleep&nbsp;sort</a> | 
           <a href="/wiki/Sorting_algorithms/Stooge_sort" title="Sorting algorithms/Stooge sort">Stooge&nbsp;sort</a> | 
           <a href="/wiki/Sort_three_variables" title="Sort three variables">Sort&nbsp;three&nbsp;variables</a> 
          </center></small> 
        </div> 
        <table align="center" border="0" cellpadding="3" cellspacing="3" style="border: 1px solid #E0E0E0; background-color: #F8F8F8; color:black;"> 
         <tbody>
          <tr> 
           <td style="font-size: 90%"> This page uses content from <b><a rel="nofollow" class="external text" href="http://en.wikipedia.org">Wikipedia</a></b>. The original article was at <a rel="nofollow" class="external text" href="http://en.wikipedia.org/wiki/Quicksort">Quicksort</a>. The list of authors can be seen in the <a rel="nofollow" class="external text" href="http://en.wikipedia.org/w/index.php?title=Quicksort&amp;action=history"><b>page history</b></a>. <a href="/wiki/Rosetta_Code:Copyrights" title="Rosetta Code:Copyrights">As with Rosetta Code</a>, the text of Wikipedia <a href="http://en.wikipedia.org/wiki/Project:Copyrights" class="extiw" title="wp:Project:Copyrights">is available</a> under the <a rel="nofollow" class="external text" href="http://www.gnu.org/licenses/fdl.html">GNU FDL</a>. (See links for details on variance) </td>
          </tr>
         </tbody>
        </table> 
        <p><br> </p> 
        <dl>
         <dt>
          Task
         </dt> 
         <dd></dd>
        </dl> 
        <p>Sort an array (or list) elements using the &nbsp; <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Quicksort"><i>quicksort</i></a> &nbsp; algorithm. </p>
        <p>The elements must have a &nbsp; <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Weak_ordering">strict weak order</a> &nbsp; and the index of the array can be of any discrete type. </p>
        <p>For languages where this is not possible, sort an array of integers. </p>
        <p><br> Quicksort, also known as &nbsp; <i>partition-exchange sort</i>, &nbsp; uses these steps. </p> 
        <dl>
         <dd>
          <dl>
           <dd>
            <ol>
             <li> &nbsp; Choose any element of the array to be the pivot.</li> 
             <li> &nbsp; Divide all other elements (except the pivot) into two partitions. 
              <ul>
               <li> &nbsp; All elements less than the pivot must be in the first partition.</li> 
               <li> &nbsp; All elements greater than the pivot must be in the second partition.</li>
              </ul></li> 
             <li> &nbsp; Use recursion to sort both partitions.</li> 
             <li> &nbsp; Join the first sorted partition, the pivot, and the second sorted partition.</li>
            </ol>
           </dd>
          </dl>
         </dd>
        </dl> 
        <p><br> The best pivot creates partitions of equal length (or lengths differing by &nbsp; <b>1</b>). </p>
        <p>The worst pivot creates an empty partition (for example, if the pivot is the first or last element of a sorted array). </p>
        <p>The run-time of Quicksort ranges from &nbsp; <big> <i><a href="/wiki/O" title="O">O</a>(n </i>log<i> n)</i> </big> &nbsp; with the best pivots, to &nbsp; <big> <i><a href="/wiki/O" title="O">O</a>(n<sup>2</sup>)</i> </big> &nbsp; with the worst pivots, where &nbsp; <big> <i>n</i> </big> &nbsp; is the number of elements in the array. </p>
        <p><br> This is a simple quicksort algorithm, adapted from Wikipedia. </p> 
        <pre><b>function</b> <i>quicksort</i>(array)
    less, equal, greater <b>:=</b> three empty arrays
    <b>if</b> length(array) &gt; 1  
        pivot <b>:=</b> <i>select any element of</i> array
        <b>for each</b> x <b>in</b> array
            <b>if</b> x &lt; pivot <b>then add</b> x <b>to</b> less
            <b>if</b> x = pivot <b>then add</b> x <b>to</b> equal
            <b>if</b> x &gt; pivot <b>then add</b> x <b>to</b> greater
        quicksort(less)
        quicksort(greater)
        array <b>:=</b> concatenate(less, equal, greater)
</pre> 
        <p>A better quicksort algorithm works in place, by swapping elements within the array, to avoid the memory allocation of more arrays. </p> 
        <pre><b>function</b> <i>quicksort</i>(array)
    <b>if</b> length(array) &gt; 1
        pivot <b>:=</b> <i>select any element of</i> array
        left <b>:= first index of</b> array
        right <b>:=</b> <b>last index of</b> array
        <b>while</b> left ? right
            <b>while</b> array[left] &lt; pivot
                left&nbsp;:= left + 1
            <b>while</b> array[right] &gt; pivot
                right&nbsp;:= right - 1
            <b>if</b> left ? right
                <b>swap</b> array[left] <b>with</b> array[right]
                left&nbsp;:= left + 1
                right&nbsp;:= right - 1
        quicksort(array <b>from first index to</b> right)
        quicksort(array <b>from</b> left <b>to last index</b>)
</pre> 
        <p>Quicksort has a reputation as the fastest sort. Optimized variants of quicksort are common features of many languages and libraries. One often contrasts quicksort with &nbsp; <a href="/wiki/Sorting_algorithms/Merge_sort" title="Sorting algorithms/Merge sort">merge sort</a>, &nbsp; because both sorts have an average time of &nbsp; <big> <i><a href="/wiki/O" title="O">O</a>(n </i>log<i> n)</i>. </big> </p> 
        <dl>
         <dd> 
          <i>"On average, mergesort does fewer comparisons than quicksort, so it may be better when complicated comparison routines are used. Mergesort also takes advantage of pre-existing order, so it would be favored for using sort() to merge several sorted arrays. On the other hand, quicksort is often faster for small arrays, and on arrays of a few distinct values, repeated many times."</i> — 
          <a rel="nofollow" class="external free" href="http://perldoc.perl.org/sort.html">http://perldoc.perl.org/sort.html</a>
         </dd>
        </dl> 
        <p>Quicksort is at one end of the spectrum of divide-and-conquer algorithms, with merge sort at the opposite end. </p> 
        <ul>
         <li> Quicksort is a conquer-then-divide algorithm, which does most of the work during the partitioning and the recursive calls. The subsequent reassembly of the sorted partitions involves trivial effort.</li> 
         <li> Merge sort is a divide-then-conquer algorithm. The partioning happens in a trivial way, by splitting the input array in half. Most of the work happens during the recursive calls and the merge phase.</li>
        </ul> 
        <p><br> With quicksort, every element in the first partition is less than or equal to every element in the second partition. Therefore, the merge phase of quicksort is so trivial that it needs no mention! </p>
        <p>This task has not specified whether to allocate new arrays, or sort in place. This task also has not specified how to choose the pivot element. (Common ways to are to choose the first element, the middle element, or the median of three elements.) Thus there is a variety among the following implementations. <br><br> </p> 
        <div id="toc" class="toc">
         <div id="toctitle">
          <h2>Contents</h2>
         </div> 
         <ul> 
          <li class="toclevel-1 tocsection-1"><a href="#360_Assembly"><span class="tocnumber">1</span> <span class="toctext">360 Assembly</span></a></li> 
          <li class="toclevel-1 tocsection-2"><a href="#ACL2"><span class="tocnumber">2</span> <span class="toctext">ACL2</span></a></li> 
          <li class="toclevel-1 tocsection-3"><a href="#ActionScript"><span class="tocnumber">3</span> <span class="toctext">ActionScript</span></a></li> 
          <li class="toclevel-1 tocsection-4"><a href="#Ada"><span class="tocnumber">4</span> <span class="toctext">Ada</span></a></li> 
          <li class="toclevel-1 tocsection-5"><a href="#ALGOL_68"><span class="tocnumber">5</span> <span class="toctext">ALGOL 68</span></a></li> 
          <li class="toclevel-1 tocsection-6"><a href="#ALGOL_W"><span class="tocnumber">6</span> <span class="toctext">ALGOL W</span></a></li> 
          <li class="toclevel-1 tocsection-7"><a href="#APL"><span class="tocnumber">7</span> <span class="toctext">APL</span></a></li> 
          <li class="toclevel-1 tocsection-8"><a href="#AppleScript"><span class="tocnumber">8</span> <span class="toctext">AppleScript</span></a></li> 
          <li class="toclevel-1 tocsection-9"><a href="#AWK"><span class="tocnumber">9</span> <span class="toctext">AWK</span></a></li> 
          <li class="toclevel-1 tocsection-10"><a href="#AutoHotkey"><span class="tocnumber">10</span> <span class="toctext">AutoHotkey</span></a></li> 
          <li class="toclevel-1 tocsection-11"><a href="#BASIC"><span class="tocnumber">11</span> <span class="toctext">BASIC</span></a></li> 
          <li class="toclevel-1 tocsection-12"><a href="#BBC_BASIC"><span class="tocnumber">12</span> <span class="toctext">BBC BASIC</span></a></li> 
          <li class="toclevel-1 tocsection-13"><a href="#BCPL"><span class="tocnumber">13</span> <span class="toctext">BCPL</span></a></li> 
          <li class="toclevel-1 tocsection-14"><a href="#Bracmat"><span class="tocnumber">14</span> <span class="toctext">Bracmat</span></a></li> 
          <li class="toclevel-1 tocsection-15"><a href="#C"><span class="tocnumber">15</span> <span class="toctext">C</span></a></li> 
          <li class="toclevel-1 tocsection-16"><a href="#C.2B.2B"><span class="tocnumber">16</span> <span class="toctext">C++</span></a></li> 
          <li class="toclevel-1 tocsection-17"><a href="#C.23"><span class="tocnumber">17</span> <span class="toctext">C#</span></a></li> 
          <li class="toclevel-1 tocsection-18"><a href="#Clojure"><span class="tocnumber">18</span> <span class="toctext">Clojure</span></a></li> 
          <li class="toclevel-1 tocsection-19"><a href="#COBOL"><span class="tocnumber">19</span> <span class="toctext">COBOL</span></a></li> 
          <li class="toclevel-1 tocsection-20"><a href="#CoffeeScript"><span class="tocnumber">20</span> <span class="toctext">CoffeeScript</span></a></li> 
          <li class="toclevel-1 tocsection-21"><a href="#Common_Lisp"><span class="tocnumber">21</span> <span class="toctext">Common Lisp</span></a></li> 
          <li class="toclevel-1 tocsection-22"><a href="#Crystal"><span class="tocnumber">22</span> <span class="toctext">Crystal</span></a></li> 
          <li class="toclevel-1 tocsection-23"><a href="#Curry"><span class="tocnumber">23</span> <span class="toctext">Curry</span></a></li> 
          <li class="toclevel-1 tocsection-24"><a href="#D"><span class="tocnumber">24</span> <span class="toctext">D</span></a></li> 
          <li class="toclevel-1 tocsection-25"><a href="#Dart"><span class="tocnumber">25</span> <span class="toctext">Dart</span></a></li> 
          <li class="toclevel-1 tocsection-26"><a href="#E"><span class="tocnumber">26</span> <span class="toctext">E</span></a></li> 
          <li class="toclevel-1 tocsection-27"><a href="#EchoLisp"><span class="tocnumber">27</span> <span class="toctext">EchoLisp</span></a></li> 
          <li class="toclevel-1 tocsection-28"><a href="#Eero"><span class="tocnumber">28</span> <span class="toctext">Eero</span></a></li> 
          <li class="toclevel-1 tocsection-29"><a href="#Eiffel"><span class="tocnumber">29</span> <span class="toctext">Eiffel</span></a></li> 
          <li class="toclevel-1 tocsection-30"><a href="#Elixir"><span class="tocnumber">30</span> <span class="toctext">Elixir</span></a></li> 
          <li class="toclevel-1 tocsection-31"><a href="#Erlang"><span class="tocnumber">31</span> <span class="toctext">Erlang</span></a></li> 
          <li class="toclevel-1 tocsection-32"><a href="#ERRE"><span class="tocnumber">32</span> <span class="toctext">ERRE</span></a></li> 
          <li class="toclevel-1 tocsection-33"><a href="#F.23"><span class="tocnumber">33</span> <span class="toctext">F#</span></a></li> 
          <li class="toclevel-1 tocsection-34"><a href="#Factor"><span class="tocnumber">34</span> <span class="toctext">Factor</span></a></li> 
          <li class="toclevel-1 tocsection-35"><a href="#Fexl"><span class="tocnumber">35</span> <span class="toctext">Fexl</span></a></li> 
          <li class="toclevel-1 tocsection-36"><a href="#Forth"><span class="tocnumber">36</span> <span class="toctext">Forth</span></a></li> 
          <li class="toclevel-1 tocsection-37"><a href="#Fortran"><span class="tocnumber">37</span> <span class="toctext">Fortran</span></a></li> 
          <li class="toclevel-1 tocsection-38"><a href="#FreeBASIC"><span class="tocnumber">38</span> <span class="toctext">FreeBASIC</span></a></li> 
          <li class="toclevel-1 tocsection-39"><a href="#FunL"><span class="tocnumber">39</span> <span class="toctext">FunL</span></a></li> 
          <li class="toclevel-1 tocsection-40"><a href="#Go"><span class="tocnumber">40</span> <span class="toctext">Go</span></a></li> 
          <li class="toclevel-1 tocsection-41"><a href="#Haskell"><span class="tocnumber">41</span> <span class="toctext">Haskell</span></a></li> 
          <li class="toclevel-1 tocsection-42"><a href="#IDL"><span class="tocnumber">42</span> <span class="toctext">IDL</span></a></li> 
          <li class="toclevel-1 tocsection-43"><a href="#Icon_and_Unicon"><span class="tocnumber">43</span> <span class="toctext">Icon and Unicon</span></a></li> 
          <li class="toclevel-1 tocsection-44"><a href="#Io"><span class="tocnumber">44</span> <span class="toctext">Io</span></a></li> 
          <li class="toclevel-1 tocsection-45"><a href="#J"><span class="tocnumber">45</span> <span class="toctext">J</span></a></li> 
          <li class="toclevel-1 tocsection-46"><a href="#Java"><span class="tocnumber">46</span> <span class="toctext">Java</span></a></li> 
          <li class="toclevel-1 tocsection-47"><a href="#JavaScript"><span class="tocnumber">47</span> <span class="toctext">JavaScript</span></a> 
           <ul> 
            <li class="toclevel-2 tocsection-48"><a href="#Imperative"><span class="tocnumber">47.1</span> <span class="toctext">Imperative</span></a></li> 
            <li class="toclevel-2 tocsection-49"><a href="#Functional"><span class="tocnumber">47.2</span> <span class="toctext">Functional</span></a> 
             <ul> 
              <li class="toclevel-3 tocsection-50"><a href="#ES5"><span class="tocnumber">47.2.1</span> <span class="toctext">ES5</span></a></li> 
              <li class="toclevel-3 tocsection-51"><a href="#ES6"><span class="tocnumber">47.2.2</span> <span class="toctext">ES6</span></a></li> 
             </ul> </li> 
           </ul> </li> 
          <li class="toclevel-1 tocsection-52"><a href="#Joy"><span class="tocnumber">48</span> <span class="toctext">Joy</span></a></li> 
          <li class="toclevel-1 tocsection-53"><a href="#jq"><span class="tocnumber">49</span> <span class="toctext">jq</span></a></li> 
          <li class="toclevel-1 tocsection-54"><a href="#Julia"><span class="tocnumber">50</span> <span class="toctext">Julia</span></a></li> 
          <li class="toclevel-1 tocsection-55"><a href="#K"><span class="tocnumber">51</span> <span class="toctext">K</span></a></li> 
          <li class="toclevel-1 tocsection-56"><a href="#Kotlin"><span class="tocnumber">52</span> <span class="toctext">Kotlin</span></a></li> 
          <li class="toclevel-1 tocsection-57"><a href="#Lobster"><span class="tocnumber">53</span> <span class="toctext">Lobster</span></a></li> 
          <li class="toclevel-1 tocsection-58"><a href="#Logo"><span class="tocnumber">54</span> <span class="toctext">Logo</span></a></li> 
          <li class="toclevel-1 tocsection-59"><a href="#Logtalk"><span class="tocnumber">55</span> <span class="toctext">Logtalk</span></a></li> 
          <li class="toclevel-1 tocsection-60"><a href="#Lua"><span class="tocnumber">56</span> <span class="toctext">Lua</span></a> 
           <ul> 
            <li class="toclevel-2 tocsection-61"><a href="#in-place"><span class="tocnumber">56.1</span> <span class="toctext">in-place</span></a></li> 
            <li class="toclevel-2 tocsection-62"><a href="#non_in-place"><span class="tocnumber">56.2</span> <span class="toctext">non in-place</span></a></li> 
           </ul> </li> 
          <li class="toclevel-1 tocsection-63"><a href="#Lucid"><span class="tocnumber">57</span> <span class="toctext">Lucid</span></a></li> 
          <li class="toclevel-1 tocsection-64"><a href="#M4"><span class="tocnumber">58</span> <span class="toctext">M4</span></a></li> 
          <li class="toclevel-1 tocsection-65"><a href="#Mathematica"><span class="tocnumber">59</span> <span class="toctext">Mathematica</span></a></li> 
          <li class="toclevel-1 tocsection-66"><a href="#MATLAB"><span class="tocnumber">60</span> <span class="toctext">MATLAB</span></a></li> 
          <li class="toclevel-1 tocsection-67"><a href="#MAXScript"><span class="tocnumber">61</span> <span class="toctext">MAXScript</span></a></li> 
          <li class="toclevel-1 tocsection-68"><a href="#Modula-2"><span class="tocnumber">62</span> <span class="toctext">Modula-2</span></a></li> 
          <li class="toclevel-1 tocsection-69"><a href="#Modula-3"><span class="tocnumber">63</span> <span class="toctext">Modula-3</span></a></li> 
          <li class="toclevel-1 tocsection-70"><a href="#Mond"><span class="tocnumber">64</span> <span class="toctext">Mond</span></a></li> 
          <li class="toclevel-1 tocsection-71"><a href="#Nemerle"><span class="tocnumber">65</span> <span class="toctext">Nemerle</span></a></li> 
          <li class="toclevel-1 tocsection-72"><a href="#NetRexx"><span class="tocnumber">66</span> <span class="toctext">NetRexx</span></a></li> 
          <li class="toclevel-1 tocsection-73"><a href="#Nial"><span class="tocnumber">67</span> <span class="toctext">Nial</span></a></li> 
          <li class="toclevel-1 tocsection-74"><a href="#Nim"><span class="tocnumber">68</span> <span class="toctext">Nim</span></a></li> 
          <li class="toclevel-1 tocsection-75"><a href="#Nix"><span class="tocnumber">69</span> <span class="toctext">Nix</span></a></li> 
          <li class="toclevel-1 tocsection-76"><a href="#Objeck"><span class="tocnumber">70</span> <span class="toctext">Objeck</span></a></li> 
          <li class="toclevel-1 tocsection-77"><a href="#Objective-C"><span class="tocnumber">71</span> <span class="toctext">Objective-C</span></a></li> 
          <li class="toclevel-1 tocsection-78"><a href="#OCaml"><span class="tocnumber">72</span> <span class="toctext">OCaml</span></a></li> 
          <li class="toclevel-1 tocsection-79"><a href="#Octave"><span class="tocnumber">73</span> <span class="toctext">Octave</span></a></li> 
          <li class="toclevel-1 tocsection-80"><a href="#Oforth"><span class="tocnumber">74</span> <span class="toctext">Oforth</span></a></li> 
          <li class="toclevel-1 tocsection-81"><a href="#ooRexx"><span class="tocnumber">75</span> <span class="toctext">ooRexx</span></a></li> 
          <li class="toclevel-1 tocsection-82"><a href="#Oz"><span class="tocnumber">76</span> <span class="toctext">Oz</span></a></li> 
          <li class="toclevel-1 tocsection-83"><a href="#PARI.2FGP"><span class="tocnumber">77</span> <span class="toctext">PARI/GP</span></a></li> 
          <li class="toclevel-1 tocsection-84"><a href="#Pascal"><span class="tocnumber">78</span> <span class="toctext">Pascal</span></a></li> 
          <li class="toclevel-1 tocsection-85"><a href="#Perl"><span class="tocnumber">79</span> <span class="toctext">Perl</span></a></li> 
          <li class="toclevel-1 tocsection-86"><a href="#Perl_6"><span class="tocnumber">80</span> <span class="toctext">Perl 6</span></a></li> 
          <li class="toclevel-1 tocsection-87"><a href="#Phix"><span class="tocnumber">81</span> <span class="toctext">Phix</span></a></li> 
          <li class="toclevel-1 tocsection-88"><a href="#PHP"><span class="tocnumber">82</span> <span class="toctext">PHP</span></a></li> 
          <li class="toclevel-1 tocsection-89"><a href="#PicoLisp"><span class="tocnumber">83</span> <span class="toctext">PicoLisp</span></a></li> 
          <li class="toclevel-1 tocsection-90"><a href="#PL.2FI"><span class="tocnumber">84</span> <span class="toctext">PL/I</span></a></li> 
          <li class="toclevel-1 tocsection-91"><a href="#PowerShell"><span class="tocnumber">85</span> <span class="toctext">PowerShell</span></a> 
           <ul> 
            <li class="toclevel-2 tocsection-92"><a href="#First_solution"><span class="tocnumber">85.1</span> <span class="toctext">First solution</span></a></li> 
            <li class="toclevel-2 tocsection-93"><a href="#Another_solution"><span class="tocnumber">85.2</span> <span class="toctext">Another solution</span></a></li> 
           </ul> </li> 
          <li class="toclevel-1 tocsection-94"><a href="#Prolog"><span class="tocnumber">86</span> <span class="toctext">Prolog</span></a></li> 
          <li class="toclevel-1 tocsection-95"><a href="#PureBasic"><span class="tocnumber">87</span> <span class="toctext">PureBasic</span></a></li> 
          <li class="toclevel-1 tocsection-96"><a href="#Python"><span class="tocnumber">88</span> <span class="toctext">Python</span></a></li> 
          <li class="toclevel-1 tocsection-97"><a href="#Qi"><span class="tocnumber">89</span> <span class="toctext">Qi</span></a></li> 
          <li class="toclevel-1 tocsection-98"><a href="#R"><span class="tocnumber">90</span> <span class="toctext">R</span></a></li> 
          <li class="toclevel-1 tocsection-99"><a href="#Racket"><span class="tocnumber">91</span> <span class="toctext">Racket</span></a></li> 
          <li class="toclevel-1 tocsection-100"><a href="#REXX"><span class="tocnumber">92</span> <span class="toctext">REXX</span></a> 
           <ul> 
            <li class="toclevel-2 tocsection-101"><a href="#version_1"><span class="tocnumber">92.1</span> <span class="toctext">version 1</span></a></li> 
            <li class="toclevel-2 tocsection-102"><a href="#version_2"><span class="tocnumber">92.2</span> <span class="toctext">version 2</span></a></li> 
           </ul> </li> 
          <li class="toclevel-1 tocsection-103"><a href="#Ruby"><span class="tocnumber">93</span> <span class="toctext">Ruby</span></a></li> 
          <li class="toclevel-1 tocsection-104"><a href="#Run_BASIC"><span class="tocnumber">94</span> <span class="toctext">Run BASIC</span></a></li> 
          <li class="toclevel-1 tocsection-105"><a href="#Rust"><span class="tocnumber">95</span> <span class="toctext">Rust</span></a></li> 
          <li class="toclevel-1 tocsection-106"><a href="#Sather"><span class="tocnumber">96</span> <span class="toctext">Sather</span></a></li> 
          <li class="toclevel-1 tocsection-107"><a href="#Scala"><span class="tocnumber">97</span> <span class="toctext">Scala</span></a></li> 
          <li class="toclevel-1 tocsection-108"><a href="#Scheme"><span class="tocnumber">98</span> <span class="toctext">Scheme</span></a></li> 
          <li class="toclevel-1 tocsection-109"><a href="#Seed7"><span class="tocnumber">99</span> <span class="toctext">Seed7</span></a></li> 
          <li class="toclevel-1 tocsection-110"><a href="#SETL"><span class="tocnumber">100</span> <span class="toctext">SETL</span></a></li> 
          <li class="toclevel-1 tocsection-111"><a href="#Sidef"><span class="tocnumber">101</span> <span class="toctext">Sidef</span></a></li> 
          <li class="toclevel-1 tocsection-112"><a href="#Simula"><span class="tocnumber">102</span> <span class="toctext">Simula</span></a></li> 
          <li class="toclevel-1 tocsection-113"><a href="#Standard_ML"><span class="tocnumber">103</span> <span class="toctext">Standard ML</span></a></li> 
          <li class="toclevel-1 tocsection-114"><a href="#Swift"><span class="tocnumber">104</span> <span class="toctext">Swift</span></a></li> 
          <li class="toclevel-1 tocsection-115"><a href="#Tcl"><span class="tocnumber">105</span> <span class="toctext">Tcl</span></a></li> 
          <li class="toclevel-1 tocsection-116"><a href="#uBasic.2F4tH"><span class="tocnumber">106</span> <span class="toctext">uBasic/4tH</span></a></li> 
          <li class="toclevel-1 tocsection-117"><a href="#UnixPipes"><span class="tocnumber">107</span> <span class="toctext">UnixPipes</span></a></li> 
          <li class="toclevel-1 tocsection-118"><a href="#Ursala"><span class="tocnumber">108</span> <span class="toctext">Ursala</span></a></li> 
          <li class="toclevel-1 tocsection-119"><a href="#V"><span class="tocnumber">109</span> <span class="toctext">V</span></a></li> 
          <li class="toclevel-1 tocsection-120"><a href="#VBA"><span class="tocnumber">110</span> <span class="toctext">VBA</span></a></li> 
          <li class="toclevel-1 tocsection-121"><a href="#VBScript"><span class="tocnumber">111</span> <span class="toctext">VBScript</span></a></li> 
          <li class="toclevel-1 tocsection-122"><a href="#Wart"><span class="tocnumber">112</span> <span class="toctext">Wart</span></a></li> 
          <li class="toclevel-1 tocsection-123"><a href="#XPL0"><span class="tocnumber">113</span> <span class="toctext">XPL0</span></a></li> 
          <li class="toclevel-1 tocsection-124"><a href="#zkl"><span class="tocnumber">114</span> <span class="toctext">zkl</span></a></li> 
         </ul> 
        </div> 
        <h2><span class="mw-headline" id="360_Assembly"><a href="/wiki/Category:360_Assembly" title="Category:360 Assembly">360 Assembly</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=1" title="Edit section: 360 Assembly">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <div class="examplemeta translation">
         <b>Translation of</b>: 
         <a href="#REXX">REXX</a>
        </div> 
        <p>Structured version with ASM &amp; ASSIST macros. </p> 
        <pre class="text highlighted_source">*        Quicksort                 14/09/2015 &amp; 23/06/2016<br>QUICKSOR CSECT<br>         USING  QUICKSOR,R13       base register<br>         B      72(R15)            skip savearea<br>         DC     17F'0'             savearea<br>         STM    R14,R12,12(R13)    prolog<br>         ST     R13,4(R15)         "<br>         ST     R15,8(R13)         " <br>         LR     R13,R15            "<br>         MVC    A,=A(1)            a(1)=1<br>         MVC    B,=A(NN)           b(1)=hbound(t)<br>         L      R6,=F'1'           k=1<br>       DO WHILE=(LTR,R6,NZ,R6)   do while k&lt;&gt;0    ==================<br>         LR     R1,R6              k <br>         SLA    R1,2               ~<br>         L      R10,A-4(R1)        l=a(k)<br>         LR     R1,R6              k<br>         SLA    R1,2               ~<br>         L      R11,B-4(R1)        m=b(k)<br>         BCTR   R6,0               k=k-1<br>         LR     R4,R11             m<br>         C      R4,=F'2'           if m&lt;2 <br>         BL     ITERATE            then iterate<br>         LR     R2,R10             l<br>         AR     R2,R11             +m<br>         BCTR   R2,0               -1<br>         ST     R2,X               x=l+m-1<br>         LR     R2,R11             m<br>         SRA    R2,1               m/2<br>         AR     R2,R10             +l<br>         ST     R2,Y               y=l+m/2<br>         L      R1,X               x<br>         SLA    R1,2               ~<br>         L      R4,T-4(R1)         r4=t(x)<br>         L      R1,Y               y<br>         SLA    R1,2               ~<br>         L      R5,T-4(R1)         r5=t(y)<br>         LR     R1,R10             l<br>         SLA    R1,2               ~<br>         L      R3,T-4(R1)         r3=t(l)<br>         IF     CR,R4,LT,R3        if t(x)&lt;t(l)       ---+<br>         IF     CR,R5,LT,R4          if t(y)&lt;t(x)        |<br>         LR     R7,R4                  p=t(x)            |<br>         L      R1,X                   x                 |<br>         SLA    R1,2                   ~                 |<br>         ST     R3,T-4(R1)             t(x)=t(l)         |<br>         ELSEIF CR,R5,GT,R3          elseif t(y)&gt;t(l)    |<br>         LR     R7,R3                  p=t(l)            |<br>         ELSE   ,                    else                |<br>         LR     R7,R5                  p=t(y)            |<br>         L      R1,Y                   y                 |<br>         SLA    R1,2                   ~                 |<br>         ST     R3,T-4(R1)            t(y)=t(l)          |<br>         ENDIF  ,                    end if              |<br>         ELSE   ,                  else                  |<br>         IF     CR,R5,LT,R3          if t(y)&lt;t(l)        |<br>         LR     R7,R3                  p=t(l)            |<br>         ELSEIF CR,R5,GT,R4          elseif t(y)&gt;t(x)    |<br>         LR     R7,R4                  p=t(x)            |<br>         L      R1,X                   x                 |<br>         SLA    R1,2                   ~                 |<br>         ST     R3,T-4(R1)             t(x)=t(l)         |<br>         ELSE   ,                    else                |<br>         LR     R7,R5                  p=t(y)            |<br>         L      R1,Y                   y                 |<br>         SLA    R1,2                   ~                 |<br>         ST     R3,T-4(R1)             t(y)=t(l)         |<br>         ENDIF  ,                    end if              |<br>         ENDIF  ,                  end if             ---+<br>         LA     R8,1(R10)          i=l+1<br>         L      R9,X               j=x<br>FOREVER  EQU    *                  do forever  --------------------+  <br>         LR     R1,R8                i                             |<br>         SLA    R1,2                 ~                             |<br>         LA     R2,T-4(R1)           @t(i)                         |<br>         L      R0,0(R2)             t(i)                          |<br>         DO WHILE=(CR,R8,LE,R9,AND,  while i&lt;=j and   ---+         |   X<br>               CR,R0,LE,R7)                t(i)&lt;=p       |         |<br>         AH     R8,=H'1'               i=i+1             |         |<br>         AH     R2,=H'4'               @t(i)             |         |<br>         L      R0,0(R2)               t(i)              |         |<br>         ENDDO  ,                    end while        ---+         |<br>         LR     R1,R9                j                             |<br>         SLA    R1,2                 ~                             |<br>         LA     R2,T-4(R1)           @t(j)                         |<br>         L      R0,0(R2)             t(j)                          |<br>         DO WHILE=(CR,R8,LT,R9,AND,  while i&lt;j and    ---+         |   X<br>               CR,R0,GE,R7)                t(j)&gt;=p       |         |<br>         SH     R9,=H'1'               j=j-1             |         |<br>         SH     R2,=H'4'               @t(j)             |         |<br>         L      R0,0(R2)               t(j)              |         |<br>         ENDDO  ,                    end while        ---+         |<br>         CR     R8,R9                if i&gt;=j                       |<br>         BNL    LEAVE                then leave (segment finished) |<br>         LR     R1,R8                i                             |<br>         SLA    R1,2                 ~                             |<br>         LA     R2,T-4(R1)           @t(i)                         |<br>         LR     R1,R9                j                             |<br>         SLA    R1,2                 ~                             |<br>         LA     R3,T-4(R1)           @t(j)                         |<br>         L      R0,0(R2)             w=t(i)       +                |<br>         MVC    0(4,R2),0(R3)        t(i)=t(j)    |swap t(i),t(j)  |<br>         ST     R0,0(R3)             t(j)=w       +                |<br>         B      FOREVER            end do forever  ----------------+<br>LEAVE    EQU    *<br>         LR     R9,R8              j=i<br>         BCTR   R9,0               j=i-1<br>         LR     R1,R9              j<br>         SLA    R1,2               ~<br>         LA     R3,T-4(R1)         @t(j)<br>         L      R2,0(R3)           t(j)<br>         LR     R1,R10             l<br>         SLA    R1,2               ~<br>         ST     R2,T-4(R1)         t(l)=t(j)<br>         ST     R7,0(R3)           t(j)=p<br>         LA     R6,1(R6)           k=k+1<br>         LR     R1,R6              k<br>         SLA    R1,2               ~<br>         LA     R4,A-4(R1)         <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="6d1f59502d0c">[email&nbsp;protected]</a>(k)<br>         LA     R5,B-4(R1)         <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="8ffdbab2cfed">[email&nbsp;protected]</a>(k)<br>         IF     C,R8,LE,Y          if i&lt;=y           ----+<br>         ST     R8,0(R4)             a(k)=i              |<br>         L      R2,X                 x                   |<br>         SR     R2,R8                -i                  |<br>         LA     R2,1(R2)             +1                  |<br>         ST     R2,0(R5)             b(k)=x-i+1          |<br>         LA     R6,1(R6)             k=k+1               |<br>         ST     R10,4(R4)            a(k)=l              |<br>         LR     R2,R9                j                   |<br>         SR     R2,R10               -l                  |<br>         ST     R2,4(R5)             b(k)=j-l            |<br>         ELSE   ,                  else                  |<br>         ST     R10,4(R4)            a(k)=l              |<br>         LR     R2,R9                j                   |<br>         SR     R2,R10               -l                  |<br>         ST     R2,0(R5)             b(k)=j-l            |<br>         LA     R6,1(R6)             k=k+1               |<br>         ST     R8,4(R4)             a(k)=i              |<br>         L      R2,X                 x                   |<br>         SR     R2,R8                -i                  |<br>         LA     R2,1(R2)             +1                  |<br>         ST     R2,4(R5)             b(k)=x-i+1          |<br>         ENDIF  ,                  end if            ----+<br>ITERATE  EQU    *                  <br>       ENDDO    ,                  end while  =====================<br>*        ***    *********          print sorted table<br>         LA     R3,PG              ibuffer<br>         LA     R4,T               @t(i)<br>       DO WHILE=(C,R4,LE,=A(TEND)) do i=1 to hbound(t)<br>         L      R2,0(R4)             t(i)<br>         XDECO  R2,XD                edit t(i)<br>         MVC    0(4,R3),XD+8         put in buffer<br>         LA     R3,4(R3)             ibuffer=ibuffer+1<br>         LA     R4,4(R4)             i=i+1<br>       ENDDO    ,                  end do<br>         XPRNT  PG,80              print buffer<br>         L      R13,4(0,R13)       epilog <br>         LM     R14,R12,12(R13)    "<br>         XR     R15,R15            "<br>         BR     R14                exit<br>T        DC     F'10',F'9',F'9',F'6',F'7',F'16',F'1',F'16',F'17',F'15'<br>         DC     F'1',F'9',F'18',F'16',F'8',F'20',F'18',F'2',F'19',F'8'<br>TEND     DS     0F<br>NN       EQU    (TEND-T)/4)<br>A        DS     (NN)F              same size as T<br>B        DS     (NN)F              same size as T<br>X        DS     F<br>Y        DS     F<br>PG       DS     CL80<br>XD       DS     CL12<br>         YREGS <br>         END    QUICKSOR</pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>   1   1   2   6   7   8   8   9   9   9  10  15  16  16  16  17  18  18  19  20
</pre> 
        <h2><span class="mw-headline" id="ACL2"><a href="/wiki/Category:ACL2" title="Category:ACL2">ACL2</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=2" title="Edit section: ACL2">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="lisp highlighted_source"><span class="br0">(</span><span class="kw1">defun</span> partition <span class="br0">(</span>p xs<span class="br0">)</span><br>   <span class="br0">(</span><span class="kw1">if</span> <span class="br0">(</span>endp xs<span class="br0">)</span><br>       <span class="br0">(</span>mv <span class="kw1">nil</span> <span class="kw1">nil</span><span class="br0">)</span><br>       <span class="br0">(</span>mv-<span class="kw1">let</span> <span class="br0">(</span>less more<span class="br0">)</span><br>               <span class="br0">(</span>partition p <span class="br0">(</span>rest xs<span class="br0">)</span><span class="br0">)</span><br>          <span class="br0">(</span><span class="kw1">if</span> <span class="br0">(</span><span class="sy0">&lt;</span> <span class="br0">(</span>first xs<span class="br0">)</span> p<span class="br0">)</span><br>              <span class="br0">(</span>mv <span class="br0">(</span><span class="kw1">cons</span> <span class="br0">(</span>first xs<span class="br0">)</span> less<span class="br0">)</span> more<span class="br0">)</span><br>              <span class="br0">(</span>mv less <span class="br0">(</span><span class="kw1">cons</span> <span class="br0">(</span>first xs<span class="br0">)</span> more<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>&nbsp;<br><span class="br0">(</span><span class="kw1">defun</span> qsort <span class="br0">(</span>xs<span class="br0">)</span><br>   <span class="br0">(</span><span class="kw1">if</span> <span class="br0">(</span>endp xs<span class="br0">)</span><br>       <span class="kw1">nil</span><br>       <span class="br0">(</span>mv-<span class="kw1">let</span> <span class="br0">(</span>less more<span class="br0">)</span><br>               <span class="br0">(</span>partition <span class="br0">(</span>first xs<span class="br0">)</span> <span class="br0">(</span>rest xs<span class="br0">)</span><span class="br0">)</span><br>          <span class="br0">(</span><span class="kw1">append</span> <span class="br0">(</span>qsort less<span class="br0">)</span><br>                  <span class="br0">(</span><span class="kw1">list</span> <span class="br0">(</span>first xs<span class="br0">)</span><span class="br0">)</span><br>                  <span class="br0">(</span>qsort more<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span></pre> 
        <p>Usage: </p> 
        <pre class="text highlighted_source">&gt; (qsort '(8 6 7 5 3 0 9))<br>(0 3 5 6 7 8 9)</pre> 
        <h2><span class="mw-headline" id="ActionScript"><a href="/wiki/Category:ActionScript" title="Category:ActionScript">ActionScript</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=3" title="Edit section: ActionScript">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <div class="examplemeta workswith">
         <b>Works with</b>: 
         <a href="/wiki/ActionScript" title="ActionScript" class="mw-redirect">ActionScript</a> version 3
        </div>
        <br> 
        <p>The functional programming way </p> 
        <pre class="actionscript highlighted_source"><span class="kw2">function</span> quickSort <span class="br0">(</span><span class="kw3">array</span>:<span class="kw3">Array</span><span class="br0">)</span>:<span class="kw3">Array</span><br><span class="br0">{</span><br>    <span class="kw1">if</span> <span class="br0">(</span><span class="kw3">array</span>.<span class="kw3">length</span> <span class="sy0">&lt;</span>= <span class="nu0">1</span><span class="br0">)</span><br>        <span class="kw1">return</span> <span class="kw3">array</span>;<br>&nbsp;<br>    <span class="kw2">var</span> pivot:<span class="kw3">Number</span> = <span class="kw3">array</span><span class="br0">[</span><span class="kw3">Math</span>.<span class="kw3">round</span><span class="br0">(</span><span class="kw3">array</span>.<span class="kw3">length</span> <span class="sy0">/</span> <span class="nu0">2</span><span class="br0">)</span><span class="br0">]</span>;<br>&nbsp;<br>    <span class="kw1">return</span> quickSort<span class="br0">(</span><span class="kw3">array</span>.<span class="me1">filter</span><span class="br0">(</span><span class="kw2">function</span> <span class="br0">(</span>x:<span class="kw3">Number</span>, <span class="kw3">index</span>:<span class="kw3">int</span>, <span class="kw3">array</span>:<span class="kw3">Array</span><span class="br0">)</span>:<span class="kw3">Boolean</span> <span class="br0">{</span> <span class="kw1">return</span> x <span class="sy0">&lt;</span>  pivot; <span class="br0">}</span><span class="br0">)</span><span class="br0">)</span>.<span class="kw3">concat</span><span class="br0">(</span><br>            <span class="kw3">array</span>.<span class="me1">filter</span><span class="br0">(</span><span class="kw2">function</span> <span class="br0">(</span>x:<span class="kw3">Number</span>, <span class="kw3">index</span>:<span class="kw3">int</span>, <span class="kw3">array</span>:<span class="kw3">Array</span><span class="br0">)</span>:<span class="kw3">Boolean</span> <span class="br0">{</span> <span class="kw1">return</span> x == pivot; <span class="br0">}</span><span class="br0">)</span><span class="br0">)</span>.<span class="kw3">concat</span><span class="br0">(</span><br>        quickSort<span class="br0">(</span><span class="kw3">array</span>.<span class="me1">filter</span><span class="br0">(</span><span class="kw2">function</span> <span class="br0">(</span>x:<span class="kw3">Number</span>, <span class="kw3">index</span>:<span class="kw3">int</span>, <span class="kw3">array</span>:<span class="kw3">Array</span><span class="br0">)</span>:<span class="kw3">Boolean</span> <span class="br0">{</span> <span class="kw1">return</span> x <span class="sy0">&gt;</span> pivot; <span class="br0">}</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span>;<br><span class="br0">}</span></pre> 
        <p>The faster way </p> 
        <pre class="actionscript highlighted_source"><span class="kw2">function</span> quickSort <span class="br0">(</span><span class="kw3">array</span>:<span class="kw3">Array</span><span class="br0">)</span>:<span class="kw3">Array</span><br><span class="br0">{</span><br>    <span class="kw1">if</span> <span class="br0">(</span><span class="kw3">array</span>.<span class="kw3">length</span> <span class="sy0">&lt;</span>= <span class="nu0">1</span><span class="br0">)</span><br>        <span class="kw1">return</span> <span class="kw3">array</span>;<br>&nbsp;<br>    <span class="kw2">var</span> pivot:<span class="kw3">Number</span> = <span class="kw3">array</span><span class="br0">[</span><span class="kw3">Math</span>.<span class="kw3">round</span><span class="br0">(</span><span class="kw3">array</span>.<span class="kw3">length</span> <span class="sy0">/</span> <span class="nu0">2</span><span class="br0">)</span><span class="br0">]</span>;<br>&nbsp;<br>    <span class="kw2">var</span> less:<span class="kw3">Array</span> = <span class="br0">[</span><span class="br0">]</span>;<br>    <span class="kw2">var</span> equal:<span class="kw3">Array</span> = <span class="br0">[</span><span class="br0">]</span>;<br>    <span class="kw2">var</span> greater:<span class="kw3">Array</span> = <span class="br0">[</span><span class="br0">]</span>;<br>&nbsp;<br>    <span class="kw1">for</span> <span class="kw1">each</span> <span class="br0">(</span><span class="kw2">var</span> x:<span class="kw3">Number</span> <span class="kw1">in</span> <span class="kw3">array</span><span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw1">if</span> <span class="br0">(</span>x <span class="sy0">&lt;</span> pivot<span class="br0">)</span><br>            less.<span class="kw3">push</span><span class="br0">(</span>x<span class="br0">)</span>;<br>        <span class="kw1">if</span> <span class="br0">(</span>x == pivot<span class="br0">)</span><br>            equal.<span class="kw3">push</span><span class="br0">(</span>x<span class="br0">)</span>;<br>        <span class="kw1">if</span> <span class="br0">(</span>x <span class="sy0">&gt;</span> pivot<span class="br0">)</span><br>            greater.<span class="kw3">push</span><span class="br0">(</span>x<span class="br0">)</span>;<br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">return</span> quickSort<span class="br0">(</span>less<span class="br0">)</span>.<span class="kw3">concat</span><span class="br0">(</span><br>            equal<span class="br0">)</span>.<span class="kw3">concat</span><span class="br0">(</span><br>            quickSort<span class="br0">(</span>greater<span class="br0">)</span><span class="br0">)</span>;<br><span class="br0">}</span></pre> 
        <h2><span class="mw-headline" id="Ada"><a href="/wiki/Category:Ada" title="Category:Ada">Ada</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=4" title="Edit section: Ada">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>This example is implemented as a generic procedure. The procedure specification is: </p> 
        <pre class="ada highlighted_source"><span class="co1">-----------------------------------------------------------------------</span><br><span class="co1">-- Generic Quicksort procedure</span><br><span class="co1">-----------------------------------------------------------------------</span><br><span class="kw3">generic</span><br>    <span class="kw3">type</span> Element_Type <span class="kw1">is</span> <span class="kw3">private</span>;<br>   <span class="kw3">type</span> Index_Type <span class="kw1">is</span> <span class="br0">(</span>&lt;&gt;<span class="br0">)</span>;<br>   <span class="kw3">type</span> Element_Array <span class="kw1">is</span> <span class="kw3">array</span><span class="br0">(</span>Index_Type <span class="kw3">range</span> &lt;&gt;<span class="br0">)</span> <span class="kw3">of</span> Element_Type;<br>   <span class="kw3">with</span> <span class="kw3">function</span> <span class="st0">"&lt;"</span> <span class="br0">(</span>Left, Right&nbsp;: Element_Type<span class="br0">)</span> <span class="kw1">return</span> Boolean <span class="kw1">is</span> &lt;&gt;; <br>   <span class="kw3">with</span> <span class="kw3">function</span> <span class="st0">"&gt;"</span> <span class="br0">(</span>Left, Right&nbsp;: Element_Type<span class="br0">)</span> <span class="kw1">return</span> Boolean <span class="kw1">is</span> &lt;&gt;;<br><span class="kw3">procedure</span> Sort<span class="br0">(</span>Item&nbsp;: <span class="kw3">in</span> <span class="kw3">out</span> Element_Array<span class="br0">)</span>;</pre> 
        <p>The procedure body deals with any discrete index type, either an integer type or an enumerated type. </p> 
        <pre class="ada highlighted_source"><span class="co1">-----------------------------------------------------------------------</span><br><span class="co1">-- Generic Quicksort procedure</span><br><span class="co1">----------------------------------------------------------------------- </span><br>&nbsp;<br><span class="kw3">procedure</span> Sort <span class="br0">(</span>Item&nbsp;: <span class="kw3">in</span> <span class="kw3">out</span> Element_Array<span class="br0">)</span> <span class="kw1">is</span><br>&nbsp;<br>   <span class="kw3">procedure</span> Swap<span class="br0">(</span>Left, Right&nbsp;: <span class="kw3">in</span> <span class="kw3">out</span> Element_Type<span class="br0">)</span> <span class="kw1">is</span><br>      Temp&nbsp;: Element_Type&nbsp;:= Left;<br>   <span class="kw1">begin</span><br>      Left&nbsp;:= Right;<br>      Right&nbsp;:= Temp;<br>   <span class="kw1">end</span> Swap;<br>&nbsp;<br>   Pivot_Index&nbsp;: Index_Type;<br>   Pivot_Value&nbsp;: Element_Type;<br>   Right      &nbsp;: Index_Type&nbsp;:= Item'Last;<br>   Left       &nbsp;: Index_Type&nbsp;:= Item'First;<br>&nbsp;<br><span class="kw1">begin</span><br>   <span class="kw1">if</span> Item'Length &gt; <span class="nu0">1</span> <span class="kw1">then</span><br>      Pivot_Index&nbsp;:= Index_Type'Val<span class="br0">(</span><span class="br0">(</span>Index_Type'Pos<span class="br0">(</span>Item'Last<span class="br0">)</span> + <span class="nu0">1</span> + <br>                                    Index_Type'Pos<span class="br0">(</span>Item'First<span class="br0">)</span><span class="br0">)</span> / <span class="nu0">2</span><span class="br0">)</span>;<br>      Pivot_Value&nbsp;:= Item<span class="br0">(</span>Pivot_Index<span class="br0">)</span>;<br>&nbsp;<br>      Left &nbsp;:= Item'First;<br>      Right&nbsp;:= Item'Last;<br>      <span class="kw1">loop</span><br>         <span class="kw1">while</span> Left &lt; Item'Last <span class="kw2">and</span> <span class="kw1">then</span> Item<span class="br0">(</span>Left<span class="br0">)</span> &lt; Pivot_Value <span class="kw1">loop</span><br>            Left&nbsp;:= Index_Type'Succ<span class="br0">(</span>Left<span class="br0">)</span>;<br>         <span class="kw1">end</span> <span class="kw1">loop</span>;<br>         <span class="kw1">while</span> Right &gt; Item'First <span class="kw2">and</span> <span class="kw1">then</span> Item<span class="br0">(</span>Right<span class="br0">)</span> &gt; Pivot_Value <span class="kw1">loop</span><br>            Right&nbsp;:= Index_Type'Pred<span class="br0">(</span>Right<span class="br0">)</span>;<br>         <span class="kw1">end</span> <span class="kw1">loop</span>;<br>         <span class="kw3">exit</span> <span class="kw3">when</span> Left &gt;= Right;<br>         Swap<span class="br0">(</span>Item<span class="br0">(</span>Left<span class="br0">)</span>, Item<span class="br0">(</span>Right<span class="br0">)</span><span class="br0">)</span>;<br>         <span class="kw1">if</span> Left &lt; Item'Last <span class="kw1">then</span><br>            Left&nbsp;:= Index_Type'Succ<span class="br0">(</span>Left<span class="br0">)</span>;<br>         <span class="kw1">end</span> <span class="kw1">if</span>;<br>         <span class="kw1">if</span> Right &gt; Item'First <span class="kw1">then</span><br>            Right&nbsp;:= Index_Type'Pred<span class="br0">(</span>Right<span class="br0">)</span>;<br>         <span class="kw1">end</span> <span class="kw1">if</span>;<br>      <span class="kw1">end</span> <span class="kw1">loop</span>;<br>      <span class="kw1">if</span> Right &gt; Item'First <span class="kw1">then</span><br>         Sort<span class="br0">(</span>Item<span class="br0">(</span>Item'First..<span class="me1">Index_Type</span>'Pred<span class="br0">(</span>Right<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span>;<br>      <span class="kw1">end</span> <span class="kw1">if</span>;<br>      <span class="kw1">if</span> Left &lt; Item'Last <span class="kw1">then</span><br>         Sort<span class="br0">(</span>Item<span class="br0">(</span>Left..<span class="me1">Item</span>'Last<span class="br0">)</span><span class="br0">)</span>;<br>      <span class="kw1">end</span> <span class="kw1">if</span>;<br>   <span class="kw1">end</span> <span class="kw1">if</span>;<br><span class="kw1">end</span> Sort;</pre> 
        <p>An example of how this procedure may be used is: </p> 
        <pre class="ada highlighted_source"><span class="kw3">with</span> Sort;<br><span class="kw3">with</span> Ada.<span class="me1">Text_Io</span>;<br><span class="kw3">with</span> Ada.<span class="me1">Float_Text_IO</span>; <span class="kw3">use</span> Ada.<span class="me1">Float_Text_IO</span>; <br>&nbsp;<br><span class="kw3">procedure</span> Sort_Test <span class="kw1">is</span><br>   <span class="kw3">type</span> Days <span class="kw1">is</span> <span class="br0">(</span>Mon, Tue, Wed, Thu, Fri, Sat, Sun<span class="br0">)</span>;<br>   <span class="kw3">type</span> Sales <span class="kw1">is</span> <span class="kw3">array</span><span class="br0">(</span>Days <span class="kw3">range</span> &lt;&gt;<span class="br0">)</span> <span class="kw3">of</span> Float;<br>   <span class="kw3">procedure</span> Sort_Days <span class="kw1">is</span> <span class="kw3">new</span> Sort<span class="br0">(</span>Float, Days, Sales<span class="br0">)</span>;<br>&nbsp;<br>   <span class="kw3">procedure</span> Print<span class="br0">(</span>Item&nbsp;: Sales<span class="br0">)</span> <span class="kw1">is</span><br>   <span class="kw1">begin</span><br>      <span class="kw1">for</span> I <span class="kw3">in</span> Item'<span class="kw3">range</span> <span class="kw1">loop</span><br>         Put<span class="br0">(</span>Item =&gt; Item<span class="br0">(</span>I<span class="br0">)</span>, Fore =&gt; <span class="nu0">5</span>, Aft =&gt; <span class="nu0">2</span>, Exp =&gt; <span class="nu0">0</span><span class="br0">)</span>;<br>      <span class="kw1">end</span> <span class="kw1">loop</span>;<br>   <span class="kw1">end</span> Print;<br>&nbsp;<br>   Weekly_Sales&nbsp;: Sales&nbsp;:= <span class="br0">(</span>Mon =&gt; <span class="nu0">300.0</span>, <br>      Tue =&gt; <span class="nu0">700.0</span>, <br>      Wed =&gt; <span class="nu0">800.0</span>, <br>      Thu =&gt; <span class="nu0">500.0</span>, <br>      Fri =&gt; <span class="nu0">200.0</span>, <br>      Sat =&gt; <span class="nu0">100.0</span>, <br>      Sun =&gt; <span class="nu0">900.0</span><span class="br0">)</span>;<br>&nbsp;<br><span class="kw1">begin</span><br>&nbsp;<br>   Print<span class="br0">(</span>Weekly_Sales<span class="br0">)</span>;<br>   Ada.<span class="me1">Text_Io</span>.<span class="me1">New_Line</span><span class="br0">(</span><span class="nu0">2</span><span class="br0">)</span>;<br>   Sort_Days<span class="br0">(</span>Weekly_Sales<span class="br0">)</span>;<br>   Print<span class="br0">(</span>Weekly_Sales<span class="br0">)</span>;<br>&nbsp;<br><span class="kw1">end</span> Sort_Test;</pre> 
        <h2><span class="mw-headline" id="ALGOL_68"><a href="/wiki/Category:ALGOL_68" title="Category:ALGOL 68">ALGOL 68</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=5" title="Edit section: ALGOL 68">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="algol68 highlighted_source"><span class="coMULTI">#--- Swap function ---#</span><br><span class="kw4">PROC</span> swap <span class="sy1">=</span> <span class="br0">(</span><span class="kw4">REF</span> <span class="br0">[</span><span class="br0">]</span><span class="kw3">INT</span> array<span class="sy1">,</span> <span class="kw3">INT</span> first<span class="sy1">,</span> <span class="kw3">INT</span> second<span class="br0">)</span> <span class="kw3">VOID</span><span class="sy1">:</span><br><span class="br0">(</span><br>    <span class="kw3">INT</span> temp <span class="sy1">:=</span> array<span class="br0">[</span>first<span class="br0">]</span><span class="sy1">;</span><br>    array<span class="br0">[</span>first<span class="br0">]</span> <span class="sy1">:=</span> array<span class="br0">[</span>second<span class="br0">]</span><span class="sy1">;</span><br>    array<span class="br0">[</span>second<span class="br0">]</span><span class="sy1">:=</span> temp<br><span class="br0">)</span><span class="sy1">;</span><br>&nbsp;<br><span class="coMULTI">#--- Quick sort 3 arg function ---#</span><br><span class="kw4">PROC</span> quick <span class="sy1">=</span> <span class="br0">(</span><span class="kw4">REF</span> <span class="br0">[</span><span class="br0">]</span> <span class="kw3">INT</span> array<span class="sy1">,</span> <span class="kw3">INT</span> first<span class="sy1">,</span> <span class="kw3">INT</span> last<span class="br0">)</span> <span class="kw3">VOID</span><span class="sy1">:</span><br><span class="br0">(</span><br>    <span class="kw3">INT</span> smaller <span class="sy1">:=</span> first <span class="sy1">+</span> 1<span class="sy1">,</span>  <br>        larger  <span class="sy1">:=</span> last<span class="sy1">,</span><br>        pivot   <span class="sy1">:=</span> array<span class="br0">[</span>first<span class="br0">]</span><span class="sy1">;</span><br>&nbsp;<br>    <span class="kw2">WHILE</span> smaller <span class="sy1">&lt;=</span> larger <span class="kw2">DO</span><br>        <span class="kw2">WHILE</span> array<span class="br0">[</span>smaller<span class="br0">]</span> <span class="sy1">&lt;</span> pivot   <span class="kw16">AND</span>   smaller <span class="sy1">&lt;</span> last <span class="kw2">DO</span>   <br>            smaller <span class="sy1">+:=</span> 1        <br>        <span class="kw2">OD</span><span class="sy1">;</span><br>        <span class="kw2">WHILE</span> array<span class="br0">[</span>larger<span class="br0">]</span>  <span class="sy1">&gt;</span> pivot   <span class="kw16">AND</span>   larger <span class="sy1">&gt;</span> first <span class="kw2">DO</span>   <br>            larger  <span class="sy1">-:=</span> 1       <br>        <span class="kw2">OD</span><span class="sy1">;</span> <br>        <span class="kw2">IF</span> smaller <span class="sy1">&lt;</span> larger <span class="kw2">THEN</span> <br>            swap<span class="br0">(</span>array<span class="sy1">,</span> smaller<span class="sy1">,</span> larger<span class="br0">)</span><span class="sy1">;</span> <br>            smaller <span class="sy1">+:=</span> 1<span class="sy1">;</span><br>            larger  <span class="sy1">-:=</span> 1<br>        <span class="kw2">ELSE</span><br>            smaller <span class="sy1">+:=</span> 1<br>        <span class="kw2">FI</span><br>    <span class="kw2">OD</span><span class="sy1">;</span><br>&nbsp;<br>    swap<span class="br0">(</span>array<span class="sy1">,</span> first<span class="sy1">,</span> larger<span class="br0">)</span><span class="sy1">;</span>    <br>&nbsp;<br>    <span class="kw2">IF</span> first <span class="sy1">&lt;</span> larger<span class="sy1">-</span>1 <span class="kw2">THEN</span><br>        quick<span class="br0">(</span>array<span class="sy1">,</span> first<span class="sy1">,</span> larger<span class="sy1">-</span>1<span class="br0">)</span>  <br>    <span class="kw2">FI</span><span class="sy1">;</span><br>    <span class="kw2">IF</span> last <span class="sy1">&gt;</span> larger <span class="sy1">+</span>1 <span class="kw2">THEN</span><br>        quick<span class="br0">(</span>array<span class="sy1">,</span> larger<span class="sy1">+</span>1<span class="sy1">,</span> last<span class="br0">)</span>   <br>    <span class="kw2">FI</span><br><span class="br0">)</span><span class="sy1">;</span><br>&nbsp;<br><span class="coMULTI">#--- Quick sort 1 arg function ---#</span><br><span class="kw4">PROC</span> quicksort <span class="sy1">=</span> <span class="br0">(</span><span class="kw4">REF</span> <span class="br0">[</span><span class="br0">]</span><span class="kw3">INT</span> array<span class="br0">)</span> <span class="kw3">VOID</span><span class="sy1">:</span><br><span class="br0">(</span><br>  <span class="kw2">IF</span> <span class="kw8">UPB</span> array <span class="sy1">&gt;</span> 1 <span class="kw2">THEN</span><br>    quick<span class="br0">(</span>array<span class="sy1">,</span> 1<span class="sy1">,</span> <span class="kw8">UPB</span> array<span class="br0">)</span> <br>  <span class="kw2">FI</span><br><span class="br0">)</span><span class="sy1">;</span><br>&nbsp;<br><span class="coMULTI">#***************************************************************#</span><br>main<span class="sy1">:</span><br><span class="br0">(</span><br>    <span class="br0">[</span>10<span class="br0">]</span><span class="kw3">INT</span> a<span class="sy1">;</span> <br>    <span class="kw2">FOR</span> i <span class="kw2">FROM</span> 1 <span class="kw2">TO</span> <span class="kw8">UPB</span> a <span class="kw2">DO</span> <br>        a<span class="br0">[</span>i<span class="br0">]</span> <span class="sy1">:=</span> <span class="kw8">ROUND</span><span class="br0">(</span>random<span class="sy1">*</span>1000<span class="br0">)</span><br>    <span class="kw2">OD</span><span class="sy1">;</span>                             <br>&nbsp;<br>    <span class="kw22">print</span><span class="br0">(</span><span class="br0">(</span><span class="st0">"Before:"</span><span class="sy1">,</span> a<span class="br0">)</span><span class="br0">)</span><span class="sy1">;</span><br>    quicksort<span class="br0">(</span>a<span class="br0">)</span><span class="sy1">;</span><br>    <span class="kw22">print</span><span class="br0">(</span><span class="br0">(</span><span class="kw22">newline</span><span class="sy1">,</span> <span class="kw22">newline</span><span class="br0">)</span><span class="br0">)</span><span class="sy1">;</span><br>    <span class="kw22">print</span><span class="br0">(</span><span class="br0">(</span><span class="st0">"After: "</span><span class="sy1">,</span> a<span class="br0">)</span><span class="br0">)</span><br><span class="br0">)</span><br>&nbsp;</pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>Before:        +73       +921       +179       +961        +50       +324        +82       +178       +243       +458
                                                                                                                     
After:         +50        +73        +82       +178       +179       +243       +324       +458       +921       +961
</pre> 
        <h2><span class="mw-headline" id="ALGOL_W"><a href="/wiki/Category:ALGOL_W" title="Category:ALGOL W">ALGOL W</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=6" title="Edit section: ALGOL W">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">% Quicksorts in-place the array of integers v, from lb to ub&nbsp;%<br>procedure quicksort ( integer array v( * )<br>                   &nbsp;; integer value lb, ub<br>                    )&nbsp;;<br>if ub &gt; lb then begin<br>   &nbsp;% more than one element, so must sort&nbsp;%<br>    integer left, right, pivot;<br>    left  &nbsp;:= lb;<br>    right &nbsp;:= ub;<br>   &nbsp;% choosing the middle element of the array as the pivot&nbsp;%<br>    pivot &nbsp;:= v( left + ( ( right + 1 ) - left ) div 2 );<br>    while begin<br>        while left  &lt;= ub and v( left  ) &lt; pivot do left &nbsp;:= left  + 1;<br>        while right &gt;= lb and v( right ) &gt; pivot do right&nbsp;:= right - 1;<br>        left &lt;= right<br>    end do begin<br>        integer swap;<br>        swap      &nbsp;:= v( left  );<br>        v( left  )&nbsp;:= v( right );<br>        v( right )&nbsp;:= swap;<br>        left      &nbsp;:= left  + 1;<br>        right     &nbsp;:= right - 1<br>    end while_left_le_right&nbsp;;<br>    quicksort( v, lb,   right );<br>    quicksort( v, left, ub    )<br>end quicksort&nbsp;;</pre> 
        <h2><span class="mw-headline" id="APL"><a href="/wiki/Category:APL" title="Category:APL">APL</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=7" title="Edit section: APL">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <div class="examplemeta workswith">
         <b>Works with</b>: 
         <a href="/wiki/Dyalog_APL" title="Dyalog APL">Dyalog APL</a>
        </div>
        <div class="examplemeta translation">
         <b>Translation of</b>: 
         <a href="#J">J</a>
        </div> 
        <pre class="text highlighted_source">      qsort ? {1???:? ? e??[???] ? (?(?&lt;e)/?) , ((?=e)/?) , (?(?&gt;e)/?)}<br>      qsort 31 4 1 5 9 2 6 5 3 5 8<br>1 2 3 4 5 5 5 6 8 9 31</pre> 
        <p>Of course, in real APL applications, one would use ? to sort (which will pick a sorting algorithm suited to the argument). </p>
        <p><br> </p> 
        <h2><span class="mw-headline" id="AppleScript"><a href="/wiki/Category:AppleScript" title="Category:AppleScript">AppleScript</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=8" title="Edit section: AppleScript">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>Emphasising clarity and simplicity more than run-time performance. (Practical scripts will often delegate sorting to the OS X shell, or, since OS X Yosemite, to Foundation classes through the ObjC interface). </p> 
        <div class="examplemeta translation">
         <b>Translation of</b>: 
         <a href="#JavaScript">JavaScript</a>
        </div> 
        <p>(Functional ES5 version) </p> 
        <pre class="applescript highlighted_source"><span class="co1">-- quickSort&nbsp;:: (Ord a) =&gt; [a] -&gt; [a]</span><br><span class="kw3">on</span> quickSort<span class="br0">(</span>xs<span class="br0">)</span><br>    <span class="kw3">if</span> length <span class="kw3">of</span> xs &gt; <span class="nu0">1</span> <span class="kw3">then</span><br>        <span class="kw3">set</span> <span class="br0">{</span>h, t<span class="br0">}</span> <span class="kw3">to</span> uncons<span class="br0">(</span>xs<span class="br0">)</span><br>&nbsp;<br>        <span class="co1">-- lessOrEqual&nbsp;:: a -&gt; Bool</span><br>        <span class="kw3">script</span> lessOrEqual<br>            <span class="kw3">on</span> |?|<span class="br0">(</span>x<span class="br0">)</span><br>                x ? h<br>            <span class="kw3">end</span> |?|<br>        <span class="kw3">end</span> <span class="kw3">script</span><br>&nbsp;<br>        <span class="kw3">set</span> <span class="br0">{</span><span class="kw2">less</span>, more<span class="br0">}</span> <span class="kw3">to</span> partition<span class="br0">(</span>lessOrEqual, t<span class="br0">)</span><br>&nbsp;<br>        quickSort<span class="br0">(</span><span class="kw2">less</span><span class="br0">)</span> <span class="sy0">&amp;</span> h <span class="sy0">&amp;</span> quickSort<span class="br0">(</span>more<span class="br0">)</span><br>    <span class="kw3">else</span><br>        xs<br>    <span class="kw3">end</span> <span class="kw3">if</span><br><span class="kw3">end</span> quickSort<br>&nbsp;<br>&nbsp;<br><span class="co1">-- TEST -----------------------------------------------------------------------</span><br><span class="kw3">on</span> <span class="kw1">run</span><br>&nbsp;<br>    quickSort<span class="br0">(</span><span class="br0">[</span><span class="nu0">11.8</span>, <span class="nu0">14.1</span>, <span class="nu0">21.3</span>, <span class="nu0">8.5</span>, <span class="nu0">16.7</span>, <span class="nu0">5.7</span><span class="br0">]</span><span class="br0">)</span><br>&nbsp;<br>    <span class="co1">--&gt; {5.7, 8.5, 11.8, 14.1, 16.7, 21.3}</span><br>&nbsp;<br><span class="kw3">end</span> <span class="kw1">run</span><br>&nbsp;<br>&nbsp;<br><span class="co1">-- GENERIC FUNCTIONS ----------------------------------------------------------</span><br>&nbsp;<br><span class="co1">-- partition&nbsp;:: predicate -&gt; List -&gt; (Matches, nonMatches)</span><br><span class="co1">-- partition&nbsp;:: (a -&gt; Bool) -&gt; [a] -&gt; ([a], [a])</span><br><span class="kw3">on</span> partition<span class="br0">(</span>f, xs<span class="br0">)</span><br>    <span class="kw3">tell</span> mReturn<span class="br0">(</span>f<span class="br0">)</span><br>        <span class="kw3">set</span> lst <span class="kw3">to</span> <span class="br0">{</span><span class="br0">{</span><span class="br0">}</span>, <span class="br0">{</span><span class="br0">}</span><span class="br0">}</span><br>        <span class="kw3">repeat</span> <span class="kw3">with</span> x <span class="kw3">in</span> xs<br>            <span class="kw3">set</span> v <span class="kw3">to</span> <span class="kw1">contents</span> <span class="kw3">of</span> x<br>            <span class="kw3">set</span> <span class="kw3">end</span> <span class="kw3">of</span> <span class="kw1">item</span> <span class="br0">(</span><span class="br0">(</span>|?|<span class="br0">(</span>v<span class="br0">)</span> <span class="kw2">as</span> <span class="kw1">integer</span><span class="br0">)</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span> <span class="kw3">of</span> lst <span class="kw3">to</span> v<br>        <span class="kw3">end</span> <span class="kw3">repeat</span><br>        <span class="kw3">return</span> <span class="br0">{</span><span class="kw1">item</span> <span class="nu0">2</span> <span class="kw3">of</span> lst, <span class="kw1">item</span> <span class="nu0">1</span> <span class="kw3">of</span> lst<span class="br0">}</span><br>    <span class="kw3">end</span> <span class="kw3">tell</span><br><span class="kw3">end</span> partition<br>&nbsp;<br><span class="co1">-- uncons&nbsp;:: [a] -&gt; Maybe (a, [a])</span><br><span class="kw3">on</span> uncons<span class="br0">(</span>xs<span class="br0">)</span><br>    <span class="kw3">if</span> length <span class="kw3">of</span> xs &gt; <span class="nu0">0</span> <span class="kw3">then</span><br>        <span class="br0">{</span><span class="kw1">item</span> <span class="nu0">1</span> <span class="kw3">of</span> xs, rest <span class="kw3">of</span> xs<span class="br0">}</span><br>    <span class="kw3">else</span><br>        <span class="kw1">missing value</span><br>    <span class="kw3">end</span> <span class="kw3">if</span><br><span class="kw3">end</span> uncons<br>&nbsp;<br><span class="co1">-- Lift 2nd class handler function into 1st class script wrapper </span><br><span class="co1">-- mReturn&nbsp;:: Handler -&gt; Script</span><br><span class="kw3">on</span> mReturn<span class="br0">(</span>f<span class="br0">)</span><br>    <span class="kw3">if</span> class <span class="kw3">of</span> f <span class="kw3">is</span> <span class="kw3">script</span> <span class="kw3">then</span><br>        f<br>    <span class="kw3">else</span><br>        <span class="kw3">script</span><br>            <span class="kw3">property</span> |?|&nbsp;: f<br>        <span class="kw3">end</span> <span class="kw3">script</span><br>    <span class="kw3">end</span> <span class="kw3">if</span><br><span class="kw3">end</span> mReturn</pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre class="applescript highlighted_source"><span class="br0">{</span><span class="nu0">5.7</span>, <span class="nu0">8.5</span>, <span class="nu0">11.8</span>, <span class="nu0">14.1</span>, <span class="nu0">16.7</span>, <span class="nu0">21.3</span><span class="br0">}</span></pre> 
        <h2><span class="mw-headline" id="AWK"><a href="/wiki/Category:AWK" title="Category:AWK">AWK</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=9" title="Edit section: AWK">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="awk highlighted_source">&nbsp;<br><span class="co1"># the following qsort implementation extracted from:</span><br><span class="co1">#</span><br><span class="co1">#       ftp://ftp.armory.com/pub/lib/awk/qsort</span><br><span class="co1">#</span><br><span class="co1"># Copyleft GPLv2 John DuBois</span><br><span class="co1">#</span><br><span class="co1"># @(#) qsort 1.2.1 2005-10-21</span><br><span class="co1"># 1990 john h. dubois iii (<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="acc6c3c4c2eccddec1c3ded582cfc3c1">[email&nbsp;protected]</a>)</span><br><span class="co1">#</span><br><span class="co1"># qsortArbIndByValue(): Sort an array according to the values of its elements.</span><br><span class="co1">#</span><br><span class="co1"># Input variables:</span><br><span class="co1">#</span><br><span class="co1"># Arr[] is an array of values with arbitrary (associative) indices.</span><br><span class="co1">#</span><br><span class="co1"># Output variables:</span><br><span class="co1">#</span><br><span class="co1"># k[] is returned with numeric indices 1..n.  The values assigned to these</span><br><span class="co1"># indices are the indices of Arr[], ordered so that if Arr[] is stepped</span><br><span class="co1"># through in the order Arr[k[1]] .. Arr[k[n]], it will be stepped through in</span><br><span class="co1"># order of the values of its elements.</span><br><span class="co1">#</span><br><span class="co1"># Return value: The number of elements in the arrays (n).</span><br><span class="co1">#</span><br><span class="co1"># NOTES:</span><br><span class="co1">#</span><br><span class="co1"># Full example for accessing results:</span><br><span class="co1">#</span><br><span class="co1">#       foolist["second"] = 2;</span><br><span class="co1">#       foolist["zero"] = 0;</span><br><span class="co1">#       foolist["third"] = 3;</span><br><span class="co1">#       foolist["first"] = 1;</span><br><span class="co1">#</span><br><span class="co1">#       outlist[1] = 0;</span><br><span class="co1">#       n = qsortArbIndByValue(foolist, outlist)</span><br><span class="co1">#</span><br><span class="co1">#       for (i = 1; i &lt;= n; i++) {</span><br><span class="co1">#               printf("item at&nbsp;%s has value&nbsp;%d\n", outlist[i], foolist[outlist[i]]);</span><br><span class="co1">#       }</span><br><span class="co1">#      delete outlist; </span><br><span class="co1">#</span><br><span class="kw6">function</span> qsortArbIndByValue<span class="br0">(</span>Arr, k,<br>                            ArrInd, ElNum<span class="br0">)</span><br><span class="br0">{</span><br>        ElNum = <span class="nu0">0</span>;<br>        <span class="kw1">for</span> <span class="br0">(</span>ArrInd <span class="kw1">in</span> Arr<span class="br0">)</span> <span class="br0">{</span><br>                k<span class="br0">[</span><span class="sy3">++</span>ElNum<span class="br0">]</span> = ArrInd;<br>        <span class="br0">}</span><br>        qsortSegment<span class="br0">(</span>Arr, k, <span class="nu0">1</span>, ElNum<span class="br0">)</span>;<br>        <span class="kw6">return</span> ElNum;<br><span class="br0">}</span><br><span class="co1">#</span><br><span class="co1"># qsortSegment(): Sort a segment of an array.</span><br><span class="co1">#</span><br><span class="co1"># Input variables:</span><br><span class="co1">#</span><br><span class="co1"># Arr[] contains data with arbitrary indices.</span><br><span class="co1">#</span><br><span class="co1"># k[] has indices 1..nelem, with the indices of Arr[] as values.</span><br><span class="co1">#</span><br><span class="co1"># Output variables:</span><br><span class="co1">#</span><br><span class="co1"># k[] is modified by this function.  The elements of Arr[] that are pointed to</span><br><span class="co1"># by k[start..end] are sorted, with the values of elements of k[] swapped</span><br><span class="co1"># so that when this function returns, Arr[k[start..end]] will be in order.</span><br><span class="co1">#</span><br><span class="co1"># Return value: None.</span><br><span class="co1">#</span><br><span class="kw6">function</span> qsortSegment<span class="br0">(</span>Arr, k, start, <span class="kw2">end</span>,<br>                      left, right, sepval, tmp, tmpe, tmps<span class="br0">)</span><br><span class="br0">{</span><br>        <span class="kw1">if</span> <span class="br0">(</span><span class="br0">(</span><span class="kw2">end</span> <span class="sy3">-</span> start<span class="br0">)</span> <span class="sy2">&lt;</span> <span class="nu0">1</span><span class="br0">)</span> <span class="br0">{</span>        <span class="co1"># 0 or 1 elements</span><br>                <span class="kw6">return</span>;<br>        <span class="br0">}</span><br>        <span class="co1"># handle two-element case explicitly for a tiny speedup</span><br>        <span class="kw1">if</span> <span class="br0">(</span><span class="br0">(</span><span class="kw2">end</span> <span class="sy3">-</span> start<span class="br0">)</span> <span class="sy2">==</span> <span class="nu0">1</span><span class="br0">)</span> <span class="br0">{</span><br>                <span class="kw1">if</span> <span class="br0">(</span>Arr<span class="br0">[</span>tmps = k<span class="br0">[</span>start<span class="br0">]</span><span class="br0">]</span> <span class="sy2">&gt;</span> Arr<span class="br0">[</span>tmpe = k<span class="br0">[</span><span class="kw2">end</span><span class="br0">]</span><span class="br0">]</span><span class="br0">)</span> <span class="br0">{</span><br>                        k<span class="br0">[</span>start<span class="br0">]</span> = tmpe;<br>                        k<span class="br0">[</span><span class="kw2">end</span><span class="br0">]</span> = tmps;<br>                <span class="br0">}</span><br>                <span class="kw6">return</span>;<br>        <span class="br0">}</span><br>        <span class="co1"># Make sure comparisons act on these as numbers</span><br>        left = start <span class="sy3">+</span> <span class="nu0">0</span>;<br>        right = <span class="kw2">end</span> <span class="sy3">+</span> <span class="nu0">0</span>;<br>        sepval = Arr<span class="br0">[</span>k<span class="br0">[</span><span class="kw4">int</span><span class="br0">(</span><span class="br0">(</span>left <span class="sy3">+</span> right<span class="br0">)</span> <span class="sy3">/</span> <span class="nu0">2</span><span class="br0">)</span><span class="br0">]</span><span class="br0">]</span>;<br>        <span class="co1"># Make every element &lt;= sepval be to the left of every element &gt; sepval</span><br>        <span class="kw1">while</span> <span class="br0">(</span>left <span class="sy2">&lt;</span> right<span class="br0">)</span> <span class="br0">{</span><br>                <span class="kw1">while</span> <span class="br0">(</span>Arr<span class="br0">[</span>k<span class="br0">[</span>left<span class="br0">]</span><span class="br0">]</span> <span class="sy2">&lt;</span> sepval<span class="br0">)</span> <span class="br0">{</span><br>                        left<span class="sy3">++</span>;<br>                <span class="br0">}</span><br>                <span class="kw1">while</span> <span class="br0">(</span>Arr<span class="br0">[</span>k<span class="br0">[</span>right<span class="br0">]</span><span class="br0">]</span> <span class="sy2">&gt;</span> sepval<span class="br0">)</span> <span class="br0">{</span><br>                        right<span class="sy3">--</span>;<br>                <span class="br0">}</span><br>                <span class="kw1">if</span> <span class="br0">(</span>left <span class="sy2">&lt;</span> right<span class="br0">)</span> <span class="br0">{</span><br>                        tmp = k<span class="br0">[</span>left<span class="br0">]</span>;<br>                        k<span class="br0">[</span>left<span class="sy3">++</span><span class="br0">]</span> = k<span class="br0">[</span>right<span class="br0">]</span>;<br>                        k<span class="br0">[</span>right<span class="sy3">--</span><span class="br0">]</span> = tmp;<br>                <span class="br0">}</span><br>        <span class="br0">}</span><br>        <span class="kw1">if</span> <span class="br0">(</span>left <span class="sy2">==</span> right<span class="br0">)</span><br>                <span class="kw1">if</span> <span class="br0">(</span>Arr<span class="br0">[</span>k<span class="br0">[</span>left<span class="br0">]</span><span class="br0">]</span> <span class="sy2">&lt;</span> sepval<span class="br0">)</span> <span class="br0">{</span><br>                        left<span class="sy3">++</span>;<br>                <span class="br0">}</span> <span class="kw1">else</span> <span class="br0">{</span><br>                        right<span class="sy3">--</span>;<br>                <span class="br0">}</span><br>        <span class="kw1">if</span> <span class="br0">(</span>start <span class="sy2">&lt;</span> right<span class="br0">)</span> <span class="br0">{</span><br>                qsortSegment<span class="br0">(</span>Arr, k, start, right<span class="br0">)</span>;<br>        <span class="br0">}</span><br>        <span class="kw1">if</span> <span class="br0">(</span>left <span class="sy2">&lt;</span> <span class="kw2">end</span><span class="br0">)</span> <span class="br0">{</span><br>                qsortSegment<span class="br0">(</span>Arr, k, left, <span class="kw2">end</span><span class="br0">)</span>;<br>        <span class="br0">}</span><br><span class="br0">}</span><br>&nbsp;</pre> 
        <h2><span class="mw-headline" id="AutoHotkey"><a href="/wiki/Category:AutoHotkey" title="Category:AutoHotkey">AutoHotkey</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=10" title="Edit section: AutoHotkey">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>Translated from the python example: </p> 
        <pre class="autohotkey highlighted_source">a <span class="sy0">:=</span> <span class="br0">[</span><span class="nu0">4</span><span class="sy0">,</span> <span class="nu0">65</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">31</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">99</span><span class="sy0">,</span> <span class="nu0">83</span><span class="sy0">,</span> <span class="nu0">782</span><span class="sy0">,</span> <span class="nu0">7</span><span class="br0">]</span><br>for k<span class="sy0">,</span> v in QuickSort<span class="br0">(</span>a<span class="br0">)</span><br>	Out <span class="sy0">.=</span> <span class="st0">","</span> v<br><a href="http://www.autohotkey.com/docs/commands/MsgBox.htm"><span class="kw3">MsgBox</span></a><span class="sy0">,</span>&nbsp;% <a href="http://www.autohotkey.com/docs/Functions.htm#BuiltIn"><span class="kw4">SubStr</span></a><span class="br0">(</span>Out<span class="sy0">,</span> <span class="nu0">2</span><span class="br0">)</span><br><span class="kw1">return</span><br>&nbsp;<br>QuickSort<span class="br0">(</span>a<span class="br0">)</span><br><span class="br0">{</span><br>	<span class="kw1">if</span> <span class="br0">(</span>a<span class="sy0">.</span>MaxIndex<span class="br0">(</span><span class="br0">)</span> <span class="sy0">&lt;=</span> <span class="nu0">1</span><span class="br0">)</span><br>		<span class="kw1">return</span> a<br>	Less <span class="sy0">:=</span> <span class="br0">[</span><span class="br0">]</span><span class="sy0">,</span> Same <span class="sy0">:=</span> <span class="br0">[</span><span class="br0">]</span><span class="sy0">,</span> More <span class="sy0">:=</span> <span class="br0">[</span><span class="br0">]</span><br>	Pivot <span class="sy0">:=</span> a<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><br>	for k<span class="sy0">,</span> v in a<br>	<span class="br0">{</span><br>		<span class="kw1">if</span> <span class="br0">(</span>v <span class="sy0">&lt;</span> Pivot<span class="br0">)</span><br>			less<span class="sy0">.</span><span class="kw6">Insert</span><span class="br0">(</span>v<span class="br0">)</span><br>		<span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>v <span class="sy0">&gt;</span> Pivot<span class="br0">)</span><br>			more<span class="sy0">.</span><span class="kw6">Insert</span><span class="br0">(</span>v<span class="br0">)</span><br>		<span class="kw1">else</span><br>			same<span class="sy0">.</span><span class="kw6">Insert</span><span class="br0">(</span>v<span class="br0">)</span><br>	<span class="br0">}</span><br>	Less <span class="sy0">:=</span> QuickSort<span class="br0">(</span>Less<span class="br0">)</span><br>	Out <span class="sy0">:=</span> QuickSort<span class="br0">(</span>More<span class="br0">)</span><br>	<span class="kw1">if</span> <span class="br0">(</span>Same<span class="sy0">.</span>MaxIndex<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><br>		Out<span class="sy0">.</span><span class="kw6">Insert</span><span class="br0">(</span><span class="nu0">1</span><span class="sy0">,</span> Same<span class="sy0">*</span><span class="br0">)</span> <span class="co1">; insert all values of same at index 1</span><br>	<span class="kw1">if</span> <span class="br0">(</span>Less<span class="sy0">.</span>MaxIndex<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><br>		Out<span class="sy0">.</span><span class="kw6">Insert</span><span class="br0">(</span><span class="nu0">1</span><span class="sy0">,</span> Less<span class="sy0">*</span><span class="br0">)</span> <span class="co1">; insert all values of less at index 1</span><br>	<span class="kw1">return</span> Out<br><span class="br0">}</span></pre> 
        <p>Old implementation for AutoHotkey 1.0: </p> 
        <pre class="autohotkey highlighted_source"><a href="http://www.autohotkey.com/docs/commands/MsgBox.htm"><span class="kw3">MsgBox</span></a>&nbsp;% quicksort<span class="br0">(</span><span class="st0">"8,4,9,2,1"</span><span class="br0">)</span><br>&nbsp;<br>quicksort<span class="br0">(</span>list<span class="br0">)</span><br><span class="br0">{</span><br>  <a href="http://www.autohotkey.com/docs/commands/StringSplit.htm"><span class="kw3">StringSplit</span></a><span class="sy0">,</span> list<span class="sy0">,</span> list<span class="sy0">,</span> `<span class="sy0">,</span><br>  <span class="kw1">If</span> <span class="br0">(</span>list0 <span class="sy0">&lt;=</span> <span class="nu0">1</span><span class="br0">)</span><br>    <span class="kw1">Return</span> list<br>  pivot <span class="sy0">:=</span> list1<br>  <a href="http://www.autohotkey.com/docs/commands/Loop.htm"><span class="kw3">Loop</span></a><span class="sy0">,</span> Parse<span class="sy0">,</span> list<span class="sy0">,</span> `<span class="sy0">,</span><br>  <span class="br0">{</span><br>    <span class="kw1">If</span> <span class="br0">(</span><a href="http://www.autohotkey.com/docs/Variables.htm#A_LoopField"><span class="kw2">A_LoopField</span></a> <span class="sy0">&lt;</span> pivot<span class="br0">)</span><br>      less <span class="sy0">=</span> <span class="re0">%less%</span><span class="sy0">,</span><span class="re0">%A_LoopField%</span><br>    <span class="kw1">Else</span> <span class="kw1">If</span> <span class="br0">(</span><a href="http://www.autohotkey.com/docs/Variables.htm#A_LoopField"><span class="kw2">A_LoopField</span></a> <span class="sy0">&gt;</span> pivot<span class="br0">)</span><br>      more <span class="sy0">=</span> <span class="re0">%more%</span><span class="sy0">,</span><span class="re0">%A_LoopField%</span><br>    <span class="kw1">Else</span><br>      pivotlist <span class="sy0">=</span> <span class="re0">%pivotlist%</span><span class="sy0">,</span><span class="re0">%A_LoopField%</span><br>  <span class="br0">}</span><br>  <a href="http://www.autohotkey.com/docs/commands/StringTrimLeft.htm"><span class="kw3">StringTrimLeft</span></a><span class="sy0">,</span> less<span class="sy0">,</span> less<span class="sy0">,</span> <span class="nu0">1</span><br>  <a href="http://www.autohotkey.com/docs/commands/StringTrimLeft.htm"><span class="kw3">StringTrimLeft</span></a><span class="sy0">,</span> more<span class="sy0">,</span> more<span class="sy0">,</span> <span class="nu0">1</span><br>  <a href="http://www.autohotkey.com/docs/commands/StringTrimLeft.htm"><span class="kw3">StringTrimLeft</span></a><span class="sy0">,</span> pivotList<span class="sy0">,</span> pivotList<span class="sy0">,</span> <span class="nu0">1</span><br>  less <span class="sy0">:=</span> quicksort<span class="br0">(</span>less<span class="br0">)</span><br>  more <span class="sy0">:=</span> quicksort<span class="br0">(</span>more<span class="br0">)</span><br>  <span class="kw1">Return</span> less <span class="sy0">.</span> pivotList <span class="sy0">.</span> more<br><span class="br0">}</span></pre> 
        <h2><span class="mw-headline" id="BASIC"><a href="/wiki/Category:BASIC" title="Category:BASIC">BASIC</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=11" title="Edit section: BASIC">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <div class="examplemeta workswith">
         <b>Works with</b>: 
         <a href="/wiki/FreeBASIC" title="FreeBASIC" class="mw-redirect">FreeBASIC</a>
        </div> 
        <div class="examplemeta workswith">
         <b>Works with</b>: 
         <a href="/wiki/PowerBASIC_for_DOS" title="PowerBASIC for DOS">PowerBASIC for DOS</a>
        </div> 
        <div class="examplemeta workswith">
         <b>Works with</b>: 
         <a href="/wiki/QB64" title="QB64">QB64</a>
        </div> 
        <div class="examplemeta workswith">
         <b>Works with</b>: 
         <a href="/wiki/QBasic" title="QBasic" class="mw-redirect">QBasic</a>
        </div> 
        <p>This is specifically for <code>INTEGER</code>s, but can be modified for any data type by changing <code>arr()</code>'s type. </p> 
        <pre class="qbasic highlighted_source"><a href="http://www.qbasicnews.com/qboho/qckdeclare.shtml"><span class="kw3">DECLARE</span></a> <span class="kw1">SUB</span> quicksort <span class="br0">(</span>arr<span class="br0">(</span><span class="br0">)</span> <a href="http://www.qbasicnews.com/qboho/qckas.shtml"><span class="kw3">AS</span></a> <a href="http://www.qbasicnews.com/qboho/qckinteger.shtml"><span class="kw3">INTEGER</span></a><span class="sy0">,</span> leftN <a href="http://www.qbasicnews.com/qboho/qckas.shtml"><span class="kw3">AS</span></a> <a href="http://www.qbasicnews.com/qboho/qckinteger.shtml"><span class="kw3">INTEGER</span></a><span class="sy0">,</span> rightN <a href="http://www.qbasicnews.com/qboho/qckas.shtml"><span class="kw3">AS</span></a> <a href="http://www.qbasicnews.com/qboho/qckinteger.shtml"><span class="kw3">INTEGER</span></a><span class="br0">)</span><br>&nbsp;<br><a href="http://www.qbasicnews.com/qboho/qckdim.shtml"><span class="kw3">DIM</span></a> q<span class="br0">(</span><span class="nu0">99</span><span class="br0">)</span> <a href="http://www.qbasicnews.com/qboho/qckas.shtml"><span class="kw3">AS</span></a> <a href="http://www.qbasicnews.com/qboho/qckinteger.shtml"><span class="kw3">INTEGER</span></a><br><a href="http://www.qbasicnews.com/qboho/qckdim.shtml"><span class="kw3">DIM</span></a> n <a href="http://www.qbasicnews.com/qboho/qckas.shtml"><span class="kw3">AS</span></a> <a href="http://www.qbasicnews.com/qboho/qckinteger.shtml"><span class="kw3">INTEGER</span></a><br>&nbsp;<br><a href="http://www.qbasicnews.com/qboho/qckrandomize.shtml"><span class="kw3">RANDOMIZE</span></a> <a href="http://www.qbasicnews.com/qboho/qcktimer.shtml"><span class="kw3">TIMER</span></a><br>&nbsp;<br><span class="kw1">FOR</span> n <span class="sy0">=</span> <span class="nu0">0</span> <span class="kw1">TO</span> <span class="nu0">99</span><br>    q<span class="br0">(</span>n<span class="br0">)</span> <span class="sy0">=</span> <a href="http://www.qbasicnews.com/qboho/qckint.shtml"><span class="kw3">INT</span></a><span class="br0">(</span><a href="http://www.qbasicnews.com/qboho/qckrnd.shtml"><span class="kw3">RND</span></a> <span class="sy0">*</span> <span class="nu0">9999</span><span class="br0">)</span><br><span class="kw1">NEXT</span><br>&nbsp;<br><a href="http://www.qbasicnews.com/qboho/qckopen.shtml"><span class="kw3">OPEN</span></a> <span class="st0">"output.txt"</span> <span class="kw1">FOR</span> <a href="http://www.qbasicnews.com/qboho/qckoutput.shtml"><span class="kw3">OUTPUT</span></a> <a href="http://www.qbasicnews.com/qboho/qckas.shtml"><span class="kw3">AS</span></a> <span class="nu0">1</span><br>    <span class="kw1">FOR</span> n <span class="sy0">=</span> <span class="nu0">0</span> <span class="kw1">TO</span> <span class="nu0">99</span><br>        <a href="http://www.qbasicnews.com/qboho/qckprint.shtml"><span class="kw3">PRINT</span></a> <span class="re2">#1</span><span class="sy0">,</span> q<span class="br0">(</span>n<span class="br0">)</span><span class="sy0">,</span><br>    <span class="kw1">NEXT</span><br>    <a href="http://www.qbasicnews.com/qboho/qckprint.shtml"><span class="kw3">PRINT</span></a> <span class="re2">#1</span><span class="sy0">,</span><br>    quicksort q<span class="br0">(</span><span class="br0">)</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">99</span><br>    <span class="kw1">FOR</span> n <span class="sy0">=</span> <span class="nu0">0</span> <span class="kw1">TO</span> <span class="nu0">99</span><br>        <a href="http://www.qbasicnews.com/qboho/qckprint.shtml"><span class="kw3">PRINT</span></a> <span class="re2">#1</span><span class="sy0">,</span> q<span class="br0">(</span>n<span class="br0">)</span><span class="sy0">,</span><br>    <span class="kw1">NEXT</span><br><a href="http://www.qbasicnews.com/qboho/qckclose.shtml"><span class="kw3">CLOSE</span></a><br>&nbsp;<br><span class="kw1">SUB</span> quicksort <span class="br0">(</span>arr<span class="br0">(</span><span class="br0">)</span> <a href="http://www.qbasicnews.com/qboho/qckas.shtml"><span class="kw3">AS</span></a> <a href="http://www.qbasicnews.com/qboho/qckinteger.shtml"><span class="kw3">INTEGER</span></a><span class="sy0">,</span> leftN <a href="http://www.qbasicnews.com/qboho/qckas.shtml"><span class="kw3">AS</span></a> <a href="http://www.qbasicnews.com/qboho/qckinteger.shtml"><span class="kw3">INTEGER</span></a><span class="sy0">,</span> rightN <a href="http://www.qbasicnews.com/qboho/qckas.shtml"><span class="kw3">AS</span></a> <a href="http://www.qbasicnews.com/qboho/qckinteger.shtml"><span class="kw3">INTEGER</span></a><span class="br0">)</span><br>    <a href="http://www.qbasicnews.com/qboho/qckdim.shtml"><span class="kw3">DIM</span></a> pivot <a href="http://www.qbasicnews.com/qboho/qckas.shtml"><span class="kw3">AS</span></a> <a href="http://www.qbasicnews.com/qboho/qckinteger.shtml"><span class="kw3">INTEGER</span></a><span class="sy0">,</span> leftNIdx <a href="http://www.qbasicnews.com/qboho/qckas.shtml"><span class="kw3">AS</span></a> <a href="http://www.qbasicnews.com/qboho/qckinteger.shtml"><span class="kw3">INTEGER</span></a><span class="sy0">,</span> rightNIdx <a href="http://www.qbasicnews.com/qboho/qckas.shtml"><span class="kw3">AS</span></a> <a href="http://www.qbasicnews.com/qboho/qckinteger.shtml"><span class="kw3">INTEGER</span></a><br>    leftNIdx <span class="sy0">=</span> leftN<br>    rightNIdx <span class="sy0">=</span> rightN<br>    <span class="kw1">IF</span> <span class="br0">(</span>rightN <span class="sy0">-</span> leftN<span class="br0">)</span> <span class="sy0">&gt;</span> <span class="nu0">0</span> <span class="kw1">THEN</span><br>        pivot <span class="sy0">=</span> <span class="br0">(</span>leftN <span class="sy0">+</span> rightN<span class="br0">)</span> <span class="sy0">/</span> <span class="nu0">2</span><br>        <span class="kw1">WHILE</span> <span class="br0">(</span>leftNIdx <span class="sy0">&lt;=</span> pivot<span class="br0">)</span> <a href="http://www.qbasicnews.com/qboho/qckand.shtml"><span class="kw3">AND</span></a> <span class="br0">(</span>rightNIdx <span class="sy0">&gt;=</span> pivot<span class="br0">)</span><br>            <span class="kw1">WHILE</span> <span class="br0">(</span>arr<span class="br0">(</span>leftNIdx<span class="br0">)</span> <span class="sy0">&lt;</span> arr<span class="br0">(</span>pivot<span class="br0">)</span><span class="br0">)</span> <a href="http://www.qbasicnews.com/qboho/qckand.shtml"><span class="kw3">AND</span></a> <span class="br0">(</span>leftNIdx <span class="sy0">&lt;=</span> pivot<span class="br0">)</span><br>                leftNIdx <span class="sy0">=</span> leftNIdx <span class="sy0">+</span> <span class="nu0">1</span><br>            <span class="kw1">WEND</span><br>            <span class="kw1">WHILE</span> <span class="br0">(</span>arr<span class="br0">(</span>rightNIdx<span class="br0">)</span> <span class="sy0">&gt;</span> arr<span class="br0">(</span>pivot<span class="br0">)</span><span class="br0">)</span> <a href="http://www.qbasicnews.com/qboho/qckand.shtml"><span class="kw3">AND</span></a> <span class="br0">(</span>rightNIdx <span class="sy0">&gt;=</span> pivot<span class="br0">)</span><br>                rightNIdx <span class="sy0">=</span> rightNIdx <span class="sy0">-</span> <span class="nu0">1</span><br>            <span class="kw1">WEND</span><br>            <a href="http://www.qbasicnews.com/qboho/qckswap.shtml"><span class="kw3">SWAP</span></a> arr<span class="br0">(</span>leftNIdx<span class="br0">)</span><span class="sy0">,</span> arr<span class="br0">(</span>rightNIdx<span class="br0">)</span><br>            leftNIdx <span class="sy0">=</span> leftNIdx <span class="sy0">+</span> <span class="nu0">1</span><br>            rightNIdx <span class="sy0">=</span> rightNIdx <span class="sy0">-</span> <span class="nu0">1</span><br>            <span class="kw1">IF</span> <span class="br0">(</span>leftNIdx <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">)</span> <span class="sy0">=</span> pivot <span class="kw1">THEN</span><br>                rightNIdx <span class="sy0">=</span> rightNIdx <span class="sy0">+</span> <span class="nu0">1</span><br>                pivot <span class="sy0">=</span> rightNIdx<br>            <span class="kw1">ELSEIF</span> <span class="br0">(</span>rightNIdx <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span> <span class="sy0">=</span> pivot <span class="kw1">THEN</span><br>                leftNIdx <span class="sy0">=</span> leftNIdx <span class="sy0">-</span> <span class="nu0">1</span><br>                pivot <span class="sy0">=</span> leftNIdx<br>            <a href="http://www.qbasicnews.com/qboho/qckend.shtml"><span class="kw3">END</span></a> <span class="kw1">IF</span><br>        <span class="kw1">WEND</span><br>        quicksort arr<span class="br0">(</span><span class="br0">)</span><span class="sy0">,</span> leftN<span class="sy0">,</span> pivot <span class="sy0">-</span> <span class="nu0">1</span><br>        quicksort arr<span class="br0">(</span><span class="br0">)</span><span class="sy0">,</span> pivot <span class="sy0">+</span> <span class="nu0">1</span><span class="sy0">,</span> rightN<br>    <a href="http://www.qbasicnews.com/qboho/qckend.shtml"><span class="kw3">END</span></a> <span class="kw1">IF</span><br><a href="http://www.qbasicnews.com/qboho/qckend.shtml"><span class="kw3">END</span></a> <span class="kw1">SUB</span></pre> 
        <h2><span class="mw-headline" id="BBC_BASIC"><a href="/wiki/Category:BBC_BASIC" title="Category:BBC BASIC">BBC BASIC</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=12" title="Edit section: BBC BASIC">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">      DIM test(9)<br>      test() = 4, 65, 2, -31, 0, 99, 2, 83, 782, 1<br>      PROCquicksort(test(), 0, 10)<br>      FOR i% = 0 TO 9<br>        PRINT test(i%)&nbsp;;<br>      NEXT<br>      PRINT<br>      END<br>&nbsp;<br>      DEF PROCquicksort(a(), s%, n%)<br>      LOCAL l%, p, r%, t%<br>      IF n% &lt; 2 THEN ENDPROC<br>      t% = s% + n% - 1<br>      l% = s%<br>      r% = t%<br>      p = a((l% + r%) DIV 2)<br>      REPEAT<br>        WHILE a(l%) &lt; p l% += 1&nbsp;: ENDWHILE<br>        WHILE a(r%) &gt; p r% -= 1&nbsp;: ENDWHILE<br>        IF l% &lt;= r% THEN<br>          SWAP a(l%), a(r%)<br>          l% += 1<br>          r% -= 1<br>        ENDIF<br>      UNTIL l% &gt; r%<br>      IF s% &lt; r% PROCquicksort(a(), s%, r% - s% + 1)<br>      IF l% &lt; t% PROCquicksort(a(), l%, t% - l% + 1 )<br>      ENDPROC</pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>       -31         0         1         2         2         4        65        83        99       782
</pre> 
        <h2><span class="mw-headline" id="BCPL"><a href="/wiki/Category:BCPL" title="Category:BCPL">BCPL</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=13" title="Edit section: BCPL">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">// This can be run using Cintcode BCPL freely available from www.cl.cam.ac.uk/users/mr10.<br>&nbsp;<br>GET "libhdr.h"<br>&nbsp;<br>LET quicksort(v, n) BE qsort(v+1, v+n)<br>&nbsp;<br>AND qsort(l, r) BE<br>{ WHILE l+8&lt;r DO<br>  { LET midpt = (l+r)/2<br>    // Select a good(ish) median value.<br>    LET val   = middle(!l,&nbsp;!midpt,&nbsp;!r)<br>    LET i = partition(val, l, r)<br>    // Only use recursion on the smaller partition.<br>    TEST i&gt;midpt THEN { qsort(i, r);   r&nbsp;:= i-1 }<br>                 ELSE { qsort(l, i-1); l&nbsp;:= i   }<br>  }<br>&nbsp;<br>  FOR p = l+1 TO r DO  // Now perform insertion sort.<br>   FOR q = p-1 TO l BY -1 TEST q!0&lt;=q!1 THEN BREAK<br>                                        ELSE { LET t = q!0<br>                                               q!0&nbsp;:= q!1<br>                                               q!1&nbsp;:= t<br>                                             }<br>}<br>&nbsp;<br>AND middle(a, b, c) = a&lt;b -&gt; b&lt;c -&gt; b,<br>                                    a&lt;c -&gt; c,<br>                                           a,<br>                             b&lt;c -&gt; a&lt;c -&gt; a,<br>                                           c,<br>                                    b<br>&nbsp;<br>AND partition(median, p, q) = VALOF<br>{ LET t =&nbsp;?<br>  WHILE&nbsp;!p &lt; median DO p&nbsp;:= p+1<br>  WHILE&nbsp;!q &gt; median DO q&nbsp;:= q-1<br>  IF p&gt;=q RESULTIS p<br>  t &nbsp;:=&nbsp;!p<br> &nbsp;!p&nbsp;:=&nbsp;!q<br> &nbsp;!q&nbsp;:= t<br>  p, q&nbsp;:= p+1, q-1<br>} REPEAT<br>&nbsp;<br>LET start() = VALOF {<br>  LET v = VEC 1000<br>  FOR i = 1 TO 1000 DO v!i&nbsp;:= randno(1_000_000)<br>  quicksort(v, 1000)<br>  FOR i = 1 TO 1000 DO<br>  { IF i MOD 10 = 0 DO newline()<br>    writef("&nbsp;%i6", v!i)<br>  }<br>  newline()<br>}</pre> 
        <h2><span class="mw-headline" id="Bracmat"><a href="/wiki/Category:Bracmat" title="Category:Bracmat">Bracmat</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=14" title="Edit section: Bracmat">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>Instead of comparing elements explicitly, this solution puts the two elements-to-compare in a sum. After evaluating the sum its terms are sorted. Numbers are sorted numerically, strings alphabetically and compound expressions by comparing nodes and leafs in a left-to right order. Now there are three cases: either the terms stayed put, or they were swapped, or they were equal and were combined into one term with a factor <code>2</code> in front. To not let the evaluator add numbers together, each term is constructed as a dotted list. </p> 
        <pre class="text highlighted_source">( ( Q<br>  =   Less Greater Equal pivot element<br>    .    &nbsp;!arg:%(?pivot:?Equal)&nbsp;%?arg<br>        &amp;&nbsp;:?Less:?Greater<br>        &amp;   whl<br>          ' (&nbsp;!arg:%?element&nbsp;?arg<br>            &amp;   (.!element)+(.!pivot)               { BAD: 1900+90 adds to 1990,  GOOD: (.1900)+(.90) is sorted to (.90)+(.1900) }<br>             &nbsp;: (   (.!element)+(.!pivot)<br>                  &amp;&nbsp;!element&nbsp;!Less:?Less<br>                |   (.!pivot)+(.!element)<br>                  &amp;&nbsp;!element&nbsp;!Greater:?Greater<br>                |&nbsp;?&amp;!element&nbsp;!Equal:?Equal<br>                )<br>            )<br>        &amp; Q$!Less&nbsp;!Equal Q$!Greater<br>      |&nbsp;!arg<br>  )<br>&amp; out$Q$(1900 optimized variants of 4001/2 Quicksort (quick,sort) are (quick,sober) features of 90 languages)<br>);</pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>  90
  1900
  4001/2
  Quicksort
  are
  features
  languages
  of
  of
  optimized
  variants
  (quick,sober)
  (quick,sort)</pre> 
        <h2><span class="mw-headline" id="C"><a href="/wiki/Category:C" title="Category:C">C</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=15" title="Edit section: C">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="c highlighted_source">&nbsp;<br><span class="co2">#include &lt;stdio.h&gt;</span><br>&nbsp;<br><span class="kw4">void</span> quicksort<span class="br0">(</span><span class="kw4">int</span> <span class="sy0">*</span>A<span class="sy0">,</span> <span class="kw4">int</span> len<span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br><span class="kw4">int</span> main <span class="br0">(</span><span class="kw4">void</span><span class="br0">)</span> <span class="br0">{</span><br>  <span class="kw4">int</span> a<span class="br0">[</span><span class="br0">]</span> <span class="sy0">=</span> <span class="br0">{</span><span class="nu0">4</span><span class="sy0">,</span> <span class="nu0">65</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">31</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">99</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">83</span><span class="sy0">,</span> <span class="nu0">782</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="sy0">;</span><br>  <span class="kw4">int</span> n <span class="sy0">=</span> <span class="kw4">sizeof</span> a <span class="sy0">/</span> <span class="kw4">sizeof</span> a<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="sy0">;</span><br>&nbsp;<br>  <span class="kw4">int</span> i<span class="sy0">;</span><br>  <span class="kw1">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> n<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">)</span> <span class="br0">{</span><br>    <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">(</span><span class="st0">"%d "</span><span class="sy0">,</span> a<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span><br>  <span class="br0">}</span><br>  <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">(</span><span class="st0">"<span class="es1">\n</span>"</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>  quicksort<span class="br0">(</span>a<span class="sy0">,</span> n<span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>  <span class="kw1">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> n<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">)</span> <span class="br0">{</span><br>    <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">(</span><span class="st0">"%d "</span><span class="sy0">,</span> a<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span><br>  <span class="br0">}</span><br>  <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html"><span class="kw3">printf</span></a><span class="br0">(</span><span class="st0">"<span class="es1">\n</span>"</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>  <span class="kw1">return</span> <span class="nu0">0</span><span class="sy0">;</span><br><span class="br0">}</span><br>&nbsp;<br><span class="kw4">void</span> quicksort<span class="br0">(</span><span class="kw4">int</span> <span class="sy0">*</span>A<span class="sy0">,</span> <span class="kw4">int</span> len<span class="br0">)</span> <span class="br0">{</span><br>  <span class="kw1">if</span> <span class="br0">(</span>len <span class="sy0">&lt;</span> <span class="nu0">2</span><span class="br0">)</span> <span class="kw1">return</span><span class="sy0">;</span><br>&nbsp;<br>  <span class="kw4">int</span> pivot <span class="sy0">=</span> A<span class="br0">[</span>len <span class="sy0">/</span> <span class="nu0">2</span><span class="br0">]</span><span class="sy0">;</span><br>&nbsp;<br>  <span class="kw4">int</span> i<span class="sy0">,</span> j<span class="sy0">;</span><br>  <span class="kw1">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">,</span> j <span class="sy0">=</span> len <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">;</span> <span class="sy0">;</span> i<span class="sy0">++,</span> j<span class="sy0">--</span><span class="br0">)</span> <span class="br0">{</span><br>    <span class="kw1">while</span> <span class="br0">(</span>A<span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">&lt;</span> pivot<span class="br0">)</span> i<span class="sy0">++;</span><br>    <span class="kw1">while</span> <span class="br0">(</span>A<span class="br0">[</span>j<span class="br0">]</span> <span class="sy0">&gt;</span> pivot<span class="br0">)</span> j<span class="sy0">--;</span><br>&nbsp;<br>    <span class="kw1">if</span> <span class="br0">(</span>i <span class="sy0">&gt;=</span> j<span class="br0">)</span> <span class="kw2">break</span><span class="sy0">;</span><br>&nbsp;<br>    <span class="kw4">int</span> temp <span class="sy0">=</span> A<span class="br0">[</span>i<span class="br0">]</span><span class="sy0">;</span><br>    A<span class="br0">[</span>i<span class="br0">]</span>     <span class="sy0">=</span> A<span class="br0">[</span>j<span class="br0">]</span><span class="sy0">;</span><br>    A<span class="br0">[</span>j<span class="br0">]</span>     <span class="sy0">=</span> temp<span class="sy0">;</span><br>  <span class="br0">}</span><br>&nbsp;<br>  quicksort<span class="br0">(</span>A<span class="sy0">,</span> i<span class="br0">)</span><span class="sy0">;</span><br>  quicksort<span class="br0">(</span>A <span class="sy0">+</span> i<span class="sy0">,</span> len <span class="sy0">-</span> i<span class="br0">)</span><span class="sy0">;</span><br><span class="br0">}</span><br>&nbsp;</pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>4 65 2 -31 0 99 2 83 782 1
-31 0 1 2 2 4 65 83 99 782
</pre> 
        <p>Randomized sort with separated components. </p> 
        <pre class="c highlighted_source">&nbsp;<br><span class="co2">#include &lt;stdlib.h&gt;     // REQ: rand()</span><br>&nbsp;<br><span class="kw4">void</span> swap<span class="br0">(</span><span class="kw4">int</span> <span class="sy0">*</span>a<span class="sy0">,</span> <span class="kw4">int</span> <span class="sy0">*</span>b<span class="br0">)</span> <span class="br0">{</span><br>  <span class="kw4">int</span> c <span class="sy0">=</span> <span class="sy0">*</span>a<span class="sy0">;</span><br>  <span class="sy0">*</span>a <span class="sy0">=</span> <span class="sy0">*</span>b<span class="sy0">;</span><br>  <span class="sy0">*</span>b <span class="sy0">=</span> c<span class="sy0">;</span><br><span class="br0">}</span><br>&nbsp;<br><span class="kw4">int</span> partition<span class="br0">(</span><span class="kw4">int</span> A<span class="br0">[</span><span class="br0">]</span><span class="sy0">,</span> <span class="kw4">int</span> p<span class="sy0">,</span> <span class="kw4">int</span> q<span class="br0">)</span> <span class="br0">{</span><br>  swap<span class="br0">(</span><span class="sy0">&amp;</span>A<span class="br0">[</span>p <span class="sy0">+</span> <span class="br0">(</span><a href="http://www.opengroup.org/onlinepubs/009695399/functions/rand.html"><span class="kw3">rand</span></a><span class="br0">(</span><span class="br0">)</span> <span class="sy0">%</span> <span class="br0">(</span>q <span class="sy0">-</span> p <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span><span class="br0">]</span><span class="sy0">,</span> <span class="sy0">&amp;</span>A<span class="br0">[</span>q<span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span>   <span class="co1">// PIVOT = A[q]</span><br>&nbsp;<br>  <span class="kw4">int</span> i <span class="sy0">=</span> p <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">;</span><br>  <span class="kw1">for</span><span class="br0">(</span><span class="kw4">int</span> j <span class="sy0">=</span> p<span class="sy0">;</span> j <span class="sy0">&lt;=</span> q<span class="sy0">;</span> j<span class="sy0">++</span><span class="br0">)</span> <span class="br0">{</span><br>    <span class="kw1">if</span><span class="br0">(</span>A<span class="br0">[</span>j<span class="br0">]</span> <span class="sy0">&lt;=</span> A<span class="br0">[</span>q<span class="br0">]</span><span class="br0">)</span> <span class="br0">{</span><br>      swap<span class="br0">(</span><span class="sy0">&amp;</span>A<span class="br0">[</span><span class="sy0">++</span>i<span class="br0">]</span><span class="sy0">,</span> <span class="sy0">&amp;</span>A<span class="br0">[</span>j<span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>  <span class="br0">}</span><br>&nbsp;<br>  <span class="kw1">return</span> i<span class="sy0">;</span><br><span class="br0">}</span><br>&nbsp;<br><span class="kw4">void</span> quicksort<span class="br0">(</span><span class="kw4">int</span> A<span class="br0">[</span><span class="br0">]</span><span class="sy0">,</span> <span class="kw4">int</span> p<span class="sy0">,</span> <span class="kw4">int</span> q<span class="br0">)</span> <span class="br0">{</span><br>  <span class="kw1">if</span><span class="br0">(</span>p <span class="sy0">&lt;</span> q<span class="br0">)</span> <span class="br0">{</span><br>    <span class="kw4">int</span> pivotIndx <span class="sy0">=</span> partition<span class="br0">(</span>A<span class="sy0">,</span> p<span class="sy0">,</span> q<span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>    quicksort<span class="br0">(</span>A<span class="sy0">,</span> p<span class="sy0">,</span> pivotIndx <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">)</span><span class="sy0">;</span><br>    quicksort<span class="br0">(</span>A<span class="sy0">,</span> pivotIndx <span class="sy0">+</span> <span class="nu0">1</span><span class="sy0">,</span> q<span class="br0">)</span><span class="sy0">;</span><br>  <span class="br0">}</span><br><span class="br0">}</span><br>&nbsp;</pre> 
        <h2><span class="mw-headline" id="C.2B.2B"><a href="/wiki/Category:C%2B%2B" title="Category:C++">C++</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=16" title="Edit section: C++">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>The following implements quicksort with a median-of-three pivot. As idiomatic in C++, the argument <tt>last</tt> is a one-past-end iterator. Note that this code takes advantage of <tt>std::partition</tt>, which is O(n). Also note that it needs a random-access iterator for efficient calculation of the median-of-three pivot (more exactly, for O(1) calculation of the iterator <tt>mid</tt>). </p> 
        <pre class="cpp highlighted_source"><span class="co2">#include &lt;iterator&gt;</span><br><span class="co2">#include &lt;algorithm&gt; // for std::partition</span><br><span class="co2">#include &lt;functional&gt; // for std::less</span><br>&nbsp;<br><span class="co1">// helper function for median of three</span><br><span class="kw2">template</span><span class="sy1">&lt;</span><span class="kw2">typename</span> T<span class="sy1">&gt;</span><br> T median<span class="br0">(</span>T t1, T t2, T t3<span class="br0">)</span><br><span class="br0">{</span><br>  <span class="kw1">if</span> <span class="br0">(</span>t1 <span class="sy1">&lt;</span> t2<span class="br0">)</span><br>  <span class="br0">{</span><br>    <span class="kw1">if</span> <span class="br0">(</span>t2 <span class="sy1">&lt;</span> t3<span class="br0">)</span><br>      <span class="kw1">return</span> t2<span class="sy4">;</span><br>    <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>t1 <span class="sy1">&lt;</span> t3<span class="br0">)</span><br>      <span class="kw1">return</span> t3<span class="sy4">;</span><br>    <span class="kw1">else</span><br>      <span class="kw1">return</span> t1<span class="sy4">;</span><br>  <span class="br0">}</span><br>  <span class="kw1">else</span><br>  <span class="br0">{</span><br>    <span class="kw1">if</span> <span class="br0">(</span>t1 <span class="sy1">&lt;</span> t3<span class="br0">)</span><br>      <span class="kw1">return</span> t1<span class="sy4">;</span><br>    <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>t2 <span class="sy1">&lt;</span> t3<span class="br0">)</span><br>      <span class="kw1">return</span> t3<span class="sy4">;</span><br>    <span class="kw1">else</span><br>      <span class="kw1">return</span> t2<span class="sy4">;</span><br>  <span class="br0">}</span><br><span class="br0">}</span><br>&nbsp;<br><span class="co1">// helper object to get &lt;= from &lt;</span><br><span class="kw2">template</span><span class="sy1">&lt;</span><span class="kw2">typename</span> Order<span class="sy1">&gt;</span> <span class="kw4">struct</span> non_strict_op<span class="sy4">:</span><br>  <span class="kw2">public</span> std<span class="sy4">::</span><span class="me2">binary_function</span><span class="sy1">&lt;</span><span class="kw2">typename</span> Order<span class="sy4">::</span><span class="me2">second_argument_type</span>,<br>                              <span class="kw2">typename</span> Order<span class="sy4">::</span><span class="me2">first_argument_type</span>,<br>                              <span class="kw4">bool</span><span class="sy1">&gt;</span><br><span class="br0">{</span><br>  non_strict_op<span class="br0">(</span>Order o<span class="br0">)</span><span class="sy4">:</span> order<span class="br0">(</span>o<span class="br0">)</span> <span class="br0">{</span><span class="br0">}</span><br>  <span class="kw4">bool</span> operator<span class="br0">(</span><span class="br0">)</span><span class="br0">(</span><span class="kw2">typename</span> Order<span class="sy4">::</span><span class="me2">second_argument_type</span> arg1,<br>                  <span class="kw2">typename</span> Order<span class="sy4">::</span><span class="me2">first_argument_type</span> arg2<span class="br0">)</span> <span class="kw4">const</span><br>  <span class="br0">{</span><br>    <span class="kw1">return</span> <span class="sy3">!</span>order<span class="br0">(</span>arg2, arg1<span class="br0">)</span><span class="sy4">;</span><br>  <span class="br0">}</span><br><span class="kw2">private</span><span class="sy4">:</span><br>  Order order<span class="sy4">;</span><br><span class="br0">}</span><span class="sy4">;</span><br>&nbsp;<br><span class="kw2">template</span><span class="sy1">&lt;</span><span class="kw2">typename</span> Order<span class="sy1">&gt;</span> non_strict_op<span class="sy1">&lt;</span>Order<span class="sy1">&gt;</span> non_strict<span class="br0">(</span>Order o<span class="br0">)</span><br><span class="br0">{</span><br>  <span class="kw1">return</span> non_strict_op<span class="sy1">&lt;</span>Order<span class="sy1">&gt;</span><span class="br0">(</span>o<span class="br0">)</span><span class="sy4">;</span><br><span class="br0">}</span><br>&nbsp;<br><span class="kw2">template</span><span class="sy1">&lt;</span><span class="kw2">typename</span> RandomAccessIterator,<br>         <span class="kw2">typename</span> Order<span class="sy1">&gt;</span><br> <span class="kw4">void</span> quicksort<span class="br0">(</span>RandomAccessIterator first, RandomAccessIterator last, Order order<span class="br0">)</span><br><span class="br0">{</span><br>  <span class="kw1">if</span> <span class="br0">(</span>first <span class="sy3">!</span><span class="sy1">=</span> last <span class="sy3">&amp;&amp;</span> first<span class="sy2">+</span><span class="nu0">1</span> <span class="sy3">!</span><span class="sy1">=</span> last<span class="br0">)</span><br>  <span class="br0">{</span><br>    <span class="kw4">typedef</span> <span class="kw2">typename</span> std<span class="sy4">::</span><span class="me2">iterator_traits</span><span class="sy1">&lt;</span>RandomAccessIterator<span class="sy1">&gt;</span><span class="sy4">::</span><span class="me2">value_type</span> value_type<span class="sy4">;</span><br>    RandomAccessIterator mid <span class="sy1">=</span> first <span class="sy2">+</span> <span class="br0">(</span>last <span class="sy2">-</span> first<span class="br0">)</span><span class="sy2">/</span><span class="nu0">2</span><span class="sy4">;</span><br>    value_type pivot <span class="sy1">=</span> median<span class="br0">(</span><span class="sy2">*</span>first, <span class="sy2">*</span>mid, <span class="sy2">*</span><span class="br0">(</span>last<span class="sy2">-</span><span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span><span class="sy4">;</span><br>    RandomAccessIterator split1 <span class="sy1">=</span> std<span class="sy4">::</span><span class="me2">partition</span><span class="br0">(</span>first, last, std<span class="sy4">::</span><span class="me2">bind2nd</span><span class="br0">(</span>order, pivot<span class="br0">)</span><span class="br0">)</span><span class="sy4">;</span><br>    RandomAccessIterator split2 <span class="sy1">=</span> std<span class="sy4">::</span><span class="me2">partition</span><span class="br0">(</span>split1, last, std<span class="sy4">::</span><span class="me2">bind2nd</span><span class="br0">(</span>non_strict<span class="br0">(</span>order<span class="br0">)</span>, pivot<span class="br0">)</span><span class="br0">)</span><span class="sy4">;</span><br>    quicksort<span class="br0">(</span>first, split1, order<span class="br0">)</span><span class="sy4">;</span><br>    quicksort<span class="br0">(</span>split2, last, order<span class="br0">)</span><span class="sy4">;</span><br>  <span class="br0">}</span><br><span class="br0">}</span><br>&nbsp;<br><span class="kw2">template</span><span class="sy1">&lt;</span><span class="kw2">typename</span> RandomAccessIterator<span class="sy1">&gt;</span><br> <span class="kw4">void</span> quicksort<span class="br0">(</span>RandomAccessIterator first, RandomAccessIterator last<span class="br0">)</span><br><span class="br0">{</span><br>  quicksort<span class="br0">(</span>first, last, std<span class="sy4">::</span><span class="me2">less</span><span class="sy1">&lt;</span><span class="kw2">typename</span> std<span class="sy4">::</span><span class="me2">iterator_traits</span><span class="sy1">&lt;</span>RandomAccessIterator<span class="sy1">&gt;</span><span class="sy4">::</span><span class="me2">value_type</span><span class="sy1">&gt;</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy4">;</span><br><span class="br0">}</span></pre> 
        <p>A simpler version of the above that just uses the first element as the pivot and only does one "partition". </p> 
        <pre class="cpp highlighted_source"><span class="co2">#include &lt;iterator&gt;</span><br><span class="co2">#include &lt;algorithm&gt; // for std::partition</span><br><span class="co2">#include &lt;functional&gt; // for std::less</span><br>&nbsp;<br><span class="kw2">template</span><span class="sy1">&lt;</span><span class="kw2">typename</span> RandomAccessIterator,<br>         <span class="kw2">typename</span> Order<span class="sy1">&gt;</span><br> <span class="kw4">void</span> quicksort<span class="br0">(</span>RandomAccessIterator first, RandomAccessIterator last, Order order<span class="br0">)</span><br><span class="br0">{</span><br>  <span class="kw1">if</span> <span class="br0">(</span>last <span class="sy2">-</span> first <span class="sy1">&gt;</span> <span class="nu0">1</span><span class="br0">)</span><br>  <span class="br0">{</span><br>    RandomAccessIterator split <span class="sy1">=</span> std<span class="sy4">::</span><span class="me2">partition</span><span class="br0">(</span>first<span class="sy2">+</span><span class="nu0">1</span>, last, std<span class="sy4">::</span><span class="me2">bind2nd</span><span class="br0">(</span>order, <span class="sy2">*</span>first<span class="br0">)</span><span class="br0">)</span><span class="sy4">;</span><br>    std<span class="sy4">::</span><span class="me2">iter_swap</span><span class="br0">(</span>first, split<span class="sy2">-</span><span class="nu0">1</span><span class="br0">)</span><span class="sy4">;</span><br>    quicksort<span class="br0">(</span>first, split<span class="sy2">-</span><span class="nu0">1</span>, order<span class="br0">)</span><span class="sy4">;</span><br>    quicksort<span class="br0">(</span>split, last, order<span class="br0">)</span><span class="sy4">;</span><br>  <span class="br0">}</span><br><span class="br0">}</span><br>&nbsp;<br><span class="kw2">template</span><span class="sy1">&lt;</span><span class="kw2">typename</span> RandomAccessIterator<span class="sy1">&gt;</span><br> <span class="kw4">void</span> quicksort<span class="br0">(</span>RandomAccessIterator first, RandomAccessIterator last<span class="br0">)</span><br><span class="br0">{</span><br>  quicksort<span class="br0">(</span>first, last, std<span class="sy4">::</span><span class="me2">less</span><span class="sy1">&lt;</span><span class="kw2">typename</span> std<span class="sy4">::</span><span class="me2">iterator_traits</span><span class="sy1">&lt;</span>RandomAccessIterator<span class="sy1">&gt;</span><span class="sy4">::</span><span class="me2">value_type</span><span class="sy1">&gt;</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy4">;</span><br><span class="br0">}</span></pre> 
        <h2><span class="mw-headline" id="C.23"><a href="/wiki/Category:C_sharp" title="Category:C sharp">C#</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=17" title="Edit section: C#">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>Note that Array.Sort and ArrayList.Sort both use an unstable implementation of the quicksort algorithm. </p> 
        <pre class="csharp highlighted_source"><span class="co1">//</span><br><span class="co1">// The Tripartite conditional enables Bentley-McIlroy 3-way Partitioning.</span><br><span class="co1">// This performs additional compares to isolate islands of keys equal to</span><br><span class="co1">// the pivot value.  Use unless key-equivalent classes are of small size.</span><br><span class="co1">//</span><br><span class="co2">#define Tripartite</span><br>&nbsp;<br><span class="kw1">namespace</span> Sort <span class="br0">{</span><br>  <span class="kw1">using</span> <span class="co3">System</span><span class="sy0">;</span><br>&nbsp;<br>  <span class="kw4">class</span> QuickSort<span class="sy0">&lt;</span>T<span class="sy0">&gt;</span> <span class="kw1">where</span> T <span class="sy0">:</span> IComparable <span class="br0">{</span><br>    <span class="co2">#region Constants</span><br>    <span class="kw1">private</span> <span class="kw1">const</span> Int32 insertionLimitDefault <span class="sy0">=</span> <span class="nu0">12</span><span class="sy0">;</span><br>    <span class="co2">#endregion</span><br>&nbsp;<br>    <span class="co2">#region Properties</span><br>    <span class="kw1">public</span> Int32 InsertionLimit <span class="br0">{</span> <span class="kw1">get</span><span class="sy0">;</span> <span class="kw1">set</span><span class="sy0">;</span> <span class="br0">}</span><br>    <span class="kw1">protected</span> Random Random <span class="br0">{</span> <span class="kw1">get</span><span class="sy0">;</span> <span class="kw1">set</span><span class="sy0">;</span> <span class="br0">}</span><br>    <span class="co2">#endregion</span><br>&nbsp;<br>    <span class="co2">#region Constructors</span><br>    <span class="kw1">public</span> QuickSort<span class="br0">(</span>Int32 insertionLimit, Random random<span class="br0">)</span> <span class="br0">{</span><br>      InsertionLimit <span class="sy0">=</span> insertionLimit<span class="sy0">;</span><br>      Random <span class="sy0">=</span> random<span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">public</span> QuickSort<span class="br0">(</span>Int32 insertionLimit<span class="br0">)</span><br>      <span class="sy0">:</span> <span class="kw1">this</span><span class="br0">(</span>insertionLimit, <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Random<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span> <span class="br0">{</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">public</span> QuickSort<span class="br0">(</span><span class="br0">)</span><br>      <span class="sy0">:</span> <span class="kw1">this</span><span class="br0">(</span>insertionLimitDefault<span class="br0">)</span> <span class="br0">{</span><br>    <span class="br0">}</span><br>    <span class="co2">#endregion</span><br>&nbsp;<br>    <span class="co2">#region Sort Methods</span><br>    <span class="kw1">public</span> <span class="kw4">void</span> Sort<span class="br0">(</span>T<span class="br0">[</span><span class="br0">]</span> entries<span class="br0">)</span> <span class="br0">{</span><br>      Sort<span class="br0">(</span>entries, <span class="nu0">0</span>, entries<span class="sy0">.</span><span class="me1">Length</span> <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">public</span> <span class="kw4">void</span> Sort<span class="br0">(</span>T<span class="br0">[</span><span class="br0">]</span> entries, Int32 first, Int32 last<span class="br0">)</span> <span class="br0">{</span><br>      <span class="kw1">var</span> length <span class="sy0">=</span> last <span class="sy0">+</span> <span class="nu0">1</span> <span class="sy0">-</span> first<span class="sy0">;</span><br>      <span class="kw1">while</span> <span class="br0">(</span>length <span class="sy0">&gt;</span> <span class="nu0">1</span><span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw1">if</span> <span class="br0">(</span>length <span class="sy0">&lt;</span> InsertionLimit<span class="br0">)</span> <span class="br0">{</span><br>          InsertionSort<span class="sy0">&lt;</span>T<span class="sy0">&gt;.</span><span class="me1">Sort</span><span class="br0">(</span>entries, first, last<span class="br0">)</span><span class="sy0">;</span><br>          <span class="kw1">return</span><span class="sy0">;</span><br>        <span class="br0">}</span><br>&nbsp;<br>        <span class="kw1">var</span> median <span class="sy0">=</span> pivot<span class="br0">(</span>entries, first, last<span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>        <span class="kw1">var</span> left <span class="sy0">=</span> first<span class="sy0">;</span><br>        <span class="kw1">var</span> right <span class="sy0">=</span> last<span class="sy0">;</span><br>        partition<span class="br0">(</span>entries, median, <span class="kw1">ref</span> left, <span class="kw1">ref</span> right<span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>        <span class="kw1">var</span> leftLength <span class="sy0">=</span> right <span class="sy0">+</span> <span class="nu0">1</span> <span class="sy0">-</span> first<span class="sy0">;</span><br>        <span class="kw1">var</span> rightLength <span class="sy0">=</span> last <span class="sy0">+</span> <span class="nu0">1</span> <span class="sy0">-</span> left<span class="sy0">;</span><br>&nbsp;<br>        <span class="co1">//</span><br>        <span class="co1">// First recurse over shorter partition, then loop</span><br>        <span class="co1">// on the longer partition to elide tail recursion.</span><br>        <span class="co1">//</span><br>        <span class="kw1">if</span> <span class="br0">(</span>leftLength <span class="sy0">&lt;</span> rightLength<span class="br0">)</span> <span class="br0">{</span><br>          Sort<span class="br0">(</span>entries, first, right<span class="br0">)</span><span class="sy0">;</span><br>          first <span class="sy0">=</span> left<span class="sy0">;</span><br>          length <span class="sy0">=</span> rightLength<span class="sy0">;</span><br>        <span class="br0">}</span><br>        <span class="kw1">else</span> <span class="br0">{</span><br>          Sort<span class="br0">(</span>entries, left, last<span class="br0">)</span><span class="sy0">;</span><br>          last <span class="sy0">=</span> right<span class="sy0">;</span><br>          length <span class="sy0">=</span> leftLength<span class="sy0">;</span><br>        <span class="br0">}</span><br>      <span class="br0">}</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">private</span> T pivot<span class="br0">(</span>T<span class="br0">[</span><span class="br0">]</span> entries, Int32 first, Int32 last<span class="br0">)</span> <span class="br0">{</span><br>      <span class="co1">//</span><br>      <span class="co1">// An odd sample size is chosen based on the log of the interval size.</span><br>      <span class="co1">// The median of a randomly chosen set of samples is then returned as</span><br>      <span class="co1">// an estimate of the true median.</span><br>      <span class="co1">//</span><br>      <span class="kw1">var</span> length <span class="sy0">=</span> last <span class="sy0">+</span> <span class="nu0">1</span> <span class="sy0">-</span> first<span class="sy0">;</span><br>      <span class="kw1">var</span> logLen <span class="sy0">=</span> <span class="br0">(</span>Int32<span class="br0">)</span>Math<span class="sy0">.</span><span class="me1">Log10</span><span class="br0">(</span>length<span class="br0">)</span><span class="sy0">;</span><br>      <span class="kw1">var</span> pivotSamples <span class="sy0">=</span> <span class="nu0">2</span> <span class="sy0">*</span> logLen <span class="sy0">+</span> <span class="nu0">1</span><span class="sy0">;</span><br>      <span class="kw1">var</span> sampleSize <span class="sy0">=</span> Math<span class="sy0">.</span><span class="me1">Min</span><span class="br0">(</span>pivotSamples, length<span class="br0">)</span><span class="sy0">;</span><br>      <span class="kw1">var</span> right <span class="sy0">=</span> first <span class="sy0">+</span> sampleSize <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">;</span><br>      <span class="co1">// Sample without replacement</span><br>      <span class="kw1">for</span> <span class="br0">(</span><span class="kw1">var</span> left <span class="sy0">=</span> first<span class="sy0">;</span> left <span class="sy0">&lt;=</span> right<span class="sy0">;</span> left<span class="sy0">++</span><span class="br0">)</span> <span class="br0">{</span><br>        <span class="co1">// Random sampling avoids pathological cases</span><br>        <span class="kw1">var</span> random <span class="sy0">=</span> Random<span class="sy0">.</span><span class="me1">Next</span><span class="br0">(</span>left, last <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span><span class="sy0">;</span><br>        Swap<span class="br0">(</span>entries, left, random<span class="br0">)</span><span class="sy0">;</span><br>      <span class="br0">}</span><br>&nbsp;<br>      InsertionSort<span class="sy0">&lt;</span>T<span class="sy0">&gt;.</span><span class="me1">Sort</span><span class="br0">(</span>entries, first, right<span class="br0">)</span><span class="sy0">;</span><br>      <span class="kw1">var</span> median <span class="sy0">=</span> entries<span class="br0">[</span>first <span class="sy0">+</span> sampleSize <span class="sy0">/</span> <span class="nu0">2</span><span class="br0">]</span><span class="sy0">;</span><br>      <span class="kw1">return</span> median<span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">private</span> <span class="kw1">static</span> <span class="kw4">void</span> partition<span class="br0">(</span>T<span class="br0">[</span><span class="br0">]</span> entries, T median, <span class="kw1">ref</span> Int32 left, <span class="kw1">ref</span> Int32 right<span class="br0">)</span> <span class="br0">{</span><br>      <span class="kw1">var</span> first <span class="sy0">=</span> left<span class="sy0">;</span><br>      <span class="kw1">var</span> last <span class="sy0">=</span> right<span class="sy0">;</span><br><span class="co2">#if Tripartite</span><br>      <span class="kw1">var</span> leftMedian <span class="sy0">=</span> first<span class="sy0">;</span><br>      <span class="kw1">var</span> rightMedian <span class="sy0">=</span> last<span class="sy0">;</span><br><span class="co2">#endif</span><br>      <span class="kw1">while</span> <span class="br0">(</span><span class="kw1">true</span><span class="br0">)</span> <span class="br0">{</span><br>        <span class="co1">//[Assert]There exists some index &gt;= left where entries[index] &gt;= median</span><br>        <span class="co1">//[Assert]There exists some index &lt;= right where entries[index] &lt;= median</span><br>        <span class="co1">// So, there is no need for left or right bound checks</span><br>        <span class="kw1">while</span> <span class="br0">(</span>median<span class="sy0">.</span><span class="me1">CompareTo</span><span class="br0">(</span>entries<span class="br0">[</span>left<span class="br0">]</span><span class="br0">)</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">)</span> left<span class="sy0">++;</span><br>        <span class="kw1">while</span> <span class="br0">(</span>median<span class="sy0">.</span><span class="me1">CompareTo</span><span class="br0">(</span>entries<span class="br0">[</span>right<span class="br0">]</span><span class="br0">)</span> <span class="sy0">&lt;</span> <span class="nu0">0</span><span class="br0">)</span> right<span class="sy0">--;</span><br>&nbsp;<br>        <span class="co1">//[Assert]entries[right] &lt;= median &lt;= entries[left]</span><br>        <span class="kw1">if</span> <span class="br0">(</span>right <span class="sy0">&lt;=</span> left<span class="br0">)</span> <span class="kw1">break</span><span class="sy0">;</span><br>&nbsp;<br>        Swap<span class="br0">(</span>entries, left, right<span class="br0">)</span><span class="sy0">;</span><br><span class="co2">#if Tripartite</span><br>        swapOut<span class="br0">(</span>entries, median, left, right, <span class="kw1">ref</span> leftMedian, <span class="kw1">ref</span> rightMedian<span class="br0">)</span><span class="sy0">;</span><br><span class="co2">#endif</span><br>        left<span class="sy0">++;</span><br>        right<span class="sy0">--;</span><br>        <span class="co1">//[Assert]entries[first:left - 1] &lt;= median &lt;= entries[right + 1:last]</span><br>      <span class="br0">}</span><br>&nbsp;<br>      <span class="kw1">if</span> <span class="br0">(</span>left <span class="sy0">==</span> right<span class="br0">)</span> <span class="br0">{</span><br>        left<span class="sy0">++;</span><br>        right<span class="sy0">--;</span><br>      <span class="br0">}</span><br>      <span class="co1">//[Assert]right &lt; left</span><br><span class="co2">#if Tripartite</span><br>      swapIn<span class="br0">(</span>entries, <span class="kw1">ref</span> left, <span class="kw1">ref</span> right, leftMedian, rightMedian, first, last<span class="br0">)</span><span class="sy0">;</span><br><span class="co2">#endif</span><br>      <span class="co1">//[Assert]entries[first:right] &lt;= median &lt;= entries[left:last]</span><br>      <span class="co1">//[Assert]entries[right + 1:left - 1] == median when non-empty</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">private</span> <span class="kw1">static</span> <span class="kw4">void</span> swapOut<span class="br0">(</span>T<span class="br0">[</span><span class="br0">]</span> entries, T median, Int32 left, Int32 right,<br>                                <span class="kw1">ref</span> Int32 leftMedian, <span class="kw1">ref</span> Int32 rightMedian<span class="br0">)</span> <span class="br0">{</span><br>      <span class="kw1">if</span> <span class="br0">(</span>median<span class="sy0">.</span><span class="me1">CompareTo</span><span class="br0">(</span>entries<span class="br0">[</span>left<span class="br0">]</span><span class="br0">)</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span> Swap<span class="br0">(</span>entries, leftMedian<span class="sy0">++</span>, left<span class="br0">)</span><span class="sy0">;</span><br>      <span class="kw1">if</span> <span class="br0">(</span>median<span class="sy0">.</span><span class="me1">CompareTo</span><span class="br0">(</span>entries<span class="br0">[</span>right<span class="br0">]</span><span class="br0">)</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span> Swap<span class="br0">(</span>entries, right, rightMedian<span class="sy0">--</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">private</span> <span class="kw1">static</span> <span class="kw4">void</span> swapIn<span class="br0">(</span>T<span class="br0">[</span><span class="br0">]</span> entries, <span class="kw1">ref</span> Int32 left, <span class="kw1">ref</span> Int32 right,<br>                               Int32 leftMedian, Int32 rightMedian, Int32 first, Int32 last<span class="br0">)</span> <span class="br0">{</span><br>      <span class="co1">// Restore median entries</span><br>      <span class="kw1">for</span> <span class="br0">(</span><span class="kw1">var</span> prefix <span class="sy0">=</span> first<span class="sy0">;</span> prefix <span class="sy0">&lt;</span> leftMedian<span class="sy0">;</span><span class="br0">)</span><br>        Swap<span class="br0">(</span>entries, prefix<span class="sy0">++</span>, right<span class="sy0">--</span><span class="br0">)</span><span class="sy0">;</span><br>      <span class="kw1">for</span> <span class="br0">(</span><span class="kw1">var</span> suffix <span class="sy0">=</span> last<span class="sy0">;</span> rightMedian <span class="sy0">&lt;</span> suffix<span class="sy0">;</span><span class="br0">)</span><br>        Swap<span class="br0">(</span>entries, left<span class="sy0">++</span>, suffix<span class="sy0">--</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> Swap<span class="br0">(</span>T<span class="br0">[</span><span class="br0">]</span> entries, Int32 index1, Int32 index2<span class="br0">)</span> <span class="br0">{</span><br>      <span class="kw1">if</span> <span class="br0">(</span>index1 <span class="sy0">!=</span> index2<span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw1">var</span> entry <span class="sy0">=</span> entries<span class="br0">[</span>index1<span class="br0">]</span><span class="sy0">;</span><br>        entries<span class="br0">[</span>index1<span class="br0">]</span> <span class="sy0">=</span> entries<span class="br0">[</span>index2<span class="br0">]</span><span class="sy0">;</span><br>        entries<span class="br0">[</span>index2<span class="br0">]</span> <span class="sy0">=</span> entry<span class="sy0">;</span><br>      <span class="br0">}</span><br>    <span class="br0">}</span><br>  <span class="br0">}</span><br>  <span class="co2">#endregion</span><br>&nbsp;<br>  <span class="co2">#region Insertion Sort</span><br>  <span class="kw1">static</span> <span class="kw4">class</span> InsertionSort<span class="sy0">&lt;</span>T<span class="sy0">&gt;</span> <span class="kw1">where</span> T <span class="sy0">:</span> IComparable <span class="br0">{</span><br>    <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> Sort<span class="br0">(</span>T<span class="br0">[</span><span class="br0">]</span> entries, Int32 first, Int32 last<span class="br0">)</span> <span class="br0">{</span><br>      <span class="kw1">for</span> <span class="br0">(</span><span class="kw1">var</span> i <span class="sy0">=</span> first <span class="sy0">+</span> <span class="nu0">1</span><span class="sy0">;</span> i <span class="sy0">&lt;=</span> last<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw1">var</span> entry <span class="sy0">=</span> entries<span class="br0">[</span>i<span class="br0">]</span><span class="sy0">;</span><br>        <span class="kw1">var</span> j <span class="sy0">=</span> i<span class="sy0">;</span><br>        <span class="kw1">while</span> <span class="br0">(</span>j <span class="sy0">&gt;</span> first <span class="sy0">&amp;&amp;</span> entries<span class="br0">[</span>j <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">]</span><span class="sy0">.</span><span class="me1">CompareTo</span><span class="br0">(</span>entry<span class="br0">)</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">)</span><br>          entries<span class="br0">[</span>j<span class="br0">]</span> <span class="sy0">=</span> entries<span class="br0">[</span><span class="sy0">--</span>j<span class="br0">]</span><span class="sy0">;</span><br>        entries<span class="br0">[</span>j<span class="br0">]</span> <span class="sy0">=</span> entry<span class="sy0">;</span><br>      <span class="br0">}</span><br>    <span class="br0">}</span><br>  <span class="br0">}</span><br>  <span class="co2">#endregion</span><br><span class="br0">}</span></pre> 
        <p><b>Example</b>: </p> 
        <pre class="csharp highlighted_source">  <span class="kw1">using</span> <span class="co3">Sort</span><span class="sy0">;</span><br>  <span class="kw1">using</span> <span class="co3">System</span><span class="sy0">;</span><br>&nbsp;<br>  <span class="kw4">class</span> Program <span class="br0">{</span><br>    <span class="kw1">static</span> <span class="kw4">void</span> Main<span class="br0">(</span><span class="kw4">String</span><span class="br0">[</span><span class="br0">]</span> args<span class="br0">)</span> <span class="br0">{</span><br>      <span class="kw1">var</span> entries <span class="sy0">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> Int32<span class="br0">[</span><span class="br0">]</span> <span class="br0">{</span> <span class="nu0">1</span>, <span class="nu0">3</span>, <span class="nu0">5</span>, <span class="nu0">7</span>, <span class="nu0">9</span>, <span class="nu0">8</span>, <span class="nu0">6</span>, <span class="nu0">4</span>, <span class="nu0">2</span> <span class="br0">}</span><span class="sy0">;</span><br>      <span class="kw1">var</span> sorter <span class="sy0">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> QuickSort<span class="sy0">&lt;</span>Int32<span class="sy0">&gt;</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>      sorter<span class="sy0">.</span><span class="me1">Sort</span><span class="br0">(</span>entries<span class="br0">)</span><span class="sy0">;</span><br>      Console<span class="sy0">.</span><span class="me1">WriteLine</span><span class="br0">(</span><span class="kw4">String</span><span class="sy0">.</span><span class="kw1">Join</span><span class="br0">(</span><span class="st0">" "</span>, entries<span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>  <span class="br0">}</span></pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>1 2 3 4 5 6 7 8 9</pre> 
        <p>A very inefficient way to do qsort in C# to prove C# code can be just as compact and readable as any dynamic code </p> 
        <pre class="csharp highlighted_source"><span class="kw1">using</span> <span class="co3">System</span><span class="sy0">;</span><br><span class="kw1">using</span> <span class="co3">System.Collections.Generic</span><span class="sy0">;</span><br><span class="kw1">using</span> <span class="co3">System.Linq</span><span class="sy0">;</span><br>&nbsp;<br><span class="kw1">namespace</span> QSort<br><span class="br0">{</span><br>    <span class="kw4">class</span> QSorter<br>    <span class="br0">{</span><br>        <span class="kw1">private</span> <span class="kw1">static</span> IEnumerable<span class="sy0">&lt;</span>IComparable<span class="sy0">&gt;</span> empty <span class="sy0">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com"><span class="kw3">new</span></a> List<span class="sy0">&lt;</span>IComparable<span class="sy0">&gt;</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>        <span class="kw1">public</span> <span class="kw1">static</span> IEnumerable<span class="sy0">&lt;</span>IComparable<span class="sy0">&gt;</span> QSort<span class="br0">(</span>IEnumerable<span class="sy0">&lt;</span>IComparable<span class="sy0">&gt;</span> iEnumerable<span class="br0">)</span><br>        <span class="br0">{</span><br>            <span class="kw1">if</span><span class="br0">(</span>iEnumerable<span class="sy0">.</span><span class="me1">Any</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><br>            <span class="br0">{</span><br>                <span class="kw1">var</span> pivot <span class="sy0">=</span> iEnumerable<span class="sy0">.</span><span class="me1">First</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>                <span class="kw1">return</span> QSort<span class="br0">(</span>iEnumerable<span class="sy0">.</span><span class="kw1">Where</span><span class="br0">(</span><span class="br0">(</span>anItem<span class="br0">)</span> <span class="sy0">=&gt;</span> pivot<span class="sy0">.</span><span class="me1">CompareTo</span><span class="br0">(</span>anItem<span class="br0">)</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">.</span><br>                    <span class="me1">Concat</span><span class="br0">(</span>iEnumerable<span class="sy0">.</span><span class="kw1">Where</span><span class="br0">(</span><span class="br0">(</span>anItem<span class="br0">)</span> <span class="sy0">=&gt;</span> pivot<span class="sy0">.</span><span class="me1">CompareTo</span><span class="br0">(</span>anItem<span class="br0">)</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">.</span><br>                    <span class="me1">Concat</span><span class="br0">(</span>QSort<span class="br0">(</span>iEnumerable<span class="sy0">.</span><span class="kw1">Where</span><span class="br0">(</span><span class="br0">(</span>anItem<span class="br0">)</span> <span class="sy0">=&gt;</span> pivot<span class="sy0">.</span><span class="me1">CompareTo</span><span class="br0">(</span>anItem<span class="br0">)</span> <span class="sy0">&lt;</span> <span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span><br>            <span class="br0">}</span><br>            <span class="kw1">return</span> empty<span class="sy0">;</span><br>        <span class="br0">}</span><br>    <span class="br0">}</span><br><span class="br0">}</span></pre> 
        <h2><span class="mw-headline" id="Clojure"><a href="/wiki/Category:Clojure" title="Category:Clojure">Clojure</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=18" title="Edit section: Clojure">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>A very Haskell-like solution using list comprehensions and lazy evaluation. </p> 
        <pre class="lisp highlighted_source"><span class="br0">(</span>defn qsort <span class="br0">[</span><span class="kw1">L</span><span class="br0">]</span><br>  <span class="br0">(</span><span class="kw1">if</span> <span class="br0">(</span>empty? <span class="kw1">L</span><span class="br0">)</span> <br>      '<span class="br0">(</span><span class="br0">)</span><br>      <span class="br0">(</span><span class="kw1">let</span> <span class="br0">[</span><span class="br0">[</span>pivot <span class="sy0">&amp;</span> L2<span class="br0">]</span> <span class="kw1">L</span><span class="br0">]</span><br>           <span class="br0">(</span>lazy-cat <span class="br0">(</span>qsort <span class="br0">(</span>for <span class="br0">[</span>y L2 <span class="sy0">:</span><span class="kw1">when</span> <span class="br0">(</span><span class="sy0">&lt;</span>  y pivot<span class="br0">)</span><span class="br0">]</span> y<span class="br0">)</span><span class="br0">)</span><br>                     <span class="br0">(</span><span class="kw1">list</span> pivot<span class="br0">)</span><br>                     <span class="br0">(</span>qsort <span class="br0">(</span>for <span class="br0">[</span>y L2 <span class="sy0">:</span><span class="kw1">when</span> <span class="br0">(</span><span class="sy0">&gt;=</span> y pivot<span class="br0">)</span><span class="br0">]</span> y<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span></pre> 
        <p>Another short version (using quasiquote): </p> 
        <pre class="lisp highlighted_source"><span class="br0">(</span>defn qsort <span class="br0">[</span><span class="br0">[</span>pvt <span class="sy0">&amp;</span> rs<span class="br0">]</span><span class="br0">]</span><br>  <span class="br0">(</span><span class="kw1">if</span> pvt<br>    `<span class="br0">(</span><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="dea09e">[email&nbsp;protected]</a><span class="br0">(</span>qsort <span class="br0">(</span>filter #<span class="br0">(</span><span class="sy0">&lt;</span>  <span class="sy0">%</span> pvt<span class="br0">)</span> rs<span class="br0">)</span><span class="br0">)</span><br>      ~pvt <br>      <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="5a241a">[email&nbsp;protected]</a><span class="br0">(</span>qsort <span class="br0">(</span>filter #<span class="br0">(</span><span class="sy0">&gt;=</span> <span class="sy0">%</span> pvt<span class="br0">)</span> rs<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span></pre> 
        <p>Another, more readable version (no macros): </p> 
        <pre class="lisp highlighted_source"><span class="br0">(</span>defn qsort <span class="br0">[</span><span class="br0">[</span>pivot <span class="sy0">&amp;</span> xs<span class="br0">]</span><span class="br0">]</span><br>  <span class="br0">(</span><span class="kw1">when</span> pivot<br>    <span class="br0">(</span><span class="kw1">let</span> <span class="br0">[</span>smaller #<span class="br0">(</span><span class="sy0">&lt;</span> <span class="sy0">%</span> pivot<span class="br0">)</span><span class="br0">]</span><br>      <span class="br0">(</span>lazy-cat <span class="br0">(</span>qsort <span class="br0">(</span>filter smaller xs<span class="br0">)</span><span class="br0">)</span><br>		<span class="br0">[</span>pivot<span class="br0">]</span><br>		<span class="br0">(</span>qsort <span class="br0">(</span><span class="kw1">remove</span> smaller xs<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span></pre> 
        <p>A 3-group quicksort (fast when many values are equal): </p> 
        <pre class="lisp highlighted_source"><span class="br0">(</span>defn qsort3 <span class="br0">[</span><span class="br0">[</span>pvt <span class="sy0">:</span><span class="me1">as</span> coll<span class="br0">]</span><span class="br0">]</span><br>  <span class="br0">(</span><span class="kw1">when</span> pvt<br>    <span class="br0">(</span><span class="kw1">let</span> <span class="br0">[</span><span class="br0">{</span>left -<span class="nu0">1</span> mid <span class="nu0">0</span> right <span class="nu0">1</span><span class="br0">}</span> <span class="br0">(</span>group-by #<span class="br0">(</span>compare <span class="sy0">%</span> pvt<span class="br0">)</span> coll<span class="br0">)</span><span class="br0">]</span><br>      <span class="br0">(</span>lazy-cat <span class="br0">(</span>qsort3 left<span class="br0">)</span> mid <span class="br0">(</span>qsort3 right<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span></pre> 
        <p>A lazier version of above (unlike group-by, filter returns (and reads) a lazy sequence) </p> 
        <pre class="lisp highlighted_source"><span class="br0">(</span>defn qsort3 <span class="br0">[</span><span class="br0">[</span>pivot <span class="sy0">:</span><span class="me1">as</span> coll<span class="br0">]</span><span class="br0">]</span><br>  <span class="br0">(</span><span class="kw1">when</span> pivot<br>    <span class="br0">(</span>lazy-cat <span class="br0">(</span>qsort <span class="br0">(</span>filter #<span class="br0">(</span><span class="sy0">&lt;</span> <span class="sy0">%</span> pivot<span class="br0">)</span> coll<span class="br0">)</span><span class="br0">)</span><br>              <span class="br0">(</span>filter #<span class="br0">{</span>pivot<span class="br0">}</span> coll<span class="br0">)</span><br>              <span class="br0">(</span>qsort <span class="br0">(</span>filter #<span class="br0">(</span><span class="sy0">&gt;</span> <span class="sy0">%</span> pivot<span class="br0">)</span> coll<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span></pre> 
        <h2><span class="mw-headline" id="COBOL"><a href="/wiki/Category:COBOL" title="Category:COBOL">COBOL</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=19" title="Edit section: COBOL">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <div class="examplemeta workswith">
         <b>Works with</b>: 
         <a href="/wiki/Visual_COBOL" title="Visual COBOL">Visual COBOL</a>
        </div> 
        <pre class="cobol highlighted_source">       <span class="kw3">IDENTIFICATION</span> <span class="kw3">DIVISION</span><span class="sy0">.</span><br>       <span class="kw3">PROGRAM-ID</span><span class="sy0">.</span> quicksort RECURSIVE<span class="sy0">.</span><br>&nbsp;<br>       <span class="kw3">DATA</span> <span class="kw3">DIVISION</span><span class="sy0">.</span><br>       LOCAL-STORAGE <span class="kw1">SECTION</span><span class="sy0">.</span><br>       <span class="nu0">01</span>  temp                   <span class="kw3">PIC</span> S9<span class="br0">(</span><span class="nu0">8</span><span class="br0">)</span><span class="sy0">.</span><br>&nbsp;<br>       <span class="nu0">01</span>  pivot                  <span class="kw3">PIC</span> S9<span class="br0">(</span><span class="nu0">8</span><span class="br0">)</span><span class="sy0">.</span><br>&nbsp;<br>       <span class="nu0">01</span>  left-most-idx          <span class="kw3">PIC</span> <span class="nu0">9</span><span class="br0">(</span><span class="nu0">5</span><span class="br0">)</span><span class="sy0">.</span><br>       <span class="nu0">01</span>  right-most-idx         <span class="kw3">PIC</span> <span class="nu0">9</span><span class="br0">(</span><span class="nu0">5</span><span class="br0">)</span><span class="sy0">.</span><br>&nbsp;<br>       <span class="nu0">01</span>  left-idx               <span class="kw3">PIC</span> <span class="nu0">9</span><span class="br0">(</span><span class="nu0">5</span><span class="br0">)</span><span class="sy0">.</span><br>       <span class="nu0">01</span>  right-idx              <span class="kw3">PIC</span> <span class="nu0">9</span><span class="br0">(</span><span class="nu0">5</span><span class="br0">)</span><span class="sy0">.</span><br>&nbsp;<br>       <span class="kw3">LINKAGE</span> <span class="kw1">SECTION</span><span class="sy0">.</span><br>       <span class="nu0">78</span>  Arr-<span class="kw4">Length</span>             <span class="kw3">VALUE</span> <span class="nu0">50</span><span class="sy0">.</span><br>&nbsp;<br>       <span class="nu0">01</span>  arr-<span class="kw3">area</span><span class="sy0">.</span><br>           <span class="nu0">03</span>  arr                <span class="kw3">PIC</span> S9<span class="br0">(</span><span class="nu0">8</span><span class="br0">)</span> <span class="kw3">OCCURS</span> Arr-<span class="kw4">Length</span> <span class="kw2">TIMES</span><span class="sy0">.</span><br>&nbsp;<br>       <span class="nu0">01</span>  left-val               <span class="kw3">PIC</span> <span class="nu0">9</span><span class="br0">(</span><span class="nu0">5</span><span class="br0">)</span><span class="sy0">.</span><br>       <span class="nu0">01</span>  right-val              <span class="kw3">PIC</span> <span class="nu0">9</span><span class="br0">(</span><span class="nu0">5</span><span class="br0">)</span><span class="sy0">.</span>  <br>&nbsp;<br>       <span class="kw3">PROCEDURE</span> <span class="kw3">DIVISION</span> <span class="kw3">USING</span> <span class="kw3">REFERENCE</span> arr-<span class="kw3">area</span><span class="sy0">,</span> <span class="kw3">OPTIONAL</span> left-val<span class="sy0">,</span><br>               <span class="kw3">OPTIONAL</span> right-val<span class="sy0">.</span><br>           <span class="kw1">IF</span> left-val <span class="kw3">IS</span> <span class="kw3">OMITTED</span> <span class="kw3">OR</span> right-val <span class="kw3">IS</span> <span class="kw3">OMITTED</span><br>               <span class="kw2">MOVE</span> <span class="nu0">1</span> <span class="kw2">TO</span> left-most-idx<span class="sy0">,</span> left-idx<br>               <span class="kw2">MOVE</span> Arr-<span class="kw4">Length</span> <span class="kw2">TO</span> right-most-idx<span class="sy0">,</span> right-idx<br>           <span class="kw3">ELSE</span><br>               <span class="kw2">MOVE</span> left-val <span class="kw2">TO</span> left-most-idx<span class="sy0">,</span> left-idx<br>               <span class="kw2">MOVE</span> right-val <span class="kw2">TO</span> right-most-idx<span class="sy0">,</span> right-idx<br>           END-<span class="kw1">IF</span><br>&nbsp;<br>           <span class="kw1">IF</span> right-most-idx<span class="sy0"> - </span>left-most-idx &lt; <span class="nu0">1</span><br>               GOBACK<br>           END-<span class="kw1">IF</span><br>&nbsp;<br>           <span class="kw2">COMPUTE</span> pivot <span class="sy0">=</span> arr <span class="br0">(</span><span class="br0">(</span>left-most-idx<span class="sy0"> + </span>right-most-idx<span class="br0">)</span><span class="sy0"> / </span><span class="nu0">2</span><span class="br0">)</span><br>&nbsp;<br>           <span class="kw2">PERFORM</span> <span class="kw2">UNTIL</span> left-idx &gt; right-idx<br>               <span class="kw2">PERFORM</span> <span class="kw2">VARYING</span> left-idx <span class="kw3">FROM</span> left-idx <span class="kw3">BY</span> <span class="nu0">1</span><br>                   <span class="kw2">UNTIL</span> arr <span class="br0">(</span>left-idx<span class="br0">)</span> &gt;<span class="sy0">=</span> pivot<br>               END-<span class="kw2">PERFORM</span><br>&nbsp;<br>               <span class="kw2">PERFORM</span> <span class="kw2">VARYING</span> right-idx <span class="kw3">FROM</span> right-idx <span class="kw3">BY</span> -<span class="nu0">1</span><br>                   <span class="kw2">UNTIL</span> arr <span class="br0">(</span>right-idx<span class="br0">)</span> &lt;<span class="sy0">=</span> pivot<br>               END-<span class="kw2">PERFORM</span><br>&nbsp;<br>               <span class="kw1">IF</span> left-idx &lt;<span class="sy0">=</span> right-idx<br>                   <span class="kw2">MOVE</span> arr <span class="br0">(</span>left-idx<span class="br0">)</span> <span class="kw2">TO</span> temp<br>                   <span class="kw2">MOVE</span> arr <span class="br0">(</span>right-idx<span class="br0">)</span> <span class="kw2">TO</span> arr <span class="br0">(</span>left-idx<span class="br0">)</span><br>                   <span class="kw2">MOVE</span> temp <span class="kw2">TO</span> arr <span class="br0">(</span>right-idx<span class="br0">)</span><br>&nbsp;<br>                   <span class="kw2">ADD</span> <span class="nu0">1</span> <span class="kw2">TO</span> left-idx<br>                   <span class="kw3">SUBTRACT</span> <span class="nu0">1</span> <span class="kw3">FROM</span> right-idx<br>               END-<span class="kw1">IF</span><br>           END-<span class="kw2">PERFORM</span><br>&nbsp;<br>           <span class="kw2">CALL</span> <span class="st0">"quicksort"</span> <span class="kw3">USING</span> <span class="kw3">REFERENCE</span> arr-<span class="kw3">area</span><span class="sy0">,</span><br>               <span class="kw3">CONTENT</span> left-most-idx<span class="sy0">,</span> right-idx<br>           <span class="kw2">CALL</span> <span class="st0">"quicksort"</span> <span class="kw3">USING</span> <span class="kw3">REFERENCE</span> arr-<span class="kw3">area</span><span class="sy0">,</span> <span class="kw3">CONTENT</span> left-idx<span class="sy0">,</span><br>               right-most-idx<br>&nbsp;<br>           GOBACK<br>           <span class="sy0">.</span></pre> 
        <h2><span class="mw-headline" id="CoffeeScript"><a href="/wiki/Category:CoffeeScript" title="Category:CoffeeScript">CoffeeScript</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=20" title="Edit section: CoffeeScript">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="coffeescript highlighted_source">&nbsp;<br>quicksort = <span class="br0">(</span><span class="br0">[</span>x<span class="sy0">,</span> xs...<span class="br0">]</span><span class="br0">)</span> <span class="sy0">-&gt;</span><br>  <span class="kw1">return</span> <span class="br0">[</span><span class="br0">]</span> <span class="kw1">unless</span> x<span class="sy0">?</span><br>  smallerOrEqual = <span class="br0">(</span>a <span class="kw1">for</span> a <span class="kw1">in</span> xs <span class="kw1">when</span> a <span class="sy0">&lt;</span>= x<span class="br0">)</span><br>  larger = <span class="br0">(</span>a <span class="kw1">for</span> a <span class="kw1">in</span> xs <span class="kw1">when</span> a <span class="sy0">&gt;</span> x<span class="br0">)</span><br>  <span class="br0">(</span>quicksort smallerOrEqual<span class="br0">)</span>.<span class="me1">concat</span><span class="br0">(</span>x<span class="br0">)</span>.<span class="me1">concat</span><span class="br0">(</span>quicksort larger<span class="br0">)</span><br>&nbsp;</pre> 
        <h2><span class="mw-headline" id="Common_Lisp"><a href="/wiki/Category:Common_Lisp" title="Category:Common Lisp">Common Lisp</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=21" title="Edit section: Common Lisp">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>The functional programming way </p> 
        <pre class="lisp highlighted_source"><span class="br0">(</span><span class="kw1">defun</span> quicksort <span class="br0">(</span><span class="kw1">list</span> <span class="sy0">&amp;</span>aux <span class="br0">(</span>pivot <span class="br0">(</span><span class="kw1">car</span> <span class="kw1">list</span><span class="br0">)</span><span class="br0">)</span> <span class="br0">)</span><br>  <span class="br0">(</span><span class="kw1">if</span> <span class="br0">(</span><span class="kw1">cdr</span> <span class="kw1">list</span><span class="br0">)</span><br>      <span class="br0">(</span><span class="kw1">nconc</span> <span class="br0">(</span>quicksort <span class="br0">(</span>remove-if-<span class="kw1">not</span> #'<span class="br0">(</span><span class="kw1">lambda</span> <span class="br0">(</span>x<span class="br0">)</span> <span class="br0">(</span><span class="sy0">&lt;</span> x pivot<span class="br0">)</span><span class="br0">)</span> <span class="kw1">list</span><span class="br0">)</span><span class="br0">)</span><br>             <span class="br0">(</span>remove-if-<span class="kw1">not</span> #'<span class="br0">(</span><span class="kw1">lambda</span> <span class="br0">(</span>x<span class="br0">)</span> <span class="br0">(</span><span class="sy0">=</span> x pivot<span class="br0">)</span><span class="br0">)</span> <span class="kw1">list</span><span class="br0">)</span><br>             <span class="br0">(</span>quicksort <span class="br0">(</span>remove-if-<span class="kw1">not</span> #'<span class="br0">(</span><span class="kw1">lambda</span> <span class="br0">(</span>x<span class="br0">)</span> <span class="br0">(</span><span class="sy0">&gt;</span> x pivot<span class="br0">)</span><span class="br0">)</span> <span class="kw1">list</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>      <span class="kw1">list</span><span class="br0">)</span><span class="br0">)</span></pre> 
        <p>With flet </p> 
        <pre class="lisp highlighted_source"><span class="br0">(</span><span class="kw1">defun</span> qs <span class="br0">(</span><span class="kw1">list</span><span class="br0">)</span><br>  <span class="br0">(</span><span class="kw1">if</span> <span class="br0">(</span><span class="kw1">cdr</span> <span class="kw1">list</span><span class="br0">)</span><br>      <span class="br0">(</span>flet <span class="br0">(</span><span class="br0">(</span>pivot <span class="br0">(</span>test<span class="br0">)</span><br>               <span class="br0">(</span><span class="kw1">remove</span> <span class="br0">(</span><span class="kw1">car</span> <span class="kw1">list</span><span class="br0">)</span> <span class="kw1">list</span> <span class="sy0">:</span><span class="me1">test-</span><span class="kw1">not</span> test<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>        <span class="br0">(</span><span class="kw1">nconc</span> <span class="br0">(</span>qs <span class="br0">(</span>pivot #'<span class="sy0">&gt;</span><span class="br0">)</span><span class="br0">)</span> <span class="br0">(</span>pivot #'<span class="sy0">=</span><span class="br0">)</span> <span class="br0">(</span>qs <span class="br0">(</span>pivot #'<span class="sy0">&lt;</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>      <span class="kw1">list</span><span class="br0">)</span><span class="br0">)</span></pre> 
        <p>In-place non-functional </p> 
        <pre class="lisp highlighted_source"><span class="br0">(</span><span class="kw1">defun</span> quicksort <span class="br0">(</span>sequence<span class="br0">)</span><br>  <span class="br0">(</span>labels <span class="br0">(</span><span class="br0">(</span>swap <span class="br0">(</span>a b<span class="br0">)</span> <span class="br0">(</span>rotatef <span class="br0">(</span>elt sequence a<span class="br0">)</span> <span class="br0">(</span>elt sequence b<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>           <span class="br0">(</span>sub-sort <span class="br0">(</span>left right<span class="br0">)</span><br>             <span class="br0">(</span><span class="kw1">when</span> <span class="br0">(</span><span class="sy0">&lt;</span> left right<span class="br0">)</span><br>               <span class="br0">(</span><span class="kw1">let</span> <span class="br0">(</span><span class="br0">(</span>pivot <span class="br0">(</span>elt sequence right<span class="br0">)</span><span class="br0">)</span><br>                     <span class="br0">(</span>index left<span class="br0">)</span><span class="br0">)</span><br>                 <span class="br0">(</span>loop for i from left below right<br>                       <span class="kw1">when</span> <span class="br0">(</span><span class="sy0">&lt;=</span> <span class="br0">(</span>elt sequence i<span class="br0">)</span> pivot<span class="br0">)</span><br>                         <span class="kw1">do</span> <span class="br0">(</span>swap i <span class="br0">(</span><span class="kw1">prog1</span> index <span class="br0">(</span>incf index<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>                 <span class="br0">(</span>swap right index<span class="br0">)</span><br>                 <span class="br0">(</span>sub-sort left <span class="br0">(</span><span class="nu0">1</span>- index<span class="br0">)</span><span class="br0">)</span><br>                 <span class="br0">(</span>sub-sort <span class="br0">(</span><span class="nu0">1</span>+ index<span class="br0">)</span> right<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>    <span class="br0">(</span>sub-sort <span class="nu0">0</span> <span class="br0">(</span><span class="nu0">1</span>- <span class="br0">(</span><span class="kw1">length</span> sequence<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>    sequence<span class="br0">)</span><span class="br0">)</span></pre> 
        <h2><span class="mw-headline" id="Crystal"><a href="/wiki/Category:Crystal" title="Category:Crystal">Crystal</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=22" title="Edit section: Crystal">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <div class="examplemeta translation">
         <b>Translation of</b>: 
         <a href="#Ruby">Ruby</a>
        </div> 
        <pre class="ruby highlighted_source"><span class="kw1">def</span> quick_sort<span class="br0">(</span>a&nbsp;: <span class="kw3">Array</span><span class="br0">(</span>Int32<span class="br0">)</span><span class="br0">)</span>&nbsp;: <span class="kw3">Array</span><span class="br0">(</span>Int32<span class="br0">)</span><br>  <span class="kw2">return</span> a <span class="kw1">if</span> a.<span class="me1">size</span> <span class="sy0">&lt;</span>= <span class="nu0">1</span><br>  <span class="kw3">p</span> = a<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><br>  lt, rt = a<span class="br0">[</span><span class="nu0">1</span> .. <span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span>.<span class="me1">partition</span> <span class="br0">{</span> <span class="sy0">|</span>x<span class="sy0">|</span> x <span class="sy0">&lt;</span> <span class="kw3">p</span> <span class="br0">}</span><br>  <span class="kw2">return</span> quick_sort<span class="br0">(</span>lt<span class="br0">)</span> <span class="sy0">+</span> <span class="br0">[</span><span class="kw3">p</span><span class="br0">]</span> <span class="sy0">+</span> quick_sort<span class="br0">(</span>rt<span class="br0">)</span><br><span class="kw1">end</span><br>&nbsp;<br>a = <span class="br0">[</span><span class="nu0">7</span>, <span class="nu0">6</span>, <span class="nu0">5</span>, <span class="nu0">9</span>, <span class="nu0">8</span>, <span class="nu0">4</span>, <span class="nu0">3</span>, <span class="nu0">1</span>, <span class="nu0">2</span>, <span class="nu0">0</span><span class="br0">]</span><br><span class="kw3">puts</span> quick_sort<span class="br0">(</span>a<span class="br0">)</span> <span class="co1"># =&gt; [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></pre> 
        <h2><span class="mw-headline" id="Curry"><a href="/wiki/Category:Curry" title="Category:Curry">Curry</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=23" title="Edit section: Curry">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>Copied from <a rel="nofollow" class="external text" href="http://www.informatik.uni-kiel.de/~curry/examples/">Curry: Example Programs</a>. </p> 
        <pre class="text highlighted_source">-- quicksort using higher-order functions:<br>&nbsp;<br>qsort&nbsp;:: [Int] -&gt; [Int] <br>qsort []     = []<br>qsort (x:l)  = qsort (filter (&lt;x) l) ++ x&nbsp;: qsort (filter (&gt;=x) l)<br>&nbsp;<br>goal = qsort [2,3,1,0]</pre> 
        <h2><span class="mw-headline" id="D"><a href="/wiki/Category:D" title="Category:D">D</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=24" title="Edit section: D">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>A functional version: </p> 
        <pre class="d highlighted_source"><span class="kw2">import</span> std.<span class="me1">stdio</span><span class="sy0">,</span> std.<span class="me1">algorithm</span><span class="sy0">,</span> std.<span class="me1">range</span><span class="sy0">,</span> std.<span class="me1">array</span><span class="sy0">;</span><br>&nbsp;<br><span class="kw4">auto</span> quickSort<span class="br0">(</span>T<span class="br0">)</span><span class="br0">(</span>T<span class="br0">[</span><span class="br0">]</span> items<span class="br0">)</span> <span class="kw4">pure</span> <span class="kw4">nothrow</span> @<span class="kw4">safe</span> <span class="br0">{</span><br>    <span class="kw1">if</span> <span class="br0">(</span>items.<span class="me1">length</span> <span class="sy0">&lt;</span> <span class="nu0">2</span><span class="br0">)</span><br>        <span class="kw1">return</span> items<span class="sy0">;</span><br>    <span class="kw4">immutable</span> pivot <span class="sy0">=</span> items<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="sy0">;</span><br>    <span class="kw1">return</span> items<span class="br0">[</span><span class="nu0">1</span> <span class="sy0">..</span> $<span class="br0">]</span>.<span class="me1">filter</span><span class="sy0">!</span><span class="br0">(</span>x <span class="sy0">=&gt;</span> x <span class="sy0">&lt;</span> pivot<span class="br0">)</span>.<span class="me1">array</span>.<span class="me1">quickSort</span> <span class="sy0">~</span><br>           pivot <span class="sy0">~</span><br>           items<span class="br0">[</span><span class="nu0">1</span> <span class="sy0">..</span> $<span class="br0">]</span>.<span class="me1">filter</span><span class="sy0">!</span><span class="br0">(</span>x <span class="sy0">=&gt;</span> x <span class="sy0">&gt;=</span> pivot<span class="br0">)</span>.<span class="me1">array</span>.<span class="me1">quickSort</span><span class="sy0">;</span><br><span class="br0">}</span><br>&nbsp;<br><span class="kw4">void</span> main<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><br>    <span class="br0">[</span><span class="nu0">4</span><span class="sy0">,</span> <span class="nu0">65</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">31</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">99</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">83</span><span class="sy0">,</span> <span class="nu0">782</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">]</span>.<span class="me1">quickSort</span>.<span class="me1">writeln</span><span class="sy0">;</span><br><span class="br0">}</span></pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>[-31, 0, 1, 2, 2, 4, 65, 83, 99, 782]</pre> 
        <p>A simple high-level version (same output): </p> 
        <pre class="d highlighted_source"><span class="kw2">import</span> std.<span class="me1">stdio</span><span class="sy0">,</span> std.<span class="me1">array</span><span class="sy0">;</span><br>&nbsp;<br>T<span class="br0">[</span><span class="br0">]</span> quickSort<span class="br0">(</span>T<span class="br0">)</span><span class="br0">(</span>T<span class="br0">[</span><span class="br0">]</span> items<span class="br0">)</span> <span class="kw4">pure</span> <span class="kw4">nothrow</span> <span class="br0">{</span><br>    <span class="kw1">if</span> <span class="br0">(</span>items.<span class="me1">empty</span><span class="br0">)</span><br>        <span class="kw1">return</span> items<span class="sy0">;</span><br>    T<span class="br0">[</span><span class="br0">]</span> less<span class="sy0">,</span> notLess<span class="sy0">;</span><br>    <span class="kw1">foreach</span> <span class="br0">(</span>x<span class="sy0">;</span> items<span class="br0">[</span><span class="nu0">1</span> <span class="sy0">..</span> $<span class="br0">]</span><span class="br0">)</span><br>        <span class="br0">(</span>x <span class="sy0">&lt;</span> items<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span> <span class="sy0">?</span> less <span class="sy0">:</span> notLess<span class="br0">)</span> <span class="sy0">~=</span> x<span class="sy0">;</span><br>    <span class="kw1">return</span> less.<span class="me1">quickSort</span> <span class="sy0">~</span> items<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span> <span class="sy0">~</span> notLess.<span class="me1">quickSort</span><span class="sy0">;</span><br><span class="br0">}</span><br>&nbsp;<br><span class="kw4">void</span> main<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><br>    <span class="br0">[</span><span class="nu0">4</span><span class="sy0">,</span> <span class="nu0">65</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">31</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">99</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">83</span><span class="sy0">,</span> <span class="nu0">782</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">]</span>.<span class="me1">quickSort</span>.<span class="me1">writeln</span><span class="sy0">;</span><br><span class="br0">}</span></pre> 
        <p>Often short functional sieves are not a true implementations of the Sieve of Eratosthenes: <a rel="nofollow" class="external free" href="http://www.cs.hmc.edu/~oneill/papers/Sieve-JFP.pdf">http://www.cs.hmc.edu/~oneill/papers/Sieve-JFP.pdf</a> </p>
        <p>Similarly, one could argue that a true QuickSort is in-place, as this more efficient version (same output): </p> 
        <pre class="d highlighted_source"><span class="kw2">import</span> std.<span class="me1">stdio</span><span class="sy0">,</span> std.<span class="me1">algorithm</span><span class="sy0">;</span><br>&nbsp;<br><span class="kw4">void</span> quickSort<span class="br0">(</span>T<span class="br0">)</span><span class="br0">(</span>T<span class="br0">[</span><span class="br0">]</span> items<span class="br0">)</span> <span class="kw4">pure</span> <span class="kw4">nothrow</span> @<span class="kw4">safe</span> @nogc <span class="br0">{</span><br>    <span class="kw1">if</span> <span class="br0">(</span>items.<span class="me1">length</span> <span class="sy0">&gt;=</span> <span class="nu0">2</span><span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw4">auto</span> parts <span class="sy0">=</span> partition3<span class="br0">(</span>items<span class="sy0">,</span> items<span class="br0">[</span>$ <span class="sy0">/</span> <span class="nu0">2</span><span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span><br>        parts<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me1">quickSort</span><span class="sy0">;</span><br>        parts<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span>.<span class="me1">quickSort</span><span class="sy0">;</span><br>    <span class="br0">}</span><br><span class="br0">}</span><br>&nbsp;<br><span class="kw4">void</span> main<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><br>    <span class="kw4">auto</span> items <span class="sy0">=</span> <span class="br0">[</span><span class="nu0">4</span><span class="sy0">,</span> <span class="nu0">65</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">31</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">99</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">83</span><span class="sy0">,</span> <span class="nu0">782</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">]</span><span class="sy0">;</span><br>    items.<span class="me1">quickSort</span><span class="sy0">;</span><br>    items.<span class="me1">writeln</span><span class="sy0">;</span><br><span class="br0">}</span></pre> 
        <h2><span class="mw-headline" id="Dart"><a href="/wiki/Category:Dart" title="Category:Dart">Dart</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=25" title="Edit section: Dart">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">quickSort(List a) {<br>  if (a.length &lt;= 1) {<br>    return a;<br>  }<br>&nbsp;<br>  var pivot = a[0];<br>  var less = [];<br>  var more = [];<br>  var pivotList = [];<br>&nbsp;<br>  // Partition<br>  a.forEach((var i){    <br>    if (i.compareTo(pivot) &lt; 0) {<br>      less.add(i);<br>    } else if (i.compareTo(pivot) &gt; 0) {<br>      more.add(i);<br>    } else {<br>      pivotList.add(i);<br>    }<br>  });<br>&nbsp;<br>  // Recursively sort sublists<br>  less = quickSort(less);<br>  more = quickSort(more);<br>&nbsp;<br>  // Concatenate results<br>  less.addAll(pivotList);<br>  less.addAll(more);<br>  return less;<br>}<br>&nbsp;<br>void main() {<br>  var arr=[1,5,2,7,3,9,4,6,8];<br>  print("Before sort");<br>  arr.forEach((var i)=&gt;print("$i"));<br>  arr = quickSort(arr);<br>  print("After sort");<br>  arr.forEach((var i)=&gt;print("$i"));<br>}</pre> 
        <h2><span class="mw-headline" id="E"><a href="/wiki/Category:E" title="Category:E">E</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=26" title="Edit section: E">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="e highlighted_source"><a href="http://wiki.erights.org/wiki/def"><span class="kw4">def</span></a> quicksort <span class="sy0">:=</span> <span class="br0">{</span><br>&nbsp;<br>    <a href="http://wiki.erights.org/wiki/def"><span class="kw4">def</span></a> swap<span class="br0">(</span>container<span class="sy0">,</span> ixA<span class="sy0">,</span> ixB<span class="br0">)</span> <span class="br0">{</span><br>        <a href="http://wiki.erights.org/wiki/def"><span class="kw4">def</span></a> temp <span class="sy0">:=</span> container<span class="br0">[</span>ixA<span class="br0">]</span><br>        container<span class="br0">[</span>ixA<span class="br0">]</span> <span class="sy0">:=</span> container<span class="br0">[</span>ixB<span class="br0">]</span><br>        container<span class="br0">[</span>ixB<span class="br0">]</span> <span class="sy0">:=</span> temp<br>    <span class="br0">}</span><br>&nbsp;<br>    <a href="http://wiki.erights.org/wiki/def"><span class="kw4">def</span></a> partition<span class="br0">(</span>array<span class="sy0">,</span> <a href="http://wiki.erights.org/wiki/var"><span class="kw4">var</span></a> first <span class="sy0">:</span><a href="http://wiki.erights.org/wiki/int"><span class="kw6">int</span></a><span class="sy0">,</span> <a href="http://wiki.erights.org/wiki/var"><span class="kw4">var</span></a> last <span class="sy0">:</span><a href="http://wiki.erights.org/wiki/int"><span class="kw6">int</span></a><span class="br0">)</span> <span class="br0">{</span><br>        <a href="http://wiki.erights.org/wiki/if"><span class="kw1">if</span></a> <span class="br0">(</span>last <span class="sy0">&lt;=</span> first<span class="br0">)</span> <span class="br0">{</span> return <span class="br0">}</span><br>&nbsp;<br>        <span class="co1"># Choose a pivot</span><br>        <a href="http://wiki.erights.org/wiki/def"><span class="kw4">def</span></a> pivot <span class="sy0">:=</span> array<span class="br0">[</span><a href="http://wiki.erights.org/wiki/def"><span class="kw4">def</span></a> pivotIndex <span class="sy0">:=</span> <span class="br0">(</span>first <span class="sy0">+</span> last<span class="br0">)</span> <span class="sy0">//</span> <span class="nu0">2</span><span class="br0">]</span><br>&nbsp;<br>        <span class="co1"># Move pivot to end temporarily</span><br>        swap<span class="br0">(</span>array<span class="sy0">,</span> pivotIndex<span class="sy0">,</span> last<span class="br0">)</span><br>&nbsp;<br>        <a href="http://wiki.erights.org/wiki/var"><span class="kw4">var</span></a> swapWith <span class="sy0">:=</span> first<br>&nbsp;<br>        <span class="co1"># Scan array except for pivot, and...</span><br>        <a href="http://wiki.erights.org/wiki/for"><span class="kw1">for</span></a> i <a href="http://wiki.erights.org/wiki/in"><span class="kw2">in</span></a> first..<span class="sy0">!</span>last <span class="br0">{</span><br>            <a href="http://wiki.erights.org/wiki/if"><span class="kw1">if</span></a> <span class="br0">(</span>array<span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">&lt;=</span> pivot<span class="br0">)</span> <span class="br0">{</span>   <span class="co1"># items ? the pivot</span><br>                swap<span class="br0">(</span>array<span class="sy0">,</span> i<span class="sy0">,</span> swapWith<span class="br0">)</span> <span class="co1"># are moved to consecutive positions on the left</span><br>                swapWith <span class="sy0">+=</span> <span class="nu0">1</span><br>            <span class="br0">}</span><br>        <span class="br0">}</span><br>&nbsp;<br>        <span class="co1"># Swap pivot into between-partition position.</span><br>        <span class="co1"># Because of the swapping we know that everything before swapWith is less</span><br>        <span class="co1"># than or equal to the pivot, and the item at swapWith (since it was not</span><br>        <span class="co1"># swapped) is greater than the pivot, so inserting the pivot at swapWith</span><br>        <span class="co1"># will preserve the partition.</span><br>        swap<span class="br0">(</span>array<span class="sy0">,</span> swapWith<span class="sy0">,</span> last<span class="br0">)</span><br>        return swapWith<br>    <span class="br0">}</span><br>&nbsp;<br>    <a href="http://wiki.erights.org/wiki/def"><span class="kw4">def</span></a> quicksortR<span class="br0">(</span>array<span class="sy0">,</span> first <span class="sy0">:</span><a href="http://wiki.erights.org/wiki/int"><span class="kw6">int</span></a><span class="sy0">,</span> last <span class="sy0">:</span><a href="http://wiki.erights.org/wiki/int"><span class="kw6">int</span></a><span class="br0">)</span> <span class="br0">{</span><br>        <a href="http://wiki.erights.org/wiki/if"><span class="kw1">if</span></a> <span class="br0">(</span>last <span class="sy0">&lt;=</span> first<span class="br0">)</span> <span class="br0">{</span> return <span class="br0">}</span><br>        <a href="http://wiki.erights.org/wiki/def"><span class="kw4">def</span></a> pivot <span class="sy0">:=</span> partition<span class="br0">(</span>array<span class="sy0">,</span> first<span class="sy0">,</span> last<span class="br0">)</span><br>        quicksortR<span class="br0">(</span>array<span class="sy0">,</span> first<span class="sy0">,</span> pivot <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">)</span><br>        quicksortR<span class="br0">(</span>array<span class="sy0">,</span> pivot <span class="sy0">+</span> <span class="nu0">1</span><span class="sy0">,</span> last<span class="br0">)</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <a href="http://wiki.erights.org/wiki/def"><span class="kw4">def</span></a> quicksort<span class="br0">(</span>array<span class="br0">)</span> <span class="br0">{</span> <span class="co1"># returned from block</span><br>        quicksortR<span class="br0">(</span>array<span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> array.<span class="me1">size</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">)</span><br>    <span class="br0">}</span><br><span class="br0">}</span></pre> 
        <h2><span class="mw-headline" id="EchoLisp"><a href="/wiki/Category:EchoLisp" title="Category:EchoLisp">EchoLisp</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=27" title="Edit section: EchoLisp">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="scheme highlighted_source">&nbsp;<br><span class="br0">(</span>lib '<span class="kw1">list</span><span class="br0">)</span> <span class="co1">;; list-partition</span><br>&nbsp;<br><span class="br0">(</span><span class="kw1">define</span> compare <span class="nu0">0</span><span class="br0">)</span> <span class="co1">;; counter</span><br>&nbsp;<br><span class="br0">(</span><span class="kw1">define</span> <span class="br0">(</span>quicksort <span class="kw1">L</span> compare<span class="sy0">-</span>predicate: proc aux:  <span class="br0">(</span>part null<span class="br0">)</span><span class="br0">)</span><br><span class="br0">(</span><span class="kw1">if</span>  <span class="br0">(</span><span class="sy0">&lt;=</span> <span class="br0">(</span><span class="kw1">length</span> <span class="kw1">L</span><span class="br0">)</span> <span class="nu0">1</span><span class="br0">)</span> <span class="kw1">L</span><br>     <span class="br0">(</span><span class="kw1">begin</span><br>     <span class="co1">;; counting the number of comparisons</span><br>     <span class="br0">(</span><span class="kw1">set!</span> compare <span class="br0">(</span><span class="sy0">+</span> compare <span class="br0">(</span><span class="kw1">length</span> <span class="br0">(</span>rest <span class="kw1">L</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>      <span class="co1">;; pivot = first element of list</span><br>     <span class="br0">(</span><span class="kw1">set!</span> part <span class="br0">(</span>list<span class="sy0">-</span>partition <span class="br0">(</span>rest <span class="kw1">L</span><span class="br0">)</span> proc <span class="br0">(</span>first <span class="kw1">L</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>     <span class="br0">(</span><span class="kw1">append</span> <span class="br0">(</span>quicksort <span class="br0">(</span>first part<span class="br0">)</span> proc <span class="br0">)</span><br>            <span class="br0">(</span><span class="kw1">list</span> <span class="br0">(</span>first <span class="kw1">L</span><span class="br0">)</span><span class="br0">)</span> <br>            <span class="br0">(</span>quicksort <span class="br0">(</span>second part<span class="br0">)</span> proc<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>&nbsp;</pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre class="scheme highlighted_source">&nbsp;<br><span class="br0">(</span>shuffle <span class="br0">(</span>iota <span class="nu0">15</span><span class="br0">)</span><span class="br0">)</span><br>    ? <span class="br0">(</span><span class="nu0">10</span> <span class="nu0">0</span> <span class="nu0">14</span> <span class="nu0">11</span> <span class="nu0">13</span> <span class="nu0">9</span> <span class="nu0">2</span> <span class="nu0">5</span> <span class="nu0">4</span> <span class="nu0">8</span> <span class="nu0">1</span> <span class="nu0">7</span> <span class="nu0">12</span> <span class="nu0">3</span> <span class="nu0">6</span><span class="br0">)</span><br><span class="br0">(</span>quicksort <span class="br0">(</span>shuffle <span class="br0">(</span>iota <span class="nu0">15</span><span class="br0">)</span><span class="br0">)</span> <span class="sy0">&lt;</span><span class="br0">)</span><br>    ? <span class="br0">(</span><span class="nu0">0</span> <span class="nu0">1</span> <span class="nu0">2</span> <span class="nu0">3</span> <span class="nu0">4</span> <span class="nu0">5</span> <span class="nu0">6</span> <span class="nu0">7</span> <span class="nu0">8</span> <span class="nu0">9</span> <span class="nu0">10</span> <span class="nu0">11</span> <span class="nu0">12</span> <span class="nu0">13</span> <span class="nu0">14</span><span class="br0">)</span><br>&nbsp;<br><span class="co1">;; random list of numbers in [0 .. n[</span><br><span class="co1">;; count number of comparisons</span><br><span class="br0">(</span><span class="kw1">define</span> <span class="br0">(</span>qtest <span class="br0">(</span>n <span class="nu0">10000</span><span class="br0">)</span><span class="br0">)</span><br>	<span class="br0">(</span><span class="kw1">set!</span> compare <span class="nu0">0</span><span class="br0">)</span><br>	<span class="br0">(</span>quicksort <span class="br0">(</span>shuffle <span class="br0">(</span>iota n<span class="br0">)</span><span class="br0">)</span> <span class="sy0">&gt;</span><span class="br0">)</span><br>	<span class="br0">(</span>writeln 'n n 'compare# compare <span class="br0">)</span><span class="br0">)</span><br>&nbsp;<br><span class="br0">(</span>qtest <span class="nu0">1000</span><span class="br0">)</span><br>  n     <span class="nu0">1000</span>       compare#     <span class="nu0">12764</span>    <br><span class="br0">(</span>qtest <span class="nu0">10000</span><span class="br0">)</span><br>  n     <span class="nu0">10000</span>      compare#     <span class="nu0">277868</span>    <br><span class="br0">(</span>qtest <span class="nu0">100000</span><span class="br0">)</span><br>  n     <span class="nu0">100000</span>     compare#     <span class="nu0">6198601</span>    <br>&nbsp;<br>&nbsp;</pre> 
        <h2><span class="mw-headline" id="Eero"><a href="/wiki/Category:Eero" title="Category:Eero">Eero</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=28" title="Edit section: Eero">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>Translated from Objective-C example on this page. </p> 
        <pre class="objc highlighted_source"><span class="co1">#import &lt;Foundation/Foundation.h&gt;</span><br>&nbsp;<br><span class="kw4">void</span> quicksortInPlace<span class="br0">(</span>MutableArray array, <span class="kw4">const</span> <span class="kw4">long</span> first, <span class="kw4">const</span> <span class="kw4">long</span> last<span class="br0">)</span><br>  <span class="kw1">if</span> first &gt;<span class="sy0">=</span> last<br>    <span class="kw1">return</span><br>  Value pivot <span class="sy0">=</span> array<span class="br0">[</span><span class="br0">(</span>first <span class="sy0">+</span> last<span class="br0">)</span> <span class="sy0">/</span> <span class="nu0">2</span><span class="br0">]</span><br>  left <span class="sy0">:=</span> first<br>  right <span class="sy0">:=</span> last<br>  <span class="kw1">while</span> left &lt;<span class="sy0">=</span> right<br>    <span class="kw1">while</span> array<span class="br0">[</span>left<span class="br0">]</span> &lt; pivot<br>      left<span class="sy0">++</span><br>    <span class="kw1">while</span> array<span class="br0">[</span>right<span class="br0">]</span> &gt; pivot<br>      right<span class="sy0">--</span><br>    <span class="kw1">if</span> left &lt;<span class="sy0">=</span> right<br>      array.exchangeObjectAtIndex<span class="sy0">:</span> left<span class="sy0">++</span>, withObjectAtIndex<span class="sy0">:</span> right<span class="sy0">--</span><br>&nbsp;<br>  quicksortInPlace<span class="br0">(</span>array, first, right<span class="br0">)</span><br>  quicksortInPlace<span class="br0">(</span>array, left, last<span class="br0">)</span><br>&nbsp;<br>Array quicksort<span class="br0">(</span>Array unsorted<span class="br0">)</span><br>  a <span class="sy0">:=</span> <span class="br0">[</span><span class="br0">]</span><br>  a.addObjectsFromArray<span class="sy0">:</span> unsorted<br>  quicksortInPlace<span class="br0">(</span>a, <span class="nu0">0</span>, a.count <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">)</span><br>  <span class="kw1">return</span> a<br>&nbsp;<br>&nbsp;<br><span class="kw4">int</span> main<span class="br0">(</span><span class="kw4">int</span> argc, <span class="kw4">const</span> <span class="kw4">char</span> <span class="sy0">*</span> argv<span class="br0">[</span><span class="br0">]</span><span class="br0">)</span><br>  autoreleasepool<br>    a <span class="sy0">:=</span> <span class="br0">[</span><span class="nu0">1</span>, <span class="nu0">3</span>, <span class="nu0">5</span>, <span class="nu0">7</span>, <span class="nu0">9</span>, <span class="nu0">8</span>, <span class="nu0">6</span>, <span class="nu0">4</span>, <span class="nu0">2</span><span class="br0">]</span><br>    Log<span class="br0">(</span> <span class="st0">'Unsorted:&nbsp;%@'</span>, a<span class="br0">)</span><br>    Log<span class="br0">(</span> <span class="st0">'Sorted:&nbsp;%@'</span>, quicksort<span class="br0">(</span>a<span class="br0">)</span> <span class="br0">)</span><br>    b <span class="sy0">:=</span> <span class="br0">[</span><span class="st0">'Emil'</span>, <span class="st0">'Peg'</span>, <span class="st0">'Helen'</span>, <span class="st0">'Juergen'</span>, <span class="st0">'David'</span>, <span class="st0">'Rick'</span>, <span class="st0">'Barb'</span>, <span class="st0">'Mike'</span>, <span class="st0">'Tom'</span><span class="br0">]</span><br>    Log<span class="br0">(</span> <span class="st0">'Unsorted:&nbsp;%@'</span>, b<span class="br0">)</span><br>    Log<span class="br0">(</span> <span class="st0">'Sorted:&nbsp;%@'</span>, quicksort<span class="br0">(</span>b<span class="br0">)</span> <span class="br0">)</span><br>&nbsp;<br>  <span class="kw1">return</span> <span class="nu0">0</span></pre> 
        <p>Alternative implementation (not necessarily as efficient, but very readable) </p> 
        <pre class="objc highlighted_source"><span class="co1">#import &lt;Foundation/Foundation.h&gt;</span><br>&nbsp;<br>implementation Array <span class="br0">(</span>Quicksort<span class="br0">)</span><br>&nbsp;<br>  plus<span class="sy0">:</span> Array array, <span class="kw1">return</span> Array <span class="sy0">=</span> <br>    self.arrayByAddingObjectsFromArray<span class="sy0">:</span> array<br>&nbsp;<br>  filter<span class="sy0">:</span> <span class="kw4">BOOL</span> <span class="br0">(</span><span class="sy0">^</span><span class="br0">)</span><span class="br0">(</span><span class="kw4">id</span><span class="br0">)</span> predicate, <span class="kw1">return</span> Array<br>    array <span class="sy0">:=</span> <span class="br0">[</span><span class="br0">]</span><br>    <span class="kw1">for</span> <span class="kw4">id</span> item <span class="kw1">in</span> self<br>      <span class="kw1">if</span> predicate<span class="br0">(</span>item<span class="br0">)</span><br>        array.addObject<span class="sy0">:</span> item<br>    <span class="kw1">return</span> array.copy<br>&nbsp;<br>  quicksort, <span class="kw1">return</span> Array <span class="sy0">=</span> self<br>    <span class="kw1">if</span> self.count &gt; <span class="nu0">1</span>      <br>      <span class="kw4">id</span> x <span class="sy0">=</span> self<span class="br0">[</span>self.count <span class="sy0">/</span> <span class="nu0">2</span><span class="br0">]</span><br>      lesser <span class="sy0">:=</span> self.filter<span class="sy0">:</span> <span class="br0">(</span><span class="kw4">id</span> y | <span class="kw1">return</span> y &lt; x<span class="br0">)</span><br>      greater <span class="sy0">:=</span> self.filter<span class="sy0">:</span> <span class="br0">(</span><span class="kw4">id</span> y | <span class="kw1">return</span> y &gt; x<span class="br0">)</span><br>      <span class="kw1">return</span> lesser.quicksort <span class="sy0">+</span> <span class="br0">[</span>x<span class="br0">]</span> <span class="sy0">+</span> greater.quicksort<br>&nbsp;<br>end<br>&nbsp;<br><span class="kw4">int</span> main<span class="br0">(</span><span class="br0">)</span><br>  autoreleasepool<br>    a <span class="sy0">:=</span> <span class="br0">[</span><span class="nu0">1</span>, <span class="nu0">3</span>, <span class="nu0">5</span>, <span class="nu0">7</span>, <span class="nu0">9</span>, <span class="nu0">8</span>, <span class="nu0">6</span>, <span class="nu0">4</span>, <span class="nu0">2</span><span class="br0">]</span><br>    Log<span class="br0">(</span> <span class="st0">'Unsorted:&nbsp;%@'</span>, a<span class="br0">)</span><br>    Log<span class="br0">(</span> <span class="st0">'Sorted:&nbsp;%@'</span>, a.quicksort <span class="br0">)</span><br>    b <span class="sy0">:=</span> <span class="br0">[</span><span class="st0">'Emil'</span>, <span class="st0">'Peg'</span>, <span class="st0">'Helen'</span>, <span class="st0">'Juergen'</span>, <span class="st0">'David'</span>, <span class="st0">'Rick'</span>, <span class="st0">'Barb'</span>, <span class="st0">'Mike'</span>, <span class="st0">'Tom'</span><span class="br0">]</span><br>    Log<span class="br0">(</span> <span class="st0">'Unsorted:&nbsp;%@'</span>, b<span class="br0">)</span><br>    Log<span class="br0">(</span> <span class="st0">'Sorted:&nbsp;%@'</span>, b.quicksort <span class="br0">)</span><br>&nbsp;<br>  <span class="kw1">return</span> <span class="nu0">0</span></pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>2013-09-04 16:54:31.780 a.out[2201:507] Unsorted: (
    1,
    3,
    5,
    7,
    9,
    8,
    6,
    4,
    2
)
2013-09-04 16:54:31.781 a.out[2201:507] Sorted: (
    1,
    2,
    3,
    4,
    5,
    6,
    7,
    8,
    9
)
2013-09-04 16:54:31.781 a.out[2201:507] Unsorted: (
    Emil,
    Peg,
    Helen,
    Juergen,
    David,
    Rick,
    Barb,
    Mike,
    Tom
)
2013-09-04 16:54:31.782 a.out[2201:507] Sorted: (
    Barb,
    David,
    Emil,
    Helen,
    Juergen,
    Mike,
    Peg,
    Rick,
    Tom
)
</pre> 
        <h2><span class="mw-headline" id="Eiffel"><a href="/wiki/Category:Eiffel" title="Category:Eiffel">Eiffel</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=29" title="Edit section: Eiffel">edit</a><span class="mw-editsection-bracket">]</span></span></h2> The 
        <pre class="eiffel highlighted_source">QUICKSORT</pre> class: 
        <pre class="eiffel highlighted_source">&nbsp;<br><span class="kw1">class</span><br>	QUICKSORT <span class="br0">[</span>G <span class="sy0">-&gt;</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+comparable&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">COMPARABLE</span></a><span class="br0">]</span><br>&nbsp;<br><span class="kw2">create</span><br>	make<br>&nbsp;<br><span class="kw1">feature</span> <span class="br0">{</span><a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+none&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">NONE</span></a><span class="br0">}</span> <span class="co1">--Implementation</span><br>&nbsp;<br>	is_sorted <span class="br0">(</span>list<span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+array&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">ARRAY</span></a> <span class="br0">[</span>G<span class="br0">]</span><span class="br0">)</span><span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+boolean&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">BOOLEAN</span></a><br>		<span class="kw2">require</span><br>			not_void<span class="sy0">:</span> list <span class="sy0">/=</span> <span class="kw3">Void</span><br>		<span class="kw2">local</span><br>			i<span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+integer&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">INTEGER</span></a><br>		<span class="kw2">do</span><br>			<span class="kw3">Result</span> <span class="sy0">:=</span> <span class="kw3">True</span><br>			<span class="kw2">from</span><br>				i <span class="sy0">:=</span> list.<span class="me1">lower</span> <span class="sy0">+</span> <span class="nu0">1</span><br>			<span class="kw1">invariant</span><br>				i <span class="sy0">&gt;=</span> list.<span class="me1">lower</span> <span class="sy0">+</span> <span class="nu0">1</span> <span class="kw2">and</span> i <span class="sy0">&lt;=</span> list.<span class="me1">upper</span> <span class="sy0">+</span> <span class="nu0">1</span><br>			<span class="kw2">until</span><br>				i <span class="sy0">&gt;</span> list.<span class="me1">upper</span><br>			<span class="kw2">loop</span><br>				<span class="kw3">Result</span> <span class="sy0">:=</span> <span class="kw3">Result</span> <span class="kw2">and</span> list <span class="br0">[</span>i <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">]</span> <span class="sy0">&lt;=</span> list <span class="br0">[</span>i<span class="br0">]</span><br>				i <span class="sy0">:=</span> i <span class="sy0">+</span> <span class="nu0">1</span><br>			<span class="kw2">variant</span><br>				list.<span class="me1">upper</span> <span class="sy0">+</span> <span class="nu0">1</span> <span class="sy0">-</span> i<br>			<span class="kw2">end</span><br>		<span class="kw2">end</span><br>&nbsp;<br>	concatenate_array <span class="br0">(</span>a<span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+array&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">ARRAY</span></a> <span class="br0">[</span>G<span class="br0">]</span> b<span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+array&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">ARRAY</span></a> <span class="br0">[</span>G<span class="br0">]</span><span class="br0">)</span><span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+array&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">ARRAY</span></a> <span class="br0">[</span>G<span class="br0">]</span><br>		<span class="kw2">require</span><br>			not_void<span class="sy0">:</span> a <span class="sy0">/=</span> <span class="kw3">Void</span> <span class="kw2">and</span> b <span class="sy0">/=</span> <span class="kw3">Void</span><br>		<span class="kw2">do</span><br>			<span class="kw2">create</span> <span class="kw3">Result</span>.<span class="me1">make_from_array</span> <span class="br0">(</span>a<span class="br0">)</span><br>			across<br>				b <span class="kw2">as</span> t<br>			<span class="kw2">loop</span><br>				<span class="kw3">Result</span>.<span class="me1">force</span> <span class="br0">(</span>t.<span class="me1">item</span>, <span class="kw3">Result</span>.<span class="me1">upper</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span><br>			<span class="kw2">end</span><br>		<span class="kw2">ensure</span><br>			same_size<span class="sy0">:</span> a.<span class="me1">count</span> <span class="sy0">+</span> b.<span class="me1">count</span> <span class="sy0">=</span> <span class="kw3">Result</span>.<span class="me1">count</span><br>		<span class="kw2">end</span><br>&nbsp;<br>	quicksort_array <span class="br0">(</span>list<span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+array&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">ARRAY</span></a> <span class="br0">[</span>G<span class="br0">]</span><span class="br0">)</span><span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+array&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">ARRAY</span></a> <span class="br0">[</span>G<span class="br0">]</span><br>		<span class="kw2">require</span><br>			not_void<span class="sy0">:</span> list <span class="sy0">/=</span> <span class="kw3">Void</span><br>		<span class="kw2">local</span><br>			less_a<span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+array&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">ARRAY</span></a> <span class="br0">[</span>G<span class="br0">]</span><br>			equal_a<span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+array&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">ARRAY</span></a> <span class="br0">[</span>G<span class="br0">]</span><br>			more_a<span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+array&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">ARRAY</span></a> <span class="br0">[</span>G<span class="br0">]</span><br>			pivot<span class="sy0">:</span> G<br>		<span class="kw2">do</span><br>			<span class="kw2">create</span> less_a.<span class="me1">make_empty</span><br>			<span class="kw2">create</span> more_a.<span class="me1">make_empty</span><br>			<span class="kw2">create</span> equal_a.<span class="me1">make_empty</span><br>			<span class="kw2">create</span> <span class="kw3">Result</span>.<span class="me1">make_empty</span><br>			<span class="kw2">if</span> list.<span class="me1">count</span> <span class="sy0">&lt;=</span> <span class="nu0">1</span> <span class="kw2">then</span><br>				<span class="kw3">Result</span> <span class="sy0">:=</span> list<br>			<span class="kw2">else</span><br>				pivot <span class="sy0">:=</span> list <span class="br0">[</span>list.<span class="me1">lower</span><span class="br0">]</span><br>				across<br>					list <span class="kw2">as</span> li<br>				<span class="kw1">invariant</span><br>					less_a.<span class="me1">count</span> <span class="sy0">+</span> equal_a.<span class="me1">count</span> <span class="sy0">+</span> more_a.<span class="me1">count</span> <span class="sy0">&lt;=</span> list.<span class="me1">count</span><br>				<span class="kw2">loop</span><br>					<span class="kw2">if</span> li.<span class="me1">item</span> <span class="sy0">&lt;</span> pivot <span class="kw2">then</span><br>						less_a.<span class="me1">force</span> <span class="br0">(</span>li.<span class="me1">item</span>, less_a.<span class="me1">upper</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span><br>					<span class="kw2">elseif</span> li.<span class="me1">item</span> <span class="sy0">=</span> pivot <span class="kw2">then</span><br>						equal_a.<span class="me1">force</span> <span class="br0">(</span>li.<span class="me1">item</span>, equal_a.<span class="me1">upper</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span><br>					<span class="kw2">elseif</span> li.<span class="me1">item</span> <span class="sy0">&gt;</span> pivot <span class="kw2">then</span><br>						more_a.<span class="me1">force</span> <span class="br0">(</span>li.<span class="me1">item</span>, more_a.<span class="me1">upper</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span><br>					<span class="kw2">end</span><br>				<span class="kw2">end</span><br>				<span class="kw3">Result</span> <span class="sy0">:=</span> concatenate_array <span class="br0">(</span><span class="kw3">Result</span>, quicksort_array <span class="br0">(</span>less_a<span class="br0">)</span><span class="br0">)</span><br>				<span class="kw3">Result</span> <span class="sy0">:=</span> concatenate_array <span class="br0">(</span><span class="kw3">Result</span>, equal_a<span class="br0">)</span><br>				<span class="kw3">Result</span> <span class="sy0">:=</span> concatenate_array <span class="br0">(</span><span class="kw3">Result</span>, quicksort_array <span class="br0">(</span>more_a<span class="br0">)</span><span class="br0">)</span><br>			<span class="kw2">end</span><br>		<span class="kw2">ensure</span><br>			same_size<span class="sy0">:</span> list.<span class="me1">count</span> <span class="sy0">=</span> <span class="kw3">Result</span>.<span class="me1">count</span><br>			sorted<span class="sy0">:</span> is_sorted <span class="br0">(</span><span class="kw3">Result</span><span class="br0">)</span><br>		<span class="kw2">end</span><br>&nbsp;<br><span class="kw1">feature</span> <span class="co1">-- Initialization</span><br>&nbsp;<br>	make<br>		<span class="kw2">do</span><br>		<span class="kw2">end</span><br>&nbsp;<br>	quicksort <span class="br0">(</span>a<span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+array&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">ARRAY</span></a> <span class="br0">[</span>G<span class="br0">]</span><span class="br0">)</span><span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+array&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">ARRAY</span></a> <span class="br0">[</span>G<span class="br0">]</span><br>		<span class="kw2">do</span><br>			<span class="kw3">Result</span> <span class="sy0">:=</span> quicksort_array <span class="br0">(</span>a<span class="br0">)</span><br>		<span class="kw2">end</span><br>&nbsp;<br><span class="kw2">end</span><br>&nbsp;</pre> 
        <p>A test application: </p> 
        <pre class="eiffel highlighted_source">&nbsp;<br><span class="kw1">class</span><br>	APPLICATION<br>&nbsp;<br><span class="kw2">create</span><br>	make<br>&nbsp;<br><span class="kw1">feature</span> <span class="br0">{</span><a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+none&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">NONE</span></a><span class="br0">}</span> <span class="co1">-- Initialization</span><br>&nbsp;<br>	make<br>			<span class="co1">-- Run application.</span><br>		<span class="kw2">local</span><br>			test<span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+array&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">ARRAY</span></a> <span class="br0">[</span><a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+integer&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">INTEGER</span></a><span class="br0">]</span><br>			sorted<span class="sy0">:</span> <a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+array&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">ARRAY</span></a> <span class="br0">[</span><a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+integer&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">INTEGER</span></a><span class="br0">]</span><br>			sorter<span class="sy0">:</span> QUICKSORT <span class="br0">[</span><a href="http://www.google.com/search?q=site%3Ahttp%3A%2F%2Fdocs.eiffel.com%2Feiffelstudio%2Flibraries+integer&amp;btnI=I%27m+Feeling+Lucky"><span class="kw4">INTEGER</span></a><span class="br0">]</span><br>		<span class="kw2">do</span><br>			<span class="kw2">create</span> sorter.<span class="me1">make</span><br>			test <span class="sy0">:=</span> <span class="sy0">&lt;&lt;</span><span class="nu0">1</span>, <span class="nu0">3</span>, <span class="nu0">2</span>, <span class="nu0">4</span>, <span class="nu0">5</span>, <span class="nu0">5</span>, <span class="nu0">7</span>, <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">&gt;&gt;</span><br>			sorted <span class="sy0">:=</span> sorter.<span class="me1">quicksort</span> <span class="br0">(</span>test<span class="br0">)</span><br>			across<br>				sorted <span class="kw2">as</span> s<br>			<span class="kw2">loop</span><br>				print <span class="br0">(</span>s.<span class="me1">item</span><span class="br0">)</span><br>				print <span class="br0">(</span><span class="st0">" "</span><span class="br0">)</span><br>			<span class="kw2">end</span><br>			print <span class="br0">(</span><span class="st0">"<span class="es0">%N</span>"</span><span class="br0">)</span><br>		<span class="kw2">end</span><br>&nbsp;<br><span class="kw2">end</span><br>&nbsp;</pre> 
        <h2><span class="mw-headline" id="Elixir"><a href="/wiki/Category:Elixir" title="Category:Elixir">Elixir</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=30" title="Edit section: Elixir">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">&nbsp;<br>defmodule QuickSort do<br>  def qsort([]), do: []<br>&nbsp;<br>  def qsort([_|_] = list) do<br>    List.flatten do_qsort(list)<br>  end<br>&nbsp;<br>  defp do_qsort([pivot | rest]) do<br>    {left, right} = Enum.split_with(rest, &amp;(&amp;1 &lt; pivot))<br>    [qsort(left), pivot, qsort(right)]<br>  end<br>end<br>&nbsp;</pre> 
        <h2><span class="mw-headline" id="Erlang"><a href="/wiki/Category:Erlang" title="Category:Erlang">Erlang</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=31" title="Edit section: Erlang">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>like haskell. Used by <a href="/wiki/Measure_relative_performance_of_sorting_algorithms_implementations" title="Measure relative performance of sorting algorithms implementations" class="mw-redirect">Measure_relative_performance_of_sorting_algorithms_implementations</a>. If changed keep the interface or change <a href="/wiki/Measure_relative_performance_of_sorting_algorithms_implementations" title="Measure relative performance of sorting algorithms implementations" class="mw-redirect">Measure_relative_performance_of_sorting_algorithms_implementations</a> </p> 
        <pre class="erlang highlighted_source">&nbsp;<br><span class="sy3">-</span><span class="re2">module</span><span class="br0">(</span> quicksort <span class="br0">)</span><span class="sy1">.</span><br>&nbsp;<br><span class="sy3">-</span><span class="re2">export</span><span class="br0">(</span> <span class="br0">[</span>qsort<span class="sy3">/</span><span class="nu0">1</span><span class="br0">]</span> <span class="br0">)</span><span class="sy1">.</span><br>&nbsp;<br><span class="re3">qsort</span><span class="br0">(</span><span class="br0">[</span><span class="br0">]</span><span class="br0">)</span> <span class="sy1">-&gt;</span> <span class="br0">[</span><span class="br0">]</span><span class="sy1">;</span><br><span class="re3">qsort</span><span class="br0">(</span><span class="br0">[</span><span class="re5">X</span>|Xs<span class="br0">]</span><span class="br0">)</span> <span class="sy1">-&gt;</span><br>   <span class="re3">qsort</span><span class="br0">(</span><span class="br0">[</span> <span class="re5">Y</span> <span class="sy3">||</span> <span class="re5">Y</span> <span class="sy3">&lt;-</span> <span class="re5">Xs</span><span class="sy1">,</span> <span class="re5">Y</span> <span class="sy3">&lt;</span> <span class="re5">X</span><span class="br0">]</span><span class="br0">)</span> <span class="sy3">++</span> <span class="br0">[</span><span class="re5">X</span><span class="br0">]</span> <span class="sy3">++</span> <span class="re3">qsort</span><span class="br0">(</span><span class="br0">[</span> <span class="re5">Y</span> <span class="sy3">||</span> <span class="re5">Y</span> <span class="sy3">&lt;-</span> <span class="re5">Xs</span><span class="sy1">,</span> <span class="re5">Y</span> <span class="sy3">&gt;=</span> <span class="re5">X</span><span class="br0">]</span><span class="br0">)</span><span class="sy1">.</span><br>&nbsp;</pre> 
        <p>multi-process implementation (number processes = number of processor cores): </p> 
        <pre class="erlang highlighted_source">&nbsp;<br><span class="re3">quick_sort</span><span class="br0">(</span><span class="re5">L</span><span class="br0">)</span> <span class="sy1">-&gt;</span> <span class="re3">qs</span><span class="br0">(</span><span class="re5">L</span><span class="sy1">,</span> <span class="kw3">trunc</span><span class="br0">(</span><a href="http://erlang.org/doc/man/math.html"><span class="kw5">math</span></a>:<span class="re3">log2</span><span class="br0">(</span><a href="http://erlang.org/doc/man/erlang.html"><span class="kw5">erlang</span></a>:<span class="re3">system_info</span><span class="br0">(</span>schedulers<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="sy1">.</span><br>&nbsp;<br><span class="re3">qs</span><span class="br0">(</span><span class="br0">[</span><span class="br0">]</span><span class="sy1">,</span><span class="re5">_</span><span class="br0">)</span> <span class="sy1">-&gt;</span> <span class="br0">[</span><span class="br0">]</span><span class="sy1">;</span><br><span class="re3">qs</span><span class="br0">(</span><span class="br0">[</span><span class="re5">H</span>|T<span class="br0">]</span><span class="sy1">,</span> <span class="re5">N</span><span class="br0">)</span> <span class="kw1">when</span> <span class="re5">N</span> <span class="sy3">&gt;</span> <span class="nu0">0</span>  <span class="sy1">-&gt;</span> <br>    <span class="br0">{</span><span class="re5">Parent</span><span class="sy1">,</span> <span class="re5">Ref</span><span class="br0">}</span> <span class="sy3">=</span> <span class="br0">{</span><span class="kw3">self</span><span class="br0">(</span><span class="br0">)</span><span class="sy1">,</span> <span class="kw3">make_ref</span><span class="br0">(</span><span class="br0">)</span><span class="br0">}</span><span class="sy1">,</span><br>    <span class="kw3">spawn</span><span class="br0">(</span><span class="kw1">fun</span><span class="br0">(</span><span class="br0">)</span><span class="sy1">-&gt;</span> <span class="re5">Parent</span> <span class="sy3">!</span> <span class="br0">{</span>l1<span class="sy1">,</span> <span class="re5">Ref</span><span class="sy1">,</span> <span class="re3">qs</span><span class="br0">(</span><span class="br0">[</span><span class="re5">E</span><span class="sy3">||</span>E<span class="sy3">&lt;-</span><span class="re5">T</span><span class="sy1">,</span> <span class="re5">E</span><span class="sy3">&lt;</span><span class="re5">H</span><span class="br0">]</span><span class="sy1">,</span> <span class="re5">N</span><span class="sy3">-</span><span class="nu0">1</span><span class="br0">)</span><span class="br0">}</span> <span class="kw1">end</span><span class="br0">)</span><span class="sy1">,</span> <br>    <span class="kw3">spawn</span><span class="br0">(</span><span class="kw1">fun</span><span class="br0">(</span><span class="br0">)</span><span class="sy1">-&gt;</span> <span class="re5">Parent</span> <span class="sy3">!</span> <span class="br0">{</span>l2<span class="sy1">,</span> <span class="re5">Ref</span><span class="sy1">,</span> <span class="re3">qs</span><span class="br0">(</span><span class="br0">[</span><span class="re5">E</span><span class="sy3">||</span>E<span class="sy3">&lt;-</span><span class="re5">T</span><span class="sy1">,</span> <span class="re5">H</span> <span class="sy3">=&lt;</span> <span class="re5">E</span><span class="br0">]</span><span class="sy1">,</span> <span class="re5">N</span><span class="sy3">-</span><span class="nu0">1</span><span class="br0">)</span><span class="br0">}</span> <span class="kw1">end</span><span class="br0">)</span><span class="sy1">,</span> <br>    <span class="br0">{</span><span class="re5">L1</span><span class="sy1">,</span> <span class="re5">L2</span><span class="br0">}</span> <span class="sy3">=</span> <span class="re3">receive_results</span><span class="br0">(</span><span class="re5">Ref</span><span class="sy1">,</span> undefined<span class="sy1">,</span> undefined<span class="br0">)</span><span class="sy1">,</span> <br>    <span class="re5">L1</span> <span class="sy3">++</span> <span class="br0">[</span><span class="re5">H</span><span class="br0">]</span> <span class="sy3">++</span> <span class="re5">L2</span><span class="sy1">;</span><br><span class="re3">qs</span><span class="br0">(</span><span class="br0">[</span><span class="re5">H</span>|T<span class="br0">]</span><span class="sy1">,</span><span class="re5">_</span><span class="br0">)</span> <span class="sy1">-&gt;</span><br>    <span class="re3">qs</span><span class="br0">(</span><span class="br0">[</span><span class="re5">E</span><span class="sy3">||</span>E<span class="sy3">&lt;-</span><span class="re5">T</span><span class="sy1">,</span> <span class="re5">E</span><span class="sy3">&lt;</span><span class="re5">H</span><span class="br0">]</span><span class="sy1">,</span><span class="nu0">0</span><span class="br0">)</span> <span class="sy3">++</span> <span class="br0">[</span><span class="re5">H</span><span class="br0">]</span> <span class="sy3">++</span> <span class="re3">qs</span><span class="br0">(</span><span class="br0">[</span><span class="re5">E</span><span class="sy3">||</span>E<span class="sy3">&lt;-</span><span class="re5">T</span><span class="sy1">,</span> <span class="re5">H</span> <span class="sy3">=&lt;</span> <span class="re5">E</span><span class="br0">]</span><span class="sy1">,</span><span class="nu0">0</span><span class="br0">)</span><span class="sy1">.</span><br>&nbsp;<br><span class="re3">receive_results</span><span class="br0">(</span><span class="re5">Ref</span><span class="sy1">,</span> <span class="re5">L1</span><span class="sy1">,</span> <span class="re5">L2</span><span class="br0">)</span> <span class="sy1">-&gt;</span><br>    <span class="kw1">receive</span><br>        <span class="br0">{</span>l1<span class="sy1">,</span> <span class="re5">Ref</span><span class="sy1">,</span> <span class="re5">L1R</span><span class="br0">}</span> <span class="kw1">when</span> <span class="re5">L2</span> <span class="sy3">==</span> undefined <span class="sy1">-&gt;</span> <span class="re3">receive_results</span><span class="br0">(</span><span class="re5">Ref</span><span class="sy1">,</span> <span class="re5">L1R</span><span class="sy1">,</span> <span class="re5">L2</span><span class="br0">)</span><span class="sy1">;</span><br>        <span class="br0">{</span>l2<span class="sy1">,</span> <span class="re5">Ref</span><span class="sy1">,</span> <span class="re5">L2R</span><span class="br0">}</span> <span class="kw1">when</span> <span class="re5">L1</span> <span class="sy3">==</span> undefined <span class="sy1">-&gt;</span> <span class="re3">receive_results</span><span class="br0">(</span><span class="re5">Ref</span><span class="sy1">,</span> <span class="re5">L1</span><span class="sy1">,</span> <span class="re5">L2R</span><span class="br0">)</span><span class="sy1">;</span><br>        <span class="br0">{</span>l1<span class="sy1">,</span> <span class="re5">Ref</span><span class="sy1">,</span> <span class="re5">L1R</span><span class="br0">}</span> <span class="sy1">-&gt;</span> <span class="br0">{</span><span class="re5">L1R</span><span class="sy1">,</span> <span class="re5">L2</span><span class="br0">}</span><span class="sy1">;</span><br>        <span class="br0">{</span>l2<span class="sy1">,</span> <span class="re5">Ref</span><span class="sy1">,</span> <span class="re5">L2R</span><span class="br0">}</span> <span class="sy1">-&gt;</span> <span class="br0">{</span><span class="re5">L1</span><span class="sy1">,</span> <span class="re5">L2R</span><span class="br0">}</span><br>    <span class="kw1">after</span> <span class="nu0">5000</span> <span class="sy1">-&gt;</span> <span class="re3">receive_results</span><span class="br0">(</span><span class="re5">Ref</span><span class="sy1">,</span> <span class="re5">L1</span><span class="sy1">,</span> <span class="re5">L2</span><span class="br0">)</span><br>    <span class="kw1">end</span><span class="sy1">.</span><br>&nbsp;</pre> 
        <h2><span class="mw-headline" id="ERRE"><a href="/wiki/Category:ERRE" title="Category:ERRE">ERRE</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=32" title="Edit section: ERRE">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">&nbsp;<br>PROGRAM QUICKSORT_DEMO<br>&nbsp;<br>DIM ARRAY[21]<br>&nbsp;<br>!$DYNAMIC<br>DIM QSTACK[0]<br>&nbsp;<br>!$INCLUDE="PC.LIB"<br>&nbsp;<br>PROCEDURE QSORT(ARRAY[],START,NUM)<br>  FIRST=START              &nbsp;! initialize work variables<br>  LAST=START+NUM-1<br>  LOOP<br>    REPEAT<br>      TEMP=ARRAY[(LAST+FIRST) DIV 2] &nbsp;! seek midpoint<br>      I=FIRST<br>      J=LAST<br>      REPEAT    &nbsp;! reverse both &lt; and &gt; below to sort descending<br>      WHILE ARRAY[I]&lt;TEMP DO<br>        I=I+1<br>        END WHILE<br>        WHILE ARRAY[J]&gt;TEMP DO<br>          J=J-1<br>        END WHILE<br>        EXIT IF I&gt;J<br>        IF I&lt;J THEN SWAP(ARRAY[I],ARRAY[J]) END IF<br>        I=I+1<br>        J=J-1<br>      UNTIL NOT(I&lt;=J)<br>      IF I&lt;LAST THEN            &nbsp;! Done<br>         QSTACK[SP]=I           &nbsp;! Push I<br>         QSTACK[SP+1]=LAST      &nbsp;! Push Last<br>         SP=SP+2<br>      END IF<br>      LAST=J<br>    UNTIL NOT(FIRST&lt;LAST)<br>&nbsp;<br>    EXIT IF SP=0<br>    SP=SP-2<br>    FIRST=QSTACK[SP]           &nbsp;! Pop First<br>    LAST=QSTACK[SP+1]          &nbsp;! Pop Last<br>  END LOOP<br>END PROCEDURE<br>&nbsp;<br>BEGIN<br>   RANDOMIZE(TIMER)             &nbsp;! generate a new series each run<br>&nbsp;<br>                                &nbsp;! create an array<br>   FOR X=1 TO 21 DO             &nbsp;! fill with random numbers<br>       ARRAY[X]=RND(1)*500      &nbsp;! between 0 and 500<br>   END FOR<br>   PRIMO=6                      &nbsp;! sort starting here<br>   NUM=10                       &nbsp;! sort this many elements<br>   CLS<br>   PRINT("Before Sorting:";TAB(31);"After sorting:")<br>   PRINT("===============";TAB(31);"==============")<br>   FOR X=1 TO 21 DO             &nbsp;! show them before sorting<br>      IF X&gt;=PRIMO AND X&lt;=PRIMO+NUM-1 THEN<br>         PRINT("==&gt;";)<br>      END IF<br>      PRINT(TAB(5);)<br>      WRITE("###.##";ARRAY[X])<br>   END FOR<br>&nbsp;<br>! create a stack<br>!$DIM QSTACK[INT(NUM/5)+10]<br>   QSORT(ARRAY[],PRIMO,NUM)<br>!$ERASE QSTACK<br>&nbsp;<br>   LOCATE(2,1)<br>   FOR X=1 TO 21 DO               &nbsp;! print them after sorting<br>      LOCATE(2+X,30)<br>      IF X&gt;=PRIMO AND X&lt;=PRIMO+NUM-1 THEN<br>         PRINT("==&gt;";)            &nbsp;! point to sorted items<br>      END IF<br>      LOCATE(2+X,35)<br>      WRITE("###.##";ARRAY[X])<br>   END FOR<br>END PROGRAM<br>&nbsp;</pre> 
        <h2><span class="mw-headline" id="F.23"><a href="/wiki/Category:F_Sharp" title="Category:F Sharp">F#</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=33" title="Edit section: F#">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="fsharp highlighted_source">&nbsp;<br><span class="kw1">let</span> <span class="kw1">rec</span> qsort <span class="sy0">=</span> <span class="kw1">function</span><br>    <span class="br0">[</span><span class="br0">]</span> <span class="sy0">-&gt;</span> <span class="br0">[</span><span class="br0">]</span><br>    | hd&nbsp;:: tl <span class="sy0">-&gt;</span><br>        <span class="kw1">let</span> less, greater <span class="sy0">=</span> <a href="http://research.microsoft.com/en-us/um/cambridge/projects/fsharp/manual/namespaces.html"><span class="kw2">List</span></a>.<span class="me1">partition</span> <span class="br0">(</span><span class="br0">(</span><span class="sy0">&gt;=</span><span class="br0">)</span> hd<span class="br0">)</span> tl<br>        <a href="http://research.microsoft.com/en-us/um/cambridge/projects/fsharp/manual/namespaces.html"><span class="kw2">List</span></a>.<span class="me1">concat</span> <span class="br0">[</span>qsort less<span class="sy0">;</span> <span class="br0">[</span>hd<span class="br0">]</span><span class="sy0">;</span> qsort greater<span class="br0">]</span><br>&nbsp;</pre> 
        <h2><span class="mw-headline" id="Factor"><a href="/wiki/Category:Factor" title="Category:Factor">Factor</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=34" title="Edit section: Factor">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">: qsort ( seq -- seq )<br>    dup empty? [ <br>      unclip [ [ &lt; ] curry partition [ qsort ] <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="a0c2c9e0">[email&nbsp;protected]</a> ] keep<br>      prefix append<br>    ] unless&nbsp;;</pre> 
        <h2><span class="mw-headline" id="Fexl"><a href="/wiki/Category:Fexl" title="Category:Fexl">Fexl</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=35" title="Edit section: Fexl">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source"># (sort xs) is the ordered list of all elements in list xs.<br># This version preserves duplicates.<br>\sort== <br>    (\xs<br>    xs [] \x\xs<br>    append (sort; filter (gt x) xs);   # all the items less than x<br>    cons x; append (filter (eq x) xs); # all the items equal to x<br>    sort; filter (lt x) xs             # all the items greater than x<br>    )<br>&nbsp;<br># (unique xs) is the ordered list of unique elements in list xs.<br>\unique==<br>    (\xs<br>    xs [] \x\xs<br>    append (unique; filter (gt x) xs); # all the items less than x<br>    cons x;                            # x itself<br>    unique; filter (lt x) xs           # all the items greater than x<br>    )<br>&nbsp;</pre> 
        <h2><span class="mw-headline" id="Forth"><a href="/wiki/Category:Forth" title="Category:Forth">Forth</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=36" title="Edit section: Forth">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">: mid ( l r -- mid ) over - 2/ -cell and +&nbsp;;<br>&nbsp;<br>: exch ( addr1 addr2 -- ) dup @ &gt;r over @ swap&nbsp;! r&gt; swap&nbsp;!&nbsp;;<br>&nbsp;<br>: partition ( l r -- l r r2 l2 )<br>  2dup mid @ &gt;r ( r: pivot )<br>  2dup begin<br>    swap begin dup @  <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e694a6">[email&nbsp;protected]</a> &lt; while cell+ repeat<br>    swap begin <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="681a28">[email&nbsp;protected]</a> over @ &lt; while cell- repeat<br>    2dup &lt;= if 2dup exch &gt;r cell+ r&gt; cell- then<br>  2dup &gt; until  r&gt; drop&nbsp;;<br>&nbsp;<br>: qsort ( l r -- )<br>  partition  swap rot<br>  \ 2over 2over - + &lt; if 2swap then<br>  2dup &lt; if recurse else 2drop then<br>  2dup &lt; if recurse else 2drop then&nbsp;;<br>&nbsp;<br>: sort ( array len -- )<br>  dup 2 &lt; if 2drop exit then<br>  1- cells over + qsort&nbsp;;</pre> 
        <h2><span class="mw-headline" id="Fortran"><a href="/wiki/Category:Fortran" title="Category:Fortran">Fortran</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=37" title="Edit section: Fortran">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <div class="examplemeta workswith">
         <b>Works with</b>: 
         <a href="/wiki/Fortran" title="Fortran" class="mw-redirect">Fortran</a> version 90 and later
        </div> 
        <pre class="fortran highlighted_source"><span class="kw1">module</span> qsort_mod<br>&nbsp;<br><span class="kw3">implicit</span> <span class="kw3">none</span><br>&nbsp;<br><span class="kw3">type</span> group<br>    <span class="kw3">integer</span> <span class="sy0">::</span> <span class="me2">order</span>    <span class="co1">! original order of unsorted data</span><br>    <span class="kw3">real</span> <span class="sy0">::</span> <span class="me2">value</span>       <span class="co1">! values to be sorted by</span><br><span class="kw1">end</span> <span class="kw3">type</span> group<br>&nbsp;<br><span class="co1">contains</span><br>&nbsp;<br><span class="kw1">recursive</span> <span class="kw1">subroutine</span> QSort<span class="br0">(</span>a,na<span class="br0">)</span><br>&nbsp;<br><span class="co1">! DUMMY ARGUMENTS</span><br><span class="kw3">integer</span>, <span class="kw3">intent</span><span class="br0">(</span><span class="kw3">in</span><span class="br0">)</span> <span class="sy0">::</span> <span class="me2">nA</span><br><span class="kw3">type</span> <span class="br0">(</span>group<span class="br0">)</span>, <span class="kw3">dimension</span><span class="br0">(</span>nA<span class="br0">)</span>, <span class="kw3">intent</span><span class="br0">(</span><span class="kw3">in</span> <span class="kw3">out</span><span class="br0">)</span> <span class="sy0">::</span> <span class="me2">A</span><br>&nbsp;<br><span class="co1">! LOCAL VARIABLES</span><br><span class="kw3">integer</span> <span class="sy0">::</span> <span class="me2">left</span>, right<br><span class="kw3">real</span> <span class="sy0">::</span> <span class="me2">random</span><br><span class="kw3">real</span> <span class="sy0">::</span> <span class="me2">pivot</span><br><span class="kw3">type</span> <span class="br0">(</span>group<span class="br0">)</span> <span class="sy0">::</span> <span class="me2">temp</span><br><span class="kw3">integer</span> <span class="sy0">::</span> <span class="me2">marker</span><br>&nbsp;<br>    <span class="kw1">if</span> <span class="br0">(</span>nA &gt; <span class="nu0">1</span><span class="br0">)</span> <span class="kw1">then</span><br>&nbsp;<br>        <span class="kw1">call</span> <span class="kw4">random_number</span><span class="br0">(</span>random<span class="br0">)</span><br>        pivot <span class="sy0">=</span> A<span class="br0">(</span><span class="kw4">int</span><span class="br0">(</span>random<span class="sy0">*</span><span class="kw3">real</span><span class="br0">(</span>nA<span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">+</span><span class="nu0">1</span><span class="br0">)</span><span class="sy0">%</span>value   <span class="co1">! random pivor (not best performance, but avoids worst-case)</span><br>        left <span class="sy0">=</span> <span class="nu0">0</span><br>        right <span class="sy0">=</span> nA <span class="sy0">+</span> <span class="nu0">1</span><br>&nbsp;<br>        <span class="kw1">do</span> <span class="kw1">while</span> <span class="br0">(</span>left &lt; right<span class="br0">)</span><br>            right <span class="sy0">=</span> right <span class="sy0">-</span> <span class="nu0">1</span><br>            <span class="kw1">do</span> <span class="kw1">while</span> <span class="br0">(</span>A<span class="br0">(</span>right<span class="br0">)</span><span class="sy0">%</span>value &gt; pivot<span class="br0">)</span><br>                right <span class="sy0">=</span> right <span class="sy0">-</span> <span class="nu0">1</span><br>            <span class="kw1">end</span> <span class="kw1">do</span><br>            left <span class="sy0">=</span> left <span class="sy0">+</span> <span class="nu0">1</span><br>            <span class="kw1">do</span> <span class="kw1">while</span> <span class="br0">(</span>A<span class="br0">(</span>left<span class="br0">)</span><span class="sy0">%</span>value &lt; pivot<span class="br0">)</span><br>                left <span class="sy0">=</span> left <span class="sy0">+</span> <span class="nu0">1</span><br>            <span class="kw1">end</span> <span class="kw1">do</span><br>            <span class="kw1">if</span> <span class="br0">(</span>left &lt; right<span class="br0">)</span> <span class="kw1">then</span><br>                temp <span class="sy0">=</span> A<span class="br0">(</span>left<span class="br0">)</span><br>                A<span class="br0">(</span>left<span class="br0">)</span> <span class="sy0">=</span> A<span class="br0">(</span>right<span class="br0">)</span><br>                A<span class="br0">(</span>right<span class="br0">)</span> <span class="sy0">=</span> temp<br>            <span class="kw1">end</span> <span class="kw1">if</span><br>        <span class="kw1">end</span> <span class="kw1">do</span><br>&nbsp;<br>        <span class="kw1">if</span> <span class="br0">(</span>left <span class="sy0">==</span> right<span class="br0">)</span> <span class="kw1">then</span><br>            marker <span class="sy0">=</span> left <span class="sy0">+</span> <span class="nu0">1</span><br>        <span class="kw1">else</span><br>            marker <span class="sy0">=</span> left<br>        <span class="kw1">end</span> <span class="kw1">if</span><br>&nbsp;<br>        <span class="kw1">call</span> QSort<span class="br0">(</span>A<span class="br0">(</span><span class="sy0">:</span>marker<span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span>,marker<span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span><br>        <span class="kw1">call</span> QSort<span class="br0">(</span>A<span class="br0">(</span>marker<span class="sy0">:</span><span class="br0">)</span>,nA<span class="sy0">-</span>marker<span class="sy0">+</span><span class="nu0">1</span><span class="br0">)</span><br>&nbsp;<br>    <span class="kw1">end</span> <span class="kw1">if</span><br>&nbsp;<br><span class="kw1">end</span> <span class="kw1">subroutine</span> QSort<br>&nbsp;<br><span class="kw1">end</span> <span class="kw1">module</span> qsort_mod<br>&nbsp;<br><span class="co1">! Test Qsort Module</span><br><span class="kw1">program</span> qsort_test<br><span class="kw3">use</span> qsort_mod<br><span class="kw3">implicit</span> <span class="kw3">none</span><br>&nbsp;<br><span class="kw3">integer</span>, <span class="kw3">parameter</span> <span class="sy0">::</span> <span class="me2">l</span> <span class="sy0">=</span> <span class="nu0">8</span><br><span class="kw3">type</span> <span class="br0">(</span>group<span class="br0">)</span>, <span class="kw3">dimension</span><span class="br0">(</span>l<span class="br0">)</span> <span class="sy0">::</span> <span class="me2">A</span><br><span class="kw3">integer</span>, <span class="kw3">dimension</span><span class="br0">(</span><span class="nu0">12</span><span class="br0">)</span> <span class="sy0">::</span> <span class="me2">seed</span> <span class="sy0">=</span> <span class="br0">[</span><span class="nu0">1</span>, <span class="nu0">2</span>, <span class="nu0">3</span>, <span class="nu0">4</span>, <span class="nu0">5</span>, <span class="nu0">6</span>, <span class="nu0">7</span>, <span class="nu0">8</span>, <span class="nu0">9</span>, <span class="nu0">10</span>, <span class="nu0">11</span>, <span class="nu0">12</span><span class="br0">]</span><br><span class="kw3">integer</span> <span class="sy0">::</span> <span class="me2">i</span><br><span class="kw3">real</span> <span class="sy0">::</span> <span class="me2">random</span><br>&nbsp;<br>    write <span class="br0">(</span><span class="sy0">*</span>,<span class="sy0">*</span><span class="br0">)</span> <span class="st0">"Unsorted Values:"</span><br>    <span class="kw1">call</span> <span class="kw4">random_seed</span><span class="br0">(</span>put <span class="sy0">=</span> seed<span class="br0">)</span><br>    <span class="kw1">do</span> i <span class="sy0">=</span> <span class="nu0">1</span>, l<br>        <span class="kw1">call</span> <span class="kw4">random_number</span><span class="br0">(</span>random<span class="br0">)</span><br>        A<span class="br0">(</span>i<span class="br0">)</span><span class="sy0">%</span>value <span class="sy0">=</span> random<br>        A<span class="br0">(</span>i<span class="br0">)</span><span class="sy0">%</span>order <span class="sy0">=</span> i<br>        <span class="kw1">if</span> <span class="br0">(</span><span class="kw4">mod</span><span class="br0">(</span>i,<span class="nu0">4</span><span class="br0">)</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span> write <span class="br0">(</span><span class="sy0">*</span>,<span class="st0">"(4(I5,1X,F8.6))"</span><span class="br0">)</span> A<span class="br0">(</span>i<span class="sy0">-</span><span class="nu0">3</span><span class="sy0">:</span>i<span class="br0">)</span><br>    <span class="kw1">end</span> <span class="kw1">do</span><br>&nbsp;<br>    <span class="kw1">call</span> QSort<span class="br0">(</span>A,l<span class="br0">)</span><br>    write <span class="br0">(</span><span class="sy0">*</span>,<span class="sy0">*</span><span class="br0">)</span> <span class="st0">"Sorted Values:"</span><br>    <span class="kw1">do</span> i <span class="sy0">=</span> <span class="nu0">4</span>, l, <span class="nu0">4</span><br>        <span class="kw1">if</span> <span class="br0">(</span><span class="kw4">mod</span><span class="br0">(</span>i,<span class="nu0">4</span><span class="br0">)</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span> write <span class="br0">(</span><span class="sy0">*</span>,<span class="st0">"(4(I5,1X,F8.6))"</span><span class="br0">)</span> A<span class="br0">(</span>i<span class="sy0">-</span><span class="nu0">3</span><span class="sy0">:</span>i<span class="br0">)</span><br>    <span class="kw1">end</span> <span class="kw1">do</span><br>&nbsp;<br><span class="kw1">end</span> <span class="kw1">program</span> qsort_test</pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>Compiled with GNU Fortran 4.6.3 
 Unsorted Values:
    1 0.228570    2 0.352733    3 0.167898    4 0.883237
    5 0.968189    6 0.806234    7 0.117714    8 0.487401
 Sorted Values:
    7 0.117714    3 0.167898    1 0.228570    2 0.352733
    8 0.487401    6 0.806234    4 0.883237    5 0.968189
</pre> 
        <p>A discussion about Quicksort pivot options, free source code for an optimized quicksort using insertion sort as a finisher, and an OpenMP multi-threaded quicksort is found at <a rel="nofollow" class="external text" href="http://balfortran.org">balfortran.org</a> </p> 
        <h2><span class="mw-headline" id="FreeBASIC"><a href="/wiki/Category:FreeBASIC" title="Category:FreeBASIC">FreeBASIC</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=38" title="Edit section: FreeBASIC">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="freebasic highlighted_source"><span class="co1">' version 23-10-2016</span><br><span class="co1">' compile with: fbc -s console</span><br>&nbsp;<br><span class="co1">' sort from lower bound to the highter bound</span><br><span class="co1">' array's can have subscript range from -2147483648 to +2147483647</span><br>&nbsp;<br><span class="kw1">Sub</span> quicksort<span class="br0">(</span>qs<span class="br0">(</span><span class="br0">)</span> <span class="kw1">As</span> <span class="kw1">Long</span>, l <span class="kw1">As</span> <span class="kw1">Long</span>, r <span class="kw1">As</span> <span class="kw1">Long</span><span class="br0">)</span><br>&nbsp;<br>    <span class="kw1">Dim</span> <span class="kw1">As</span> ULong size = r - l +<span class="nu0">1</span><br>    <span class="kw1">If</span> size &lt; <span class="nu0">2</span> <span class="kw1">Then</span> <span class="kw1">Exit</span> <span class="kw1">Sub</span><br>&nbsp;<br>    <span class="kw1">Dim</span> <span class="kw1">As</span> <span class="kw1">Long</span> i = l, j = r<br>    <span class="kw1">Dim</span> <span class="kw1">As</span> <span class="kw1">Long</span> pivot = qs<span class="br0">(</span>l + size \ <span class="nu0">2</span><span class="br0">)</span><br>&nbsp;<br>    <span class="kw1">Do</span><br>        <span class="kw1">While</span> qs<span class="br0">(</span>i<span class="br0">)</span> &lt; pivot<br>            i += <span class="nu0">1</span><br>        <span class="kw1">Wend</span><br>        <span class="kw1">While</span> pivot &lt; qs<span class="br0">(</span>j<span class="br0">)</span><br>            j -= <span class="nu0">1</span><br>        <span class="kw1">Wend</span><br>        <span class="kw1">If</span> i &lt;= j <span class="kw1">Then</span><br>            <span class="kw1">Swap</span> qs<span class="br0">(</span>i<span class="br0">)</span>, qs<span class="br0">(</span>j<span class="br0">)</span><br>            i += <span class="nu0">1</span><br>            j -= <span class="nu0">1</span><br>        <span class="kw1">End</span> <span class="kw1">If</span><br>    <span class="kw1">Loop</span> <span class="kw1">Until</span> i &gt; j<br>&nbsp;<br>    <span class="kw1">If</span> l &lt; j <span class="kw1">Then</span> quicksort<span class="br0">(</span>qs<span class="br0">(</span><span class="br0">)</span>, l, j<span class="br0">)</span><br>    <span class="kw1">If</span> i &lt; r <span class="kw1">Then</span> quicksort<span class="br0">(</span>qs<span class="br0">(</span><span class="br0">)</span>, i, r<span class="br0">)</span><br>&nbsp;<br><span class="kw1">End</span> <span class="kw1">Sub</span><br>&nbsp;<br><span class="co1">' ------=&lt; MAIN &gt;=------</span><br>&nbsp;<br><span class="kw1">Dim</span> <span class="kw1">As</span> <span class="kw1">Long</span> i, array<span class="br0">(</span>-<span class="nu0">7</span> <span class="kw1">To</span> <span class="nu0">7</span><span class="br0">)</span><br><span class="kw1">Dim</span> <span class="kw1">As</span> <span class="kw1">Long</span> a = <span class="kw1">LBound</span><span class="br0">(</span>array<span class="br0">)</span>, b = <span class="kw1">UBound</span><span class="br0">(</span>array<span class="br0">)</span><br>&nbsp;<br><span class="kw1">Randomize</span> <span class="kw1">Timer</span><br><span class="kw1">For</span> i = a <span class="kw1">To</span> b&nbsp;: array<span class="br0">(</span>i<span class="br0">)</span> = i &nbsp;: <span class="kw1">Next</span><br><span class="kw1">For</span> i = a <span class="kw1">To</span> b <span class="co1">' little shuffle</span><br>    <span class="kw1">Swap</span> array<span class="br0">(</span>i<span class="br0">)</span>, array<span class="br0">(</span><span class="kw1">Int</span><span class="br0">(</span><span class="kw1">Rnd</span> * <span class="br0">(</span>b - a +<span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span> + a<span class="br0">)</span><br><span class="kw1">Next</span><br>&nbsp;<br><span class="kw1">Print</span> <span class="st0">"unsorted "</span>;<br><span class="kw1">For</span> i = a <span class="kw1">To</span> b&nbsp;: <span class="kw1">Print</span> <span class="kw1">Using</span> <span class="st0">"####"</span>; array<span class="br0">(</span>i<span class="br0">)</span>;&nbsp;: <span class="kw1">Next</span>&nbsp;: <span class="kw1">Print</span><br>&nbsp;<br>quicksort<span class="br0">(</span>array<span class="br0">(</span><span class="br0">)</span>, <span class="kw1">LBound</span><span class="br0">(</span>array<span class="br0">)</span>, <span class="kw1">UBound</span><span class="br0">(</span>array<span class="br0">)</span><span class="br0">)</span><br>&nbsp;<br><span class="kw1">Print</span> <span class="st0">"  sorted "</span>;<br><span class="kw1">For</span> i = a <span class="kw1">To</span> b&nbsp;: <span class="kw1">Print</span> <span class="kw1">Using</span> <span class="st0">"####"</span>; array<span class="br0">(</span>i<span class="br0">)</span>;&nbsp;: <span class="kw1">Next</span>&nbsp;: <span class="kw1">Print</span><br>&nbsp;<br><span class="co1">' empty keyboard buffer</span><br><span class="kw1">While</span> <span class="kw1">Inkey</span> &lt;&gt; <span class="st0">""</span>&nbsp;: <span class="kw1">Wend</span><br><span class="kw1">Print</span>&nbsp;: <span class="kw1">Print</span> <span class="st0">"hit any key to end program"</span><br><span class="kw1">Sleep</span><br><span class="kw1">End</span></pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>unsorted   -5  -6  -1   0   2  -4  -7   6  -2  -3   4   7   5   1   3
  sorted   -7  -6  -5  -4  -3  -2  -1   0   1   2   3   4   5   6   7</pre> 
        <h2><span class="mw-headline" id="FunL"><a href="/wiki/Category:FunL" title="Category:FunL">FunL</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=39" title="Edit section: FunL">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">def<br>  qsort( [] )    =  []<br>  qsort( p:xs )  =  qsort( xs.filter((&lt; p)) ) + [p] + qsort( xs.filter((&gt;= p)) )</pre> 
        <p>Here is a more efficient version using the <code>partition</code> function. </p> 
        <pre class="text highlighted_source">def<br>  qsort( [] )    =  []<br>  qsort( x:xs )  =<br>    val (ys, zs) = xs.partition( (&lt; x) )<br>    qsort( ys ) + (x&nbsp;: qsort( zs ))<br>&nbsp;<br>println( qsort([4, 2, 1, 3, 0, 2]) )<br>println( qsort(["Juan", "Daniel", "Miguel", "William", "Liam", "Ethan", "Jacob"]) )</pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>[0, 1, 2, 2, 3, 4]
[Daniel, Ethan, Jacob, Juan, Liam, Miguel, William]
</pre> 
        <h2><span class="mw-headline" id="Go"><a href="/wiki/Category:Go" title="Category:Go">Go</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=40" title="Edit section: Go">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>Note that Go's <code>sort.Sort</code> function is a Quicksort so in practice it would be just be used. It's actually a combination of quick sort, heap sort, and insertion sort. It starts with a quick sort, after a depth of 2*ceil(lg(n+1)) it switches to heap sort, or once a partition becomes small (less than eight items) it switches to insertion sort. </p>
        <p><br> Old school, following <a rel="nofollow" class="external text" href="http://comjnl.oxfordjournals.org/cgi/content/short/5/1/10">Hoare's 1962 paper</a>. </p>
        <p>As a nod to the task request to work for all types with weak strict ordering, code below uses the &lt; operator when comparing key values. The three points are noted in the code below. </p>
        <p>Actually supporting arbitrary types would then require at a minimum a user supplied less-than function, and values referenced from an array of interface{} types. More efficient and flexible though is the <a rel="nofollow" class="external text" href="http://golang.org/pkg/sort/#Interface">sort interface</a> of the Go sort package. Replicating that here seemed beyond the scope of the task so code was left written to sort an array of ints. </p>
        <p>Go has no language support for indexing with discrete types other than integer types, so this was not coded. </p>
        <p>Finally, the choice of a recursive closure over passing slices to a recursive function is really just a very small optimization. Slices are cheap because they do not copy the underlying array, but there's still a tiny bit of overhead in constructing the slice object. Passing just the two numbers is in the interest of avoiding that overhead. </p> 
        <pre class="go highlighted_source"><span class="kw1">package</span> main<br>&nbsp;<br><span class="kw1">import</span> <span class="st0">"fmt"</span><br>&nbsp;<br><span class="kw4">func</span> main<span class="sy1">()</span> <span class="sy1">{</span><br>    list <span class="sy2">:=</span> <span class="sy1">[]</span><span class="kw4">int</span><span class="sy1">{</span><span class="nu0">31</span><span class="sy1">,</span> <span class="nu0">41</span><span class="sy1">,</span> <span class="nu0">59</span><span class="sy1">,</span> <span class="nu0">26</span><span class="sy1">,</span> <span class="nu0">53</span><span class="sy1">,</span> <span class="nu0">58</span><span class="sy1">,</span> <span class="nu0">97</span><span class="sy1">,</span> <span class="nu0">93</span><span class="sy1">,</span> <span class="nu0">23</span><span class="sy1">,</span> <span class="nu0">84</span><span class="sy1">}</span><br>    fmt<span class="sy3">.</span>Println<span class="sy1">(</span><span class="st0">"unsorted:"</span><span class="sy1">,</span> list<span class="sy1">)</span><br>&nbsp;<br>    quicksort<span class="sy1">(</span>list<span class="sy1">)</span><br>    fmt<span class="sy3">.</span><span class="me1">Println</span><span class="sy1">(</span><span class="st0">"sorted!  "</span><span class="sy1">,</span> list<span class="sy1">)</span><br><span class="sy1">}</span><br>&nbsp;<br><span class="kw4">func</span> quicksort<span class="sy1">(</span>a <span class="sy1">[]</span><span class="kw4">int</span><span class="sy1">)</span> <span class="sy1">{</span><br>    <span class="kw1">var</span> pex <span class="kw4">func</span><span class="sy1">(</span><span class="kw4">int</span><span class="sy1">,</span> <span class="kw4">int</span><span class="sy1">)</span><br>    pex <span class="sy2">=</span> <span class="kw4">func</span><span class="sy1">(</span>lower<span class="sy1">,</span> upper <span class="kw4">int</span><span class="sy1">)</span> <span class="sy1">{</span><br>        <span class="kw1">for</span> <span class="sy1">{</span><br>            <span class="kw1">switch</span> upper <span class="sy3">-</span> lower <span class="sy1">{</span><br>            <span class="kw1">case</span> <span class="sy3">-</span><span class="nu0">1</span><span class="sy1">,</span> <span class="nu0">0</span><span class="sy1">:</span> <span class="co1">// 0 or 1 item in segment.  nothing to do here!</span><br>                <span class="kw1">return</span><br>            <span class="kw1">case</span> <span class="nu0">1</span><span class="sy1">:</span> <span class="co1">// 2 items in segment</span><br>                <span class="co1">// &lt; operator respects strict weak order</span><br>                <span class="kw1">if</span> a<span class="sy1">[</span>upper<span class="sy1">]</span> &lt; a<span class="sy1">[</span>lower<span class="sy1">]</span> <span class="sy1">{</span><br>                    <span class="co1">// a quick exchange and we're done.</span><br>                    a<span class="sy1">[</span>upper<span class="sy1">],</span> a<span class="sy1">[</span>lower<span class="sy1">]</span> <span class="sy2">=</span> a<span class="sy1">[</span>lower<span class="sy1">],</span> a<span class="sy1">[</span>upper<span class="sy1">]</span><br>                <span class="sy1">}</span><br>                <span class="kw1">return</span><br>            <span class="co1">// Hoare suggests optimized sort-3 or sort-4 algorithms here,</span><br>            <span class="co1">// but does not provide an algorithm.</span><br>            <span class="sy1">}</span><br>&nbsp;<br>            <span class="co1">// Hoare stresses picking a bound in a way to avoid worst case</span><br>            <span class="co1">// behavior, but offers no suggestions other than picking a</span><br>            <span class="co1">// random element.  A function call to get a random number is</span><br>            <span class="co1">// relatively expensive, so the method used here is to simply</span><br>            <span class="co1">// choose the middle element.  This at least avoids worst case</span><br>            <span class="co1">// behavior for the obvious common case of an already sorted list.</span><br>            bx <span class="sy2">:=</span> <span class="sy1">(</span>upper <span class="sy3">+</span> lower<span class="sy1">)</span> <span class="sy3">/</span> <span class="nu0">2</span><br>            b <span class="sy2">:=</span> a<span class="sy1">[</span>bx<span class="sy1">]</span>  <span class="co1">// b = Hoare's "bound" (aka "pivot")</span><br>            lp <span class="sy2">:=</span> lower <span class="co1">// lp = Hoare's "lower pointer"</span><br>            up <span class="sy2">:=</span> upper <span class="co1">// up = Hoare's "upper pointer"</span><br>        outer<span class="sy1">:</span><br>            <span class="kw1">for</span> <span class="sy1">{</span><br>                <span class="co1">// use &lt; operator to respect strict weak order</span><br>                <span class="kw1">for</span> lp &lt; upper &amp;&amp; <span class="sy3">!</span><span class="sy1">(</span>b &lt; a<span class="sy1">[</span>lp<span class="sy1">])</span> <span class="sy1">{</span><br>                    lp<span class="sy2">++</span><br>                <span class="sy1">}</span><br>                <span class="kw1">for</span> <span class="sy1">{</span><br>                    <span class="kw1">if</span> lp &gt; up <span class="sy1">{</span><br>                        <span class="co1">// "pointers crossed!"</span><br>                        <span class="kw1">break</span> outer<br>                    <span class="sy1">}</span><br>                    <span class="co1">// &lt; operator for strict weak order</span><br>                    <span class="kw1">if</span> a<span class="sy1">[</span>up<span class="sy1">]</span> &lt; b <span class="sy1">{</span><br>                        <span class="kw1">break</span> <span class="co1">// inner</span><br>                    <span class="sy1">}</span><br>                    up<span class="sy2">--</span><br>                <span class="sy1">}</span><br>                <span class="co1">// exchange</span><br>                a<span class="sy1">[</span>lp<span class="sy1">],</span> a<span class="sy1">[</span>up<span class="sy1">]</span> <span class="sy2">=</span> a<span class="sy1">[</span>up<span class="sy1">],</span> a<span class="sy1">[</span>lp<span class="sy1">]</span><br>                lp<span class="sy2">++</span><br>                up<span class="sy2">--</span><br>            <span class="sy1">}</span><br>            <span class="co1">// segment boundary is between up and lp, but lp-up might be</span><br>            <span class="co1">// 1 or 2, so just call segment boundary between lp-1 and lp.</span><br>            <span class="kw1">if</span> bx &lt; lp <span class="sy1">{</span><br>                <span class="co1">// bound was in lower segment</span><br>                <span class="kw1">if</span> bx &lt; lp<span class="sy3">-</span><span class="nu0">1</span> <span class="sy1">{</span><br>                    <span class="co1">// exchange bx with lp-1</span><br>                    a<span class="sy1">[</span>bx<span class="sy1">],</span> a<span class="sy1">[</span>lp<span class="sy3">-</span><span class="nu0">1</span><span class="sy1">]</span> <span class="sy2">=</span> a<span class="sy1">[</span>lp<span class="sy3">-</span><span class="nu0">1</span><span class="sy1">],</span> b<br>                <span class="sy1">}</span><br>                up <span class="sy2">=</span> lp <span class="sy3">-</span> <span class="nu0">2</span><br>            <span class="sy1">}</span> <span class="kw1">else</span> <span class="sy1">{</span><br>                <span class="co1">// bound was in upper segment</span><br>                <span class="kw1">if</span> bx &gt; lp <span class="sy1">{</span><br>                    <span class="co1">// exchange</span><br>                    a<span class="sy1">[</span>bx<span class="sy1">],</span> a<span class="sy1">[</span>lp<span class="sy1">]</span> <span class="sy2">=</span> a<span class="sy1">[</span>lp<span class="sy1">],</span> b<br>                <span class="sy1">}</span><br>                up <span class="sy2">=</span> lp <span class="sy3">-</span> <span class="nu0">1</span><br>                lp<span class="sy2">++</span><br>            <span class="sy1">}</span><br>            <span class="co1">// "postpone the larger of the two segments" = recurse on</span><br>            <span class="co1">// the smaller segment, then iterate on the remaining one.</span><br>            <span class="kw1">if</span> up<span class="sy3">-</span>lower &lt; upper<span class="sy3">-</span>lp <span class="sy1">{</span><br>                pex<span class="sy1">(</span>lower<span class="sy1">,</span> up<span class="sy1">)</span><br>                lower <span class="sy2">=</span> lp<br>            <span class="sy1">}</span> <span class="kw1">else</span> <span class="sy1">{</span><br>                pex<span class="sy1">(</span>lp<span class="sy1">,</span> upper<span class="sy1">)</span><br>                upper <span class="sy2">=</span> up<br>            <span class="sy1">}</span><br>        <span class="sy1">}</span><br>    <span class="sy1">}</span><br>    pex<span class="sy1">(</span><span class="nu0">0</span><span class="sy1">,</span> <span class="kw3">len</span><span class="sy1">(</span>a<span class="sy1">)</span><span class="sy3">-</span><span class="nu0">1</span><span class="sy1">)</span><br><span class="sy1">}</span></pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>unsorted: [31 41 59 26 53 58 97 93 23 84]
sorted!   [23 26 31 41 53 58 59 84 93 97]
</pre> 
        <p>More traditional version of quicksort. It work generically with any container that conforms to <code>sort.Interface</code>. </p> 
        <pre class="go highlighted_source"><span class="kw1">package</span> main<br>&nbsp;<br><span class="kw1">import</span> <span class="sy1">(</span><br>    <span class="st0">"fmt"</span><br>    <span class="st0">"sort"</span><br>    <span class="st0">"math/rand"</span><br><span class="sy1">)</span><br>&nbsp;<br><span class="kw4">func</span> partition<span class="sy1">(</span>a <a href="http://golang.org/search?q=sort.Interface"><span class="kw5">sort.<span class="me1">Interface</span></span></a><span class="sy1">,</span> first <span class="kw4">int</span><span class="sy1">,</span> last <span class="kw4">int</span><span class="sy1">,</span> pivotIndex <span class="kw4">int</span><span class="sy1">)</span> <span class="kw4">int</span> <span class="sy1">{</span><br>    a<span class="sy3">.</span>Swap<span class="sy1">(</span>first<span class="sy1">,</span> pivotIndex<span class="sy1">)</span> <span class="co1">// move it to beginning</span><br>    left <span class="sy2">:=</span> first<span class="sy3">+</span><span class="nu0">1</span><br>    right <span class="sy2">:=</span> last<br>    <span class="kw1">for</span> left &lt;<span class="sy2">=</span> right <span class="sy1">{</span><br>        <span class="kw1">for</span> left &lt;<span class="sy2">=</span> last &amp;&amp; a<span class="sy3">.</span>Less<span class="sy1">(</span>left<span class="sy1">,</span> first<span class="sy1">)</span> <span class="sy1">{</span><br>            left<span class="sy2">++</span><br>        <span class="sy1">}</span><br>        <span class="kw1">for</span> right &gt;<span class="sy2">=</span> first &amp;&amp; a<span class="sy3">.</span>Less<span class="sy1">(</span>first<span class="sy1">,</span> right<span class="sy1">)</span> <span class="sy1">{</span><br>            right<span class="sy2">--</span><br>        <span class="sy1">}</span><br>        <span class="kw1">if</span> left &lt;<span class="sy2">=</span> right <span class="sy1">{</span><br>            a<span class="sy3">.</span>Swap<span class="sy1">(</span>left<span class="sy1">,</span> right<span class="sy1">)</span><br>            left<span class="sy2">++</span><br>            right<span class="sy2">--</span><br>        <span class="sy1">}</span><br>    <span class="sy1">}</span><br>    a<span class="sy3">.</span>Swap<span class="sy1">(</span>first<span class="sy1">,</span> right<span class="sy1">)</span> <span class="co1">// swap into right place</span><br>    <span class="kw1">return</span> right    <br><span class="sy1">}</span><br>&nbsp;<br><span class="kw4">func</span> quicksortHelper<span class="sy1">(</span>a <a href="http://golang.org/search?q=sort.Interface"><span class="kw5">sort.<span class="me1">Interface</span></span></a><span class="sy1">,</span> first <span class="kw4">int</span><span class="sy1">,</span> last <span class="kw4">int</span><span class="sy1">)</span> <span class="sy1">{</span><br>    <span class="kw1">if</span> first &gt;<span class="sy2">=</span> last <span class="sy1">{</span><br>        <span class="kw1">return</span><br>    <span class="sy1">}</span><br>    pivotIndex <span class="sy2">:=</span> partition<span class="sy1">(</span>a<span class="sy1">,</span> first<span class="sy1">,</span> last<span class="sy1">,</span> rand<span class="sy3">.</span>Intn<span class="sy1">(</span>last <span class="sy3">-</span> first <span class="sy3">+</span> <span class="nu0">1</span><span class="sy1">)</span> <span class="sy3">+</span> first<span class="sy1">)</span><br>    quicksortHelper<span class="sy1">(</span>a<span class="sy1">,</span> first<span class="sy1">,</span> pivotIndex<span class="sy3">-</span><span class="nu0">1</span><span class="sy1">)</span><br>    quicksortHelper<span class="sy1">(</span>a<span class="sy1">,</span> pivotIndex<span class="sy3">+</span><span class="nu0">1</span><span class="sy1">,</span> last<span class="sy1">)</span><br><span class="sy1">}</span><br>&nbsp;<br><span class="kw4">func</span> quicksort<span class="sy1">(</span>a <a href="http://golang.org/search?q=sort.Interface"><span class="kw5">sort.<span class="me1">Interface</span></span></a><span class="sy1">)</span> <span class="sy1">{</span><br>    quicksortHelper<span class="sy1">(</span>a<span class="sy1">,</span> <span class="nu0">0</span><span class="sy1">,</span> a<span class="sy3">.</span>Len<span class="sy1">()</span><span class="sy3">-</span><span class="nu0">1</span><span class="sy1">)</span><br><span class="sy1">}</span><br>&nbsp;<br><span class="kw4">func</span> main<span class="sy1">()</span> <span class="sy1">{</span><br>    a <span class="sy2">:=</span> <span class="sy1">[]</span><span class="kw4">int</span><span class="sy1">{</span><span class="nu0">1</span><span class="sy1">,</span> <span class="nu0">3</span><span class="sy1">,</span> <span class="nu0">5</span><span class="sy1">,</span> <span class="nu0">7</span><span class="sy1">,</span> <span class="nu0">9</span><span class="sy1">,</span> <span class="nu0">8</span><span class="sy1">,</span> <span class="nu0">6</span><span class="sy1">,</span> <span class="nu0">4</span><span class="sy1">,</span> <span class="nu0">2</span><span class="sy1">}</span><br>    fmt<span class="sy3">.</span>Printf<span class="sy1">(</span><span class="st0">"Unsorted:&nbsp;%v<span class="es1">\n</span>"</span><span class="sy1">,</span> a<span class="sy1">)</span><br>    quicksort<span class="sy1">(</span>sort<span class="sy3">.</span><span class="me1">IntSlice</span><span class="sy1">(</span>a<span class="sy1">))</span><br>    fmt<span class="sy3">.</span><span class="me1">Printf</span><span class="sy1">(</span><span class="st0">"Sorted:&nbsp;%v<span class="es1">\n</span>"</span><span class="sy1">,</span> a<span class="sy1">)</span><br>    b <span class="sy2">:=</span> <span class="sy1">[]</span><span class="kw4">string</span><span class="sy1">{</span><span class="st0">"Emil"</span><span class="sy1">,</span> <span class="st0">"Peg"</span><span class="sy1">,</span> <span class="st0">"Helen"</span><span class="sy1">,</span> <span class="st0">"Juergen"</span><span class="sy1">,</span> <span class="st0">"David"</span><span class="sy1">,</span> <span class="st0">"Rick"</span><span class="sy1">,</span> <span class="st0">"Barb"</span><span class="sy1">,</span> <span class="st0">"Mike"</span><span class="sy1">,</span> <span class="st0">"Tom"</span><span class="sy1">}</span><br>    fmt<span class="sy3">.</span><span class="me1">Printf</span><span class="sy1">(</span><span class="st0">"Unsorted:&nbsp;%v<span class="es1">\n</span>"</span><span class="sy1">,</span> b<span class="sy1">)</span><br>    quicksort<span class="sy1">(</span>sort<span class="sy3">.</span><span class="me1">StringSlice</span><span class="sy1">(</span>b<span class="sy1">))</span><br>    fmt<span class="sy3">.</span><span class="me1">Printf</span><span class="sy1">(</span><span class="st0">"Sorted:&nbsp;%v<span class="es1">\n</span>"</span><span class="sy1">,</span> b<span class="sy1">)</span><br><span class="sy1">}</span></pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>Unsorted: [1 3 5 7 9 8 6 4 2]
Sorted: [1 2 3 4 5 6 7 8 9]
Unsorted: [Emil Peg Helen Juergen David Rick Barb Mike Tom]
Sorted: [Barb David Emil Helen Juergen Mike Peg Rick Tom]
</pre> 
        <h2><span class="mw-headline" id="Haskell"><a href="/wiki/Category:Haskell" title="Category:Haskell">Haskell</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=41" title="Edit section: Haskell">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>The famous two-liner, reflecting the underlying algorithm directly: </p> 
        <pre class="haskell highlighted_source">qsort <span class="br0">[</span><span class="br0">]</span> <span class="sy0">=</span> <span class="br0">[</span><span class="br0">]</span><br>qsort <span class="br0">(</span>x:xs<span class="br0">)</span> <span class="sy0">=</span> qsort <span class="br0">[</span>y <span class="sy0">|</span> y <span class="sy0">&lt;-</span> xs<span class="sy0">,</span> y <span class="sy0">&lt;</span> x<span class="br0">]</span> <span class="sy0">++</span> <span class="br0">[</span>x<span class="br0">]</span> <span class="sy0">++</span> qsort <span class="br0">[</span>y <span class="sy0">|</span> y <span class="sy0">&lt;-</span> xs<span class="sy0">,</span> y <span class="sy0">&gt;=</span> x<span class="br0">]</span></pre> 
        <p>A more efficient version, doing only one comparison per element: </p> 
        <pre class="haskell highlighted_source"><span class="kw1">import</span> Data<span class="sy0">.</span>List <span class="br0">(</span>partition<span class="br0">)</span><br>&nbsp;<br>qsort <span class="sy0">::</span> <a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:Ord"><span class="kw4">Ord</span></a> a <span class="sy0">=&gt;</span> <span class="br0">[</span>a<span class="br0">]</span> <span class="sy0">-&gt;</span> <span class="br0">[</span>a<span class="br0">]</span><br>qsort <span class="br0">[</span><span class="br0">]</span> <span class="sy0">=</span> <span class="br0">[</span><span class="br0">]</span><br>qsort <span class="br0">(</span>x:xs<span class="br0">)</span> <span class="sy0">=</span> qsort ys <span class="sy0">++</span> x&nbsp;: qsort zs<br>  <span class="kw1">where</span><br>    <span class="br0">(</span>ys<span class="sy0">,</span> zs<span class="br0">)</span> <span class="sy0">=</span> partition <span class="br0">(</span><span class="sy0">&lt;</span> x<span class="br0">)</span> xs</pre> 
        <h2><span class="mw-headline" id="IDL"><a href="/wiki/Category:IDL" title="Category:IDL">IDL</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=42" title="Edit section: IDL">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>IDL has a powerful optimized <tt>sort()</tt> built-in. The following is thus merely for demonstration. </p> 
        <pre class="idl highlighted_source">function qs, arr<br>  if <span class="br0">(</span>count <span class="sy0">=</span> n_elements<span class="br0">(</span>arr<span class="br0">)</span><span class="br0">)</span> lt <span class="nu0">2</span> then return,arr<br>  pivot <span class="sy0">=</span> total<span class="br0">(</span>arr<span class="br0">)</span> <span class="sy0">/</span> count <span class="sy0">;</span> use the average for want of a better choice<br>  return,<span class="br0">[</span>qs<span class="br0">(</span>arr<span class="br0">[</span>where<span class="br0">(</span>arr le pivot<span class="br0">)</span><span class="br0">]</span><span class="br0">)</span>,qs<span class="br0">(</span>arr<span class="br0">[</span>where<span class="br0">(</span>arr gt pivot<span class="br0">)</span><span class="br0">]</span><span class="br0">)</span><span class="br0">]</span><br> end</pre> 
        <p>Example: </p> 
        <pre>IDL&gt; print,qs([3,17,-5,12,99])
     -5       3      12      17      99
</pre> 
        <h2><span class="mw-headline" id="Icon_and_Unicon"><a href="/wiki/Category:Icon" title="Category:Icon">Icon</a> and <a href="/wiki/Category:Unicon" title="Category:Unicon">Unicon</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=43" title="Edit section: Icon and Unicon">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="icon highlighted_source"><span class="kw1">procedure</span> main<span class="br0">(</span><span class="br0">)</span>                     <span class="co1">#: demonstrate various ways to sort a list and string </span><br>   demosort<span class="br0">(</span>quicksort<span class="sy1">,</span><span class="br0">[</span><span class="nu0">3</span><span class="sy1">,</span> <span class="nu0">14</span><span class="sy1">,</span> <span class="nu0">1</span><span class="sy1">,</span> <span class="nu0">5</span><span class="sy1">,</span> <span class="nu0">9</span><span class="sy1">,</span> <span class="nu0">2</span><span class="sy1">,</span> <span class="nu0">6</span><span class="sy1">,</span> <span class="nu0">3</span><span class="br0">]</span><span class="sy1">,</span><span class="st0">"qwerty"</span><span class="br0">)</span><br><span class="kw1">end</span><br>&nbsp;<br><span class="kw1">procedure</span> quicksort<span class="br0">(</span>X<span class="sy1">,</span>op<span class="sy1">,</span>lower<span class="sy1">,</span>upper<span class="br0">)</span>                      <span class="co1">#: return sorted list</span><br><span class="kw2">local</span> pivot<span class="sy1">,</span>x <br>&nbsp;<br>   <span class="kw1">if</span> <span class="sy1">/</span>lower <span class="sy1">:=</span> <span class="nu0">1</span> <span class="kw1">then</span> <span class="br0">{</span>                                   <span class="co1"># top level call setup</span><br>      upper <span class="sy1">:=</span> <span class="sy1">*</span>X   <br>      op <span class="sy1">:=</span> sortop<span class="br0">(</span>op<span class="sy1">,</span>X<span class="br0">)</span>                                   <span class="co1"># select how and what we sort</span><br>      <span class="br0">}</span><br>&nbsp;<br>   <span class="kw1">if</span> upper <span class="sy1">-</span> lower <span class="sy1">&gt;</span> <span class="nu0">0</span> <span class="kw1">then</span> <span class="br0">{</span><br>      <span class="kw1">every</span> x <span class="sy1">:=</span> quickpartition<span class="br0">(</span>X<span class="sy1">,</span>op<span class="sy1">,</span>lower<span class="sy1">,</span>upper<span class="br0">)</span> <span class="kw1">do</span>       <span class="co1"># find a pivot and sort ...</span><br>          <span class="sy1">/</span>pivot <span class="sy1">|</span> X <span class="sy1">:=</span> x                                  <span class="co1"># ... how to return 2 values w/o a structure</span><br>      X <span class="sy1">:=</span> quicksort<span class="br0">(</span>X<span class="sy1">,</span>op<span class="sy1">,</span>lower<span class="sy1">,</span>pivot<span class="sy1">-</span><span class="nu0">1</span><span class="br0">)</span>                   <span class="co1"># ... left            </span><br>      X <span class="sy1">:=</span> quicksort<span class="br0">(</span>X<span class="sy1">,</span>op<span class="sy1">,</span>pivot<span class="sy1">,</span>upper<span class="br0">)</span>                     <span class="co1"># ... right</span><br>      <span class="br0">}</span><br>&nbsp;<br>   <span class="kw1">return</span> X                                             <br><span class="kw1">end</span><br>&nbsp;<br><span class="kw1">procedure</span> quickpartition<span class="br0">(</span>X<span class="sy1">,</span>op<span class="sy1">,</span>lower<span class="sy1">,</span>upper<span class="br0">)</span>                 <span class="co1">#: quicksort partitioner helper</span><br><span class="kw2">local</span>   pivot<br><span class="kw2">static</span>  pivotL<br><span class="kw1">initial</span> pivotL <span class="sy1">:=</span> <span class="kw4">list</span><span class="br0">(</span><span class="nu0">3</span><span class="br0">)</span><br>&nbsp;<br>   pivotL<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span> <span class="sy1">:=</span> X<span class="br0">[</span>lower<span class="br0">]</span>                                   <span class="co1"># endpoints</span><br>   pivotL<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span> <span class="sy1">:=</span> X<span class="br0">[</span>upper<span class="br0">]</span>                                   <span class="co1"># ... and</span><br>   pivotL<span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span> <span class="sy1">:=</span> X<span class="br0">[</span>lower<span class="sy1">+?</span><span class="br0">(</span>upper<span class="sy1">-</span>lower<span class="br0">)</span><span class="br0">]</span>                    <span class="co1"># ... random midpoint</span><br>   <span class="kw1">if</span> op<span class="br0">(</span>pivotL<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><span class="sy1">,</span>pivotL<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span> <span class="kw1">then</span> pivotL<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span> <span class="sy1">:=:</span> pivotL<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span> <span class="co1"># mini-</span><br>   <span class="kw1">if</span> op<span class="br0">(</span>pivotL<span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span><span class="sy1">,</span>pivotL<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><span class="br0">)</span> <span class="kw1">then</span> pivotL<span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span> <span class="sy1">:=:</span> pivotL<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span> <span class="co1"># ... sort</span><br>   pivot <span class="sy1">:=</span> pivotL<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span>                                      <span class="co1"># median is pivot</span><br>&nbsp;<br>   lower <span class="sy1">-:=</span> <span class="nu0">1</span><br>   upper <span class="sy1">+:=</span> <span class="nu0">1</span><br>   <span class="kw1">while</span> lower <span class="sy1">&lt;</span> upper <span class="kw1">do</span> <span class="br0">{</span>                                <span class="co1"># find values on wrong side of pivot ...</span><br>      <span class="kw1">while</span> op<span class="br0">(</span>pivot<span class="sy1">,</span>X<span class="br0">[</span>upper <span class="sy1">-:=</span> <span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span>                       <span class="co1"># ... rightmost </span><br>      <span class="kw1">while</span> op<span class="br0">(</span>X<span class="br0">[</span>lower <span class="sy1">+:=</span><span class="nu0">1</span><span class="br0">]</span><span class="sy1">,</span>pivot<span class="br0">)</span>                        <span class="co1"># ... leftmost</span><br>      <span class="kw1">if</span> lower <span class="sy1">&lt;</span> upper <span class="kw1">then</span>                                <span class="co1"># not crossed yet</span><br>         X<span class="br0">[</span>lower<span class="br0">]</span> <span class="sy1">:=:</span> X<span class="br0">[</span>upper<span class="br0">]</span>                             <span class="co1"># ... swap </span><br>      <span class="br0">}</span><br>&nbsp;<br>   <span class="kw1">suspend</span> lower                                           <span class="co1"># 1st return pivot point</span><br>   <span class="kw1">suspend</span> X                                               <span class="co1"># 2nd return modified X (in case immutable)</span><br><span class="kw1">end</span></pre> 
        <p>Implementation notes: </p> 
        <ul>
         <li> Since this transparently sorts both string and list arguments the result must 'return' to bypass call by value (strings)</li> 
         <li> The partition procedure must "return" two values - 'suspend' is used to accomplish this</li>
        </ul> 
        <p>Algorithm notes: </p> 
        <ul>
         <li> The use of a type specific sorting operator meant that a general pivot choice need to be made. The median of the ends and random middle seemed reasonable. It turns out to have been suggested by Sedgewick.</li> 
         <li> Sedgewick's suggestions for tail calling to recurse into the larger side and using insertion sort below a certain size were not implemented. (Q: does Icon/Unicon has tail calling optimizations?)</li>
        </ul> 
        <p><br>Note: This example relies on <a href="/wiki/Sorting_algorithms/Bubble_sort#Icon" title="Sorting algorithms/Bubble sort"> the supporting procedures 'sortop', and 'demosort' in Bubble Sort</a>. The full demosort exercises the named sort of a list with op = "numeric", "string", "&gt;&gt;" (lexically gt, descending),"&gt;" (numerically gt, descending), a custom comparator, and also a string. </p> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> Abbreviated  
        <pre>Sorting Demo using procedure quicksort
  on list&nbsp;: [ 3 14 1 5 9 2 6 3 ]
    with op = &amp;null:         [ 1 2 3 3 5 6 9 14 ]   (0 ms)
  ...
  on string&nbsp;: "qwerty"
    with op = &amp;null:         "eqrtwy"   (0 ms)</pre> 
        <h2><span class="mw-headline" id="Io"><a href="/wiki/Category:Io" title="Category:Io">Io</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=44" title="Edit section: Io">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="io highlighted_source"><span class="kw2">List</span> <span class="kw2">do</span><span class="br0">(</span><br>    quickSort&nbsp;:= <span class="kw2">method</span><span class="br0">(</span><br>        <span class="kw1">if</span><span class="br0">(</span>size <span class="sy0">&gt;</span> <span class="nu0">1</span><span class="br0">)</span> <span class="kw1">then</span><span class="br0">(</span><br>            pivot&nbsp;:= at<span class="br0">(</span>size <span class="sy0">/</span> <span class="nu0">2</span> floor<span class="br0">)</span><br>            <span class="kw1">return</span> select<span class="br0">(</span>x, x <span class="sy0">&lt;</span> pivot<span class="br0">)</span> quickSort appendSeq<span class="br0">(</span><br>                select<span class="br0">(</span>x, x == pivot<span class="br0">)</span> appendSeq<span class="br0">(</span>select<span class="br0">(</span>x, x <span class="sy0">&gt;</span> pivot<span class="br0">)</span> quickSort<span class="br0">)</span><br>            <span class="br0">)</span><br>        <span class="br0">)</span> <span class="kw1">else</span><span class="br0">(</span><span class="kw1">return</span> <span class="kw2">self</span><span class="br0">)</span><br>    <span class="br0">)</span><br>&nbsp;<br>    quickSortInPlace&nbsp;:= <span class="kw2">method</span><span class="br0">(</span><br>        copy<span class="br0">(</span>quickSort<span class="br0">)</span><br>    <span class="br0">)</span><br><span class="br0">)</span><br>&nbsp;<br>lst&nbsp;:= <span class="kw2">list</span><span class="br0">(</span><span class="nu0">5</span>, -<span class="nu0">1</span>, -<span class="nu0">4</span>, <span class="nu0">2</span>, <span class="nu0">9</span><span class="br0">)</span><br>lst quickSort println <span class="co2"># ==&gt; list(-4, -1, 2, 5, 9)</span><br>lst quickSortInPlace println <span class="co2"># ==&gt; list(-4, -1, 2, 5, 9)</span></pre> 
        <p>Another more low-level Quicksort implementation can be found in Io's [<a rel="nofollow" class="external text" href="http://github.com/stevedekorte/io/blob/master/samples/misc/qsort.io">github </a>] repository. </p> 
        <h2><span class="mw-headline" id="J"><a href="/wiki/Category:J" title="Category:J">J</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=45" title="Edit section: J">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <div class="messagebox" style="text-align:center">
         <small>Generally, this task should be accomplished in J using <code>/:~</code>. Here we take an approach that's more comparable with the other examples on this page.</small>
        </div> 
        <pre class="j highlighted_source">sel=: <span class="nu0">1</span>&nbsp;: <span class="st_h">'x # ['</span><br>&nbsp;<br>quicksort=: <span class="nu0">3</span>&nbsp;: <span class="nu0">0</span><br> <span class="kw1">if.</span><br>  <span class="nu0">1</span> &gt;: #<span class="kw2">y</span><br> <span class="kw1">do.</span><br>  <span class="kw2">y</span><br> <span class="kw1">else.</span><br>  e=. <span class="kw2">y</span>{~?#<span class="kw2">y</span><br>  <span class="sy0">(</span>quicksort <span class="kw2">y</span> &lt;sel e<span class="sy0">)</span>,<span class="sy0">(</span><span class="kw2">y</span> =sel e<span class="sy0">)</span>,quicksort <span class="kw2">y</span> &gt;sel e<br> <span class="kw1">end.</span><br><span class="sy0">)</span></pre> 
        <p>See the <a href="http://www.jsoftware.com/jwiki/Essays/Quicksort" class="extiw" title="j:Essays/Quicksort">Quicksort essay</a> in the J Wiki for additional explanations and examples. </p> 
        <h2><span class="mw-headline" id="Java"><a href="/wiki/Category:Java" title="Category:Java">Java</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=46" title="Edit section: Java">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <div class="examplemeta workswith">
         <b>Works with</b>: 
         <a href="/wiki/Java" title="Java" class="mw-redirect">Java</a> version 1.5+
        </div>
        <br> 
        <div class="examplemeta translation">
         <b>Translation of</b>: 
         <a href="#Python">Python</a>
        </div> 
        <pre class="java5 highlighted_source"><span class="kw2">public</span> <span class="kw2">static</span> <span class="sy0">&lt;</span>E <span class="kw2">extends</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/lang/Comparable.html"><span class="kw21">Comparable</span></a><span class="sy0">&lt;?</span> <span class="kw2">super</span> E<span class="sy0">&gt;&gt;</span> <a href="http://www.google.com/search?sitesearch=java.sun.com&amp;q=allinurl%3Aj2se%2F1+5+0%2Fdocs%2Fapi+List"><span class="kw166">List</span></a><span class="sy0">&lt;</span>E<span class="sy0">&gt;</span> quickSort<span class="br0">(</span><a href="http://www.google.com/search?sitesearch=java.sun.com&amp;q=allinurl%3Aj2se%2F1+5+0%2Fdocs%2Fapi+List"><span class="kw166">List</span></a><span class="sy0">&lt;</span>E<span class="sy0">&gt;</span> arr<span class="br0">)</span> <span class="br0">{</span><br><span class="kw1">if</span> <span class="br0">(</span><span class="sy0">!</span>arr.<span class="me1">isEmpty</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span> <span class="br0">{</span><br>    E pivot = arr.<span class="me1">get</span><span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span><span class="sy0">;</span> <span class="co1">//This pivot can change to get faster results</span><br>&nbsp;<br>&nbsp;<br>    <a href="http://www.google.com/search?sitesearch=java.sun.com&amp;q=allinurl%3Aj2se%2F1+5+0%2Fdocs%2Fapi+List"><span class="kw166">List</span></a><span class="sy0">&lt;</span>E<span class="sy0">&gt;</span> less = <span class="kw2">new</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/util/LinkedList.html"><span class="kw46">LinkedList</span></a><span class="sy0">&lt;</span>E<span class="sy0">&gt;</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>    <a href="http://www.google.com/search?sitesearch=java.sun.com&amp;q=allinurl%3Aj2se%2F1+5+0%2Fdocs%2Fapi+List"><span class="kw166">List</span></a><span class="sy0">&lt;</span>E<span class="sy0">&gt;</span> pivotList = <span class="kw2">new</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/util/LinkedList.html"><span class="kw46">LinkedList</span></a><span class="sy0">&lt;</span>E<span class="sy0">&gt;</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>    <a href="http://www.google.com/search?sitesearch=java.sun.com&amp;q=allinurl%3Aj2se%2F1+5+0%2Fdocs%2Fapi+List"><span class="kw166">List</span></a><span class="sy0">&lt;</span>E<span class="sy0">&gt;</span> more = <span class="kw2">new</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/util/LinkedList.html"><span class="kw46">LinkedList</span></a><span class="sy0">&lt;</span>E<span class="sy0">&gt;</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>    <span class="co1">// Partition</span><br>    <span class="kw1">for</span> <span class="br0">(</span>E i: arr<span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw1">if</span> <span class="br0">(</span>i.<span class="me1">compareTo</span><span class="br0">(</span>pivot<span class="br0">)</span> <span class="sy0">&lt;</span> <span class="nu0">0</span><span class="br0">)</span><br>            less.<span class="me1">add</span><span class="br0">(</span>i<span class="br0">)</span><span class="sy0">;</span><br>        <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>i.<span class="me1">compareTo</span><span class="br0">(</span>pivot<span class="br0">)</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">)</span><br>            more.<span class="me1">add</span><span class="br0">(</span>i<span class="br0">)</span><span class="sy0">;</span><br>        <span class="kw1">else</span><br>            pivotList.<span class="me1">add</span><span class="br0">(</span>i<span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="co1">// Recursively sort sublists</span><br>    less = quickSort<span class="br0">(</span>less<span class="br0">)</span><span class="sy0">;</span><br>    more = quickSort<span class="br0">(</span>more<span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>    <span class="co1">// Concatenate results</span><br>    less.<span class="me1">addAll</span><span class="br0">(</span>pivotList<span class="br0">)</span><span class="sy0">;</span><br>    less.<span class="me1">addAll</span><span class="br0">(</span>more<span class="br0">)</span><span class="sy0">;</span><br>    <span class="kw2">return</span> less<span class="sy0">;</span><br> <span class="br0">}</span><br><span class="kw2">return</span> arr<span class="sy0">;</span><br>&nbsp;<br><span class="br0">}</span></pre> 
        <h2><span class="mw-headline" id="JavaScript"><a href="/wiki/Category:JavaScript" title="Category:JavaScript">JavaScript</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=47" title="Edit section: JavaScript">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <h3><span class="mw-headline" id="Imperative">Imperative</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=48" title="Edit section: Imperative">edit</a><span class="mw-editsection-bracket">]</span></span></h3> 
        <pre class="javascript highlighted_source"><span class="kw1">function</span> sort<span class="br0">(</span>array<span class="sy0">,</span> less<span class="br0">)</span> <span class="br0">{</span><br>&nbsp;<br>  <span class="kw1">function</span> swap<span class="br0">(</span>i<span class="sy0">,</span> j<span class="br0">)</span> <span class="br0">{</span><br>    <span class="kw1">var</span> t <span class="sy0">=</span> array<span class="br0">[</span>i<span class="br0">]</span><span class="sy0">;</span><br>    array<span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">=</span> array<span class="br0">[</span>j<span class="br0">]</span><span class="sy0">;</span><br>    array<span class="br0">[</span>j<span class="br0">]</span> <span class="sy0">=</span> t<span class="sy0">;</span><br>  <span class="br0">}</span><br>&nbsp;<br>  <span class="kw1">function</span> quicksort<span class="br0">(</span>left<span class="sy0">,</span> right<span class="br0">)</span> <span class="br0">{</span><br>&nbsp;<br>    <span class="kw1">if</span> <span class="br0">(</span>left <span class="sy0">&lt;</span> right<span class="br0">)</span> <span class="br0">{</span><br>      <span class="kw1">var</span> pivot <span class="sy0">=</span> array<span class="br0">[</span>left <span class="sy0">+</span> <span class="kw4">Math</span>.<span class="me1">floor</span><span class="br0">(</span><span class="br0">(</span>right <span class="sy0">-</span> right<span class="br0">)</span> <span class="sy0">/</span> <span class="nu0">2</span><span class="br0">)</span><span class="br0">]</span><span class="sy0">,</span><br>          left_new <span class="sy0">=</span> left<span class="sy0">,</span><br>          right_new <span class="sy0">=</span> right<span class="sy0">;</span><br>&nbsp;<br>      <span class="kw1">do</span> <span class="br0">{</span><br>        while <span class="br0">(</span>less<span class="br0">(</span>array<span class="br0">[</span>left_new<span class="br0">]</span><span class="sy0">,</span> pivot<span class="br0">)</span><span class="br0">)</span> <span class="br0">{</span><br>          left_new <span class="sy0">+=</span> <span class="nu0">1</span><span class="sy0">;</span><br>        <span class="br0">}</span><br>        while <span class="br0">(</span>less<span class="br0">(</span>pivot<span class="sy0">,</span> array<span class="br0">[</span>right_new<span class="br0">]</span><span class="br0">)</span><span class="br0">)</span> <span class="br0">{</span><br>          right_new <span class="sy0">-=</span> <span class="nu0">1</span><span class="sy0">;</span><br>        <span class="br0">}</span><br>        <span class="kw1">if</span> <span class="br0">(</span>left_new <span class="sy0">&lt;=</span> right_new<span class="br0">)</span> <span class="br0">{</span><br>          swap<span class="br0">(</span>left_new<span class="sy0">,</span> right_new<span class="br0">)</span><span class="sy0">;</span><br>          left_new <span class="sy0">+=</span> <span class="nu0">1</span><span class="sy0">;</span><br>          right_new <span class="sy0">-=</span> <span class="nu0">1</span><span class="sy0">;</span><br>        <span class="br0">}</span><br>      <span class="br0">}</span> while <span class="br0">(</span>left_new <span class="sy0">&lt;=</span> right_new<span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>      quicksort<span class="br0">(</span>left<span class="sy0">,</span> right_new<span class="br0">)</span><span class="sy0">;</span><br>      quicksort<span class="br0">(</span>left_new<span class="sy0">,</span> right<span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>    <span class="br0">}</span><br>  <span class="br0">}</span><br>&nbsp;<br>  quicksort<span class="br0">(</span><span class="nu0">0</span><span class="sy0">,</span> array.<span class="me1">length</span> <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>  <span class="kw1">return</span> array<span class="sy0">;</span><br><span class="br0">}</span></pre> Example:
        <pre class="javascript highlighted_source"><span class="kw1">var</span> test_array <span class="sy0">=</span> <span class="br0">[</span><span class="nu0">10</span><span class="sy0">,</span> <span class="nu0">3</span><span class="sy0">,</span> <span class="nu0">11</span><span class="sy0">,</span> <span class="nu0">15</span><span class="sy0">,</span> <span class="nu0">19</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">]</span><span class="sy0">;</span><br><span class="kw1">var</span> sorted_array <span class="sy0">=</span> sort<span class="br0">(</span>test_array<span class="sy0">,</span> <span class="kw1">function</span><span class="br0">(</span>a<span class="sy0">,</span>b<span class="br0">)</span> <span class="br0">{</span> <span class="kw1">return</span> a<span class="sy0">&lt;</span>b<span class="sy0">;</span> <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span></pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div>
        <pre class="javascript highlighted_source"><span class="br0">[</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">3</span><span class="sy0">,</span> <span class="nu0">10</span><span class="sy0">,</span> <span class="nu0">11</span><span class="sy0">,</span> <span class="nu0">15</span><span class="sy0">,</span> <span class="nu0">19</span> <span class="br0">]</span></pre> 
        <h3><span class="mw-headline" id="Functional">Functional</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=49" title="Edit section: Functional">edit</a><span class="mw-editsection-bracket">]</span></span></h3> 
        <h4><span class="mw-headline" id="ES5">ES5</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=50" title="Edit section: ES5">edit</a><span class="mw-editsection-bracket">]</span></span></h4> 
        <p>Emphasising clarity more than run-time optimisation (for which Array.sort() would be a better option) </p> 
        <pre class="javascript highlighted_source"><span class="br0">(</span><span class="kw1">function</span> <span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><br>    <span class="st0">'use strict'</span><span class="sy0">;</span><br>&nbsp;<br>    <span class="co1">// quickSort&nbsp;:: (Ord a) =&gt; [a] -&gt; [a]  </span><br>    <span class="kw1">function</span> quickSort<span class="br0">(</span>xs<span class="br0">)</span> <span class="br0">{</span><br>&nbsp;<br>        <span class="kw1">if</span> <span class="br0">(</span>xs.<span class="me1">length</span><span class="br0">)</span> <span class="br0">{</span><br>            <span class="kw1">var</span> h <span class="sy0">=</span> xs<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="sy0">,</span><br>                t <span class="sy0">=</span> xs.<span class="me1">slice</span><span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span><span class="sy0">,</span><br>&nbsp;<br>                lessMore <span class="sy0">=</span> partition<span class="br0">(</span><span class="kw1">function</span> <span class="br0">(</span>x<span class="br0">)</span> <span class="br0">{</span><br>                    <span class="kw1">return</span> x <span class="sy0">&lt;=</span> h<span class="sy0">;</span><br>                <span class="br0">}</span><span class="sy0">,</span> t<span class="br0">)</span><span class="sy0">,</span><br>                less <span class="sy0">=</span> lessMore<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="sy0">,</span><br>                more <span class="sy0">=</span> lessMore<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><span class="sy0">;</span><br>&nbsp;<br>            <span class="kw1">return</span> <span class="br0">[</span><span class="br0">]</span>.<span class="me1">concat</span>.<span class="me1">apply</span><span class="br0">(</span><br>                <span class="br0">[</span><span class="br0">]</span><span class="sy0">,</span> <span class="br0">[</span>quickSort<span class="br0">(</span>less<span class="br0">)</span><span class="sy0">,</span> h<span class="sy0">,</span> quickSort<span class="br0">(</span>more<span class="br0">)</span><span class="br0">]</span><br>            <span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>        <span class="br0">}</span> <span class="kw1">else</span> <span class="kw1">return</span> <span class="br0">[</span><span class="br0">]</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>&nbsp;<br>    <span class="co1">// partition&nbsp;:: Predicate -&gt; List -&gt; (Matches, nonMatches)</span><br>    <span class="co1">// partition&nbsp;:: (a -&gt; Bool) -&gt; [a] -&gt; ([a], [a])</span><br>    <span class="kw1">function</span> partition<span class="br0">(</span>p<span class="sy0">,</span> xs<span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw1">return</span> xs.<span class="me1">reduce</span><span class="br0">(</span><span class="kw1">function</span> <span class="br0">(</span>a<span class="sy0">,</span> x<span class="br0">)</span> <span class="br0">{</span><br>            <span class="kw1">return</span> <span class="br0">(</span><br>                a<span class="br0">[</span>p<span class="br0">(</span>x<span class="br0">)</span> <span class="sy0">?</span> <span class="nu0">0</span> <span class="sy0">:</span> <span class="nu0">1</span><span class="br0">]</span>.<span class="me1">push</span><span class="br0">(</span>x<span class="br0">)</span><span class="sy0">,</span><br>                a<br>            <span class="br0">)</span><span class="sy0">;</span><br>        <span class="br0">}</span><span class="sy0">,</span> <span class="br0">[</span><span class="br0">[</span><span class="br0">]</span><span class="sy0">,</span> <span class="br0">[</span><span class="br0">]</span><span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">return</span> quickSort<span class="br0">(</span><span class="br0">[</span><span class="nu0">11.8</span><span class="sy0">,</span> <span class="nu0">14.1</span><span class="sy0">,</span> <span class="nu0">21.3</span><span class="sy0">,</span> <span class="nu0">8.5</span><span class="sy0">,</span> <span class="nu0">16.7</span><span class="sy0">,</span> <span class="nu0">5.7</span><span class="br0">]</span><span class="br0">)</span><br>&nbsp;<br><span class="br0">}</span><span class="br0">)</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span></pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>[5.7, 8.5, 11.8, 14.1, 16.7, 21.3]</pre> 
        <h4><span class="mw-headline" id="ES6">ES6</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=51" title="Edit section: ES6">edit</a><span class="mw-editsection-bracket">]</span></span></h4> 
        <pre class="javascript highlighted_source"><span class="kw4">Array</span>.<span class="kw1">prototype</span>.<span class="me1">quick_sort</span> <span class="sy0">=</span> <span class="kw1">function</span> <span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><br>    <span class="kw1">if</span> <span class="br0">(</span><span class="kw1">this</span>.<span class="me1">length</span> <span class="sy0">&lt;</span> <span class="nu0">2</span><span class="br0">)</span> <span class="br0">{</span> <span class="kw1">return</span> <span class="kw1">this</span><span class="sy0">;</span> <span class="br0">}</span><br>&nbsp;<br>    <span class="kw1">var</span> pivot <span class="sy0">=</span> <span class="kw1">this</span><span class="br0">[</span><span class="kw4">Math</span>.<span class="me1">round</span><span class="br0">(</span><span class="kw1">this</span>.<span class="me1">length</span> <span class="sy0">/</span> <span class="nu0">2</span><span class="br0">)</span><span class="br0">]</span><span class="sy0">;</span><br>&nbsp;<br>    <span class="kw1">return</span> <span class="kw1">this</span>.<span class="me1">filter</span><span class="br0">(</span>x <span class="sy0">=&gt;</span> x <span class="sy0">&lt;</span>  pivot<span class="br0">)</span><br>               .<span class="me1">quick_sort</span><span class="br0">(</span><span class="br0">)</span><br>               .<span class="me1">concat</span><span class="br0">(</span><span class="kw1">this</span>.<span class="me1">filter</span><span class="br0">(</span>x <span class="sy0">=&gt;</span> x <span class="sy0">==</span> pivot<span class="br0">)</span><span class="br0">)</span><br>               .<span class="me1">concat</span><span class="br0">(</span><span class="kw1">this</span>.<span class="me1">filter</span><span class="br0">(</span>x <span class="sy0">=&gt;</span> x <span class="sy0">&gt;</span>  pivot<span class="br0">)</span>.<span class="me1">quick_sort</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span><br><span class="br0">}</span><span class="sy0">;</span></pre> 
        <p><br> Or, expressed in terms of a single partition, rather than two consecutive filters: </p> 
        <pre class="javascript highlighted_source"><span class="br0">(</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">=&gt;</span> <span class="br0">{</span><br>    <span class="st0">'use strict'</span><span class="sy0">;</span><br>&nbsp;<br>    <span class="co1">// QUICKSORT --------------------------------------------------------------</span><br>&nbsp;<br>    <span class="co1">// quickSort&nbsp;:: (Ord a) =&gt; [a] -&gt; [a]</span><br>    <span class="kw1">const</span> quickSort <span class="sy0">=</span> xs <span class="sy0">=&gt;</span><br>        xs.<span class="me1">length</span> <span class="sy0">&gt;</span> <span class="nu0">1</span> <span class="sy0">?</span> <span class="br0">(</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">=&gt;</span> <span class="br0">{</span><br>            <span class="kw1">const</span><br>                h <span class="sy0">=</span> xs<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="sy0">,</span><br>                <span class="br0">[</span>less<span class="sy0">,</span> more<span class="br0">]</span> <span class="sy0">=</span> partition<span class="br0">(</span>x <span class="sy0">=&gt;</span> x <span class="sy0">&lt;=</span> h<span class="sy0">,</span> xs.<span class="me1">slice</span><span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span><br>            <span class="kw1">return</span> <span class="br0">[</span><span class="br0">]</span>.<span class="me1">concat</span>.<span class="me1">apply</span><span class="br0">(</span><br>                <span class="br0">[</span><span class="br0">]</span><span class="sy0">,</span> <span class="br0">[</span>quickSort<span class="br0">(</span>less<span class="br0">)</span><span class="sy0">,</span> h<span class="sy0">,</span> quickSort<span class="br0">(</span>more<span class="br0">)</span><span class="br0">]</span><br>            <span class="br0">)</span><span class="sy0">;</span><br>        <span class="br0">}</span><span class="br0">)</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">:</span> xs<span class="sy0">;</span><br>&nbsp;<br>&nbsp;<br>    <span class="co1">// GENERIC ----------------------------------------------------------------</span><br>&nbsp;<br>    <span class="co1">// partition&nbsp;:: Predicate -&gt; List -&gt; (Matches, nonMatches)</span><br>    <span class="co1">// partition&nbsp;:: (a -&gt; Bool) -&gt; [a] -&gt; ([a], [a])</span><br>    <span class="kw1">const</span> partition <span class="sy0">=</span> <span class="br0">(</span>p<span class="sy0">,</span> xs<span class="br0">)</span> <span class="sy0">=&gt;</span><br>        xs.<span class="me1">reduce</span><span class="br0">(</span><span class="br0">(</span>a<span class="sy0">,</span> x<span class="br0">)</span> <span class="sy0">=&gt;</span><br>            p<span class="br0">(</span>x<span class="br0">)</span> <span class="sy0">?</span> <span class="br0">[</span>a<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me1">concat</span><span class="br0">(</span>x<span class="br0">)</span><span class="sy0">,</span> a<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">]</span> <span class="sy0">:</span> <span class="br0">[</span>a<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="sy0">,</span> a<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span>.<span class="me1">concat</span><span class="br0">(</span>x<span class="br0">)</span><span class="br0">]</span><span class="sy0">,</span> <span class="br0">[</span><br>                <span class="br0">[</span><span class="br0">]</span><span class="sy0">,</span><br>                <span class="br0">[</span><span class="br0">]</span><br>            <span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>    <span class="co1">// TEST -------------------------------------------------------------------</span><br>    <span class="kw1">return</span> quickSort<span class="br0">(</span><span class="br0">[</span><span class="nu0">11.8</span><span class="sy0">,</span> <span class="nu0">14.1</span><span class="sy0">,</span> <span class="nu0">21.3</span><span class="sy0">,</span> <span class="nu0">8.5</span><span class="sy0">,</span> <span class="nu0">16.7</span><span class="sy0">,</span> <span class="nu0">5.7</span><span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span><br><span class="br0">}</span><span class="br0">)</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span></pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>[5.7, 8.5, 11.8, 14.1, 16.7, 21.3]</pre> 
        <h2><span class="mw-headline" id="Joy"><a href="/wiki/Category:Joy" title="Category:Joy">Joy</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=52" title="Edit section: Joy">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">&nbsp;<br>DEFINE qsort ==<br>  [small]            # termination condition: 0 or 1 element<br>  []                 # do nothing<br>  [uncons [&gt;] split] # pivot and two lists<br>  [enconcat]         # insert the pivot after the recursion<br>  binrec.            # recursion on the two lists<br>&nbsp;</pre> 
        <h2><span class="mw-headline" id="jq"><a href="/wiki/Category:Jq" title="Category:Jq">jq</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=53" title="Edit section: jq">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>jq's built-in <tt>sort</tt> currently (version 1.4) uses the standard C qsort, a quicksort. <tt>sort</tt> can be used on any valid JSON array. </p> Example:
        <pre class="text highlighted_source">[1, 1.1, [1,2], true, false, null, {"a":1}, null] | sort</pre>
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div>
        <pre class="text highlighted_source">[null,null,false,true,1,1.1,[1,2],{"a":1}]</pre> Here is an implementation in jq of the pseudo-code (and comments&nbsp;:-) given at the head of this article:
        <pre class="text highlighted_source">def quicksort:<br>  if length &lt; 2 then .                            # it is already sorted<br>  else .[0] as $pivot<br>       | reduce .[] as $x<br>         # state: [less, equal, greater]<br>           ( [ [], [], [] ];                      # three empty arrays:<br>             if   $x  &lt; $pivot then .[0] += [$x]  # add x to less<br>             elif $x == $pivot then .[1] += [$x]  # add x to equal<br>             else                   .[2] += [$x]  # add x to greater<br>             end<br>         )<br>       | (.[0] | quicksort ) + .[1] + (.[2] | quicksort )<br>  end&nbsp;;<br>&nbsp;</pre>Fortunately, the example input used above produces the same output, 
        <p>and so both are omitted here. </p> 
        <h2><span class="mw-headline" id="Julia"><a href="/wiki/Category:Julia" title="Category:Julia">Julia</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=54" title="Edit section: Julia">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>Built-in function for in-place sorting via quicksort (the <a rel="nofollow" class="external text" href="https://github.com/JuliaLang/julia/blob/2364748377f2a79c0485fdd5155ec2116c9f0d37/base/sort.jl#L259-L296">code from the standard library is quite readable</a>): </p> 
        <pre class="text highlighted_source">sort!(A, alg=QuickSort)</pre> 
        <p>A simple polymorphic implementation of an in-place recursive quicksort (based on the pseudocode above): </p> 
        <pre class="text highlighted_source">function quicksort!(A,i=1,j=length(A))<br>    if j &gt; i<br>        pivot = A[rand(i:j)] # random element of A<br>        left, right = i, j<br>        while left &lt;= right<br>            while A[left] &lt; pivot<br>                left += 1<br>            end<br>            while A[right] &gt; pivot<br>                right -= 1<br>            end<br>            if left &lt;= right<br>                A[left], A[right] = A[right], A[left]<br>                left += 1<br>                right -= 1<br>            end<br>        end<br>        quicksort!(A,i,right)<br>        quicksort!(A,left,j)<br>    end<br>    return A<br>end</pre> 
        <p>A one-line (but rather inefficient) implementation based on the Haskell version, which operates out-of-place and allocates temporary arrays: </p> 
        <pre class="text highlighted_source">qsort(L) = isempty(L)&nbsp;? L&nbsp;: vcat(qsort(filter(x -&gt; x &lt; L[1], L[2:end])), L[1:1], qsort(filter(x -&gt; x &gt;= L[1], L[2:end])))</pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>julia&gt; A = [84,77,20,60,47,20,18,97,41,49,31,39,73,68,65,52,1,92,15,9]

julia&gt; qsort(A)
[1,9,15,18,20,20,31,39,41,47,49,52,60,65,68,73,77,84,92,97]

julia&gt; quicksort!(copy(A))
[1,9,15,18,20,20,31,39,41,47,49,52,60,65,68,73,77,84,92,97]

julia&gt; qsort(A) == quicksort!(copy(A)) == sort(A) == sort(A, alg=QuickSort)
true</pre> 
        <h2><span class="mw-headline" id="K"><a href="/wiki/Category:K" title="Category:K">K</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=55" title="Edit section: K">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">quicksort:{f:*<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="077f4736">[email&nbsp;protected]</a>?#x;:[0=#x;x;,/(_f <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="81f9c1">[email&nbsp;protected]</a>&amp;x&lt;f;<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b0c8f0">[email&nbsp;protected]</a>&amp;x=f;_f <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="4b330b">[email&nbsp;protected]</a>&amp;x&gt;f)]}</pre> 
        <p>Example: </p> 
        <pre class="text highlighted_source">&nbsp;<br>    quicksort 1 3 5 7 9 8 6 4 2<br>&nbsp;</pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>1 2 3 4 5 6 7 8 9
</pre> 
        <p><br> Explanation: </p> 
        <pre class="text highlighted_source">&nbsp;<br>  _f()<br>&nbsp;</pre> 
        <p>is the current function called recursively. </p> 
        <pre class="text highlighted_source">&nbsp;<br>  &nbsp;:[....] <br>&nbsp;</pre> 
        <p>generally means&nbsp;:[condition1;then1;condition2;then2;....;else]. Though here it is used as&nbsp;:[if;then;else]. </p>
        <p>This construct </p> 
        <pre class="text highlighted_source">&nbsp;<br>   f:*<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="49310978">[email&nbsp;protected]</a>?#x<br>&nbsp;</pre> 
        <p>assigns a random element in x (the argument) to f, as the pivot value. </p>
        <p>And here is the full if/then/else clause: </p> 
        <pre class="text highlighted_source">&nbsp;<br>   &nbsp;:[<br>        0=#x;           / if length of x is zero <br>        x;              / then return x<br>                        / else<br>        ,/(             / join the results of: <br>          _f <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="601820">[email&nbsp;protected]</a>&amp;x&lt;f         / sort (recursively) elements less than f (pivot)<br>          <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="463e06">[email&nbsp;protected]</a>&amp;x=f            / element equal to f <br>          _f <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="7a023a">[email&nbsp;protected]</a>&amp;x&gt;f)        / sort (recursively) elements greater than f <br>     ]<br>&nbsp;</pre> 
        <p>Though - as with APL and J - for larger arrays it's much faster to sort using "&lt;" (grade up) which gives the indices of the list sorted ascending, i.e. </p> 
        <pre class="text highlighted_source">&nbsp;<br>   <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e094a0">[email&nbsp;protected]</a>&lt;t:1 3 5 7 9 8 6 4 2<br>&nbsp;</pre> 
        <h2><span class="mw-headline" id="Kotlin"><a href="/wiki/Category:Kotlin" title="Category:Kotlin">Kotlin</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=56" title="Edit section: Kotlin">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="scala highlighted_source"><a href="http://scala-lang.org"><span class="kw1">import</span></a> java.<span class="me1">util</span>.<span class="sy0">*</span><br><a href="http://scala-lang.org"><span class="kw1">import</span></a> java.<span class="me1">util</span>.<span class="me1">Comparator</span><br>&nbsp;<br>fun <span class="sy0">&lt;</span>T<span class="sy0">&gt;</span> quickSort<span class="br0">(</span>a<span class="sy0">:</span> List<span class="sy0">&lt;</span>T<span class="sy0">&gt;</span>, c<span class="sy0">:</span> Comparator<span class="sy0">&lt;</span>T<span class="sy0">&gt;</span><span class="br0">)</span><span class="sy0">:</span> ArrayList<span class="sy0">&lt;</span>T<span class="sy0">&gt;</span> <span class="br0">{</span><br>    <a href="http://scala-lang.org"><span class="kw1">if</span></a> <span class="br0">(</span>a.<span class="me1">isEmpty</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span> <a href="http://scala-lang.org"><span class="kw1">return</span></a> ArrayList<span class="br0">(</span>a<span class="br0">)</span><br>&nbsp;<br>    <a href="http://scala-lang.org"><span class="kw1">val</span></a> boxes <span class="sy0">=</span> Array<span class="br0">(</span><span class="nu0">3</span>, <span class="br0">{</span> ArrayList<span class="sy0">&lt;</span>T<span class="sy0">&gt;</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">}</span><span class="br0">)</span><br>    fun normalise<span class="br0">(</span>i<span class="sy0">:</span> Int<span class="br0">)</span> <span class="sy0">=</span> i / Math.<span class="me1">max</span><span class="br0">(</span><span class="nu0">1</span>, Math.<span class="me1">abs</span><span class="br0">(</span>i<span class="br0">)</span><span class="br0">)</span><br>    a.<span class="me1">forEach</span> <span class="br0">{</span> boxes<span class="br0">[</span>normalise<span class="br0">(</span>c.<span class="me1">compare</span><span class="br0">(</span>it, a<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="br0">)</span><span class="br0">)</span> + <span class="nu0">1</span><span class="br0">]</span>.<span class="me1">add</span><span class="br0">(</span>it<span class="br0">)</span> <span class="br0">}</span><br>    arrayOf<span class="br0">(</span><span class="nu0">0</span>, <span class="nu0">2</span><span class="br0">)</span>.<span class="me1">forEach</span> <span class="br0">{</span> boxes<span class="br0">[</span>it<span class="br0">]</span> <span class="sy0">=</span> quickSort<span class="br0">(</span>boxes<span class="br0">[</span>it<span class="br0">]</span>, c<span class="br0">)</span> <span class="br0">}</span><br>    <a href="http://scala-lang.org"><span class="kw1">return</span></a> boxes.<span class="me1">flatMapTo</span><span class="br0">(</span>ArrayList<span class="sy0">&lt;</span>T<span class="sy0">&gt;</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span> <span class="br0">{</span> it <span class="br0">}</span><br><span class="br0">}</span></pre> 
        <p>Another version of the code: </p> 
        <pre class="scala highlighted_source">fun quicksort<span class="br0">(</span>list<span class="sy0">:</span> List<span class="sy0">&lt;</span>Int<span class="sy0">&gt;</span><span class="br0">)</span><span class="sy0">:</span> List<span class="sy0">&lt;</span>Int<span class="sy0">&gt;</span> <span class="br0">{</span><br>    <a href="http://scala-lang.org"><span class="kw1">if</span></a> <span class="br0">(</span>list.<span class="me1">isEmpty</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span> <a href="http://scala-lang.org"><span class="kw1">return</span></a> emptyList<span class="br0">(</span><span class="br0">)</span><br>&nbsp;<br>    <a href="http://scala-lang.org"><span class="kw1">val</span></a> head <span class="sy0">=</span> list.<span class="me1">first</span><span class="br0">(</span><span class="br0">)</span><br>    <a href="http://scala-lang.org"><span class="kw1">val</span></a> tail <span class="sy0">=</span> list.<span class="me1">takeLast</span><span class="br0">(</span>list.<span class="me1">size</span> - <span class="nu0">1</span><span class="br0">)</span><br>&nbsp;<br>    <a href="http://scala-lang.org"><span class="kw1">val</span></a> less <span class="sy0">=</span> quicksort<span class="br0">(</span>tail.<span class="me1">filter</span> <span class="br0">{</span> it <span class="sy0">&lt;</span> head <span class="br0">}</span><span class="br0">)</span><br>    <a href="http://scala-lang.org"><span class="kw1">val</span></a> high <span class="sy0">=</span> quicksort<span class="br0">(</span>tail.<span class="me1">filter</span> <span class="br0">{</span> it <span class="sy0">&gt;=</span> head <span class="br0">}</span><span class="br0">)</span><br>&nbsp;<br>    <a href="http://scala-lang.org"><span class="kw1">return</span></a> less + head + high<br><span class="br0">}</span><br>&nbsp;<br>fun main<span class="br0">(</span>args<span class="sy0">:</span> Array<span class="sy0">&lt;</span>String<span class="sy0">&gt;</span><span class="br0">)</span> <span class="br0">{</span><br>    <a href="http://scala-lang.org"><span class="kw1">val</span></a> nums <span class="sy0">=</span> listOf<span class="br0">(</span><span class="nu0">9</span>, <span class="nu0">7</span>, <span class="nu0">9</span>, <span class="nu0">8</span>, <span class="nu0">1</span>, <span class="nu0">2</span>, <span class="nu0">3</span>, <span class="nu0">4</span>, <span class="nu0">1</span>, <span class="nu0">9</span>, <span class="nu0">8</span>, <span class="nu0">9</span>, <span class="nu0">2</span>, <span class="nu0">4</span>, <span class="nu0">2</span>, <span class="nu0">4</span>, <span class="nu0">6</span>, <span class="nu0">3</span><span class="br0">)</span><br>    println<span class="br0">(</span>quicksort<span class="br0">(</span>nums<span class="br0">)</span><span class="br0">)</span><br><span class="br0">}</span></pre> 
        <h2><span class="mw-headline" id="Lobster"><a href="/wiki/Category:Lobster" title="Category:Lobster">Lobster</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=57" title="Edit section: Lobster">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">include "std.lobster"<br>&nbsp;<br>def quicksort(xs, lt):<br>    if xs.length &lt;= 1:<br>        xs<br>    else:<br>        pivot&nbsp;:= xs[0]<br>        tail&nbsp;:= xs.slice(1, -1)<br>        f1&nbsp;:= filter tail:  lt(_, pivot)<br>        f2&nbsp;:= filter tail:&nbsp;!lt(_, pivot)<br>        append(append(quicksort(f1, lt), [ pivot ]),<br>                      quicksort(f2, lt))<br>&nbsp;<br>sorted&nbsp;:= [ 3, 9, 5, 4, 1, 3, 9, 5, 4, 1 ].quicksort(): _a &lt; _b<br>print sorted</pre> 
        <h2><span class="mw-headline" id="Logo"><a href="/wiki/Category:Logo" title="Category:Logo">Logo</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=58" title="Edit section: Logo">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">; quicksort (lists, functional)<br>&nbsp;<br>to small?&nbsp;:list<br>  output or [empty?&nbsp;:list] [empty? butfirst&nbsp;:list]<br>end<br>to quicksort&nbsp;:list<br>  if small?&nbsp;:list [output&nbsp;:list]<br>  localmake "pivot first&nbsp;:list<br>  output (sentence<br>    quicksort filter [? &lt;&nbsp;:pivot] butfirst&nbsp;:list<br>              filter [? =&nbsp;:pivot]         &nbsp;:list<br>    quicksort filter [? &gt;&nbsp;:pivot] butfirst&nbsp;:list<br>  )<br>end<br>&nbsp;<br>show quicksort [1 3 5 7 9 8 6 4 2]</pre> 
        <pre class="text highlighted_source">; quicksort (arrays, in-place)<br>&nbsp;<br>to incr&nbsp;:name<br>  make&nbsp;:name (thing&nbsp;:name) + 1<br>end<br>to decr&nbsp;:name<br>  make&nbsp;:name (thing&nbsp;:name) - 1<br>end<br>to swap&nbsp;:i&nbsp;:j&nbsp;:a<br>  localmake "t item&nbsp;:i&nbsp;:a<br>  setitem&nbsp;:i&nbsp;:a item&nbsp;:j&nbsp;:a<br>  setitem&nbsp;:j&nbsp;:a&nbsp;:t<br>end<br>&nbsp;<br>to quick&nbsp;:a&nbsp;:low&nbsp;:high<br>  if&nbsp;:high &lt;=&nbsp;:low [stop]<br>  localmake "l&nbsp;:low<br>  localmake "h&nbsp;:high<br>  localmake "pivot item ashift (:l +&nbsp;:h) -1 &nbsp;:a<br>  do.while [<br>    while [(item&nbsp;:l&nbsp;:a) &lt;&nbsp;:pivot] [incr "l]<br>    while [(item&nbsp;:h&nbsp;:a) &gt;&nbsp;:pivot] [decr "h]<br>    if&nbsp;:l &lt;=&nbsp;:h [swap&nbsp;:l&nbsp;:h&nbsp;:a  incr "l  decr "h]<br>  ] [:l &lt;=&nbsp;:h]<br>  quick&nbsp;:a&nbsp;:low&nbsp;:h<br>  quick&nbsp;:a&nbsp;:l&nbsp;:high<br>end<br>to sort&nbsp;:a<br>  quick&nbsp;:a first&nbsp;:a count&nbsp;:a<br>end<br>&nbsp;<br>make "test {1 3 5 7 9 8 6 4 2}<br>sort&nbsp;:test<br>show&nbsp;:test</pre> 
        <h2><span class="mw-headline" id="Logtalk"><a href="/wiki/Category:Logtalk" title="Category:Logtalk">Logtalk</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=59" title="Edit section: Logtalk">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="logtalk highlighted_source">quicksort(<span class="re0">List</span>, <span class="re0">Sorted</span>) <span class="sy2">:-</span><br>    quicksort(<span class="re0">List</span>, [], <span class="re0">Sorted</span>).<br>&nbsp;<br>quicksort([], <span class="re0">Sorted</span>, <span class="re0">Sorted</span>).<br>quicksort([<span class="re0">Pivot</span>| <span class="re0">Rest</span>], <span class="re0">Acc</span>, <span class="re0">Sorted</span>) <span class="sy2">:-</span> <br>    partition(<span class="re0">Rest</span>, <span class="re0">Pivot</span>, <span class="re0">Smaller0</span>, <span class="re0">Bigger0</span>),<br>    quicksort(<span class="re0">Smaller0</span>, [<span class="re0">Pivot</span>| <span class="re0">Bigger</span>], <span class="re0">Sorted</span>),<br>    quicksort(<span class="re0">Bigger0</span>, <span class="re0">Acc</span>, <span class="re0">Bigger</span>).<br>&nbsp;<br>partition([], <span class="re0">_</span>, [], []).<br>partition([<span class="re0">X</span>| <span class="re0">Xs</span>], <span class="re0">Pivot</span>, <span class="re0">Smalls</span>, <span class="re0">Bigs</span>) <span class="sy2">:-</span><br>    (   <span class="re0">X</span> <span class="sy1">@&lt;</span> <span class="re0">Pivot</span> <span class="sy1">-&gt;</span><br>        <span class="re0">Smalls</span> <span class="sy1">=</span> [<span class="re0">X</span>| <span class="re0">Rest</span>],<br>        partition(<span class="re0">Xs</span>, <span class="re0">Pivot</span>, <span class="re0">Rest</span>, <span class="re0">Bigs</span>)<br>    <span class="sy1">;</span>   <span class="re0">Bigs</span> <span class="sy1">=</span> [<span class="re0">X</span>| <span class="re0">Rest</span>],<br>        partition(<span class="re0">Xs</span>, <span class="re0">Pivot</span>, <span class="re0">Smalls</span>, <span class="re0">Rest</span>)<br>    ).</pre> 
        <h2><span class="mw-headline" id="Lua"><a href="/wiki/Category:Lua" title="Category:Lua">Lua</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=60" title="Edit section: Lua">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <h3><span class="mw-headline" id="in-place">in-place</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=61" title="Edit section: in-place">edit</a><span class="mw-editsection-bracket">]</span></span></h3> 
        <pre class="lua highlighted_source"><span class="co1">--in-place quicksort</span><br><span class="kw1">function</span> quicksort<span class="br0">(</span>t<span class="sy0">,</span> start<span class="sy0">,</span> endi<span class="br0">)</span><br>  start<span class="sy0">,</span> endi <span class="sy0">=</span> start <span class="kw2">or</span> <span class="nu0">1</span><span class="sy0">,</span> endi <span class="kw2">or</span> <span class="sy0">#</span>t<br>  <span class="co1">--partition w.r.t. first element</span><br>  <span class="kw1">if</span><span class="br0">(</span>endi <span class="sy0">-</span> start <span class="sy0">&lt;</span> <span class="nu0">1</span><span class="br0">)</span> <span class="kw1">then</span> <span class="kw1">return</span> t <span class="kw1">end</span><br>  <span class="kw1">local</span> pivot <span class="sy0">=</span> start<br>  <span class="kw1">for</span> i <span class="sy0">=</span> start <span class="sy0">+</span> <span class="nu0">1</span><span class="sy0">,</span> endi <span class="kw1">do</span><br>    <span class="kw1">if</span> t<span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">&lt;=</span> t<span class="br0">[</span>pivot<span class="br0">]</span> <span class="kw1">then</span><br>      <span class="kw1">if</span> i <span class="sy0">==</span> pivot <span class="sy0">+</span> <span class="nu0">1</span> <span class="kw1">then</span><br>        t<span class="br0">[</span>pivot<span class="br0">]</span><span class="sy0">,</span>t<span class="br0">[</span>pivot<span class="sy0">+</span><span class="nu0">1</span><span class="br0">]</span> <span class="sy0">=</span> t<span class="br0">[</span>pivot<span class="sy0">+</span><span class="nu0">1</span><span class="br0">]</span><span class="sy0">,</span>t<span class="br0">[</span>pivot<span class="br0">]</span><br>      <span class="kw1">else</span><br>        t<span class="br0">[</span>pivot<span class="br0">]</span><span class="sy0">,</span>t<span class="br0">[</span>pivot<span class="sy0">+</span><span class="nu0">1</span><span class="br0">]</span><span class="sy0">,</span>t<span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">=</span> t<span class="br0">[</span>i<span class="br0">]</span><span class="sy0">,</span>t<span class="br0">[</span>pivot<span class="br0">]</span><span class="sy0">,</span>t<span class="br0">[</span>pivot<span class="sy0">+</span><span class="nu0">1</span><span class="br0">]</span><br>      <span class="kw1">end</span><br>      pivot <span class="sy0">=</span> pivot <span class="sy0">+</span> <span class="nu0">1</span><br>    <span class="kw1">end</span><br>  <span class="kw1">end</span><br>  t <span class="sy0">=</span> quicksort<span class="br0">(</span>t<span class="sy0">,</span> start<span class="sy0">,</span> pivot <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">)</span><br>  <span class="kw1">return</span> quicksort<span class="br0">(</span>t<span class="sy0">,</span> pivot <span class="sy0">+</span> <span class="nu0">1</span><span class="sy0">,</span> endi<span class="br0">)</span><br><span class="kw1">end</span><br>&nbsp;<br><span class="co1">--example</span><br><span class="kw3">print</span><span class="br0">(</span><span class="kw3">unpack</span><span class="br0">(</span>quicksort<span class="br0">{</span><span class="nu0">5</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">7</span><span class="sy0">,</span> <span class="nu0">3</span><span class="sy0">,</span> <span class="nu0">4</span><span class="sy0">,</span> <span class="nu0">7</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">}</span><span class="br0">)</span><span class="br0">)</span></pre> 
        <h3><span class="mw-headline" id="non_in-place">non in-place</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=62" title="Edit section: non in-place">edit</a><span class="mw-editsection-bracket">]</span></span></h3> 
        <pre class="lua highlighted_source"><span class="kw1">function</span> quicksort<span class="br0">(</span>t<span class="br0">)</span><br>  <span class="kw1">if</span> <span class="sy0">#</span>t<span class="sy0">&lt;</span><span class="nu0">2</span> <span class="kw1">then</span> <span class="kw1">return</span> t <span class="kw1">end</span><br>  <span class="kw1">local</span> pivot<span class="sy0">=</span>t<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><br>  <span class="kw1">local</span> a<span class="sy0">,</span>b<span class="sy0">,</span>c<span class="sy0">=</span><span class="br0">{</span><span class="br0">}</span><span class="sy0">,</span><span class="br0">{</span><span class="br0">}</span><span class="sy0">,</span><span class="br0">{</span><span class="br0">}</span><br>  <span class="kw1">for</span> _<span class="sy0">,</span>v <span class="kw2">in</span> <span class="kw3">ipairs</span><span class="br0">(</span>t<span class="br0">)</span> <span class="kw1">do</span><br>    <span class="kw1">if</span>     v<span class="sy0">&lt;</span>pivot <span class="kw1">then</span> a<span class="br0">[</span><span class="sy0">#</span>a<span class="sy0">+</span><span class="nu0">1</span><span class="br0">]</span><span class="sy0">=</span>v<br>    <span class="kw1">elseif</span> v<span class="sy0">&gt;</span>pivot <span class="kw1">then</span> c<span class="br0">[</span><span class="sy0">#</span>c<span class="sy0">+</span><span class="nu0">1</span><span class="br0">]</span><span class="sy0">=</span>v<br>    <span class="kw1">else</span>                b<span class="br0">[</span><span class="sy0">#</span>b<span class="sy0">+</span><span class="nu0">1</span><span class="br0">]</span><span class="sy0">=</span>v<br>    <span class="kw1">end</span><br>  <span class="kw1">end</span><br>  a<span class="sy0">=</span>quicksort<span class="br0">(</span>a<span class="br0">)</span><br>  c<span class="sy0">=</span>quicksort<span class="br0">(</span>c<span class="br0">)</span><br>  <span class="kw1">for</span> _<span class="sy0">,</span>v <span class="kw2">in</span> <span class="kw3">ipairs</span><span class="br0">(</span>b<span class="br0">)</span> <span class="kw1">do</span> a<span class="br0">[</span><span class="sy0">#</span>a<span class="sy0">+</span><span class="nu0">1</span><span class="br0">]</span><span class="sy0">=</span>v <span class="kw1">end</span><br>  <span class="kw1">for</span> _<span class="sy0">,</span>v <span class="kw2">in</span> <span class="kw3">ipairs</span><span class="br0">(</span>c<span class="br0">)</span> <span class="kw1">do</span> a<span class="br0">[</span><span class="sy0">#</span>a<span class="sy0">+</span><span class="nu0">1</span><span class="br0">]</span><span class="sy0">=</span>v <span class="kw1">end</span><br>  <span class="kw1">return</span> a<br><span class="kw1">end</span></pre> 
        <h2><span class="mw-headline" id="Lucid"><a href="/wiki/Category:Lucid" title="Category:Lucid">Lucid</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=63" title="Edit section: Lucid">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p><a rel="nofollow" class="external autonumber" href="http://i.csc.uvic.ca/home/hei/lup/06.html">[1]</a> </p> 
        <pre class="text highlighted_source">qsort(a) = if eof(first a) then a else follow(qsort(b0),qsort(b1)) fi<br> where<br>    p = first a &lt; a;<br>    b0 = a whenever p;<br>    b1 = a whenever not p;<br>    follow(x,y) = if xdone then y upon xdone else x fi<br>                    where<br>                       xdone = iseod x fby xdone or iseod x; <br>                    end;<br> end</pre> 
        <h2><span class="mw-headline" id="M4"><a href="/wiki/Category:M4" title="Category:M4">M4</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=64" title="Edit section: M4">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">dnl  return the first element of a list when called in the funny way seen below<br>define(`arg1', `$1')dnl<br>dnl<br>dnl  append lists 1 and 2<br>define(`append',<br>   `ifelse(`$1',`()',<br>      `$2',<br>      `ifelse(`$2',`()',<br>         `$1',<br>         `substr($1,0,decr(len($1))),substr($2,1)')')')dnl<br>dnl<br>dnl  separate list 2 based on pivot 1, appending to left 3 and right 4,<br>dnl  until 2 is empty, and then combine the sort of left with pivot with<br>dnl  sort of right<br>define(`sep',<br>   `ifelse(`$2', `()',<br>      `append(append(quicksort($3),($1)),quicksort($4))',<br>      `ifelse(eval(arg1$2&lt;=$1),1,<br>         `sep($1,(shift$2),append($3,(arg1$2)),$4)',<br>         `sep($1,(shift$2),$3,append($4,(arg1$2)))')')')dnl<br>dnl<br>dnl  pick first element of list 1 as pivot and separate based on that<br>define(`quicksort',<br>   `ifelse(`$1', `()',<br>      `()',<br>      `sep(arg1$1,(shift$1),`()',`()')')')dnl<br>dnl<br>quicksort((3,1,4,1,5,9))</pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>(1,1,3,4,5,9)
</pre> 
        <h2><span class="mw-headline" id="Mathematica"><a href="/wiki/Category:Mathematica" title="Category:Mathematica">Mathematica</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=65" title="Edit section: Mathematica">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">QuickSort[x_List]&nbsp;:= Module[{pivot},<br>  If[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="dc90b9b2bba8b49ca4">[email&nbsp;protected]</a> &lt;= 1, Return[x]];<br>  pivot = <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="6c3e0d020803012f0403050f092c14">[email&nbsp;protected]</a>;<br>  <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="94d2f8f5e0e0f1fad4">[email&nbsp;protected]</a>{QuickSort[Cases[x, j_ /; j &lt; pivot]], Cases[x, j_ /; j == pivot], QuickSort[Cases[x, j_ /; j &gt; pivot]]}<br>  ]</pre> 
        <pre class="text highlighted_source">qsort[{}] = {};<br>qsort[{x_, xs___}]&nbsp;:= Join[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="98e9ebf7eaecd8cbfdf4fdfbec">[email&nbsp;protected]</a>[{xs}, # &lt;= x &amp;], {x}, <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="89f8fae6fbfdc9daece5eceafd">[email&nbsp;protected]</a>[{xs}, # &gt; x &amp;]];</pre> 
        <pre class="text highlighted_source">QuickSort[{}]&nbsp;:= {}<br>QuickSort[list: {__}]&nbsp;:= With[{pivot=RandomChoice[list]},<br>	Join[ &lt;|1-&gt;{}, -1-&gt;{}|&gt;, GroupBy[list,Order[#,pivot]&amp;] ] // Catenate[ {<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="8cddf9e5efe7dfe3fef8cc">[email&nbsp;protected]</a>#[1], #[0], <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="60311509030b330f121420">[email&nbsp;protected]</a>#[-1]} ]&amp;<br>]</pre> 
        <h2><span class="mw-headline" id="MATLAB"><a href="/wiki/Category:MATLAB" title="Category:MATLAB">MATLAB</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=66" title="Edit section: MATLAB">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>This implements the pseudo-code in the specification. The input can be either a row or column vector, but the returned vector will always be a row vector. This can be modified to operate on any built-in primitive or user defined class by replacing the "&lt;=" and "&gt;" comparisons with "le" and "gt" functions respectively. This is because operators can not be overloaded, but the functions that are equivalent to the operators can be overloaded in class definitions. </p>
        <p>This should be placed in a file named <i>quickSort.m</i>. </p> 
        <pre class="matlab highlighted_source"><span class="kw1">function</span> sortedArray = quickSort<span class="br0">(</span>array<span class="br0">)</span><br>&nbsp;<br>    <span class="kw1">if</span> numel<span class="br0">(</span>array<span class="br0">)</span> &lt;= <span class="nu0">1</span> <span class="co1">%If the array has 1 element then it can't be sorted       </span><br>        sortedArray = array;<br>        <span class="kw1">return</span><br>    <span class="kw1">end</span><br>&nbsp;<br>    pivot = array<span class="br0">(</span><span class="kw1">end</span><span class="br0">)</span>;<br>    array<span class="br0">(</span><span class="kw1">end</span><span class="br0">)</span> = <span class="br0">[</span><span class="br0">]</span>;<br>&nbsp;<br>    <span class="co1">%Create two new arrays which contain the elements that are less than or</span><br>    <span class="co1">%equal to the pivot called "less" and greater than the pivot called</span><br>    <span class="co1">%"greater"</span><br>    less = array<span class="br0">(</span> array &lt;= pivot <span class="br0">)</span>;<br>    greater = array<span class="br0">(</span> array &gt; pivot <span class="br0">)</span>;<br>&nbsp;<br>    <span class="co1">%The sorted array is the concatenation of the sorted "less" array, the</span><br>    <span class="co1">%pivot and the sorted "greater" array in that order</span><br>    sortedArray = <span class="br0">[</span>quickSort<span class="br0">(</span>less<span class="br0">)</span> pivot quickSort<span class="br0">(</span>greater<span class="br0">)</span><span class="br0">]</span>;<br>&nbsp;<br><span class="kw1">end</span></pre> 
        <p>A slightly more vectorized version of the above code that removes the need for the <i>less</i> and <i>greater</i> arrays: </p> 
        <pre class="matlab highlighted_source"><span class="kw1">function</span> sortedArray = quickSort<span class="br0">(</span>array<span class="br0">)</span><br>&nbsp;<br>    <span class="kw1">if</span> numel<span class="br0">(</span>array<span class="br0">)</span> &lt;= <span class="nu0">1</span> <span class="co1">%If the array has 1 element then it can't be sorted       </span><br>        sortedArray = array;<br>        <span class="kw1">return</span><br>    <span class="kw1">end</span><br>&nbsp;<br>    pivot = array<span class="br0">(</span><span class="kw1">end</span><span class="br0">)</span>;<br>    array<span class="br0">(</span><span class="kw1">end</span><span class="br0">)</span> = <span class="br0">[</span><span class="br0">]</span>;<br>&nbsp;<br>    sortedArray = <span class="br0">[</span>quickSort<span class="br0">(</span> array<span class="br0">(</span>array &lt;= pivot<span class="br0">)</span> <span class="br0">)</span> pivot quickSort<span class="br0">(</span> array<span class="br0">(</span>array &gt; pivot<span class="br0">)</span> <span class="br0">)</span><span class="br0">]</span>;<br>&nbsp;<br><span class="kw1">end</span></pre> 
        <p>Sample usage: </p> 
        <pre class="matlab highlighted_source">quickSort<span class="br0">(</span><span class="br0">[</span><span class="nu0">4</span>,<span class="nu0">3</span>,<span class="nu0">7</span>,-<span class="nu0">2</span>,<span class="nu0">9</span>,<span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span><br>&nbsp;<br><a href="http://www.mathworks.com/access/helpdesk/help/techdoc/ref/ans.html"><span class="kw2">ans</span></a> =<br>&nbsp;<br>    -<span class="nu0">2</span>     <span class="nu0">1</span>     <span class="nu0">3</span>     <span class="nu0">4</span>     <span class="nu0">7</span>     <span class="nu0">9</span></pre> 
        <h2><span class="mw-headline" id="MAXScript"><a href="/wiki/Category:MAXScript" title="Category:MAXScript">MAXScript</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=67" title="Edit section: MAXScript">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">fn quickSort arr =<br>(<br>    less = #()<br>    pivotList = #()<br>    more = #()<br>    if arr.count &lt;= 1 then<br>    (<br>        arr<br>    )<br>    else<br>    (<br>        pivot = arr[arr.count/2]<br>        for i in arr do<br>        (<br>            case of<br>            (<br>                (i &lt; pivot):	(append less i)<br>                (i == pivot):	(append pivotList i)<br>                (i &gt; pivot):	(append more i)<br>            )<br>        )<br>        less = quickSort less<br>        more = quickSort more<br>        less + pivotList + more<br>    )<br>)<br>a = #(4, 89, -3, 42, 5, 0, 2, 889)<br>a = quickSort a</pre> 
        <h2><span class="mw-headline" id="Modula-2"><a href="/wiki/Category:Modula-2" title="Category:Modula-2">Modula-2</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=68" title="Edit section: Modula-2">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>The definition module exposes the interface. This one uses the procedure variable feature to pass a caller defined compare callback function so that it can sort various simple and structured record types. </p>
        <p>This Quicksort assumes that you are working with an an array of pointers to an arbitrary type and are not moving the record data itself but only the pointers. The M2 type "ADDRESS" is considered compatible with any pointer type. </p>
        <p>The use of type ADDRESS here to achieve genericity is something of a chink the the normal strongly typed flavor of Modula-2. Unlike the other language types, "system" types such as ADDRESS or WORD must be imported explicity from the SYSTEM MODULE. The ISO standard for the "Generic Modula-2" language extension provides genericity without the chink, but most compilers have not implemented this extension. </p> 
        <pre class="modula2 highlighted_source"><span class="coMULTI">(*#####################*)</span><br> <span class="kw1">DEFINITION</span> <span class="kw1">MODULE</span> QSORT; <br><span class="coMULTI">(*#####################*)</span>      <br>&nbsp;<br><span class="kw1">FROM</span> SYSTEM <span class="kw1">IMPORT</span> ADDRESS;<br>&nbsp;<br><span class="kw1">TYPE</span> CmpFuncPtrs <span class="sy0">=</span> <span class="kw1">PROCEDURE</span><span class="br0">(</span>ADDRESS<span class="sy0">,</span> ADDRESS<span class="br0">)</span><span class="sy0">:</span><span class="kw4">INTEGER</span>;<br>&nbsp;<br> <span class="kw1">PROCEDURE</span> QuickSortPtrs<span class="br0">(</span><span class="kw1">VAR</span> Array<span class="sy0">:</span><span class="kw1">ARRAY</span> <span class="kw1">OF</span> ADDRESS; N<span class="sy0">:</span><span class="kw4">CARDINAL</span>;<br>                         Compare<span class="sy0">:</span>CmpFuncPtrs<span class="br0">)</span>;<br><span class="kw1">END</span> QSORT.<br>&nbsp;</pre> 
        <p>The implementation module is not visible to clients, so it may be changed without worry so long as it still implements the definition. </p>
        <p>Sedgewick suggests that faster sorting will be achieved if you drop back to an insertion sort once the partitions get small. </p> 
        <pre class="modula2 highlighted_source"><span class="coMULTI">(*##########################*)</span><br> <span class="kw1">IMPLEMENTATION</span> <span class="kw1">MODULE</span> QSORT; <br><span class="coMULTI">(*##########################*)</span><br>&nbsp;<br><span class="kw1">FROM</span> SYSTEM    <span class="kw1">IMPORT</span> ADDRESS;<br>&nbsp;<br><span class="kw1">CONST</span> SmallPartition  <span class="sy0">=</span> <span class="nu0">9</span>;<br>&nbsp;<br><span class="coMULTI">(*<br>NOTE<br>        1.Reference on QuickSort: "Implementing Quicksort Programs", Robert<br>          Sedgewick, Communications of the ACM, Oct 78, v21 #10.<br>*)</span><br>&nbsp;<br><span class="coMULTI">(*==============================================================*)</span><br> <span class="kw1">PROCEDURE</span> QuickSortPtrs<span class="br0">(</span><span class="kw1">VAR</span> Array<span class="sy0">:</span><span class="kw1">ARRAY</span> <span class="kw1">OF</span> ADDRESS; N<span class="sy0">:</span><span class="kw4">CARDINAL</span>;<br>                         Compare<span class="sy0">:</span>CmpFuncPtrs<span class="br0">)</span>;<br><span class="coMULTI">(*==============================================================*)</span><br>&nbsp;<br>         <span class="coMULTI">(*-----------------------------*)</span><br>          <span class="kw1">PROCEDURE</span> Swap<span class="br0">(</span><span class="kw1">VAR</span> A<span class="sy0">,</span>B<span class="sy0">:</span>ADDRESS<span class="br0">)</span>;<br>         <span class="coMULTI">(*-----------------------------*)</span><br>&nbsp;<br>         <span class="kw1">VAR</span>  temp <span class="sy0">:</span>ADDRESS;<br>&nbsp;<br>         <span class="kw1">BEGIN</span><br>&nbsp;<br>         temp <span class="sy0">:=</span> A; A <span class="sy0">:=</span> B; B <span class="sy0">:=</span> temp;<br>&nbsp;<br>         <span class="kw1">END</span> Swap;<br>&nbsp;<br>         <span class="coMULTI">(*-------------------------------*)</span><br>          <span class="kw1">PROCEDURE</span> TstSwap<span class="br0">(</span><span class="kw1">VAR</span> A<span class="sy0">,</span>B<span class="sy0">:</span>ADDRESS<span class="br0">)</span>;<br>         <span class="coMULTI">(*-------------------------------*)</span><br>&nbsp;<br>         <span class="kw1">VAR</span>  temp   <span class="sy0">:</span>ADDRESS;<br>&nbsp;<br>         <span class="kw1">BEGIN</span><br>&nbsp;<br>         <span class="kw1">IF</span> Compare<span class="br0">(</span>A<span class="sy0">,</span>B<span class="br0">)</span> &gt; <span class="nu0">0</span> <span class="kw1">THEN</span><br>            temp <span class="sy0">:=</span> A; A <span class="sy0">:=</span> B; B <span class="sy0">:=</span> temp;<br>         <span class="kw1">END</span>;<br>&nbsp;<br>         <span class="kw1">END</span> TstSwap;<br>&nbsp;<br>         <span class="coMULTI">(*--------------*)</span><br>          <span class="kw1">PROCEDURE</span> Isort;<br>         <span class="coMULTI">(*--------------*)</span><br>         <span class="coMULTI">(*<br>                 Insertion sort.<br>         *)</span><br>&nbsp;<br>         <span class="kw1">VAR</span>  i<span class="sy0">,</span>j    <span class="sy0">:</span><span class="kw4">CARDINAL</span>;<br>              temp   <span class="sy0">:</span>ADDRESS;<br>&nbsp;<br>         <span class="kw1">BEGIN</span><br>&nbsp;<br>         <span class="kw1">IF</span> N &lt; <span class="nu0">2</span> <span class="kw1">THEN</span> <span class="kw1">RETURN</span> <span class="kw1">END</span>;<br>&nbsp;<br>         <span class="kw1">FOR</span> i <span class="sy0">:=</span> N<span class="sy0">-</span><span class="nu0">2</span> <span class="kw1">TO</span> <span class="nu0">0</span> <span class="kw1">BY</span> <span class="sy0">-</span><span class="nu0">1</span> <span class="kw1">DO</span><br>            <span class="kw1">IF</span> Compare<span class="br0">(</span>Array<span class="br0">[</span>i<span class="br0">]</span><span class="sy0">,</span>Array<span class="br0">[</span>i<span class="sy0">+</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span> &gt; <span class="nu0">0</span> <span class="kw1">THEN</span><br>               temp <span class="sy0">:=</span> Array<span class="br0">[</span>i<span class="br0">]</span>;<br>               j <span class="sy0">:=</span> i<span class="sy0">+</span><span class="nu0">1</span>;<br>               <span class="kw1">REPEAT</span><br>                  Array<span class="br0">[</span>j<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span> <span class="sy0">:=</span> Array<span class="br0">[</span>j<span class="br0">]</span>;<br>                  <span class="kw3">INC</span><span class="br0">(</span>j<span class="br0">)</span>;<br>               <span class="kw1">UNTIL</span> <span class="br0">(</span>j <span class="sy0">=</span> N<span class="br0">)</span> <span class="kw1">OR</span> <span class="br0">(</span>Compare<span class="br0">(</span>Array<span class="br0">[</span>j<span class="br0">]</span><span class="sy0">,</span>temp<span class="br0">)</span> &gt;<span class="sy0">=</span> <span class="nu0">0</span><span class="br0">)</span>;<br>               Array<span class="br0">[</span>j<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span> <span class="sy0">:=</span> temp;<br>            <span class="kw1">END</span>;<br>         <span class="kw1">END</span>;<br>&nbsp;<br>         <span class="kw1">END</span> Isort;<br>&nbsp;<br>         <span class="coMULTI">(*----------------------------------*)</span><br>          <span class="kw1">PROCEDURE</span> Quick<span class="br0">(</span>left<span class="sy0">,</span>right<span class="sy0">:</span><span class="kw4">CARDINAL</span><span class="br0">)</span>;<br>         <span class="coMULTI">(*----------------------------------*)</span><br>&nbsp;<br>         <span class="kw1">VAR</span><br>              i<span class="sy0">,</span>j<span class="sy0">,</span><br>              second     <span class="sy0">:</span><span class="kw4">CARDINAL</span>;<br>              Partition  <span class="sy0">:</span>ADDRESS;<br>&nbsp;<br>         <span class="kw1">BEGIN</span><br>&nbsp;<br>         <span class="kw1">IF</span> right &gt; left <span class="kw1">THEN</span><br>            i <span class="sy0">:=</span> left; j <span class="sy0">:=</span> right;<br>&nbsp;<br>            Swap<span class="br0">(</span>Array<span class="br0">[</span>left<span class="br0">]</span><span class="sy0">,</span>Array<span class="br0">[</span><span class="br0">(</span>left<span class="sy0">+</span>right<span class="br0">)</span> <span class="kw1">DIV</span> <span class="nu0">2</span><span class="br0">]</span><span class="br0">)</span>;<br>&nbsp;<br>            second <span class="sy0">:=</span> left<span class="sy0">+</span><span class="nu0">1</span>;                          <span class="coMULTI">(* insure 2nd element is in   *)</span><br>            TstSwap<span class="br0">(</span>Array<span class="br0">[</span>second<span class="br0">]</span><span class="sy0">,</span> Array<span class="br0">[</span>right<span class="br0">]</span><span class="br0">)</span>;      <span class="coMULTI">(* the lower part, last elem  *)</span><br>            TstSwap<span class="br0">(</span>Array<span class="br0">[</span>left<span class="br0">]</span><span class="sy0">,</span> Array<span class="br0">[</span>right<span class="br0">]</span><span class="br0">)</span>;        <span class="coMULTI">(* in the upper part          *)</span><br>            TstSwap<span class="br0">(</span>Array<span class="br0">[</span>second<span class="br0">]</span><span class="sy0">,</span> Array<span class="br0">[</span>left<span class="br0">]</span><span class="br0">)</span>;       <span class="coMULTI">(* THUS, only one test is     *)</span><br>                                                       <span class="coMULTI">(* needed in repeat loops     *)</span><br>            Partition <span class="sy0">:=</span> Array<span class="br0">[</span>left<span class="br0">]</span>;<br>&nbsp;<br>            <span class="kw1">LOOP</span><br>               <span class="kw1">REPEAT</span> <span class="kw3">INC</span><span class="br0">(</span>i<span class="br0">)</span> <span class="kw1">UNTIL</span> Compare<span class="br0">(</span>Array<span class="br0">[</span>i<span class="br0">]</span><span class="sy0">,</span>Partition<span class="br0">)</span> &gt;<span class="sy0">=</span> <span class="nu0">0</span>;<br>               <span class="kw1">REPEAT</span> <span class="kw3">DEC</span><span class="br0">(</span>j<span class="br0">)</span> <span class="kw1">UNTIL</span> Compare<span class="br0">(</span>Array<span class="br0">[</span>j<span class="br0">]</span><span class="sy0">,</span>Partition<span class="br0">)</span> &lt;<span class="sy0">=</span> <span class="nu0">0</span>;<br>               <span class="kw1">IF</span> j &lt; i <span class="kw1">THEN</span><br>                  <span class="kw1">EXIT</span><br>               <span class="kw1">END</span>;<br>               Swap<span class="br0">(</span>Array<span class="br0">[</span>i<span class="br0">]</span><span class="sy0">,</span>Array<span class="br0">[</span>j<span class="br0">]</span><span class="br0">)</span>;<br>            <span class="kw1">END</span>; <span class="coMULTI">(*loop*)</span><br>            Swap<span class="br0">(</span>Array<span class="br0">[</span>left<span class="br0">]</span><span class="sy0">,</span>Array<span class="br0">[</span>j<span class="br0">]</span><span class="br0">)</span>;<br>&nbsp;<br>            <span class="kw1">IF</span> <span class="br0">(</span>j &gt; <span class="nu0">0</span><span class="br0">)</span> <span class="kw1">AND</span> <span class="br0">(</span>j<span class="sy0">-</span><span class="nu0">1</span><span class="sy0">-</span>left &gt;<span class="sy0">=</span> SmallPartition<span class="br0">)</span> <span class="kw1">THEN</span><br>               Quick<span class="br0">(</span>left<span class="sy0">,</span>j<span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span>;<br>            <span class="kw1">END</span>;<br>            <span class="kw1">IF</span> right<span class="sy0">-</span>i &gt;<span class="sy0">=</span> SmallPartition <span class="kw1">THEN</span><br>               Quick<span class="br0">(</span>i<span class="sy0">,</span>right<span class="br0">)</span>;<br>            <span class="kw1">END</span>;<br>         <span class="kw1">END</span>;<br>&nbsp;<br>         <span class="kw1">END</span> Quick;<br>&nbsp;<br> <span class="kw1">BEGIN</span> <span class="coMULTI">(* QuickSortPtrs --------------------------------------------------*)</span><br>&nbsp;<br><span class="kw1">IF</span> N &gt; SmallPartition <span class="kw1">THEN</span>              <span class="coMULTI">(* won't work for 2 elements *)</span><br>   Quick<span class="br0">(</span><span class="nu0">0</span><span class="sy0">,</span>N<span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span>;<br><span class="kw1">END</span>;<br>&nbsp;<br>Isort;<br>&nbsp;<br><span class="kw1">END</span> QuickSortPtrs;<br>&nbsp;<br><span class="kw1">END</span> QSORT.<br>&nbsp;</pre> 
        <h2><span class="mw-headline" id="Modula-3"><a href="/wiki/Category:Modula-3" title="Category:Modula-3">Modula-3</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=69" title="Edit section: Modula-3">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>This code is taken from libm3, which is basically Modula-3's "standard library". Note that this code uses Insertion sort when the array is less than 9 elements long. </p> 
        <pre class="modula3 highlighted_source"><span class="kw1">GENERIC</span> <span class="kw1">INTERFACE</span> ArraySort<span class="br0">(</span>Elem<span class="br0">)</span>;<br>&nbsp;<br><span class="kw1">PROCEDURE</span> Sort<span class="br0">(</span><span class="kw1">VAR</span> a<span class="sy0">:</span> <span class="kw1">ARRAY</span> <span class="kw1">OF</span> Elem.<span class="me1">T</span>; cmp <span class="sy0">:=</span> Elem.<span class="me1">Compare</span><span class="br0">)</span>;<br>&nbsp;<br><span class="kw1">END</span> ArraySort.</pre> 
        <pre class="modula3 highlighted_source"><span class="kw1">GENERIC</span> <span class="kw1">MODULE</span> ArraySort <span class="br0">(</span>Elem<span class="br0">)</span>;<br>&nbsp;<br><span class="kw1">PROCEDURE</span> Sort <span class="br0">(</span><span class="kw1">VAR</span> a<span class="sy0">:</span> <span class="kw1">ARRAY</span> <span class="kw1">OF</span> Elem.<span class="me1">T</span>;  cmp <span class="sy0">:=</span> Elem.<span class="me1">Compare</span><span class="br0">)</span> <span class="sy0">=</span><br>  <span class="kw1">BEGIN</span><br>    QuickSort <span class="br0">(</span>a<span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="kw3">NUMBER</span> <span class="br0">(</span>a<span class="br0">)</span><span class="sy0">,</span> cmp<span class="br0">)</span>;<br>    InsertionSort <span class="br0">(</span>a<span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="kw3">NUMBER</span> <span class="br0">(</span>a<span class="br0">)</span><span class="sy0">,</span> cmp<span class="br0">)</span>;<br>  <span class="kw1">END</span> Sort;<br>&nbsp;<br><span class="kw1">PROCEDURE</span> QuickSort <span class="br0">(</span><span class="kw1">VAR</span> a<span class="sy0">:</span> <span class="kw1">ARRAY</span> <span class="kw1">OF</span> Elem.<span class="me1">T</span>;  lo<span class="sy0">,</span> hi<span class="sy0">:</span> <span class="kw4">INTEGER</span>;<br>                     cmp <span class="sy0">:=</span> Elem.<span class="me1">Compare</span><span class="br0">)</span> <span class="sy0">=</span><br>  <span class="kw1">CONST</span> CutOff <span class="sy0">=</span> <span class="nu0">9</span>;<br>  <span class="kw1">VAR</span> i<span class="sy0">,</span> j<span class="sy0">:</span> <span class="kw4">INTEGER</span>;  key<span class="sy0">,</span> tmp<span class="sy0">:</span> Elem.<span class="me1">T</span>;<br>  <span class="kw1">BEGIN</span><br>    <span class="kw1">WHILE</span> <span class="br0">(</span>hi <span class="sy0">-</span> lo &gt; CutOff<span class="br0">)</span> <span class="kw1">DO</span> <span class="coMULTI">(* sort a[lo..hi) *)</span><br>&nbsp;<br>      <span class="coMULTI">(* use median-of-3 to select a key *)</span><br>      i <span class="sy0">:=</span> <span class="br0">(</span>hi <span class="sy0">+</span> lo<span class="br0">)</span> <span class="kw1">DIV</span> <span class="nu0">2</span>;<br>      <span class="kw1">IF</span> cmp <span class="br0">(</span>a<span class="br0">[</span>lo<span class="br0">]</span><span class="sy0">,</span> a<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span> &lt; <span class="nu0">0</span> <span class="kw1">THEN</span><br>        <span class="kw1">IF</span> cmp <span class="br0">(</span>a<span class="br0">[</span>i<span class="br0">]</span><span class="sy0">,</span> a<span class="br0">[</span>hi<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span> &lt; <span class="nu0">0</span> <span class="kw1">THEN</span><br>          key <span class="sy0">:=</span> a<span class="br0">[</span>i<span class="br0">]</span>;<br>        <span class="kw1">ELSIF</span> cmp <span class="br0">(</span>a<span class="br0">[</span>lo<span class="br0">]</span><span class="sy0">,</span> a<span class="br0">[</span>hi<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span> &lt; <span class="nu0">0</span> <span class="kw1">THEN</span><br>          key <span class="sy0">:=</span> a<span class="br0">[</span>hi<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span>;  a<span class="br0">[</span>hi<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span> <span class="sy0">:=</span> a<span class="br0">[</span>i<span class="br0">]</span>;  a<span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">:=</span> key;<br>        <span class="kw1">ELSE</span><br>          key <span class="sy0">:=</span> a<span class="br0">[</span>lo<span class="br0">]</span>;  a<span class="br0">[</span>lo<span class="br0">]</span> <span class="sy0">:=</span> a<span class="br0">[</span>hi<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span>;  a<span class="br0">[</span>hi<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span> <span class="sy0">:=</span> a<span class="br0">[</span>i<span class="br0">]</span>;  a<span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">:=</span> key;<br>        <span class="kw1">END</span>;<br>      <span class="kw1">ELSE</span> <span class="coMULTI">(* a[lo] &gt;= a[i] *)</span><br>        <span class="kw1">IF</span> cmp <span class="br0">(</span>a<span class="br0">[</span>hi<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span><span class="sy0">,</span> a<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span> &lt; <span class="nu0">0</span> <span class="kw1">THEN</span><br>          key <span class="sy0">:=</span> a<span class="br0">[</span>i<span class="br0">]</span>;  tmp <span class="sy0">:=</span> a<span class="br0">[</span>hi<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span>;  a<span class="br0">[</span>hi<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span> <span class="sy0">:=</span> a<span class="br0">[</span>lo<span class="br0">]</span>;  a<span class="br0">[</span>lo<span class="br0">]</span> <span class="sy0">:=</span> tmp;<br>        <span class="kw1">ELSIF</span> cmp <span class="br0">(</span>a<span class="br0">[</span>lo<span class="br0">]</span><span class="sy0">,</span> a<span class="br0">[</span>hi<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span> &lt; <span class="nu0">0</span> <span class="kw1">THEN</span><br>          key <span class="sy0">:=</span> a<span class="br0">[</span>lo<span class="br0">]</span>;  a<span class="br0">[</span>lo<span class="br0">]</span> <span class="sy0">:=</span> a<span class="br0">[</span>i<span class="br0">]</span>;  a<span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">:=</span> key;<br>        <span class="kw1">ELSE</span><br>          key <span class="sy0">:=</span> a<span class="br0">[</span>hi<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span>;  a<span class="br0">[</span>hi<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span> <span class="sy0">:=</span> a<span class="br0">[</span>lo<span class="br0">]</span>;  a<span class="br0">[</span>lo<span class="br0">]</span> <span class="sy0">:=</span> a<span class="br0">[</span>i<span class="br0">]</span>;  a<span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">:=</span> key;<br>        <span class="kw1">END</span>;<br>      <span class="kw1">END</span>;<br>&nbsp;<br>      <span class="coMULTI">(* partition the array *)</span><br>      i <span class="sy0">:=</span> lo<span class="sy0">+</span><span class="nu0">1</span>;  j <span class="sy0">:=</span> hi<span class="sy0">-</span><span class="nu0">2</span>;<br>&nbsp;<br>      <span class="coMULTI">(* find the first hole *)</span><br>      <span class="kw1">WHILE</span> cmp <span class="br0">(</span>a<span class="br0">[</span>j<span class="br0">]</span><span class="sy0">,</span> key<span class="br0">)</span> &gt; <span class="nu0">0</span> <span class="kw1">DO</span> <span class="kw3">DEC</span> <span class="br0">(</span>j<span class="br0">)</span> <span class="kw1">END</span>;<br>      tmp <span class="sy0">:=</span> a<span class="br0">[</span>j<span class="br0">]</span>;<br>      <span class="kw3">DEC</span> <span class="br0">(</span>j<span class="br0">)</span>;<br>&nbsp;<br>      <span class="kw1">LOOP</span><br>        <span class="kw1">IF</span> <span class="br0">(</span>i &gt; j<span class="br0">)</span> <span class="kw1">THEN</span> <span class="kw1">EXIT</span> <span class="kw1">END</span>;<br>&nbsp;<br>        <span class="kw1">WHILE</span> i &lt; hi <span class="kw1">AND</span> cmp <span class="br0">(</span>a<span class="br0">[</span>i<span class="br0">]</span><span class="sy0">,</span> key<span class="br0">)</span> &lt; <span class="nu0">0</span> <span class="kw1">DO</span> <span class="kw3">INC</span> <span class="br0">(</span>i<span class="br0">)</span> <span class="kw1">END</span>;<br>        <span class="kw1">IF</span> <span class="br0">(</span>i &gt; j<span class="br0">)</span> <span class="kw1">THEN</span> <span class="kw1">EXIT</span> <span class="kw1">END</span>;<br>        a<span class="br0">[</span>j<span class="sy0">+</span><span class="nu0">1</span><span class="br0">]</span> <span class="sy0">:=</span> a<span class="br0">[</span>i<span class="br0">]</span>;<br>        <span class="kw3">INC</span> <span class="br0">(</span>i<span class="br0">)</span>;<br>&nbsp;<br>        <span class="kw1">WHILE</span> j &gt; lo <span class="kw1">AND</span> cmp <span class="br0">(</span>a<span class="br0">[</span>j<span class="br0">]</span><span class="sy0">,</span> key<span class="br0">)</span> &gt; <span class="nu0">0</span> <span class="kw1">DO</span> <span class="kw3">DEC</span> <span class="br0">(</span>j<span class="br0">)</span> <span class="kw1">END</span>;<br>        <span class="kw1">IF</span> <span class="br0">(</span>i &gt; j<span class="br0">)</span> <span class="kw1">THEN</span>  <span class="kw1">IF</span> <span class="br0">(</span>j <span class="sy0">=</span> i<span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span> <span class="kw1">THEN</span>  <span class="kw3">DEC</span> <span class="br0">(</span>j<span class="br0">)</span>  <span class="kw1">END</span>;  <span class="kw1">EXIT</span>  <span class="kw1">END</span>;<br>        a<span class="br0">[</span>i<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span> <span class="sy0">:=</span> a<span class="br0">[</span>j<span class="br0">]</span>;<br>        <span class="kw3">DEC</span> <span class="br0">(</span>j<span class="br0">)</span>;<br>      <span class="kw1">END</span>;<br>&nbsp;<br>      <span class="coMULTI">(* fill in the last hole *)</span><br>      a<span class="br0">[</span>j<span class="sy0">+</span><span class="nu0">1</span><span class="br0">]</span> <span class="sy0">:=</span> tmp;<br>      i <span class="sy0">:=</span> j<span class="sy0">+</span><span class="nu0">2</span>;<br>&nbsp;<br>      <span class="coMULTI">(* then, recursively sort the smaller subfile *)</span><br>      <span class="kw1">IF</span> <span class="br0">(</span>i <span class="sy0">-</span> lo &lt; hi <span class="sy0">-</span> i<span class="br0">)</span><br>        <span class="kw1">THEN</span>  QuickSort <span class="br0">(</span>a<span class="sy0">,</span> lo<span class="sy0">,</span> i<span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span> cmp<span class="br0">)</span>;   lo <span class="sy0">:=</span> i;<br>        <span class="kw1">ELSE</span>  QuickSort <span class="br0">(</span>a<span class="sy0">,</span> i<span class="sy0">,</span> hi<span class="sy0">,</span> cmp<span class="br0">)</span>;     hi <span class="sy0">:=</span> i<span class="sy0">-</span><span class="nu0">1</span>;<br>      <span class="kw1">END</span>;<br>&nbsp;<br>    <span class="kw1">END</span>; <span class="coMULTI">(* WHILE (hi-lo &gt; CutOff) *)</span><br>  <span class="kw1">END</span> QuickSort;<br>&nbsp;<br><span class="kw1">PROCEDURE</span> InsertionSort <span class="br0">(</span><span class="kw1">VAR</span> a<span class="sy0">:</span> <span class="kw1">ARRAY</span> <span class="kw1">OF</span> Elem.<span class="me1">T</span>;  lo<span class="sy0">,</span> hi<span class="sy0">:</span> <span class="kw4">INTEGER</span>;<br>                         cmp <span class="sy0">:=</span> Elem.<span class="me1">Compare</span><span class="br0">)</span> <span class="sy0">=</span><br>  <span class="kw1">VAR</span> j<span class="sy0">:</span> <span class="kw4">INTEGER</span>;  key<span class="sy0">:</span> Elem.<span class="me1">T</span>;<br>  <span class="kw1">BEGIN</span><br>    <span class="kw1">FOR</span> i <span class="sy0">:=</span> lo<span class="sy0">+</span><span class="nu0">1</span> <span class="kw1">TO</span> hi<span class="sy0">-</span><span class="nu0">1</span> <span class="kw1">DO</span><br>      key <span class="sy0">:=</span> a<span class="br0">[</span>i<span class="br0">]</span>;<br>      j <span class="sy0">:=</span> i<span class="sy0">-</span><span class="nu0">1</span>;<br>      <span class="kw1">WHILE</span> <span class="br0">(</span>j &gt;<span class="sy0">=</span> lo<span class="br0">)</span> <span class="kw1">AND</span> cmp <span class="br0">(</span>key<span class="sy0">,</span> a<span class="br0">[</span>j<span class="br0">]</span><span class="br0">)</span> &lt; <span class="nu0">0</span> <span class="kw1">DO</span><br>        a<span class="br0">[</span>j<span class="sy0">+</span><span class="nu0">1</span><span class="br0">]</span> <span class="sy0">:=</span> a<span class="br0">[</span>j<span class="br0">]</span>;<br>        <span class="kw3">DEC</span> <span class="br0">(</span>j<span class="br0">)</span>;<br>      <span class="kw1">END</span>;<br>      a<span class="br0">[</span>j<span class="sy0">+</span><span class="nu0">1</span><span class="br0">]</span> <span class="sy0">:=</span> key;<br>    <span class="kw1">END</span>;<br>  <span class="kw1">END</span> InsertionSort;<br>&nbsp;<br><span class="kw1">BEGIN</span><br><span class="kw1">END</span> ArraySort.</pre> 
        <p>To use this generic code to sort an array of text, we create two files called TextSort.i3 and TextSort.m3, respectively. </p> 
        <pre class="modula3 highlighted_source"><span class="kw1">INTERFACE</span> TextSort <span class="sy0">=</span> ArraySort<span class="br0">(</span>Text<span class="br0">)</span> <span class="kw1">END</span> TextSort.</pre> 
        <pre class="modula3 highlighted_source"><span class="kw1">MODULE</span> TextSort <span class="sy0">=</span> ArraySort<span class="br0">(</span>Text<span class="br0">)</span> <span class="kw1">END</span> TextSort.</pre> 
        <p>Then, as an example: </p> 
        <pre class="modula3 highlighted_source"><span class="kw1">MODULE</span> Main;<br>&nbsp;<br><span class="kw1">IMPORT</span> IO<span class="sy0">,</span> TextSort;<br>&nbsp;<br><span class="kw1">VAR</span> arr <span class="sy0">:=</span> <span class="kw1">ARRAY</span> <span class="br0">[</span><span class="nu0">1</span>..<span class="nu0">10</span><span class="br0">]</span> <span class="kw1">OF</span> <span class="kw4">TEXT</span> <span class="br0">{</span><span class="st0">"Foo"</span><span class="sy0">,</span> <span class="st0">"bar"</span><span class="sy0">,</span> <span class="st0">"!ooF"</span><span class="sy0">,</span> <span class="st0">"Modula-3"</span><span class="sy0">,</span> <span class="st0">"hickup"</span><span class="sy0">,</span> <br>                                 <span class="st0">"baz"</span><span class="sy0">,</span> <span class="st0">"quuz"</span><span class="sy0">,</span> <span class="st0">"Zeepf"</span><span class="sy0">,</span> <span class="st0">"woo"</span><span class="sy0">,</span> <span class="st0">"Rosetta Code"</span><span class="br0">}</span>;<br>&nbsp;<br><span class="kw1">BEGIN</span><br>  TextSort.<span class="me1">Sort</span><span class="br0">(</span>arr<span class="br0">)</span>;<br>  <span class="kw1">FOR</span> i <span class="sy0">:=</span> <span class="kw3">FIRST</span><span class="br0">(</span>arr<span class="br0">)</span> <span class="kw1">TO</span> <span class="kw3">LAST</span><span class="br0">(</span>arr<span class="br0">)</span> <span class="kw1">DO</span><br>    IO.<span class="me1">Put</span><span class="br0">(</span>arr<span class="br0">[</span>i<span class="br0">]</span> &amp; <span class="st0">"<span class="es0">\n</span>"</span><span class="br0">)</span>;<br>  <span class="kw1">END</span>;<br><span class="kw1">END</span> Main.</pre> 
        <h2><span class="mw-headline" id="Mond"><a href="/wiki/Category:Mond" title="Category:Mond">Mond</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=70" title="Edit section: Mond">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>Implements the simple quicksort algorithm. </p> 
        <pre class="text highlighted_source">fun quicksort( arr, cmp )<br>{<br>    if( arr.length() &lt; 2 )<br>        return arr;<br>&nbsp;<br>    if(&nbsp;!cmp )<br>        cmp = ( a, b ) -&gt; a - b;<br>&nbsp;<br>    var a = [ ], b = [ ];<br>    var pivot = arr[0];<br>    var len = arr.length();<br>&nbsp;<br>    for( var i = 1; i &lt; len; ++i )<br>    {<br>        var item = arr[i];<br>&nbsp;<br>        if( cmp( item, pivot ) &lt; cmp( pivot, item ) )<br>            a.add( item );<br>        else<br>            b.add( item );<br>    }<br>&nbsp;<br>    a = quicksort( a, cmp );<br>    b = quicksort( b, cmp );<br>&nbsp;<br>    a.add( pivot );<br>&nbsp;<br>    foreach( var item in b )<br>        a.add( item );<br>&nbsp;<br>    return a;<br>}</pre> 
        <dl>
         <dt>
          Usage
         </dt>
        </dl> 
        <pre class="text highlighted_source">var array = [ 532, 16, 153, 3, 63.60, 925, 0.214 ];<br>var sorted = quicksort( array );<br>&nbsp;<br>printLn( sorted );</pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>[
  0.214,
  3,
  16,
  63.6,
  153,
  532,
  925
]</pre> 
        <h2><span class="mw-headline" id="Nemerle"><a href="/wiki/Category:Nemerle" title="Category:Nemerle">Nemerle</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=71" title="Edit section: Nemerle">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <div class="examplemeta translation">
         <b>Translation of</b>: 
         <a href="#Haskell">Haskell</a>
        </div> 
        <p>A little less clean and concise than Haskell, but essentially the same. </p> 
        <pre class="text highlighted_source">using System;<br>using System.Console;<br>using Nemerle.Collections.NList;<br>&nbsp;<br>module Quicksort<br>{<br>    Qsort[T] (x&nbsp;: list[T])&nbsp;: list[T]<br>      where T&nbsp;: IComparable<br>    {<br>        |[]    =&gt; []<br>        |x::xs =&gt; Qsort($[y|y in xs, (y.CompareTo(x) &lt; 0)]) + [x] + Qsort($[y|y in xs, (y.CompareTo(x) &gt; 0)])<br>    }<br>&nbsp;<br>    Main()&nbsp;: void<br>    {<br>        def empty = [];<br>        def single = [2];<br>        def several = [2, 6, 1, 7, 3, 9, 4];<br>        WriteLine(Qsort(empty));<br>        WriteLine(Qsort(single));<br>        WriteLine(Qsort(several));<br>    }<br>}</pre> 
        <h2><span class="mw-headline" id="NetRexx"><a href="/wiki/Category:NetRexx" title="Category:NetRexx">NetRexx</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=72" title="Edit section: NetRexx">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>This sample implements both the <b>simple</b> and <b>in place</b> algorithms as described in the task's description: </p> 
        <pre class="netrexx highlighted_source"><span class="coMULTI">/* NetRexx */</span><br>options replace format comments java crossref savelog symbols <span class="kw2">binary</span><br>&nbsp;<br><span class="kw1">import</span> java.<span class="me0">util</span>.<span class="me0">List</span><br>&nbsp;<br>placesList = <span class="br0">[</span>String -<br>    <span class="st0">"UK  London"</span>,     <span class="st0">"US  New York"</span>,   <span class="st0">"US  Boston"</span>,     <span class="st0">"US  Washington"</span> -<br>  , <span class="st0">"UK  Washington"</span>, <span class="st0">"US  Birmingham"</span>, <span class="st0">"UK  Birmingham"</span>, <span class="st0">"UK  Boston"</span>     -<br><span class="br0">]</span><br>lists = <span class="br0">[</span> -<br>    placesList -<br>  , quickSortSimple<span class="br0">(</span>String<span class="br0">[</span><span class="br0">]</span> Arrays.<span class="me0">copyOf</span><span class="br0">(</span>placesList, placesList.<span class="me0">length</span><span class="br0">)</span><span class="br0">)</span> -<br>  , quickSortInplace<span class="br0">(</span>String<span class="br0">[</span><span class="br0">]</span> Arrays.<span class="me0">copyOf</span><span class="br0">(</span>placesList, placesList.<span class="me0">length</span><span class="br0">)</span><span class="br0">)</span> -<br><span class="br0">]</span><br>&nbsp;<br><span class="kw1">loop</span> ln = <span class="nu0">0</span> to lists.<span class="me0">length</span> - <span class="nu0">1</span><br>  cl = lists<span class="br0">[</span>ln<span class="br0">]</span><br>  <span class="kw1">loop</span> ct = <span class="nu0">0</span> to cl.<span class="me0">length</span> - <span class="nu0">1</span><br>    <span class="kw1">say</span> cl<span class="br0">[</span>ct<span class="br0">]</span><br>    <span class="kw3">end</span> ct<br>    <span class="kw1">say</span><br>  <span class="kw3">end</span> ln<br>&nbsp;<br><span class="kw1">return</span><br>&nbsp;<br>method quickSortSimple<span class="br0">(</span>array = String<span class="br0">[</span><span class="br0">]</span><span class="br0">)</span> <span class="kw2">public</span> <span class="kw2">constant</span> <span class="kw2">binary</span> <span class="kw2">returns</span> String<span class="br0">[</span><span class="br0">]</span><br>&nbsp;<br>  rl = String<span class="br0">[</span>array.<span class="me0">length</span><span class="br0">]</span><br>  al = List quickSortSimple<span class="br0">(</span>Arrays.<span class="me0">asList</span><span class="br0">(</span>array<span class="br0">)</span><span class="br0">)</span><br>  al.<span class="me0">toArray</span><span class="br0">(</span>rl<span class="br0">)</span><br>&nbsp;<br>  <span class="kw1">return</span> rl<br>&nbsp;<br>method quickSortSimple<span class="br0">(</span>array = List<span class="br0">)</span> <span class="kw2">public</span> <span class="kw2">constant</span> <span class="kw2">binary</span> <span class="kw2">returns</span> ArrayList<br>&nbsp;<br>  <span class="kw1">if</span> array.<span class="me0">size</span> <span class="sy0">&gt;</span> <span class="nu0">1</span> <span class="kw3">then</span> <span class="kw1">do</span><br>    less    = ArrayList<span class="br0">(</span><span class="br0">)</span><br>    equal   = ArrayList<span class="br0">(</span><span class="br0">)</span><br>    greater = ArrayList<span class="br0">(</span><span class="br0">)</span><br>&nbsp;<br>    pivot = array.<span class="me0">get</span><span class="br0">(</span>Random<span class="br0">(</span><span class="br0">)</span>.<span class="me0">nextInt</span><span class="br0">(</span>array.<span class="me0">size</span> - <span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span><br>    <span class="kw1">loop</span> x_ = <span class="nu0">0</span> to array.<span class="me0">size</span> - <span class="nu0">1</span><br>      <span class="kw1">if</span> <span class="br0">(</span>Comparable array.<span class="me0">get</span><span class="br0">(</span>x_<span class="br0">)</span><span class="br0">)</span>.<span class="me0">compareTo</span><span class="br0">(</span>Comparable pivot<span class="br0">)</span> <span class="sy0">&lt;</span> <span class="nu0">0</span> <span class="kw3">then</span> less.<span class="me0">add</span><span class="br0">(</span>array.<span class="me0">get</span><span class="br0">(</span>x_<span class="br0">)</span><span class="br0">)</span><br>      <span class="kw1">if</span> <span class="br0">(</span>Comparable array.<span class="me0">get</span><span class="br0">(</span>x_<span class="br0">)</span><span class="br0">)</span>.<span class="me0">compareTo</span><span class="br0">(</span>Comparable pivot<span class="br0">)</span> = <span class="nu0">0</span> <span class="kw3">then</span> equal.<span class="me0">add</span><span class="br0">(</span>array.<span class="me0">get</span><span class="br0">(</span>x_<span class="br0">)</span><span class="br0">)</span><br>      <span class="kw1">if</span> <span class="br0">(</span>Comparable array.<span class="me0">get</span><span class="br0">(</span>x_<span class="br0">)</span><span class="br0">)</span>.<span class="me0">compareTo</span><span class="br0">(</span>Comparable pivot<span class="br0">)</span> <span class="sy0">&gt;</span> <span class="nu0">0</span> <span class="kw3">then</span> greater.<span class="me0">add</span><span class="br0">(</span>array.<span class="me0">get</span><span class="br0">(</span>x_<span class="br0">)</span><span class="br0">)</span><br>      <span class="kw3">end</span> x_<br>    less    = quickSortSimple<span class="br0">(</span>less<span class="br0">)</span><br>    greater = quickSortSimple<span class="br0">(</span>greater<span class="br0">)</span><br>    out = ArrayList<span class="br0">(</span>array.<span class="me0">size</span><span class="br0">)</span><br>    out.<span class="me0">addAll</span><span class="br0">(</span>less<span class="br0">)</span><br>    out.<span class="me0">addAll</span><span class="br0">(</span>equal<span class="br0">)</span><br>    out.<span class="me0">addAll</span><span class="br0">(</span>greater<span class="br0">)</span><br>&nbsp;<br>    array = out<br>    <span class="kw3">end</span><br>&nbsp;<br>  <span class="kw1">return</span> ArrayList array<br>&nbsp;<br>method quickSortInplace<span class="br0">(</span>array = String<span class="br0">[</span><span class="br0">]</span><span class="br0">)</span> <span class="kw2">public</span> <span class="kw2">constant</span> <span class="kw2">binary</span> <span class="kw2">returns</span> String<span class="br0">[</span><span class="br0">]</span><br>&nbsp;<br>  rl = String<span class="br0">[</span>array.<span class="me0">length</span><span class="br0">]</span><br>  al = List quickSortInplace<span class="br0">(</span>Arrays.<span class="me0">asList</span><span class="br0">(</span>array<span class="br0">)</span><span class="br0">)</span><br>  al.<span class="me0">toArray</span><span class="br0">(</span>rl<span class="br0">)</span><br>&nbsp;<br>  <span class="kw1">return</span> rl<br>&nbsp;<br>method quickSortInplace<span class="br0">(</span>array = List, ixL = int <span class="nu0">0</span>, ixR = int array.<span class="me0">size</span> - <span class="nu0">1</span><span class="br0">)</span> <span class="kw2">public</span> <span class="kw2">constant</span> <span class="kw2">binary</span> <span class="kw2">returns</span> ArrayList<br>&nbsp;<br>  <span class="kw1">if</span> ixL <span class="sy0">&lt;</span> ixR <span class="kw3">then</span> <span class="kw1">do</span><br>    ixP = int ixL + <span class="br0">(</span>ixR - ixL<span class="br0">)</span>&nbsp;% <span class="nu0">2</span><br>    ixP = quickSortInplacePartition<span class="br0">(</span>array, ixL, ixR, ixP<span class="br0">)</span><br>    quickSortInplace<span class="br0">(</span>array, ixL, ixP - <span class="nu0">1</span><span class="br0">)</span><br>    quickSortInplace<span class="br0">(</span>array, ixP + <span class="nu0">1</span>, ixR<span class="br0">)</span><br>    <span class="kw3">end</span><br>&nbsp;<br>  array = ArrayList<span class="br0">(</span>array<span class="br0">)</span><br>  <span class="kw1">return</span> ArrayList array<br>&nbsp;<br>method quickSortInplacePartition<span class="br0">(</span>array = List, ixL = int, ixR = int, ixP = int<span class="br0">)</span> <span class="kw2">public</span> <span class="kw2">constant</span> <span class="kw2">binary</span> <span class="kw2">returns</span> int<br>&nbsp;<br>  pivotValue = array.<span class="me0">get</span><span class="br0">(</span>ixP<span class="br0">)</span><br>  rValue     = array.<span class="me0">get</span><span class="br0">(</span>ixR<span class="br0">)</span><br>  array.<span class="me0">set</span><span class="br0">(</span>ixP, rValue<span class="br0">)</span><br>  array.<span class="me0">set</span><span class="br0">(</span>ixR, pivotValue<span class="br0">)</span><br>  ixStore = ixL<br>  <span class="kw1">loop</span> i_ = ixL to ixR - <span class="nu0">1</span><br>    iValue = array.<span class="me0">get</span><span class="br0">(</span>i_<span class="br0">)</span><br>    <span class="kw1">if</span> <span class="br0">(</span>Comparable iValue<span class="br0">)</span>.<span class="me0">compareTo</span><span class="br0">(</span>Comparable pivotValue<span class="br0">)</span> <span class="sy0">&lt;</span> <span class="nu0">0</span> <span class="kw3">then</span> <span class="kw1">do</span><br>      storeValue = array.<span class="me0">get</span><span class="br0">(</span>ixStore<span class="br0">)</span><br>      array.<span class="me0">set</span><span class="br0">(</span>i_, storeValue<span class="br0">)</span><br>      array.<span class="me0">set</span><span class="br0">(</span>ixStore, iValue<span class="br0">)</span><br>      ixStore = ixStore + <span class="nu0">1</span><br>      <span class="kw3">end</span><br>    <span class="kw3">end</span> i_<br>  storeValue = array.<span class="me0">get</span><span class="br0">(</span>ixStore<span class="br0">)</span><br>  rValue     = array.<span class="me0">get</span><span class="br0">(</span>ixR<span class="br0">)</span><br>  array.<span class="me0">set</span><span class="br0">(</span>ixStore, rValue<span class="br0">)</span><br>  array.<span class="me0">set</span><span class="br0">(</span>ixR, storeValue<span class="br0">)</span><br>&nbsp;<br>  <span class="kw1">return</span> ixStore<br>&nbsp;</pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>UK  London
US  New York
US  Boston
US  Washington
UK  Washington
US  Birmingham
UK  Birmingham
UK  Boston

UK  Birmingham
UK  Boston
UK  London
UK  Washington
US  Birmingham
US  Boston
US  New York
US  Washington

UK  Birmingham
UK  Boston
UK  London
UK  Washington
US  Birmingham
US  Boston
US  New York
US  Washington
</pre> 
        <h2><span class="mw-headline" id="Nial"><a href="/wiki/Category:Nial" title="Category:Nial">Nial</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=73" title="Edit section: Nial">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">quicksort is fork [ &gt;= [1 first,tally],<br>  pass,<br>  link [<br>      quicksort sublist [ &lt; [pass, first], pass ],<br>      sublist [ match [pass,first],pass ],<br>      quicksort sublist [ &gt; [pass,first], pass ]<br>  ]<br>]</pre> 
        <p>Using it. </p> 
        <pre class="text highlighted_source">|quicksort [5, 8, 7, 4, 3]<br>=3 4 5 7 8</pre> 
        <h2><span class="mw-headline" id="Nim"><a href="/wiki/Category:Nim" title="Category:Nim">Nim</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=74" title="Edit section: Nim">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">&nbsp;<br>proc quickSort[T](a: var openarray[T], inl = 0, inr = -1) =<br>  var r = if inr &gt;= 0: inr else: a.high<br>  var l = inl<br>  let n = r - l + 1<br>  if n &lt; 2: return<br>  let p = a[l + 3 * n div 4]<br>  while l &lt;= r:<br>    if a[l] &lt; p:<br>      inc l<br>      continue<br>    if a[r] &gt; p:<br>      dec r<br>      continue<br>    if l &lt;= r:<br>      swap a[l], a[r]<br>      inc l<br>      dec r<br>  quickSort(a, inl, r)<br>  quickSort(a, l, inr)<br>&nbsp;<br>var a = @[4, 65, 2, -31, 0, 99, 2, 83, 782]<br>quickSort a<br>echo a</pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>@[-31, 0, 2, 2, 4, 65, 83, 99, 782]</pre> 
        <h2><span class="mw-headline" id="Nix"><a href="/wiki/Category:Nix" title="Category:Nix">Nix</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=75" title="Edit section: Nix">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">&nbsp;<br>let<br>  qs = l:<br>    if l == [] then []<br>    else<br>      with builtins;<br>      let x  = head l;<br>          xs = tail l;<br>          low  = filter (a: a &lt; x)  xs;<br>          high = filter (a: a &gt;= x) xs;<br>      in qs low ++ [x] ++ qs high;<br>in<br>  qs [4 65 2 (-31) 0 99 83 782]<br>&nbsp;</pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>[ -31 0 2 4 65 83 99 782 ]</pre> 
        <h2><span class="mw-headline" id="Objeck"><a href="/wiki/Category:Objeck" title="Category:Objeck">Objeck</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=76" title="Edit section: Objeck">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="objeck highlighted_source">&nbsp;<br><span class="kw1">class</span> QuickSort <span class="br0">{</span><br>  <span class="kw1">function</span> <span class="sy0">:</span> Main<span class="br0">(</span>args <span class="sy0">:</span> <span class="kw2">String</span><span class="br0">[</span><span class="br0">]</span><span class="br0">)</span> ~ <span class="kw2">Nil</span> <span class="br0">{</span><br>    array <span class="sy0">:=</span> <span class="br0">[</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">3</span><span class="sy0">,</span> <span class="nu0">5</span><span class="sy0">,</span> <span class="nu0">7</span><span class="sy0">,</span> <span class="nu0">9</span><span class="sy0">,</span> <span class="nu0">8</span><span class="sy0">,</span> <span class="nu0">6</span><span class="sy0">,</span> <span class="nu0">4</span><span class="sy0">,</span> <span class="nu0">2</span><span class="br0">]</span><span class="sy0">;</span><br>    Sort<span class="br0">(</span>array<span class="br0">)</span><span class="sy0">;</span><br>    <span class="kw1">each</span><span class="br0">(</span>i <span class="sy0">:</span> array<span class="br0">)</span> <span class="br0">{</span><br>      array<span class="br0">[</span>i<span class="br0">]</span><span class="sy0">-&gt;</span><span class="me1">PrintLine</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><span class="sy0">;</span><br>  <span class="br0">}</span><br>&nbsp;<br>  <span class="kw1">function</span> <span class="sy0">:</span> Sort<span class="br0">(</span>array <span class="sy0">:</span> <span class="kw2">Int</span><span class="br0">[</span><span class="br0">]</span><span class="br0">)</span> ~ <span class="kw2">Nil</span> <span class="br0">{</span><br>    size <span class="sy0">:=</span> array<span class="sy0">-&gt;</span><span class="me1">Size</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="kw1">if</span><span class="br0">(</span>size <span class="sy0">&lt;=</span> <span class="nu0">1</span><span class="br0">)</span> <span class="br0">{</span><br>      <span class="kw1">return</span><span class="sy0">;</span><br>    <span class="br0">}</span><span class="sy0">;</span><br>    Sort<span class="br0">(</span>array<span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> size <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">)</span><span class="sy0">;</span><br>  <span class="br0">}</span><br>&nbsp;<br>  <span class="kw1">function</span> <span class="sy0">:</span> <span class="kw1">native</span> <span class="sy0">:</span> Sort<span class="br0">(</span>array <span class="sy0">:</span> <span class="kw2">Int</span><span class="br0">[</span><span class="br0">]</span><span class="sy0">,</span> low <span class="sy0">:</span> <span class="kw2">Int</span><span class="sy0">,</span> high <span class="sy0">:</span> <span class="kw2">Int</span><span class="br0">)</span> ~ <span class="kw2">Nil</span> <span class="br0">{</span><br>    i <span class="sy0">:=</span> low<span class="sy0">;</span> j <span class="sy0">:=</span> high<span class="sy0">;</span><br>    pivot <span class="sy0">:=</span> array<span class="br0">[</span>low <span class="sy0">+</span> <span class="br0">(</span>high<span class="sy0">-</span>low<span class="br0">)</span><span class="sy0">/</span><span class="nu0">2</span><span class="br0">]</span><span class="sy0">;</span><br>&nbsp;<br>    <span class="kw1">while</span><span class="br0">(</span>i <span class="sy0">&lt;=</span> j<span class="br0">)</span> <span class="br0">{</span><br>      <span class="kw1">while</span><span class="br0">(</span>array<span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">&lt;</span> pivot<span class="br0">)</span> <span class="br0">{</span><br>        i<span class="sy0">+=</span><span class="nu0">1</span><span class="sy0">;</span><br>      <span class="br0">}</span><span class="sy0">;</span><br>&nbsp;<br>      <span class="kw1">while</span><span class="br0">(</span>array<span class="br0">[</span>j<span class="br0">]</span> <span class="sy0">&gt;</span> pivot<span class="br0">)</span> <span class="br0">{</span><br>        j<span class="sy0">-=</span><span class="nu0">1</span><span class="sy0">;</span><br>      <span class="br0">}</span><span class="sy0">;</span><br>&nbsp;<br>      <span class="kw1">if</span> <span class="br0">(</span>i <span class="sy0">&lt;=</span> j<span class="br0">)</span> <span class="br0">{</span><br>        temp <span class="sy0">:=</span> array<span class="br0">[</span>i<span class="br0">]</span><span class="sy0">;</span><br>        array<span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">:=</span> array<span class="br0">[</span>j<span class="br0">]</span><span class="sy0">;</span><br>        array<span class="br0">[</span>j<span class="br0">]</span> <span class="sy0">:=</span> temp<span class="sy0">;</span><br>        i<span class="sy0">+=</span><span class="nu0">1</span><span class="sy0">;</span> j<span class="sy0">-=</span><span class="nu0">1</span><span class="sy0">;</span><br>      <span class="br0">}</span><span class="sy0">;</span><br>    <span class="br0">}</span><span class="sy0">;</span><br>&nbsp;<br>    <span class="kw1">if</span><span class="br0">(</span>low <span class="sy0">&lt;</span> j<span class="br0">)</span> <span class="br0">{</span><br>      Sort<span class="br0">(</span>array<span class="sy0">,</span> low<span class="sy0">,</span> j<span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><span class="sy0">;</span><br>&nbsp;<br>    <span class="kw1">if</span><span class="br0">(</span>i <span class="sy0">&lt;</span> high<span class="br0">)</span> <span class="br0">{</span><br>      Sort<span class="br0">(</span>array<span class="sy0">,</span> i<span class="sy0">,</span> high<span class="br0">)</span><span class="sy0">;</span><br>    <span class="br0">}</span><span class="sy0">;</span><br>  <span class="br0">}</span><br><span class="br0">}</span><br>&nbsp;</pre> 
        <h2><span class="mw-headline" id="Objective-C"><a href="/wiki/Category:Objective-C" title="Category:Objective-C">Objective-C</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=77" title="Edit section: Objective-C">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>The <a rel="nofollow" class="external text" href="http://weblog.bignerdranch.com/398-objective-c-literals-part-1/">latest XCode compiler</a> is assumed with <a rel="nofollow" class="external text" href="http://en.wikipedia.org/wiki/Automatic_Reference_Counting">ARC</a> enabled. </p> 
        <pre class="objc highlighted_source"><span class="kw4">void</span> quicksortInPlace<span class="br0">(</span><a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSMutableArray_Class/"><span class="kw5">NSMutableArray</span></a> <span class="sy0">*</span>array, NSInteger first, NSInteger last, NSComparator comparator<span class="br0">)</span> <span class="br0">{</span><br>    <span class="kw1">if</span> <span class="br0">(</span>first &gt;<span class="sy0">=</span> last<span class="br0">)</span> <span class="kw1">return</span>;<br>    <span class="kw4">id</span> pivot <span class="sy0">=</span> array<span class="br0">[</span><span class="br0">(</span>first <span class="sy0">+</span> last<span class="br0">)</span> <span class="sy0">/</span> <span class="nu0">2</span><span class="br0">]</span>;<br>    NSInteger left <span class="sy0">=</span> first;<br>    NSInteger right <span class="sy0">=</span> last;<br>    <span class="kw1">while</span> <span class="br0">(</span>left &lt;<span class="sy0">=</span> right<span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw1">while</span> <span class="br0">(</span>comparator<span class="br0">(</span>array<span class="br0">[</span>left<span class="br0">]</span>, pivot<span class="br0">)</span> <span class="sy0">==</span> NSOrderedAscending<span class="br0">)</span><br>            left<span class="sy0">++</span>;<br>        <span class="kw1">while</span> <span class="br0">(</span>comparator<span class="br0">(</span>array<span class="br0">[</span>right<span class="br0">]</span>, pivot<span class="br0">)</span> <span class="sy0">==</span> NSOrderedDescending<span class="br0">)</span><br>            right<span class="sy0">--</span>;<br>        <span class="kw1">if</span> <span class="br0">(</span>left &lt;<span class="sy0">=</span> right<span class="br0">)</span><br>            <span class="br0">[</span>array exchangeObjectAtIndex<span class="sy0">:</span>left<span class="sy0">++</span> withObjectAtIndex<span class="sy0">:</span>right<span class="sy0">--</span><span class="br0">]</span>;<br>    <span class="br0">}</span><br>    quicksortInPlace<span class="br0">(</span>array, first, right, comparator<span class="br0">)</span>;<br>    quicksortInPlace<span class="br0">(</span>array, left, last, comparator<span class="br0">)</span>;<br><span class="br0">}</span><br>&nbsp;<br><a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSArray_Class/"><span class="kw5">NSArray</span></a><span class="sy0">*</span> quicksort<span class="br0">(</span><a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSArray_Class/"><span class="kw5">NSArray</span></a> <span class="sy0">*</span>unsorted, NSComparator comparator<span class="br0">)</span> <span class="br0">{</span><br>    <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSMutableArray_Class/"><span class="kw5">NSMutableArray</span></a> <span class="sy0">*</span>a <span class="sy0">=</span> <span class="br0">[</span><a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSMutableArray_Class/"><span class="kw5">NSMutableArray</span></a> arrayWithArray<span class="sy0">:</span>unsorted<span class="br0">]</span>;<br>    quicksortInPlace<span class="br0">(</span>a, <span class="nu0">0</span>, a.count <span class="sy0">-</span> <span class="nu0">1</span>, comparator<span class="br0">)</span>;<br>    <span class="kw1">return</span> a;<br><span class="br0">}</span><br>&nbsp;<br><span class="kw4">int</span> main<span class="br0">(</span><span class="kw4">int</span> argc, <span class="kw4">const</span> <span class="kw4">char</span> <span class="sy0">*</span> argv<span class="br0">[</span><span class="br0">]</span><span class="br0">)</span> <span class="br0">{</span><br>    @autoreleasepool <span class="br0">{</span><br>        <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSArray_Class/"><span class="kw5">NSArray</span></a> <span class="sy0">*</span>a <span class="sy0">=</span> @<span class="br0">[</span> @1, @3, @5, @7, @9, @8, @6, @4, @2 <span class="br0">]</span>;<br>        NSLog<span class="br0">(</span><span class="co3">@</span><span class="st0">"Unsorted:&nbsp;%@"</span>, a<span class="br0">)</span>;<br>        NSLog<span class="br0">(</span><span class="co3">@</span><span class="st0">"Sorted:&nbsp;%@"</span>, quicksort<span class="br0">(</span>a, <span class="sy0">^</span><span class="br0">(</span><span class="kw4">id</span> x, <span class="kw4">id</span> y<span class="br0">)</span> <span class="br0">{</span> <span class="kw1">return</span> <span class="br0">[</span>x compare<span class="sy0">:</span>y<span class="br0">]</span>; <span class="br0">}</span><span class="br0">)</span><span class="br0">)</span>;<br>        <a href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSArray_Class/"><span class="kw5">NSArray</span></a> <span class="sy0">*</span>b <span class="sy0">=</span> @<span class="br0">[</span> <span class="co3">@</span><span class="st0">"Emil"</span>, <span class="co3">@</span><span class="st0">"Peg"</span>, <span class="co3">@</span><span class="st0">"Helen"</span>, <span class="co3">@</span><span class="st0">"Juergen"</span>, <span class="co3">@</span><span class="st0">"David"</span>, <span class="co3">@</span><span class="st0">"Rick"</span>, <span class="co3">@</span><span class="st0">"Barb"</span>, <span class="co3">@</span><span class="st0">"Mike"</span>, <span class="co3">@</span><span class="st0">"Tom"</span> <span class="br0">]</span>;<br>        NSLog<span class="br0">(</span><span class="co3">@</span><span class="st0">"Unsorted:&nbsp;%@"</span>, b<span class="br0">)</span>;<br>        NSLog<span class="br0">(</span><span class="co3">@</span><span class="st0">"Sorted:&nbsp;%@"</span>, quicksort<span class="br0">(</span>b, <span class="sy0">^</span><span class="br0">(</span><span class="kw4">id</span> x, <span class="kw4">id</span> y<span class="br0">)</span> <span class="br0">{</span> <span class="kw1">return</span> <span class="br0">[</span>x compare<span class="sy0">:</span>y<span class="br0">]</span>; <span class="br0">}</span><span class="br0">)</span><span class="br0">)</span>;<br>    <span class="br0">}</span><br>    <span class="kw1">return</span> <span class="nu0">0</span>;<br><span class="br0">}</span></pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>Unsorted: (
    1,
    3,
    5,
    7,
    9,
    8,
    6,
    4,
    2
)
Sorted: (
    1,
    2,
    3,
    4,
    5,
    6,
    7,
    8,
    9
)
Unsorted: (
    Emil,
    Peg,
    Helen,
    Juergen,
    David,
    Rick,
    Barb,
    Mike,
    Tom
)
Sorted: (
    Barb,
    David,
    Emil,
    Helen,
    Juergen,
    Mike,
    Peg,
    Rick,
    Tom
)</pre> 
        <h2><span class="mw-headline" id="OCaml"><a href="/wiki/Category:OCaml" title="Category:OCaml">OCaml</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=78" title="Edit section: OCaml">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="ocaml highlighted_source"><span class="kw1">let</span> <span class="kw1">rec</span> quicksort gt <span class="sy0">=</span> <span class="kw1">function</span><br>  <span class="sy0">|</span> <span class="br0">[</span><span class="br0">]</span> <span class="sy0">-&gt;</span> <span class="br0">[</span><span class="br0">]</span><br>  <span class="sy0">|</span> x<span class="sy0">::</span>xs <span class="sy0">-&gt;</span><br>      <span class="kw1">let</span> ys, zs <span class="sy0">=</span> <a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/List.html"><span class="kw2">List</span></a><span class="sy0">.</span>partition <span class="br0">(</span>gt x<span class="br0">)</span> xs <span class="kw1">in</span><br>      <span class="br0">(</span>quicksort gt ys<span class="br0">)</span> @ <span class="br0">(</span>x <span class="sy0">::</span> <span class="br0">(</span>quicksort gt zs<span class="br0">)</span><span class="br0">)</span><br>&nbsp;<br><span class="kw1">let</span> _ <span class="sy0">=</span><br>  quicksort <span class="br0">(</span><span class="sy0">&gt;</span><span class="br0">)</span> <span class="br0">[</span><span class="nu0">4</span><span class="sy0">;</span> <span class="nu0">65</span><span class="sy0">;</span> <span class="nu0">2</span><span class="sy0">;</span> <span class="sy0">-</span><span class="nu0">31</span><span class="sy0">;</span> <span class="nu0">0</span><span class="sy0">;</span> <span class="nu0">99</span><span class="sy0">;</span> <span class="nu0">83</span><span class="sy0">;</span> <span class="nu0">782</span><span class="sy0">;</span> <span class="nu0">1</span><span class="br0">]</span></pre> 
        <h2><span class="mw-headline" id="Octave"><a href="/wiki/Category:Octave" title="Category:Octave">Octave</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=79" title="Edit section: Octave">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <div class="examplemeta translation">
         <b>Translation of</b>: 
         <a href="#MATLAB">MATLAB</a>
        </div> (The MATLAB version works as is in Octave, provided that the code is put in a file named 
        <tt>quicksort.m</tt>, and everything below the 
        <tt>return</tt> must be typed in the prompt of course) 
        <pre class="octave highlighted_source"><span class="kw4">function</span> f<span class="sy3">=</span>quicksort<span class="br0">(</span>v<span class="br0">)</span>                       <span class="co2">% v must be a column vector</span><br>  f <span class="sy3">=</span> v<span class="sy5">;</span> n<span class="sy3">=</span><a href="http://octave.sourceforge.net/octave/function/length.html"><span class="kw5">length</span></a><span class="br0">(</span>v<span class="br0">)</span><span class="sy5">;</span><br>  <span class="kw4">if</span><span class="br0">(</span>n <span class="sy0">&gt;</span> <span class="nu0">1</span><span class="br0">)</span><br>     vl <span class="sy3">=</span> <a href="http://octave.sourceforge.net/octave/function/min.html"><span class="kw6">min</span></a><span class="br0">(</span>f<span class="br0">)</span><span class="sy5">;</span> vh <span class="sy3">=</span> <a href="http://octave.sourceforge.net/octave/function/max.html"><span class="kw6">max</span></a><span class="br0">(</span>f<span class="br0">)</span><span class="sy5">;</span>                  <span class="co2">% min, max</span><br>     p  <span class="sy3">=</span> <span class="br0">(</span>vl<span class="sy1">+</span>vh<span class="br0">)</span><span class="sy1">*</span><span class="nu19">0.5</span><span class="sy5">;</span>                          <span class="co2">% pivot</span><br>     ia <span class="sy3">=</span> <a href="http://octave.sourceforge.net/octave/function/find.html"><span class="kw6">find</span></a><span class="br0">(</span>f <span class="sy0">&lt;</span> p<span class="br0">)</span><span class="sy5">;</span> ib <span class="sy3">=</span> <a href="http://octave.sourceforge.net/octave/function/find.html"><span class="kw6">find</span></a><span class="br0">(</span>f <span class="sy0">==</span> p<span class="br0">)</span><span class="sy5">;</span> ic<span class="sy3">=</span><a href="http://octave.sourceforge.net/octave/function/find.html"><span class="kw6">find</span></a><span class="br0">(</span>f <span class="sy0">&gt;</span> p<span class="br0">)</span><span class="sy5">;</span><br>     f  <span class="sy3">=</span> <span class="br0">[</span>quicksort<span class="br0">(</span>f<span class="br0">(</span>ia<span class="br0">)</span><span class="br0">)</span><span class="sy5">;</span> f<span class="br0">(</span>ib<span class="br0">)</span><span class="sy5">;</span> quicksort<span class="br0">(</span>f<span class="br0">(</span>ic<span class="br0">)</span><span class="br0">)</span><span class="br0">]</span><span class="sy5">;</span><br>  <span class="kw4">end</span><br><span class="kw4">endfunction</span><br>&nbsp;<br>N<span class="sy3">=</span><span class="nu0">30</span><span class="sy5">;</span> v<span class="sy3">=</span><a href="http://octave.sourceforge.net/octave/function/rand.html"><span class="kw6">rand</span></a><span class="br0">(</span>N<span class="sy5">,</span><span class="nu0">1</span><span class="br0">)</span><span class="sy5">;</span> <a href="http://octave.sourceforge.net/octave/function/tic.html"><span class="kw5">tic</span></a><span class="sy5">,</span>u<span class="sy3">=</span>quicksort<span class="br0">(</span>v<span class="br0">)</span><span class="sy5">;</span> <a href="http://octave.sourceforge.net/octave/function/toc.html"><span class="kw5">toc</span></a><br>u</pre> 
        <h2><span class="mw-headline" id="Oforth"><a href="/wiki/Category:Oforth" title="Category:Oforth">Oforth</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=80" title="Edit section: Oforth">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>Oforth built-in sort uses quick sort algorithm (see lang/collect/ListBuffer.of for implementation)&nbsp;: </p> 
        <pre class="text highlighted_source">[ 5, 8, 2, 3, 4, 1 ] sort</pre> 
        <h2><span class="mw-headline" id="ooRexx"><a href="/wiki/Category:OoRexx" title="Category:OoRexx">ooRexx</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=81" title="Edit section: ooRexx">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <div class="examplemeta translation">
         <b>Translation of</b>: 
         <a href="#Python">Python</a>
        </div> 
        <pre class="oorexx highlighted_source">    a = <span class="sy0">.</span>array~Of<span class="br0">(</span><span class="nu0">4</span>, <span class="nu0">65</span>, <span class="nu0">2</span>, -<span class="nu0">31</span>, <span class="nu0">0</span>, <span class="nu0">99</span>, <span class="nu0">83</span>, <span class="nu0">782</span>, <span class="nu0">1</span><span class="br0">)</span><br>    <span class="kw1">say</span> <span class="st0">'before:'</span> a~toString<span class="br0">(</span> ,<span class="st0">', '</span><span class="br0">)</span><br>    a = quickSort<span class="br0">(</span>a<span class="br0">)</span><br>    <span class="kw1">say</span> <span class="st0">' after:'</span> a~toString<span class="br0">(</span> ,<span class="st0">', '</span><span class="br0">)</span><br>    <span class="kw1">exit</span><br>&nbsp;<br>::routine quickSort<br>    <span class="kw1">use</span> <span class="kw1">arg</span> arr <span class="co1">-- the array to be sorted</span><br>    less = <span class="sy0">.</span>array~new<br>    pivotList = <span class="sy0">.</span>array~new<br>    more = <span class="sy0">.</span>array~new<br>    <span class="kw1">if</span> arr~items <span class="sy0">&lt;</span>= <span class="nu0">1</span> <span class="kw3">then</span><br>        <span class="kw1">return</span> arr<br>    <span class="kw3">else</span> <span class="kw1">do</span><br>        pivot = arr<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><br>        <span class="kw1">do</span> i <span class="kw2">over</span> arr<br>            <span class="kw1">if</span> i <span class="sy0">&lt;</span> pivot <span class="kw3">then</span><br>                less~append<span class="br0">(</span>i<span class="br0">)</span><br>            <span class="kw3">else</span> <span class="kw1">if</span> i <span class="sy0">&gt;</span> pivot <span class="kw3">then</span><br>                more~append<span class="br0">(</span>i<span class="br0">)</span><br>            <span class="kw3">else</span><br>                pivotList~append<span class="br0">(</span>i<span class="br0">)</span><br>        <span class="kw3">end</span><br>        less = quickSort<span class="br0">(</span>less<span class="br0">)</span><br>        more = quickSort<span class="br0">(</span>more<span class="br0">)</span><br>        <span class="kw1">return</span> less~~appendAll<span class="br0">(</span>pivotList<span class="br0">)</span>~~appendAll<span class="br0">(</span>more<span class="br0">)</span><br>    <span class="kw3">end</span></pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>before: 4, 65, 2, -31, 0, 99, 83, 782, 1
 after: -31, 0, 1, 2, 4, 65, 83, 99, 782 </pre> 
        <h2><span class="mw-headline" id="Oz"><a href="/wiki/Category:Oz" title="Category:Oz">Oz</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=82" title="Edit section: Oz">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="oz highlighted_source"><span class="kw1">declare</span><br>  <span class="kw1">fun</span> <span class="br0">{</span><span class="re1">QuickSort</span> Xs<span class="br0">}</span><br>     <span class="kw1">case</span> Xs <span class="kw1">of</span> nil <span class="kw1">then</span> nil<br>     <span class="re5"><span class="br0">[</span><span class="br0">]</span></span> Pivot<span class="sy0">|</span>Xr <span class="kw1">then</span><br>	<span class="kw1">fun</span> <span class="br0">{</span><span class="re1">IsSmaller</span> X<span class="br0">}</span> X <span class="sy0">&lt;</span> Pivot <span class="kw1">end</span><br>        Smaller Larger<br>     <span class="kw1">in</span><br>	<span class="br0">{</span>List<span class="sy0">.</span>partition Xr IsSmaller&nbsp;?Smaller&nbsp;?Larger<span class="br0">}</span><br>        <span class="br0">{</span>Append <span class="br0">{</span>QuickSort Smaller<span class="br0">}</span> Pivot<span class="sy0">|</span><span class="br0">{</span>QuickSort Larger<span class="br0">}</span><span class="br0">}</span><br>     <span class="kw1">end</span><br>  <span class="kw1">end</span><br><span class="kw1">in</span><br>  <span class="br0">{</span>Show <span class="br0">{</span>QuickSort <span class="br0">[</span>3 1 4 1 5 9 2 6 5<span class="br0">]</span><span class="br0">}</span><span class="br0">}</span></pre> 
        <h2><span class="mw-headline" id="PARI.2FGP"><a href="/wiki/Category:PARI/GP" title="Category:PARI/GP">PARI/GP</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=83" title="Edit section: PARI/GP">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="parigp highlighted_source">quickSort<span class="br0">(</span>v<span class="br0">)</span><span class="sy0">=</span><span class="br0">{</span><br>  <span class="kw1">if</span><span class="br0">(</span>#v<span class="sy0">&lt;</span><span class="nu1">2</span><span class="sy0">,</span> <span class="kw1">return</span><span class="br0">(</span>v<span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span><br>  my<span class="br0">(</span>less<span class="sy0">=</span><span class="kw1">List</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">,</span>more<span class="sy0">=</span><span class="kw1">List</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">,</span>same<span class="sy0">=</span><span class="kw1">List</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">,</span>pivot<span class="br0">)</span><span class="sy0">;</span><br>  pivot<span class="sy0">=</span>median<span class="br0">(</span><span class="br0">[</span>v<span class="br0">[</span><span class="kw1">random</span><span class="br0">(</span>#v<span class="br0">)</span><span class="sy0">+</span><span class="nu1">1</span><span class="br0">]</span><span class="sy0">,</span>v<span class="br0">[</span><span class="kw1">random</span><span class="br0">(</span>#v<span class="br0">)</span><span class="sy0">+</span><span class="nu1">1</span><span class="br0">]</span><span class="sy0">,</span>v<span class="br0">[</span><span class="kw1">random</span><span class="br0">(</span>#v<span class="br0">)</span><span class="sy0">+</span><span class="nu1">1</span><span class="br0">]</span><span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span> <span class="co1">\\ Middle-of-three</span><br>  <span class="kw1">for</span><span class="br0">(</span>i<span class="sy0">=</span><span class="nu1">1</span><span class="sy0">,</span>#v<span class="sy0">,</span><br>    <span class="kw1">if</span><span class="br0">(</span>v<span class="br0">[</span>i<span class="br0">]</span><span class="sy0">&lt;</span>pivot<span class="sy0">,</span><br>      <span class="kw1">listput</span><span class="br0">(</span>less<span class="sy0">,</span> v<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span><span class="sy0">,</span><br>      <span class="kw1">if</span><span class="br0">(</span>v<span class="br0">[</span>i<span class="br0">]</span><span class="sy0">==</span>pivot<span class="sy0">,</span> <span class="kw1">listput</span><span class="br0">(</span>same<span class="sy0">,</span> v<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span><span class="sy0">,</span> <span class="kw1">listput</span><span class="br0">(</span>more<span class="sy0">,</span> v<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span><span class="br0">)</span><br>    <span class="br0">)</span><br>  <span class="br0">)</span><span class="sy0">;</span><br>  <span class="kw1">concat</span><span class="br0">(</span>quickSort<span class="br0">(</span><span class="kw1">Vec</span><span class="br0">(</span>less<span class="br0">)</span><span class="br0">)</span><span class="sy0">,</span> <span class="kw1">concat</span><span class="br0">(</span><span class="kw1">Vec</span><span class="br0">(</span>same<span class="br0">)</span><span class="sy0">,</span> quickSort<span class="br0">(</span><span class="kw1">Vec</span><span class="br0">(</span>more<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br><span class="br0">}</span><span class="sy0">;</span><br>median<span class="br0">(</span>v<span class="br0">)</span><span class="sy0">=</span><span class="br0">{</span><br>  <span class="kw1">vecsort</span><span class="br0">(</span>v<span class="br0">)</span><span class="br0">[</span>#v<span class="sy0">&gt;&gt;</span><span class="nu1">1</span><span class="br0">]</span><br><span class="br0">}</span><span class="sy0">;</span></pre> 
        <h2><span class="mw-headline" id="Pascal"><a href="/wiki/Category:Pascal" title="Category:Pascal">Pascal</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=84" title="Edit section: Pascal">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="pascal highlighted_source">&nbsp;<br><span class="coMULTI">{ X is array of LongInt }</span><br><span class="kw1">Procedure</span> QuickSort <span class="br0">(</span> Left<span class="sy1">,</span> Right <span class="sy1">:</span> <span class="kw4">LongInt</span> <span class="br0">)</span><span class="sy1">;</span><br><span class="kw1">Var</span> <br>  i<span class="sy1">,</span> j<span class="sy1">,</span><br>  tmp<span class="sy1">,</span> pivot <span class="sy1">:</span> <span class="kw4">LongInt</span><span class="sy1">;</span>         <span class="coMULTI">{ tmp &amp; pivot are the same type as the elements of array }</span><br><span class="kw1">Begin</span><br>  i<span class="sy1">:</span><span class="sy3">=</span>Left<span class="sy1">;</span><br>  j<span class="sy1">:</span><span class="sy3">=</span>Right<span class="sy1">;</span><br>  pivot <span class="sy1">:</span><span class="sy3">=</span> X<span class="br0">[</span><span class="br0">(</span>Left <span class="sy3">+</span> Right<span class="br0">)</span> <span class="kw1">shr</span> <span class="nu0">1</span><span class="br0">]</span><span class="sy1">;</span> <span class="co1">// pivot&nbsp;:= X[(Left + Rigth) div 2] </span><br>  <span class="kw1">Repeat</span><br>    <span class="kw1">While</span> pivot &gt; X<span class="br0">[</span>i<span class="br0">]</span> <span class="kw1">Do</span> inc<span class="br0">(</span>i<span class="br0">)</span><span class="sy1">;</span>   <span class="co1">// i:=i+1;</span><br>    <span class="kw1">While</span> pivot &lt; X<span class="br0">[</span>j<span class="br0">]</span> <span class="kw1">Do</span> dec<span class="br0">(</span>j<span class="br0">)</span><span class="sy1">;</span>   <span class="co1">// j:=j-1;</span><br>    <span class="kw1">If</span> i&lt;<span class="sy3">=</span>j <span class="kw1">Then</span> <span class="kw1">Begin</span><br>      tmp<span class="sy1">:</span><span class="sy3">=</span>X<span class="br0">[</span>i<span class="br0">]</span><span class="sy1">;</span><br>      X<span class="br0">[</span>i<span class="br0">]</span><span class="sy1">:</span><span class="sy3">=</span>X<span class="br0">[</span>j<span class="br0">]</span><span class="sy1">;</span><br>      X<span class="br0">[</span>j<span class="br0">]</span><span class="sy1">:</span><span class="sy3">=</span>tmp<span class="sy1">;</span><br>      dec<span class="br0">(</span>j<span class="br0">)</span><span class="sy1">;</span>   <span class="co1">// j:=j-1;</span><br>      inc<span class="br0">(</span>i<span class="br0">)</span><span class="sy1">;</span>   <span class="co1">// i:=i+1;</span><br>    <span class="kw1">End</span><span class="sy1">;</span><br>  <span class="kw1">Until</span> i&gt;j<span class="sy1">;</span><br>  <span class="kw1">If</span> Left&lt;j <span class="kw1">Then</span> QuickSort<span class="br0">(</span>Left<span class="sy1">,</span>j<span class="br0">)</span><span class="sy1">;</span><br>  <span class="kw1">If</span> i&lt;Right <span class="kw1">Then</span> QuickSort<span class="br0">(</span>i<span class="sy1">,</span>Right<span class="br0">)</span><span class="sy1">;</span><br><span class="kw1">End</span><span class="sy1">;</span><br>&nbsp;</pre> 
        <h2><span class="mw-headline" id="Perl"><a href="/wiki/Category:Perl" title="Category:Perl">Perl</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=85" title="Edit section: Perl">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="perl highlighted_source">&nbsp;<br><span class="kw2">sub</span> quick_sort <span class="br0">{</span><br>    <a href="http://perldoc.perl.org/functions/return.html"><span class="kw3">return</span></a> <span class="co5">@_</span> <span class="kw1">if</span> <span class="co5">@_</span> <span class="sy0">&lt;</span> <span class="nu0">2</span><span class="sy0">;</span><br>    <span class="kw1">my</span> <span class="re0">$p</span> <span class="sy0">=</span> <a href="http://perldoc.perl.org/functions/splice.html"><span class="kw3">splice</span></a> <span class="co5">@_</span><span class="sy0">,</span> <a href="http://perldoc.perl.org/functions/int.html"><span class="kw3">int</span></a> <a href="http://perldoc.perl.org/functions/rand.html"><span class="kw3">rand</span></a> <span class="co5">@_</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">;</span><br>    quick_sort<span class="br0">(</span><a href="http://perldoc.perl.org/functions/grep.html"><span class="kw3">grep</span></a> <span class="co5">$_</span> <span class="sy0">&lt;</span> <span class="re0">$p</span><span class="sy0">,</span> <span class="co5">@_</span><span class="br0">)</span><span class="sy0">,</span> <span class="re0">$p</span><span class="sy0">,</span> quick_sort<span class="br0">(</span><a href="http://perldoc.perl.org/functions/grep.html"><span class="kw3">grep</span></a> <span class="co5">$_</span> <span class="sy0">&gt;=</span> <span class="re0">$p</span><span class="sy0">,</span> <span class="co5">@_</span><span class="br0">)</span><span class="sy0">;</span><br><span class="br0">}</span><br>&nbsp;<br><span class="kw1">my</span> <span class="re0">@a</span> <span class="sy0">=</span> <span class="br0">(</span><span class="nu0">4</span><span class="sy0">,</span> <span class="nu0">65</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">31</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">99</span><span class="sy0">,</span> <span class="nu0">83</span><span class="sy0">,</span> <span class="nu0">782</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">)</span><span class="sy0">;</span><br><span class="re0">@a</span> <span class="sy0">=</span> quick_sort <span class="re0">@a</span><span class="sy0">;</span><br><a href="http://perldoc.perl.org/functions/print.html"><span class="kw3">print</span></a> <span class="st0">"@a<span class="es0">\n</span>"</span><span class="sy0">;</span><br>&nbsp;</pre> 
        <h2><span class="mw-headline" id="Perl_6"><a href="/wiki/Category:Perl_6" title="Category:Perl 6">Perl 6</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=86" title="Edit section: Perl 6">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="perl6 highlighted_source"><span class="co1"># Empty list sorts to the empty list</span><br> <span class="kw2">multi</span> quicksort<span class="br0">(</span><span class="br0">[</span><span class="br0">]</span><span class="br0">)</span> <span class="br0">{</span> <span class="br0">(</span><span class="br0">)</span> <span class="br0">}</span><br>&nbsp;<br> <span class="co1"># Otherwise, extract first item as pivot...</span><br> <span class="kw2">multi</span> quicksort<span class="br0">(</span><span class="br0">[</span><span class="re0">$pivot</span><span class="sy0">,</span> <span class="sy0">*</span><span class="re0">@rest</span><span class="br0">]</span><span class="br0">)</span> <span class="br0">{</span><br>     <span class="co1"># Partition.</span><br>     <span class="kw1">my</span> <span class="re0">$before</span> <span class="sy0">:=</span> <span class="re0">@rest</span><span class="sy0">.</span><span class="kw3">grep</span><span class="br0">(</span><span class="sy0">*</span> before <span class="re0">$pivot</span><span class="br0">)</span><span class="sy0">;</span><br>     <span class="kw1">my</span> <span class="re0">$after</span>  <span class="sy0">:=</span> <span class="re0">@rest</span><span class="sy0">.</span><span class="kw3">grep</span><span class="br0">(</span><span class="sy0">*</span> <span class="sy0">!</span>before <span class="re0">$pivot</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>     <span class="co1"># Sort the partitions.</span><br>     flat quicksort<span class="br0">(</span><span class="re0">$before</span><span class="br0">)</span><span class="sy0">,</span> <span class="re0">$pivot</span><span class="sy0">,</span> quicksort<span class="br0">(</span><span class="re0">$after</span><span class="br0">)</span><br> <span class="br0">}</span></pre> 
        <p>Note that <code>$before</code> and <code>$after</code> are bound to lazy lists, so the partitions can (at least in theory) be sorted in parallel. </p> 
        <h2><span class="mw-headline" id="Phix"><a href="/wiki/Category:Phix" title="Category:Phix">Phix</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=87" title="Edit section: Phix">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">function quick_sort(sequence x)<br>--<br>-- put x into ascending order using recursive quick sort<br>--<br>integer n, last, mid<br>object xi, midval<br>&nbsp;<br>    n = length(x)<br>    if n&lt;2 then<br>        return x    -- already sorted (trivial case)<br>    end if<br>&nbsp;<br>    mid = floor((n+1)/2)<br>    midval = x[mid]<br>    x[mid] = x[1]<br>&nbsp;<br>    last = 1<br>    for i=2 to n do<br>        xi = x[i]<br>        if xi&lt;midval then<br>            last += 1<br>            x[i] = x[last]<br>            x[last] = xi<br>        end if<br>    end for<br>&nbsp;<br>    return quick_sort(x[2..last]) &amp; {midval} &amp; quick_sort(x[last+1..n])<br>end function<br>&nbsp;<br>?quick_sort({5,"oranges","and",3,"apples"})</pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>{3,5,"and","apples","oranges"}
</pre> 
        <h2><span class="mw-headline" id="PHP"><a href="/wiki/Category:PHP" title="Category:PHP">PHP</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=88" title="Edit section: PHP">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="php highlighted_source"><span class="kw2">function</span> quicksort<span class="br0">(</span><span class="re0">$arr</span><span class="br0">)</span><span class="br0">{</span><br>	<span class="re0">$loe</span> <span class="sy0">=</span> <span class="re0">$gt</span> <span class="sy0">=</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><br>	<span class="kw1">if</span><span class="br0">(</span><a href="http://www.php.net/count"><span class="kw3">count</span></a><span class="br0">(</span><span class="re0">$arr</span><span class="br0">)</span> <span class="sy0">&lt;</span> <span class="nu0">2</span><span class="br0">)</span><span class="br0">{</span><br>		<span class="kw1">return</span> <span class="re0">$arr</span><span class="sy0">;</span><br>	<span class="br0">}</span><br>	<span class="re0">$pivot_key</span> <span class="sy0">=</span> <a href="http://www.php.net/key"><span class="kw3">key</span></a><span class="br0">(</span><span class="re0">$arr</span><span class="br0">)</span><span class="sy0">;</span><br>	<span class="re0">$pivot</span> <span class="sy0">=</span> <a href="http://www.php.net/array_shift"><span class="kw3">array_shift</span></a><span class="br0">(</span><span class="re0">$arr</span><span class="br0">)</span><span class="sy0">;</span><br>	<span class="kw1">foreach</span><span class="br0">(</span><span class="re0">$arr</span> <span class="kw1">as</span> <span class="re0">$val</span><span class="br0">)</span><span class="br0">{</span><br>		<span class="kw1">if</span><span class="br0">(</span><span class="re0">$val</span> <span class="sy0">&lt;=</span> <span class="re0">$pivot</span><span class="br0">)</span><span class="br0">{</span><br>			<span class="re0">$loe</span><span class="br0">[</span><span class="br0">]</span> <span class="sy0">=</span> <span class="re0">$val</span><span class="sy0">;</span><br>		<span class="br0">}</span><span class="kw1">elseif</span> <span class="br0">(</span><span class="re0">$val</span> <span class="sy0">&gt;</span> <span class="re0">$pivot</span><span class="br0">)</span><span class="br0">{</span><br>			<span class="re0">$gt</span><span class="br0">[</span><span class="br0">]</span> <span class="sy0">=</span> <span class="re0">$val</span><span class="sy0">;</span><br>		<span class="br0">}</span><br>	<span class="br0">}</span><br>	<span class="kw1">return</span> <a href="http://www.php.net/array_merge"><span class="kw3">array_merge</span></a><span class="br0">(</span>quicksort<span class="br0">(</span><span class="re0">$loe</span><span class="br0">)</span><span class="sy0">,</span><a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="re0">$pivot_key</span><span class="sy0">=&gt;</span><span class="re0">$pivot</span><span class="br0">)</span><span class="sy0">,</span>quicksort<span class="br0">(</span><span class="re0">$gt</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span><br><span class="br0">}</span><br>&nbsp;<br><span class="re0">$arr</span> <span class="sy0">=</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">3</span><span class="sy0">,</span> <span class="nu0">5</span><span class="sy0">,</span> <span class="nu0">7</span><span class="sy0">,</span> <span class="nu0">9</span><span class="sy0">,</span> <span class="nu0">8</span><span class="sy0">,</span> <span class="nu0">6</span><span class="sy0">,</span> <span class="nu0">4</span><span class="sy0">,</span> <span class="nu0">2</span><span class="br0">)</span><span class="sy0">;</span><br><span class="re0">$arr</span> <span class="sy0">=</span> quicksort<span class="br0">(</span><span class="re0">$arr</span><span class="br0">)</span><span class="sy0">;</span><br><span class="kw1">echo</span> <a href="http://www.php.net/implode"><span class="kw3">implode</span></a><span class="br0">(</span><span class="st_h">','</span><span class="sy0">,</span><span class="re0">$arr</span><span class="br0">)</span><span class="sy0">;</span></pre> 
        <pre>1,2,3,4,5,6,7,8,9</pre> 
        <pre class="php highlighted_source">&nbsp;<br><span class="kw2">function</span> quickSort<span class="br0">(</span><a href="http://www.php.net/array"><span class="kw3">array</span></a> <span class="re0">$array</span><span class="br0">)</span> <span class="br0">{</span><br>    <span class="co1">// base case</span><br>    <span class="kw1">if</span> <span class="br0">(</span><a href="http://www.php.net/empty"><span class="kw3">empty</span></a><span class="br0">(</span><span class="re0">$array</span><span class="br0">)</span><span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw1">return</span> <span class="re0">$array</span><span class="sy0">;</span><br>    <span class="br0">}</span><br>    <span class="re0">$head</span> <span class="sy0">=</span> <a href="http://www.php.net/array_shift"><span class="kw3">array_shift</span></a><span class="br0">(</span><span class="re0">$array</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="re0">$tail</span> <span class="sy0">=</span> <span class="re0">$array</span><span class="sy0">;</span><br>    <span class="re0">$lesser</span> <span class="sy0">=</span> <a href="http://www.php.net/array_filter"><span class="kw3">array_filter</span></a><span class="br0">(</span><span class="re0">$tail</span><span class="sy0">,</span> <span class="kw2">function</span> <span class="br0">(</span><span class="re0">$item</span><span class="br0">)</span> <span class="kw2">use</span> <span class="br0">(</span><span class="re0">$head</span><span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw1">return</span> <span class="re0">$item</span> <span class="sy0">&lt;=</span> <span class="re0">$head</span><span class="sy0">;</span><br>    <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="re0">$bigger</span> <span class="sy0">=</span> <a href="http://www.php.net/array_filter"><span class="kw3">array_filter</span></a><span class="br0">(</span><span class="re0">$tail</span><span class="sy0">,</span> <span class="kw2">function</span> <span class="br0">(</span><span class="re0">$item</span><span class="br0">)</span> <span class="kw2">use</span> <span class="br0">(</span><span class="re0">$head</span><span class="br0">)</span> <span class="br0">{</span><br>        <span class="kw1">return</span> <span class="re0">$item</span> <span class="sy0">&gt;</span> <span class="re0">$head</span><span class="sy0">;</span><br>    <span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br>    <span class="kw1">return</span> <a href="http://www.php.net/array_merge"><span class="kw3">array_merge</span></a><span class="br0">(</span>quickSort<span class="br0">(</span><span class="re0">$lesser</span><span class="br0">)</span><span class="sy0">,</span> <span class="br0">[</span><span class="re0">$head</span><span class="br0">]</span><span class="sy0">,</span> quickSort<span class="br0">(</span><span class="re0">$bigger</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span><br><span class="br0">}</span><br><span class="re0">$testCase</span> <span class="sy0">=</span> <span class="br0">[</span><span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">4</span><span class="sy0">,</span> <span class="nu0">8</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">8</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">8</span><span class="br0">]</span><span class="sy0">;</span><br><span class="re0">$result</span> <span class="sy0">=</span> quickSort<span class="br0">(</span><span class="re0">$testCase</span><span class="br0">)</span><span class="sy0">;</span><br><span class="kw1">echo</span> <a href="http://www.php.net/sprintf"><span class="kw3">sprintf</span></a><span class="br0">(</span><span class="st0">"[<span class="es6">%s</span>] ==&gt; [<span class="es6">%s</span>]<span class="es1">\n</span>"</span><span class="sy0">,</span> <a href="http://www.php.net/implode"><span class="kw3">implode</span></a><span class="br0">(</span><span class="st_h">', '</span><span class="sy0">,</span> <span class="re0">$testCase</span><span class="br0">)</span><span class="sy0">,</span> <a href="http://www.php.net/implode"><span class="kw3">implode</span></a><span class="br0">(</span><span class="st_h">', '</span><span class="sy0">,</span> <span class="re0">$result</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;</pre> 
        <pre>[1, 4, 8, 2, 8, 0, 2, 8] ==&gt; [0, 1, 2, 2, 4, 8, 8, 8]</pre> 
        <h2><span class="mw-headline" id="PicoLisp"><a href="/wiki/Category:PicoLisp" title="Category:PicoLisp">PicoLisp</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=89" title="Edit section: PicoLisp">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="lisp highlighted_source"><span class="br0">(</span>de quicksort <span class="br0">(</span><span class="kw1">L</span><span class="br0">)</span><br>   <span class="br0">(</span><span class="kw1">if</span> <span class="br0">(</span><span class="kw1">cdr</span> <span class="kw1">L</span><span class="br0">)</span><br>      <span class="br0">(</span><span class="kw1">let</span> Pivot <span class="br0">(</span><span class="kw1">car</span> <span class="kw1">L</span><span class="br0">)</span><br>          <span class="br0">(</span><span class="kw1">append</span> <span class="br0">(</span>quicksort <span class="br0">(</span>filter '<span class="br0">(</span><span class="br0">(</span>A<span class="br0">)</span> <span class="br0">(</span><span class="sy0">&lt;</span> A Pivot<span class="br0">)</span><span class="br0">)</span> <span class="br0">(</span><span class="kw1">cdr</span> <span class="kw1">L</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>                             <span class="br0">(</span>filter '<span class="br0">(</span><span class="br0">(</span>A<span class="br0">)</span> <span class="br0">(</span><span class="sy0">=</span> A Pivot<span class="br0">)</span><span class="br0">)</span>      <span class="kw1">L</span> <span class="br0">)</span><br>                  <span class="br0">(</span>quicksort <span class="br0">(</span>filter '<span class="br0">(</span><span class="br0">(</span>A<span class="br0">)</span> <span class="br0">(</span><span class="sy0">&gt;</span> A Pivot<span class="br0">)</span><span class="br0">)</span> <span class="br0">(</span><span class="kw1">cdr</span> <span class="kw1">L</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span> <span class="br0">)</span><br>      <span class="kw1">L</span><span class="br0">)</span> <span class="br0">)</span></pre> 
        <h2><span class="mw-headline" id="PL.2FI"><a href="/wiki/Category:PL/I" title="Category:PL/I">PL/I</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=90" title="Edit section: PL/I">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="pli highlighted_source"><span class="kw1">DCL</span> <span class="br0">(</span>T<span class="br0">(</span><span class="nu0">20</span><span class="br0">)</span><span class="br0">)</span> <span class="kw1">FIXED</span> <span class="kw1">BIN</span><span class="br0">(</span><span class="nu0">31</span><span class="br0">)</span><span class="sy0">;</span>   <span class="coMULTI">/* scratch space of length N */</span><br>&nbsp;<br>QUICKSORT<span class="sy0">:</span> <span class="kw1">PROCEDURE</span> <span class="br0">(</span>A<span class="sy0">,</span>AMIN<span class="sy0">,</span>AMAX<span class="sy0">,</span>N<span class="br0">)</span> <span class="kw1">RECURSIVE</span> <span class="sy0">;</span><br>   <span class="kw1">DECLARE</span> <span class="br0">(</span>A<span class="br0">(</span><span class="sy0">*</span><span class="br0">)</span><span class="br0">)</span>              <span class="kw1">FIXED</span> <span class="kw1">BIN</span><span class="br0">(</span><span class="nu0">31</span><span class="br0">)</span><span class="sy0">;</span><br>   <span class="kw1">DECLARE</span> <span class="br0">(</span>N<span class="sy0">,</span>AMIN<span class="sy0">,</span>AMAX<span class="br0">)</span>       <span class="kw1">FIXED</span> <span class="kw1">BIN</span><span class="br0">(</span><span class="nu0">31</span><span class="br0">)</span> <span class="kw1">NONASGN</span><span class="sy0">;</span><br>   <span class="kw1">DECLARE</span> <span class="br0">(</span>I<span class="sy0">,</span>J<span class="sy0">,</span>IA<span class="sy0">,</span>IB<span class="sy0">,</span>IC<span class="sy0">,</span>PIV<span class="br0">)</span>  <span class="kw1">FIXED</span> <span class="kw1">BIN</span><span class="br0">(</span><span class="nu0">31</span><span class="br0">)</span><span class="sy0">;</span><br>   <span class="kw1">DECLARE</span> <span class="br0">(</span>P<span class="sy0">,</span>Q<span class="br0">)</span>               <span class="kw1">POINTER</span><span class="sy0">;</span><br>   <span class="kw1">DECLARE</span> <span class="br0">(</span>AP<span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span>             <span class="kw1">FIXED</span> <span class="kw1">BIN</span><span class="br0">(</span><span class="nu0">31</span><span class="br0">)</span> <span class="kw1">BASED</span><span class="br0">(</span>P<span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>   <span class="kw1">IF</span><span class="br0">(</span>N <span class="sy0">&lt;=</span> <span class="nu0">1</span><span class="br0">)</span><span class="kw1">THEN</span> <span class="kw1">RETURN</span><span class="sy0">;</span><br>   IA<span class="sy0">=</span><span class="nu0">0</span><span class="sy0">;</span> IB<span class="sy0">=</span><span class="nu0">0</span><span class="sy0">;</span> IC<span class="sy0">=</span>N<span class="sy0">+</span><span class="nu0">1</span><span class="sy0">;</span><br>   PIV<span class="sy0">=</span><span class="br0">(</span>AMIN<span class="sy0">+</span>AMAX<span class="br0">)</span><span class="sy0">/</span><span class="nu0">2</span><span class="sy0">;</span><br>   <span class="kw1">DO</span> I<span class="sy0">=</span><span class="nu0">1</span> <span class="kw1">TO</span> N<span class="sy0">;</span><br>      <span class="kw1">IF</span><span class="br0">(</span>A<span class="br0">(</span>I<span class="br0">)</span> <span class="sy0">&lt;</span> PIV<span class="br0">)</span><span class="kw1">THEN</span> <span class="kw1">DO</span><span class="sy0">;</span><br>         IA<span class="sy0">+=</span><span class="nu0">1</span><span class="sy0">;</span> A<span class="br0">(</span>IA<span class="br0">)</span><span class="sy0">=</span>A<span class="br0">(</span>I<span class="br0">)</span><span class="sy0">;</span><br>      <span class="kw1">END</span><span class="sy0">;</span> <span class="kw1">ELSE</span> <span class="kw1">IF</span><span class="br0">(</span>A<span class="br0">(</span>I<span class="br0">)</span> <span class="sy0">&gt;</span> PIV<span class="br0">)</span> <span class="kw1">THEN</span> <span class="kw1">DO</span><span class="sy0">;</span><br>         IC<span class="sy0">-=</span><span class="nu0">1</span><span class="sy0">;</span> T<span class="br0">(</span>IC<span class="br0">)</span><span class="sy0">=</span>A<span class="br0">(</span>I<span class="br0">)</span><span class="sy0">;</span><br>      <span class="kw1">END</span><span class="sy0">;</span> <span class="kw1">ELSE</span> <span class="kw1">DO</span><span class="sy0">;</span><br>         IB<span class="sy0">+=</span><span class="nu0">1</span><span class="sy0">;</span> T<span class="br0">(</span>IB<span class="br0">)</span><span class="sy0">=</span>A<span class="br0">(</span>I<span class="br0">)</span><span class="sy0">;</span><br>      <span class="kw1">END</span><span class="sy0">;</span><br>   <span class="kw1">END</span><span class="sy0">;</span><br>   <span class="kw1">DO</span> I<span class="sy0">=</span><span class="nu0">1</span>  <span class="kw1">TO</span> IB<span class="sy0">;</span> A<span class="br0">(</span>I<span class="sy0">+</span>IA<span class="br0">)</span><span class="sy0">=</span>T<span class="br0">(</span>I<span class="br0">)</span><span class="sy0">;</span>   <span class="kw1">END</span><span class="sy0">;</span><br>   <span class="kw1">DO</span> I<span class="sy0">=</span>IC <span class="kw1">TO</span> N<span class="sy0">;</span>  A<span class="br0">(</span>I<span class="br0">)</span><span class="sy0">=</span>T<span class="br0">(</span>N<span class="sy0">+</span>IC<span class="sy0">-</span>I<span class="br0">)</span><span class="sy0">;</span> <span class="kw1">END</span><span class="sy0">;</span><br>   P<span class="sy0">=</span><span class="kw1">ADDR</span><span class="br0">(</span>A<span class="br0">(</span>IC<span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span><br>   IC<span class="sy0">=</span>N<span class="sy0">+</span><span class="nu0">1</span><span class="sy0">-</span>IC<span class="sy0">;</span><br>   <span class="kw1">IF</span><span class="br0">(</span>IA <span class="sy0">&gt;</span> <span class="nu0">1</span><span class="br0">)</span> <span class="kw1">THEN</span> <span class="kw1">CALL</span> QUICKSORT<span class="br0">(</span>A<span class="sy0">,</span> AMIN<span class="sy0">,</span> PIV<span class="sy0">-</span><span class="nu0">1</span><span class="sy0">,</span>IA<span class="br0">)</span><span class="sy0">;</span><br>   <span class="kw1">IF</span><span class="br0">(</span>IC <span class="sy0">&gt;</span> <span class="nu0">1</span><span class="br0">)</span> <span class="kw1">THEN</span> <span class="kw1">CALL</span> QUICKSORT<span class="br0">(</span>AP<span class="sy0">,</span>PIV<span class="sy0">+</span><span class="nu0">1</span><span class="sy0">,</span>AMAX<span class="sy0">,</span> IC<span class="br0">)</span><span class="sy0">;</span><br>   <span class="kw1">RETURN</span><span class="sy0">;</span><br><span class="kw1">END</span> QUICKSORT<span class="sy0">;</span><br> MINMAX<span class="sy0">:</span> <span class="kw1">PROC</span><span class="br0">(</span>A<span class="sy0">,</span>AMIN<span class="sy0">,</span>AMAX<span class="sy0">,</span>N<span class="br0">)</span><span class="sy0">;</span><br>   <span class="kw1">DCL</span> <span class="br0">(</span>AMIN<span class="sy0">,</span>AMAX<span class="br0">)</span> <span class="kw1">FIXED</span> <span class="kw1">BIN</span><span class="br0">(</span><span class="nu0">31</span><span class="br0">)</span><span class="sy0">,</span><br>       <span class="br0">(</span>N<span class="sy0">,</span>A<span class="br0">(</span><span class="sy0">*</span><span class="br0">)</span><span class="br0">)</span>    <span class="kw1">FIXED</span> <span class="kw1">BIN</span><span class="br0">(</span><span class="nu0">31</span><span class="br0">)</span> <span class="kw1">NONASGN</span> <span class="sy0">;</span><br>   <span class="kw1">DCL</span> <span class="br0">(</span>I<span class="sy0">,</span>X<span class="sy0">,</span>Y<span class="br0">)</span> <span class="kw1">FIXED</span> <span class="kw1">BIN</span><span class="br0">(</span><span class="nu0">31</span><span class="br0">)</span><span class="sy0">;</span><br>&nbsp;<br>   AMIN<span class="sy0">=</span>A<span class="br0">(</span>N<span class="br0">)</span><span class="sy0">;</span> AMAX<span class="sy0">=</span>AMIN<span class="sy0">;</span><br>   <span class="kw1">DO</span> I<span class="sy0">=</span><span class="nu0">1</span> <span class="kw1">TO</span> N<span class="sy0">-</span><span class="nu0">1</span><span class="sy0">;</span><br>      X<span class="sy0">=</span>A<span class="br0">(</span>I<span class="br0">)</span><span class="sy0">;</span> Y<span class="sy0">=</span>A<span class="br0">(</span>I<span class="sy0">+</span><span class="nu0">1</span><span class="br0">)</span><span class="sy0">;</span><br>      <span class="kw1">IF</span> <span class="br0">(</span>X <span class="sy0">&lt;</span> Y<span class="br0">)</span><span class="kw1">THEN</span> <span class="kw1">DO</span><span class="sy0">;</span><br>         <span class="kw1">IF</span> <span class="br0">(</span>X <span class="sy0">&lt;</span> AMIN<span class="br0">)</span> <span class="kw1">THEN</span> AMIN<span class="sy0">=</span>X<span class="sy0">;</span><br>         <span class="kw1">IF</span> <span class="br0">(</span>Y <span class="sy0">&gt;</span> AMAX<span class="br0">)</span> <span class="kw1">THEN</span> AMAX<span class="sy0">=</span>Y<span class="sy0">;</span><br>       <span class="kw1">END</span><span class="sy0">;</span> <span class="kw1">ELSE</span> <span class="kw1">DO</span><span class="sy0">;</span><br>          <span class="kw1">IF</span> <span class="br0">(</span>X <span class="sy0">&gt;</span> AMAX<span class="br0">)</span> <span class="kw1">THEN</span> AMAX<span class="sy0">=</span>X<span class="sy0">;</span><br>          <span class="kw1">IF</span> <span class="br0">(</span>Y <span class="sy0">&lt;</span> AMIN<span class="br0">)</span> <span class="kw1">THEN</span> AMIN<span class="sy0">=</span>Y<span class="sy0">;</span><br>       <span class="kw1">END</span><span class="sy0">;</span><br>   <span class="kw1">END</span><span class="sy0">;</span><br>   <span class="kw1">RETURN</span><span class="sy0">;</span><br><span class="kw1">END</span> MINMAX<span class="sy0">;</span><br><span class="kw1">CALL</span> MINMAX<span class="br0">(</span>A<span class="sy0">,</span>AMIN<span class="sy0">,</span>AMAX<span class="sy0">,</span>N<span class="br0">)</span><span class="sy0">;</span><br><span class="kw1">CALL</span> QUICKSORT<span class="br0">(</span>A<span class="sy0">,</span>AMIN<span class="sy0">,</span>AMAX<span class="sy0">,</span>N<span class="br0">)</span><span class="sy0">;</span></pre> 
        <h2><span class="mw-headline" id="PowerShell"><a href="/wiki/Category:PowerShell" title="Category:PowerShell">PowerShell</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=91" title="Edit section: PowerShell">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <h3><span class="mw-headline" id="First_solution">First solution</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=92" title="Edit section: First solution">edit</a><span class="mw-editsection-bracket">]</span></span></h3> 
        <pre class="powershell highlighted_source"><span class="kw3">Function</span> SortThree<span class="br0">(</span> <span class="br0">[</span><span class="re3">Array</span><span class="br0">]</span> <span class="re0">$data</span> <span class="br0">)</span><br><span class="br0">{</span><br>	<span class="kw3">if</span><span class="br0">(</span> <span class="re0">$data</span><span class="br0">[</span> <span class="nu0">0</span> <span class="br0">]</span> <span class="kw4">-gt</span> <span class="re0">$data</span><span class="br0">[</span> <span class="nu0">1</span> <span class="br0">]</span> <span class="br0">)</span><br>	<span class="br0">{</span><br>		<span class="kw3">if</span><span class="br0">(</span> <span class="re0">$data</span><span class="br0">[</span> <span class="nu0">0</span> <span class="br0">]</span> <span class="kw4">-lt</span> <span class="re0">$data</span><span class="br0">[</span> <span class="nu0">2</span> <span class="br0">]</span> <span class="br0">)</span><br>		<span class="br0">{</span><br>			<span class="re0">$data</span> <span class="sy0">=</span> <span class="re0">$data</span><span class="br0">[</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">2</span> <span class="br0">]</span><br>		<span class="br0">}</span> <span class="kw3">elseif</span> <span class="br0">(</span> <span class="re0">$data</span><span class="br0">[</span> <span class="nu0">1</span> <span class="br0">]</span> <span class="kw4">-lt</span> <span class="re0">$data</span><span class="br0">[</span> <span class="nu0">2</span> <span class="br0">]</span> <span class="br0">)</span><span class="br0">{</span><br>			<span class="re0">$data</span> <span class="sy0">=</span> <span class="re0">$data</span><span class="br0">[</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">0</span> <span class="br0">]</span><br>		<span class="br0">}</span> <span class="kw3">else</span> <span class="br0">{</span><br>			<span class="re0">$data</span> <span class="sy0">=</span> <span class="re0">$data</span><span class="br0">[</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">0</span> <span class="br0">]</span><br>		<span class="br0">}</span><br>	<span class="br0">}</span> <span class="kw3">else</span> <span class="br0">{</span><br>		<span class="kw3">if</span><span class="br0">(</span> <span class="re0">$data</span><span class="br0">[</span> <span class="nu0">0</span> <span class="br0">]</span> <span class="kw4">-gt</span> <span class="re0">$data</span><span class="br0">[</span> <span class="nu0">2</span> <span class="br0">]</span> <span class="br0">)</span><br>		<span class="br0">{</span><br>			<span class="re0">$data</span> <span class="sy0">=</span> <span class="re0">$data</span><span class="br0">[</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="br0">]</span><br>		<span class="br0">}</span> <span class="kw3">elseif</span><span class="br0">(</span> <span class="re0">$data</span><span class="br0">[</span> <span class="nu0">1</span> <span class="br0">]</span> <span class="kw4">-gt</span> <span class="re0">$data</span><span class="br0">[</span> <span class="nu0">2</span> <span class="br0">]</span> <span class="br0">)</span> <span class="br0">{</span><br>			<span class="re0">$data</span> <span class="sy0">=</span> <span class="re0">$data</span><span class="br0">[</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">1</span> <span class="br0">]</span><br>		<span class="br0">}</span><br>	<span class="br0">}</span><br>	<span class="re0">$data</span><br><span class="br0">}</span><br>&nbsp;<br><span class="kw3">Function</span> QuickSort<span class="br0">(</span> <span class="br0">[</span><span class="re3">Array</span><span class="br0">]</span> <span class="re0">$data</span><span class="sy0">,</span> <span class="re0">$rand</span> <span class="sy0">=</span> <span class="br0">(</span> <span class="kw1">New-Object</span> Random <span class="br0">)</span> <span class="br0">)</span><br><span class="br0">{</span><br>	<span class="re0">$datal</span> <span class="sy0">=</span> <span class="re0">$data</span>.length<br>	<span class="kw3">if</span><span class="br0">(</span> <span class="re0">$datal</span> <span class="kw4">-gt</span> <span class="nu0">3</span> <span class="br0">)</span><br>	<span class="br0">{</span><br>		<span class="br0">[</span>void<span class="br0">]</span> <span class="re0">$datal</span><span class="sy0">--</span><br>		<span class="re0">$median</span> <span class="sy0">=</span> <span class="br0">(</span> SortThree <span class="re0">$data</span><span class="br0">[</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="br0">(</span> <span class="re0">$rand</span>.Next<span class="br0">(</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="re0">$datal</span> <span class="sy0">-</span> <span class="nu0">1</span> <span class="br0">)</span> <span class="br0">)</span><span class="sy0">,</span> <span class="sy0">-</span><span class="nu0">1</span> <span class="br0">]</span> <span class="br0">)</span><span class="br0">[</span> <span class="nu0">1</span> <span class="br0">]</span><br>		<span class="re0">$lt</span> <span class="sy0">=</span> <span class="sy0">@</span><span class="br0">(</span><span class="br0">)</span><br>		<span class="re0">$eq</span> <span class="sy0">=</span> <span class="sy0">@</span><span class="br0">(</span><span class="br0">)</span><br>		<span class="re0">$gt</span> <span class="sy0">=</span> <span class="sy0">@</span><span class="br0">(</span><span class="br0">)</span><br>		<span class="re0">$data</span> <span class="sy0">|</span> <span class="kw1">ForEach-Object</span> <span class="br0">{</span> <span class="kw3">if</span><span class="br0">(</span> <a href="about:blank"><span class="kw6">$_</span></a> <span class="kw4">-lt</span> <span class="re0">$median</span> <span class="br0">)</span> <span class="br0">{</span> <span class="re0">$lt</span> <span class="sy0">+=</span> <a href="about:blank"><span class="kw6">$_</span></a> <span class="br0">}</span> <span class="kw3">elseif</span><span class="br0">(</span> <a href="about:blank"><span class="kw6">$_</span></a> <span class="kw4">-eq</span> <span class="re0">$median</span> <span class="br0">)</span> <span class="br0">{</span> <span class="re0">$eq</span> <span class="sy0">+=</span> <a href="about:blank"><span class="kw6">$_</span></a> <span class="br0">}</span> <span class="kw3">else</span> <span class="br0">{</span> <span class="re0">$gt</span> <span class="sy0">+=</span> <a href="about:blank"><span class="kw6">$_</span></a> <span class="br0">}</span> <span class="br0">}</span><br>		<span class="re0">$lt</span> <span class="sy0">=</span> <span class="br0">(</span> QuickSort <span class="re0">$lt</span> <span class="re0">$rand</span> <span class="br0">)</span><br>		<span class="re0">$gt</span> <span class="sy0">=</span> <span class="br0">(</span> QuickSort <span class="re0">$gt</span> <span class="re0">$rand</span> <span class="br0">)</span><br>		<span class="re0">$data</span> <span class="sy0">=</span> <span class="sy0">@</span><span class="br0">(</span><span class="re0">$lt</span><span class="br0">)</span> <span class="sy0">+</span> <span class="re0">$eq</span> <span class="sy0">+</span> <span class="re0">$gt</span><br>	<span class="br0">}</span> <span class="kw3">elseif</span><span class="br0">(</span> <span class="re0">$datal</span> <span class="kw4">-eq</span> <span class="nu0">3</span> <span class="br0">)</span> <span class="br0">{</span><br>		<span class="re0">$data</span> <span class="sy0">=</span> SortThree<span class="br0">(</span> <span class="re0">$data</span> <span class="br0">)</span><br>	<span class="br0">}</span> <span class="kw3">elseif</span><span class="br0">(</span> <span class="re0">$datal</span> <span class="kw4">-eq</span> <span class="nu0">2</span> <span class="br0">)</span> <span class="br0">{</span><br>		<span class="kw3">if</span><span class="br0">(</span> <span class="re0">$data</span><span class="br0">[</span> <span class="nu0">0</span> <span class="br0">]</span> <span class="kw4">-gt</span> <span class="re0">$data</span><span class="br0">[</span> <span class="nu0">1</span> <span class="br0">]</span> <span class="br0">)</span><br>		<span class="br0">{</span><br>			<span class="re0">$data</span> <span class="sy0">=</span> <span class="re0">$data</span><span class="br0">[</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">0</span> <span class="br0">]</span><br>		<span class="br0">}</span><br>	<span class="br0">}</span><br>	<span class="re0">$data</span><br><span class="br0">}</span><br>&nbsp;<br>QuickSort <span class="nu0">5</span><span class="sy0">,</span><span class="nu0">3</span><span class="sy0">,</span><span class="nu0">1</span><span class="sy0">,</span><span class="nu0">2</span><span class="sy0">,</span><span class="nu0">4</span> <br>QuickSort <span class="st0">'e'</span><span class="sy0">,</span><span class="st0">'c'</span><span class="sy0">,</span><span class="st0">'a'</span><span class="sy0">,</span><span class="st0">'b'</span><span class="sy0">,</span><span class="st0">'d'</span> <br>QuickSort <span class="nu0">0.5</span><span class="sy0">,</span><span class="nu0">0.3</span><span class="sy0">,</span><span class="nu0">0.1</span><span class="sy0">,</span><span class="nu0">0.2</span><span class="sy0">,</span><span class="nu0">0.4</span> <br><span class="re0">$l</span> <span class="sy0">=</span> <span class="nu0">100</span>; QuickSort <span class="br0">(</span> <span class="nu0">1</span>..<span class="re0">$l</span> <span class="sy0">|</span> <span class="kw1">ForEach-Object</span> <span class="br0">{</span> <span class="re0">$Rand</span> <span class="sy0">=</span> <span class="kw1">New-Object</span> Random <span class="br0">}</span><span class="br0">{</span> <span class="re0">$Rand</span>.Next<span class="br0">(</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="re0">$l</span> <span class="sy0">-</span> <span class="nu0">1</span> <span class="br0">)</span> <span class="br0">}</span> <span class="br0">)</span></pre> 
        <p><br> </p> 
        <h3><span class="mw-headline" id="Another_solution">Another solution</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=93" title="Edit section: Another solution">edit</a><span class="mw-editsection-bracket">]</span></span></h3> 
        <pre class="powershell highlighted_source">&nbsp;<br><span class="kw3">function</span> quicksort<span class="br0">(</span><span class="re0">$array</span><span class="br0">)</span> <span class="br0">{</span><br>    <span class="re0">$less</span><span class="sy0">,</span> <span class="re0">$equal</span><span class="sy0">,</span> <span class="re0">$greater</span> <span class="sy0">=</span> <span class="sy0">@</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">,</span> <span class="sy0">@</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">,</span> <span class="sy0">@</span><span class="br0">(</span><span class="br0">)</span><br>    <span class="kw3">if</span><span class="br0">(</span> <span class="re0">$array</span>.Count <span class="kw4">-gt</span> <span class="nu0">1</span> <span class="br0">)</span> <span class="br0">{</span> <br>        <span class="re0">$pivot</span> <span class="sy0">=</span> <span class="re0">$array</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><br>        <span class="kw3">foreach</span><span class="br0">(</span> <span class="re0">$x</span> <span class="kw3">in</span> <span class="re0">$array</span><span class="br0">)</span> <span class="br0">{</span><br>            <span class="kw3">if</span><span class="br0">(</span><span class="re0">$x</span> <span class="kw4">-lt</span> <span class="re0">$pivot</span><span class="br0">)</span> <span class="br0">{</span> <span class="re0">$less</span> <span class="sy0">+=</span> <span class="sy0">@</span><span class="br0">(</span><span class="re0">$x</span><span class="br0">)</span> <span class="br0">}</span><br>            <span class="kw3">elseif</span> <span class="br0">(</span><span class="re0">$x</span> <span class="kw4">-eq</span> <span class="re0">$pivot</span><span class="br0">)</span> <span class="br0">{</span> <span class="re0">$equal</span> <span class="sy0">+=</span> <span class="sy0">@</span><span class="br0">(</span><span class="re0">$x</span><span class="br0">)</span><span class="br0">}</span><br>            <span class="kw3">else</span> <span class="br0">{</span> <span class="re0">$greater</span> <span class="sy0">+=</span> <span class="sy0">@</span><span class="br0">(</span><span class="re0">$x</span><span class="br0">)</span> <span class="br0">}</span><br>        <span class="br0">}</span>    <br>        <span class="re0">$array</span> <span class="sy0">=</span> <span class="br0">(</span><span class="sy0">@</span><span class="br0">(</span>quicksort <span class="re0">$less</span><span class="br0">)</span> <span class="sy0">+</span> <span class="sy0">@</span><span class="br0">(</span><span class="re0">$equal</span><span class="br0">)</span> <span class="sy0">+</span> <span class="sy0">@</span><span class="br0">(</span>quicksort <span class="re0">$greater</span><span class="br0">)</span><span class="br0">)</span><br>    <span class="br0">}</span><br>    <span class="re0">$array</span><br><span class="br0">}</span><br><span class="re0">$array</span> <span class="sy0">=</span> <span class="sy0">@</span><span class="br0">(</span><span class="nu0">60</span><span class="sy0">,</span> <span class="nu0">21</span><span class="sy0">,</span> <span class="nu0">19</span><span class="sy0">,</span> <span class="nu0">36</span><span class="sy0">,</span> <span class="nu0">63</span><span class="sy0">,</span> <span class="nu0">8</span><span class="sy0">,</span> <span class="nu0">100</span><span class="sy0">,</span> <span class="nu0">80</span><span class="sy0">,</span> <span class="nu0">3</span><span class="sy0">,</span> <span class="nu0">87</span><span class="sy0">,</span> <span class="nu0">11</span><span class="br0">)</span><br><span class="st0">"$(quicksort $array)"</span><br>&nbsp;</pre> 
        <pre>The output is: 3 8 11 19 21 36 60 63 80 87 100</pre> 
        <h2><span class="mw-headline" id="Prolog"><a href="/wiki/Category:Prolog" title="Category:Prolog">Prolog</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=94" title="Edit section: Prolog">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="prolog highlighted_source">qsort<span class="br0">(</span> <span class="br0">[</span><span class="br0">]</span><span class="sy4">,</span> <span class="br0">[</span><span class="br0">]</span> <span class="br0">)</span><span class="sy4">.</span><br>qsort<span class="br0">(</span> <span class="br0">[</span>H<span class="sy5">|</span>U<span class="br0">]</span><span class="sy4">,</span> S <span class="br0">)</span> <span class="sy1">:-</span> splitBy<span class="br0">(</span>H<span class="sy4">,</span> U<span class="sy4">,</span> L<span class="sy4">,</span> R<span class="br0">)</span><span class="sy4">,</span> qsort<span class="br0">(</span>L<span class="sy4">,</span> SL<span class="br0">)</span><span class="sy4">,</span> qsort<span class="br0">(</span>R<span class="sy4">,</span> SR<span class="br0">)</span><span class="sy4">,</span> append<span class="br0">(</span>SL<span class="sy4">,</span> <span class="br0">[</span>H<span class="sy5">|</span>SR<span class="br0">]</span><span class="sy4">,</span> S<span class="br0">)</span><span class="sy4">.</span><br>&nbsp;<br><span class="co1">% splitBy( H, U, LS, RS )</span><br><span class="co1">% True if LS = { L in U | L &lt;= H }; RS = { R in U | R &gt; H }</span><br>splitBy<span class="br0">(</span> _<span class="sy4">,</span> <span class="br0">[</span><span class="br0">]</span><span class="sy4">,</span> <span class="br0">[</span><span class="br0">]</span><span class="sy4">,</span> <span class="br0">[</span><span class="br0">]</span><span class="br0">)</span><span class="sy4">.</span><br>splitBy<span class="br0">(</span> H<span class="sy4">,</span> <span class="br0">[</span>U<span class="sy5">|</span>T<span class="br0">]</span><span class="sy4">,</span> <span class="br0">[</span>U<span class="sy5">|</span>LS<span class="br0">]</span><span class="sy4">,</span> RS <span class="br0">)</span> <span class="sy1">:-</span> U <span class="sy6">=&lt;</span> H<span class="sy4">,</span> splitBy<span class="br0">(</span>H<span class="sy4">,</span> T<span class="sy4">,</span> LS<span class="sy4">,</span> RS<span class="br0">)</span><span class="sy4">.</span><br>splitBy<span class="br0">(</span> H<span class="sy4">,</span> <span class="br0">[</span>U<span class="sy5">|</span>T<span class="br0">]</span><span class="sy4">,</span> LS<span class="sy4">,</span> <span class="br0">[</span>U<span class="sy5">|</span>RS<span class="br0">]</span> <span class="br0">)</span> <span class="sy1">:-</span> U  <span class="sy6">&gt;</span> H<span class="sy4">,</span> splitBy<span class="br0">(</span>H<span class="sy4">,</span> T<span class="sy4">,</span> LS<span class="sy4">,</span> RS<span class="br0">)</span><span class="sy4">.</span><br>&nbsp;</pre> 
        <h2><span class="mw-headline" id="PureBasic"><a href="/wiki/Category:PureBasic" title="Category:PureBasic">PureBasic</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=95" title="Edit section: PureBasic">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="purebasic highlighted_source"><span class="kw1">Procedure</span> qSort<span class="br0">(</span>Array a<span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span>, firstIndex, lastIndex<span class="br0">)</span><br>  <span class="kw1">Protected</span>  low, high, pivotValue<br>&nbsp;<br>  low <span class="sy0">=</span> firstIndex<br>  high <span class="sy0">=</span> lastIndex<br>  pivotValue <span class="sy0">=</span> a<span class="br0">(</span><span class="br0">(</span>firstIndex <span class="sy0">+</span> lastIndex<span class="br0">)</span> <span class="sy0">/</span> <span class="nu0">2</span><span class="br0">)</span><br>&nbsp;<br>  <span class="kw1">Repeat</span><br>&nbsp;<br>    <span class="kw1">While</span> a<span class="br0">(</span>low<span class="br0">)</span> <span class="sy0">&lt;</span> pivotValue<br>      low <span class="sy0">+</span> <span class="nu0">1</span><br>    <span class="kw1">Wend</span><br>&nbsp;<br>    <span class="kw1">While</span> a<span class="br0">(</span>high<span class="br0">)</span> <span class="sy0">&gt;</span> pivotValue<br>      high <span class="sy0">-</span> <span class="nu0">1</span><br>    <span class="kw1">Wend</span><br>&nbsp;<br>    <span class="kw1">If</span> low <span class="sy0">&lt;=</span> high<br>      <span class="kw1">Swap</span> a<span class="br0">(</span>low<span class="br0">)</span>, a<span class="br0">(</span>high<span class="br0">)</span><br>      low <span class="sy0">+</span> <span class="nu0">1</span><br>      high <span class="sy0">-</span> <span class="nu0">1</span><br>    <span class="kw1">EndIf</span><br>&nbsp;<br>  <span class="kw1">Until</span> low <span class="sy0">&gt;</span> high<br>&nbsp;<br>  <span class="kw1">If</span> firstIndex <span class="sy0">&lt;</span> high<br>    qSort<span class="br0">(</span>a<span class="br0">(</span><span class="br0">)</span>, firstIndex, high<span class="br0">)</span><br>  <span class="kw1">EndIf</span><br>&nbsp;<br>  <span class="kw1">If</span> low <span class="sy0">&lt;</span> lastIndex<br>    qSort<span class="br0">(</span>a<span class="br0">(</span><span class="br0">)</span>, low, lastIndex<span class="br0">)</span><br>  <span class="kw1">EndIf</span><br><span class="kw1">EndProcedure</span><br>&nbsp;<br><span class="kw1">Procedure</span> quickSort<span class="br0">(</span>Array a<span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span><br>  qSort<span class="br0">(</span>a<span class="br0">(</span><span class="br0">)</span>,<span class="nu0">0</span>,ArraySize<span class="br0">(</span>a<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br><span class="kw1">EndProcedure</span></pre> 
        <h2><span class="mw-headline" id="Python"><a href="/wiki/Category:Python" title="Category:Python">Python</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=96" title="Edit section: Python">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="python highlighted_source"><span class="kw1">def</span> quickSort<span class="br0">(</span>arr<span class="br0">)</span>:<br>    less <span class="sy0">=</span> <span class="br0">[</span><span class="br0">]</span><br>    pivotList <span class="sy0">=</span> <span class="br0">[</span><span class="br0">]</span><br>    more <span class="sy0">=</span> <span class="br0">[</span><span class="br0">]</span><br>    <span class="kw1">if</span> <span class="kw2">len</span><span class="br0">(</span>arr<span class="br0">)</span> <span class="sy0">&lt;=</span> <span class="nu0">1</span>:<br>        <span class="kw1">return</span> arr<br>    <span class="kw1">else</span>:<br>        pivot <span class="sy0">=</span> arr<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><br>        <span class="kw1">for</span> i <span class="kw1">in</span> arr:<br>            <span class="kw1">if</span> i <span class="sy0">&lt;</span> pivot:<br>                less.<span class="me1">append</span><span class="br0">(</span>i<span class="br0">)</span><br>            <span class="kw1">elif</span> i <span class="sy0">&gt;</span> pivot:<br>                more.<span class="me1">append</span><span class="br0">(</span>i<span class="br0">)</span><br>            <span class="kw1">else</span>:<br>                pivotList.<span class="me1">append</span><span class="br0">(</span>i<span class="br0">)</span><br>        less <span class="sy0">=</span> quickSort<span class="br0">(</span>less<span class="br0">)</span><br>        more <span class="sy0">=</span> quickSort<span class="br0">(</span>more<span class="br0">)</span><br>        <span class="kw1">return</span> less + pivotList + more<br>&nbsp;<br>a <span class="sy0">=</span> <span class="br0">[</span><span class="nu0">4</span><span class="sy0">,</span> <span class="nu0">65</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> -<span class="nu0">31</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">99</span><span class="sy0">,</span> <span class="nu0">83</span><span class="sy0">,</span> <span class="nu0">782</span><span class="sy0">,</span> <span class="nu0">1</span><span class="br0">]</span><br>a <span class="sy0">=</span> quickSort<span class="br0">(</span>a<span class="br0">)</span></pre> 
        <p>In a Haskell fashion -- </p> 
        <pre class="python highlighted_source"><span class="kw1">def</span> qsort<span class="br0">(</span>L<span class="br0">)</span>:<br>    <span class="kw1">return</span> <span class="br0">(</span>qsort<span class="br0">(</span><span class="br0">[</span>y <span class="kw1">for</span> y <span class="kw1">in</span> L<span class="br0">[</span><span class="nu0">1</span>:<span class="br0">]</span> <span class="kw1">if</span> y <span class="sy0">&lt;</span>  L<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="br0">]</span><span class="br0">)</span> + <br>            L<span class="br0">[</span>:<span class="nu0">1</span><span class="br0">]</span> + <br>            qsort<span class="br0">(</span><span class="br0">[</span>y <span class="kw1">for</span> y <span class="kw1">in</span> L<span class="br0">[</span><span class="nu0">1</span>:<span class="br0">]</span> <span class="kw1">if</span> y <span class="sy0">&gt;=</span> L<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="br0">]</span><span class="br0">)</span><span class="br0">)</span> <span class="kw1">if</span> <span class="kw2">len</span><span class="br0">(</span>L<span class="br0">)</span> <span class="sy0">&gt;</span> <span class="nu0">1</span> <span class="kw1">else</span> L</pre> 
        <p>More readable, but still using list comprehensions: </p> 
        <pre class="python highlighted_source"><span class="kw1">def</span> qsort<span class="br0">(</span><span class="kw2">list</span><span class="br0">)</span>:<br>    <span class="kw1">if</span> <span class="kw1">not</span> <span class="kw2">list</span>:<br>        <span class="kw1">return</span> <span class="br0">[</span><span class="br0">]</span><br>    <span class="kw1">else</span>:<br>        pivot <span class="sy0">=</span> <span class="kw2">list</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><br>        less <span class="sy0">=</span> <span class="br0">[</span>x <span class="kw1">for</span> x <span class="kw1">in</span> <span class="kw2">list</span>     <span class="kw1">if</span> x <span class="sy0">&lt;</span>  pivot<span class="br0">]</span><br>        more <span class="sy0">=</span> <span class="br0">[</span>x <span class="kw1">for</span> x <span class="kw1">in</span> <span class="kw2">list</span><span class="br0">[</span><span class="nu0">1</span>:<span class="br0">]</span> <span class="kw1">if</span> x <span class="sy0">&gt;=</span> pivot<span class="br0">]</span><br>        <span class="kw1">return</span> qsort<span class="br0">(</span>less<span class="br0">)</span> + <span class="br0">[</span>pivot<span class="br0">]</span> + qsort<span class="br0">(</span>more<span class="br0">)</span></pre> 
        <p>More correctly in some tests: </p> 
        <pre class="python highlighted_source"><span class="kw1">from</span> <span class="kw3">random</span> <span class="kw1">import</span> *<br>&nbsp;<br><span class="kw1">def</span> qSort<span class="br0">(</span>a<span class="br0">)</span>:<br>    <span class="kw1">if</span> <span class="kw2">len</span><span class="br0">(</span>a<span class="br0">)</span> <span class="sy0">&lt;=</span> <span class="nu0">1</span>:<br>        <span class="kw1">return</span> a<br>    <span class="kw1">else</span>:<br>        q <span class="sy0">=</span> choice<span class="br0">(</span>a<span class="br0">)</span><br>        <span class="kw1">return</span> qSort<span class="br0">(</span><span class="br0">[</span>elem <span class="kw1">for</span> elem <span class="kw1">in</span> a <span class="kw1">if</span> elem <span class="sy0">&lt;</span> q<span class="br0">]</span><span class="br0">)</span> + <span class="br0">[</span>q<span class="br0">]</span> * a.<span class="me1">count</span><span class="br0">(</span>q<span class="br0">)</span> + qSort<span class="br0">(</span><span class="br0">[</span>elem <span class="kw1">for</span> elem <span class="kw1">in</span> a <span class="kw1">if</span> elem <span class="sy0">&gt;</span> q<span class="br0">]</span><span class="br0">)</span></pre> 
        <p><br> </p> 
        <pre class="python highlighted_source"><span class="kw1">def</span> quickSort<span class="br0">(</span>a<span class="br0">)</span>:<br>    <span class="kw1">if</span> <span class="kw2">len</span><span class="br0">(</span>a<span class="br0">)</span> <span class="sy0">&lt;=</span> <span class="nu0">1</span>:<br>        <span class="kw1">return</span> a<br>    <span class="kw1">else</span>:<br>        less <span class="sy0">=</span> <span class="br0">[</span><span class="br0">]</span><br>        more <span class="sy0">=</span> <span class="br0">[</span><span class="br0">]</span><br>        pivot <span class="sy0">=</span> choice<span class="br0">(</span>a<span class="br0">)</span><br>        <span class="kw1">for</span> i <span class="kw1">in</span> a:<br>            <span class="kw1">if</span> i <span class="sy0">&lt;</span> pivot:<br>                less.<span class="me1">append</span><span class="br0">(</span>i<span class="br0">)</span><br>            <span class="kw1">if</span> i <span class="sy0">&gt;</span> pivot:<br>                more.<span class="me1">append</span><span class="br0">(</span>i<span class="br0">)</span><br>        less <span class="sy0">=</span> quickSort<span class="br0">(</span>less<span class="br0">)</span><br>        more <span class="sy0">=</span> quickSort<span class="br0">(</span>more<span class="br0">)</span><br>        <span class="kw1">return</span> less + <span class="br0">[</span>pivot<span class="br0">]</span> * a.<span class="me1">count</span><span class="br0">(</span>pivot<span class="br0">)</span> + more</pre> 
        <p>Returning a new list: </p> 
        <pre class="python highlighted_source"><span class="kw1">def</span> qsort<span class="br0">(</span><span class="kw3">array</span><span class="br0">)</span>:<br>    <span class="kw1">if</span> <span class="kw2">len</span><span class="br0">(</span><span class="kw3">array</span><span class="br0">)</span> <span class="sy0">&lt;</span> <span class="nu0">2</span>:<br>        <span class="kw1">return</span> <span class="kw3">array</span><br>    head<span class="sy0">,</span> *tail <span class="sy0">=</span> <span class="kw3">array</span><br>    less <span class="sy0">=</span> qsort<span class="br0">(</span><span class="br0">[</span>i <span class="kw1">for</span> i <span class="kw1">in</span> tail <span class="kw1">if</span> i <span class="sy0">&lt;</span> head<span class="br0">]</span><span class="br0">)</span><br>    more <span class="sy0">=</span> qsort<span class="br0">(</span><span class="br0">[</span>i <span class="kw1">for</span> i <span class="kw1">in</span> tail <span class="kw1">if</span> i <span class="sy0">&gt;=</span> head<span class="br0">]</span><span class="br0">)</span><br>    <span class="kw1">return</span> less + <span class="br0">[</span>head<span class="br0">]</span> + more</pre> 
        <p>Sorting a list in place: </p> 
        <pre class="python highlighted_source"><span class="kw1">def</span> quicksort<span class="br0">(</span><span class="kw3">array</span><span class="br0">)</span>:<br>    _quicksort<span class="br0">(</span><span class="kw3">array</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="kw2">len</span><span class="br0">(</span><span class="kw3">array</span><span class="br0">)</span> - <span class="nu0">1</span><span class="br0">)</span><br>&nbsp;<br><span class="kw1">def</span> _quicksort<span class="br0">(</span><span class="kw3">array</span><span class="sy0">,</span> start<span class="sy0">,</span> stop<span class="br0">)</span>:<br>    <span class="kw1">if</span> stop - start <span class="sy0">&gt;</span> <span class="nu0">0</span>:<br>        pivot<span class="sy0">,</span> left<span class="sy0">,</span> right <span class="sy0">=</span> <span class="kw3">array</span><span class="br0">[</span>start<span class="br0">]</span><span class="sy0">,</span> start<span class="sy0">,</span> stop<br>        <span class="kw1">while</span> left <span class="sy0">&lt;=</span> right:<br>            <span class="kw1">while</span> <span class="kw3">array</span><span class="br0">[</span>left<span class="br0">]</span> <span class="sy0">&lt;</span> pivot:<br>                left +<span class="sy0">=</span> <span class="nu0">1</span><br>            <span class="kw1">while</span> <span class="kw3">array</span><span class="br0">[</span>right<span class="br0">]</span> <span class="sy0">&gt;</span> pivot:<br>                right -<span class="sy0">=</span> <span class="nu0">1</span><br>            <span class="kw1">if</span> left <span class="sy0">&lt;=</span> right:<br>                <span class="kw3">array</span><span class="br0">[</span>left<span class="br0">]</span><span class="sy0">,</span> <span class="kw3">array</span><span class="br0">[</span>right<span class="br0">]</span> <span class="sy0">=</span> <span class="kw3">array</span><span class="br0">[</span>right<span class="br0">]</span><span class="sy0">,</span> <span class="kw3">array</span><span class="br0">[</span>left<span class="br0">]</span><br>                left +<span class="sy0">=</span> <span class="nu0">1</span><br>                right -<span class="sy0">=</span> <span class="nu0">1</span><br>        _quicksort<span class="br0">(</span><span class="kw3">array</span><span class="sy0">,</span> start<span class="sy0">,</span> right<span class="br0">)</span><br>        _quicksort<span class="br0">(</span><span class="kw3">array</span><span class="sy0">,</span> left<span class="sy0">,</span> stop<span class="br0">)</span></pre> 
        <h2><span class="mw-headline" id="Qi"><a href="/wiki/Category:Qi" title="Category:Qi">Qi</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=97" title="Edit section: Qi">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">(define keep<br>  _    []       -&gt; []<br>  Pred [A|Rest] -&gt; [A | (keep Pred Rest)] where (Pred A)<br>  Pred [_|Rest] -&gt; (keep Pred Rest))<br>&nbsp;<br>(define quicksort<br>  []    -&gt; []<br>  [A|R] -&gt; (append (quicksort (keep (&gt;= A) R))<br>                   [A]<br>                   (quicksort (keep (&lt; A) R))))<br>&nbsp;<br>(quicksort [6 8 5 9 3 2 2 1 4 7])<br>&nbsp;</pre> 
        <h2><span class="mw-headline" id="R"><a href="/wiki/Category:R" title="Category:R">R</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=98" title="Edit section: R">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <div class="examplemeta translation">
         <b>Translation of</b>: 
         <a href="#Octave">Octave</a>
        </div> 
        <pre class="text highlighted_source">qsort &lt;- function(v) {<br>  if ( length(v) &gt; 1 ) <br>  {<br>    pivot &lt;- (min(v) + max(v))/2.0                            # Could also use pivot &lt;- median(v)<br>    c(qsort(v[v &lt; pivot]), v[v == pivot], qsort(v[v &gt; pivot])) <br>  } else v<br>}<br>&nbsp;<br>N &lt;- 100<br>vs &lt;- runif(N)<br>system.time(u &lt;- qsort(vs))<br>print(u)</pre> 
        <h2><span class="mw-headline" id="Racket"><a href="/wiki/Category:Racket" title="Category:Racket">Racket</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=99" title="Edit section: Racket">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">#lang racket<br>(define (quicksort &lt; l)<br>  (match l<br>    ['() '()]<br>    [(cons x xs) <br>     (let-values ([(xs-gte xs-lt) (partition (curry &lt; x) xs)])<br>       (append (quicksort &lt; xs-lt) <br>               (list x) <br>               (quicksort &lt; xs-gte)))]))</pre> 
        <p>Examples </p> 
        <pre class="text highlighted_source">(quicksort &lt; '(8 7 3 6 4 5 2))<br>;returns '(2 3 4 5 6 7 8)<br>(quicksort string&lt;? '("Mergesort" "Quicksort" "Bubblesort"))<br>;returns '("Bubblesort" "Mergesort" "Quicksort")</pre> 
        <h2><span class="mw-headline" id="REXX"><a href="/wiki/Category:REXX" title="Category:REXX">REXX</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=100" title="Edit section: REXX">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <h3><span class="mw-headline" id="version_1">version 1</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=101" title="Edit section: version 1">edit</a><span class="mw-editsection-bracket">]</span></span></h3> 
        <pre class="rexx highlighted_source"><span class="coMULTI">/*REXX program  sorts  a  stemmed array  using the   quicksort  algorithm.              */</span><br><span class="kw1">call</span> <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="bed9dbd0fe">[email&nbsp;protected]</a>                                        <span class="coMULTI">/*generate the elements for the array. */</span><br><span class="kw1">call</span> <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="98ebf0f7efd8">[email&nbsp;protected]</a>   <span class="st0">'before sort'</span>                       <span class="coMULTI">/*show  the  before   array elements.  */</span><br><span class="kw1">call</span> qSort       #                               <span class="coMULTI">/*invoke the  quicksort  subroutine.   */</span><br><span class="kw1">call</span> <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="3f4c5750487f">[email&nbsp;protected]</a>   <span class="st0">' after sort'</span>                       <span class="coMULTI">/*show  the   after   array elements.  */</span><br><span class="kw1">exit</span>                                             <span class="coMULTI">/*stick a fork in it,  we're all done. */</span><br><span class="coMULTI">/*??????????????????????????????????????????????????????????????????????????????????????*/</span><br>qSort: <span class="kw1">procedure</span> <span class="kw1">expose</span> @<span class="sy0">.</span>; a<span class="sy0">.</span>1=<span class="nu0">1</span>; <span class="kw1">parse</span> <span class="kw1">arg</span> b<span class="sy0">.</span>1 <span class="coMULTI">/*access the caller's local variable.  */</span><br>       $=<span class="nu0">1</span><br>               <span class="kw1">do</span>  <span class="kw2">while</span>  $<span class="sy0">\</span>==<span class="nu0">0</span>;    L=a<span class="sy0">.</span>$;     t=b<span class="sy0">.</span>$;     $=$-<span class="nu0">1</span>;      <span class="kw1">if</span> t<span class="sy0">&lt;</span><span class="nu0">2</span>  <span class="kw3">then</span> <span class="kw1">iterate</span><br>               H=L+t-<span class="nu0">1</span>;            &nbsp;?=L+t%2<br>               <span class="kw1">if</span> @<span class="sy0">.</span>H<span class="sy0">&lt;</span>@<span class="sy0">.</span>L  <span class="kw3">then</span> <span class="kw1">if</span> @<span class="sy0">.</span>?<span class="sy0">&lt;</span>@<span class="sy0">.</span>H  <span class="kw3">then</span> <span class="kw1">do</span>;  <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="8bfbb6cb">[email&nbsp;protected]</a><span class="sy0">.</span>H;  @<span class="sy0">.</span><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="337b0e73">[email&nbsp;protected]</a><span class="sy0">.</span>L;  <span class="kw3">end</span><br>                                            <span class="kw3">else</span> <span class="kw1">if</span> @<span class="sy0">.</span>?<span class="sy0">&gt;</span>@<span class="sy0">.</span>L  <span class="kw3">then</span> <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e494d9a4">[email&nbsp;protected]</a><span class="sy0">.</span>L<br>                                                             <span class="kw3">else</span> <span class="kw1">do</span>;  <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="97e7aad7">[email&nbsp;protected]</a><span class="sy0">.</span>?; @<span class="sy0">.</span><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="a09f9de0">[email&nbsp;protected]</a><span class="sy0">.</span>L; <span class="kw3">end</span><br>                           <span class="kw3">else</span> <span class="kw1">if</span> @<span class="sy0">.</span>?<span class="sy0">&lt;</span>@<span class="sy0">.</span>L  <span class="kw3">then</span> <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="73034e33">[email&nbsp;protected]</a><span class="sy0">.</span>L<br>                                            <span class="kw3">else</span> <span class="kw1">if</span> @<span class="sy0">.</span>?<span class="sy0">&gt;</span>@<span class="sy0">.</span>H  <span class="kw3">then</span> <span class="kw1">do</span>;  <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="43337e03">[email&nbsp;protected]</a><span class="sy0">.</span>H; @<span class="sy0">.</span><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="7f37423f">[email&nbsp;protected]</a><span class="sy0">.</span>L; <span class="kw3">end</span><br>                                                             <span class="kw3">else</span> <span class="kw1">do</span>;  <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="cebef38e">[email&nbsp;protected]</a><span class="sy0">.</span>?; @<span class="sy0">.</span><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e3dcdea3">[email&nbsp;protected]</a><span class="sy0">.</span>L; <span class="kw3">end</span><br>               j=L+<span class="nu0">1</span>;                             k=h<br>                      <span class="kw1">do</span> <span class="kw2">forever</span><br>                          <span class="kw1">do</span> j=j         <span class="kw2">while</span> j<span class="sy0">&lt;</span>=k <span class="sy0">&amp;</span> @<span class="sy0">.</span>j<span class="sy0">&lt;</span>=p;  <span class="kw3">end</span>  <span class="coMULTI">/*a tinie?tiny loop.*/</span><br>                          <span class="kw1">do</span> k=k  <span class="kw2">by</span> -<span class="nu0">1</span>  <span class="kw2">while</span> j <span class="sy0">&lt;</span>k <span class="sy0">&amp;</span> @<span class="sy0">.</span>k<span class="sy0">&gt;</span>=p;  <span class="kw3">end</span>  <span class="coMULTI">/*another   "    "  */</span><br>                      <span class="kw1">if</span> j<span class="sy0">&gt;</span>=k  <span class="kw3">then</span> <span class="kw1">leave</span>                           <span class="coMULTI">/*segment finished? */</span><br>                      <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="653a5825">[email&nbsp;protected]</a><span class="sy0">.</span>j;   @<span class="sy0">.</span><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="365c0b76">[email&nbsp;protected]</a><span class="sy0">.</span>k;   @<span class="sy0">.</span>k=_                     <span class="coMULTI">/*swap J&amp;K elements.*/</span><br>                      <span class="kw3">end</span>   <span class="coMULTI">/*forever*/</span><br>               $=$+<span class="nu0">1</span><br>               k=j-<span class="nu0">1</span>;   @<span class="sy0">.</span><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="eaa6d7aa">[email&nbsp;protected]</a><span class="sy0">.</span>k;   @<span class="sy0">.</span>k=p<br>               <span class="kw1">if</span> j<span class="sy0">&lt;</span>=?  <span class="kw3">then</span> <span class="kw1">do</span>;   a<span class="sy0">.</span>$=j;   b<span class="sy0">.</span>$=H-j+<span class="nu0">1</span>;   $=$+<span class="nu0">1</span>;   a<span class="sy0">.</span>$=L;   b<span class="sy0">.</span>$=k-L;    <span class="kw3">end</span><br>                        <span class="kw3">else</span> <span class="kw1">do</span>;   a<span class="sy0">.</span>$=L;   b<span class="sy0">.</span>$=k-L;     $=$+<span class="nu0">1</span>;   a<span class="sy0">.</span>$=j;   b<span class="sy0">.</span>$=H-j+<span class="nu0">1</span>;  <span class="kw3">end</span><br>               <span class="kw3">end</span>          <span class="coMULTI">/*while $¬==0*/</span><br>       <span class="kw1">return</span><br><span class="coMULTI">/*??????????????????????????????????????????????????????????????????????????????????????*/</span><br><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e6958e8991a6">[email&nbsp;protected]</a>: w=<span class="kw6">length</span><span class="br0">(</span>#<span class="br0">)</span>;        <span class="kw1">do</span> j=<span class="nu0">1</span>  <span class="kw2">for</span> #;  <span class="kw1">say</span> <span class="st0">'element'</span>  <span class="kw6">right</span><span class="br0">(</span>j,w<span class="br0">)</span>  <span class="kw1">arg</span><span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span><span class="st0">":"</span>  @<span class="sy0">.</span>j;  <span class="kw3">end</span><br>       <span class="kw1">say</span> <span class="kw6">copies</span><span class="br0">(</span><span class="st0">'?'</span>, maxL + w + <span class="nu0">22</span><span class="br0">)</span>            <span class="coMULTI">/*display a separator (between outputs)*/</span><br>       <span class="kw1">return</span><br><span class="coMULTI">/*???????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????*/</span><br><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e6818388a6">[email&nbsp;protected]</a>:  @<span class="sy0">.</span>=;   maxL=<span class="nu0">0</span>                             <span class="coMULTI">/*assign a default value for the array.*/</span><br>@<span class="sy0">.</span>1  = <span class="st0">" Rivers that form part of a (USA) state's border "</span>                                   <span class="coMULTI">/*this value is adjusted later to include a prefix &amp; suffix.*/</span><br>@<span class="sy0">.</span>2  = <span class="st0">'='</span>                                                                                   <span class="coMULTI">/*this value is expanded later.  */</span><br>@<span class="sy0">.</span>3  = <span class="st0">"Perdido River                       Alabama, Florida"</span><br>@<span class="sy0">.</span>4  = <span class="st0">"Chattahoochee River                 Alabama, Georgia"</span><br>@<span class="sy0">.</span>5  = <span class="st0">"Tennessee River                     Alabama, Kentucky, Mississippi, Tennessee"</span><br>@<span class="sy0">.</span>6  = <span class="st0">"Colorado River                      Arizona, California, Nevada, Baja California (Mexico)"</span><br>@<span class="sy0">.</span>7  = <span class="st0">"Mississippi River                   Arkansas, Illinois, Iowa, Kentucky, Minnesota, Mississippi, Missouri, Tennessee, Louisiana, Wisconsin"</span><br>@<span class="sy0">.</span>8  = <span class="st0">"St. Francis River                   Arkansas, Missouri"</span><br>@<span class="sy0">.</span>9  = <span class="st0">"Poteau River                        Arkansas, Oklahoma"</span><br>@<span class="sy0">.</span>10 = <span class="st0">"Arkansas River                      Arkansas, Oklahoma"</span><br>@<span class="sy0">.</span>11 = <span class="st0">"Red River (Mississippi watershed)   Arkansas, Oklahoma, Texas"</span><br>@<span class="sy0">.</span>12 = <span class="st0">"Byram River                         Connecticut, New York"</span><br>@<span class="sy0">.</span>13 = <span class="st0">"Pawcatuck River                     Connecticut, Rhode Island and Providence Plantations"</span><br>@<span class="sy0">.</span>14 = <span class="st0">"Delaware River                      Delaware, New Jersey, New York, Pennsylvania"</span><br>@<span class="sy0">.</span>15 = <span class="st0">"Potomac River                       District of Columbia, Maryland, Virginia, West Virginia"</span><br>@<span class="sy0">.</span>16 = <span class="st0">"St. Marys River                     Florida, Georgia"</span><br>@<span class="sy0">.</span>17 = <span class="st0">"Chattooga River                     Georgia, South Carolina"</span><br>@<span class="sy0">.</span>18 = <span class="st0">"Tugaloo River                       Georgia, South Carolina"</span><br>@<span class="sy0">.</span>19 = <span class="st0">"Savannah River                      Georgia, South Carolina"</span><br>@<span class="sy0">.</span>20 = <span class="st0">"Snake River                         Idaho, Oregon, Washington"</span><br>@<span class="sy0">.</span>21 = <span class="st0">"Wabash River                        Illinois, Indiana"</span><br>@<span class="sy0">.</span>22 = <span class="st0">"Ohio River                          Illinois, Indiana, Kentucky, Ohio, West Virginia"</span><br>@<span class="sy0">.</span>23 = <span class="st0">"Great Miami River (mouth only)      Indiana, Ohio"</span><br>@<span class="sy0">.</span>24 = <span class="st0">"Des Moines River                    Iowa, Missouri"</span><br>@<span class="sy0">.</span>25 = <span class="st0">"Big Sioux River                     Iowa, South Dakota"</span><br>@<span class="sy0">.</span>26 = <span class="st0">"Missouri River                      Kansas, Iowa, Missouri, Nebraska, South Dakota"</span><br>@<span class="sy0">.</span>27 = <span class="st0">"Tug Fork River                      Kentucky, Virginia, West Virginia"</span><br>@<span class="sy0">.</span>28 = <span class="st0">"Big Sandy River                     Kentucky, West Virginia"</span><br>@<span class="sy0">.</span>29 = <span class="st0">"Pearl River                         Louisiana, Mississippi"</span><br>@<span class="sy0">.</span>30 = <span class="st0">"Sabine River                        Louisiana, Texas"</span><br>@<span class="sy0">.</span>31 = <span class="st0">"Monument Creek                      Maine, New Brunswick (Canada)"</span><br>@<span class="sy0">.</span>32 = <span class="st0">"St. Croix River                     Maine, New Brunswick (Canada)"</span><br>@<span class="sy0">.</span>33 = <span class="st0">"Piscataqua River                    Maine, New Hampshire"</span><br>@<span class="sy0">.</span>34 = <span class="st0">"St. Francis River                   Maine, Quebec (Canada)"</span><br>@<span class="sy0">.</span>35 = <span class="st0">"St. John River                      Maine, Quebec (Canada)"</span><br>@<span class="sy0">.</span>36 = <span class="st0">"Pocomoke River                      Maryland, Virginia"</span><br>@<span class="sy0">.</span>37 = <span class="st0">"Palmer River                        Massachusetts, Rhode Island and Providence Plantations"</span><br>@<span class="sy0">.</span>38 = <span class="st0">"Runnins River                       Massachusetts, Rhode Island and Providence Plantations"</span><br>@<span class="sy0">.</span>39 = <span class="st0">"Montreal River                      Michigan (upper peninsula), Wisconsin"</span><br>@<span class="sy0">.</span>40 = <span class="st0">"Detroit River                       Michigan, Ontario (Canada)"</span><br>@<span class="sy0">.</span>41 = <span class="st0">"St. Clair River                     Michigan, Ontario (Canada)"</span><br>@<span class="sy0">.</span>42 = <span class="st0">"St. Marys River                     Michigan, Ontario (Canada)"</span><br>@<span class="sy0">.</span>43 = <span class="st0">"Brule River                         Michigan, Wisconsin"</span><br>@<span class="sy0">.</span>44 = <span class="st0">"Menominee River                     Michigan, Wisconsin"</span><br>@<span class="sy0">.</span>45 = <span class="st0">"Red River of the North              Minnesota, North Dakota"</span><br>@<span class="sy0">.</span>46 = <span class="st0">"Bois de Sioux River                 Minnesota, North Dakota, South Dakota"</span><br>@<span class="sy0">.</span>47 = <span class="st0">"Pigeon River                        Minnesota, Ontario (Canada)"</span><br>@<span class="sy0">.</span>48 = <span class="st0">"Rainy River                         Minnesota, Ontario (Canada)"</span><br>@<span class="sy0">.</span>49 = <span class="st0">"St. Croix River                     Minnesota, Wisconsin"</span><br>@<span class="sy0">.</span>50 = <span class="st0">"St. Louis River                     Minnesota, Wisconsin"</span><br>@<span class="sy0">.</span>51 = <span class="st0">"Halls Stream                        New Hampshire, Canada"</span><br>@<span class="sy0">.</span>52 = <span class="st0">"Salmon Falls River                  New Hampshire, Maine"</span><br>@<span class="sy0">.</span>53 = <span class="st0">"Connecticut River                   New Hampshire, Vermont"</span><br>@<span class="sy0">.</span>54 = <span class="st0">"Arthur Kill                         New Jersey, New York (tidal strait)"</span><br>@<span class="sy0">.</span>55 = <span class="st0">"Kill Van Kull                       New Jersey, New York (tidal strait)"</span><br>@<span class="sy0">.</span>56 = <span class="st0">"Hudson River (lower part only)      New Jersey, New York"</span><br>@<span class="sy0">.</span>57 = <span class="st0">"Rio Grande                          New Mexico, Texas, Tamaulipas (Mexico), Nuevo Leon (Mexico), Coahuila de Zaragoza (Mexico), Chihuahua (Mexico)"</span><br>@<span class="sy0">.</span>58 = <span class="st0">"Niagara River                       New York, Ontario (Canada)"</span><br>@<span class="sy0">.</span>59 = <span class="st0">"St. Lawrence River                  New York, Ontario (Canada)"</span><br>@<span class="sy0">.</span>60 = <span class="st0">"Poultney River                      New York, Vermont"</span><br>@<span class="sy0">.</span>61 = <span class="st0">"Catawba River                       North Carolina, South Carolina"</span><br>@<span class="sy0">.</span>62 = <span class="st0">"Blackwater River                    North Carolina, Virginia"</span><br>@<span class="sy0">.</span>63 = <span class="st0">"Columbia River                      Oregon, Washington"</span><br>                <span class="kw1">do</span> #=<span class="nu0">1</span>  <span class="kw2">until</span>  @<span class="sy0">.</span>#==<span class="st0">''</span>           <span class="coMULTI">/*find how many entries in array,  and */</span><br>                maxL=<span class="kw6">max</span><span class="br0">(</span>maxL, <span class="kw6">length</span><span class="br0">(</span>@<span class="sy0">.</span>#<span class="br0">)</span><span class="br0">)</span>      <span class="coMULTI">/*   also find the maximum width entry.*/</span><br>                <span class="kw3">end</span>   <span class="coMULTI">/*#*/</span><br>#=#-<span class="nu0">1</span>                                            <span class="coMULTI">/*adjust the highest element number.   */</span><br>@<span class="sy0">.</span>1=<span class="kw6">center</span><span class="br0">(</span>@<span class="sy0">.</span>1, maxL, <span class="st0">'-'</span><span class="br0">)</span>                       <span class="coMULTI">/*   "    "  header information.       */</span><br>@<span class="sy0">.</span>2=<span class="kw6">copies</span><span class="br0">(</span>@<span class="sy0">.</span>2, maxL<span class="br0">)</span>                            <span class="coMULTI">/*   "    "     "   separator.         */</span><br><span class="kw1">return</span></pre> 
        <p><b>output</b> </p> 
        <pre style="height:60ex">element  1 before sort: ------------------------------------------------ Rivers that form part of a (USA) state's border -------------------------------------------------
element  2 before sort: ==================================================================================================================================================
element  3 before sort: Perdido River                       Alabama, Florida
element  4 before sort: Chattahoochee River                 Alabama, Georgia
element  5 before sort: Tennessee River                     Alabama, Kentucky, Mississippi, Tennessee
element  6 before sort: Colorado River                      Arizona, California, Nevada, Baja California (Mexico)
element  7 before sort: Mississippi River                   Arkansas, Illinois, Iowa, Kentucky, Minnesota, Mississippi, Missouri, Tennessee, Louisiana, Wisconsin
element  8 before sort: St. Francis River                   Arkansas, Missouri
element  9 before sort: Poteau River                        Arkansas, Oklahoma
element 10 before sort: Arkansas River                      Arkansas, Oklahoma
element 11 before sort: Red River (Mississippi watershed)   Arkansas, Oklahoma, Texas
element 12 before sort: Byram River                         Connecticut, New York
element 13 before sort: Pawcatuck River                     Connecticut, Rhode Island and Providence Plantations
element 14 before sort: Delaware River                      Delaware, New Jersey, New York, Pennsylvania
element 15 before sort: Potomac River                       District of Columbia, Maryland, Virginia, West Virginia
element 16 before sort: St. Marys River                     Florida, Georgia
element 17 before sort: Chattooga River                     Georgia, South Carolina
element 18 before sort: Tugaloo River                       Georgia, South Carolina
element 19 before sort: Savannah River                      Georgia, South Carolina
element 20 before sort: Snake River                         Idaho, Oregon, Washington
element 21 before sort: Wabash River                        Illinois, Indiana
element 22 before sort: Ohio River                          Illinois, Indiana, Kentucky, Ohio, West Virginia
element 23 before sort: Great Miami River (mouth only)      Indiana, Ohio
element 24 before sort: Des Moines River                    Iowa, Missouri
element 25 before sort: Big Sioux River                     Iowa, South Dakota
element 26 before sort: Missouri River                      Kansas, Iowa, Missouri, Nebraska, South Dakota
element 27 before sort: Tug Fork River                      Kentucky, Virginia, West Virginia
element 28 before sort: Big Sandy River                     Kentucky, West Virginia
element 29 before sort: Pearl River                         Louisiana, Mississippi
element 30 before sort: Sabine River                        Louisiana, Texas
element 31 before sort: Monument Creek                      Maine, New Brunswick (Canada)
element 32 before sort: St. Croix River                     Maine, New Brunswick (Canada)
element 33 before sort: Piscataqua River                    Maine, New Hampshire
element 34 before sort: St. Francis River                   Maine, Quebec (Canada)
element 35 before sort: St. John River                      Maine, Quebec (Canada)
element 36 before sort: Pocomoke River                      Maryland, Virginia
element 37 before sort: Palmer River                        Massachusetts, Rhode Island and Providence Plantations
element 38 before sort: Runnins River                       Massachusetts, Rhode Island and Providence Plantations
element 39 before sort: Montreal River                      Michigan (upper peninsula), Wisconsin
element 40 before sort: Detroit River                       Michigan, Ontario (Canada)
element 41 before sort: St. Clair River                     Michigan, Ontario (Canada)
element 42 before sort: St. Marys River                     Michigan, Ontario (Canada)
element 43 before sort: Brule River                         Michigan, Wisconsin
element 44 before sort: Menominee River                     Michigan, Wisconsin
element 45 before sort: Red River of the North              Minnesota, North Dakota
element 46 before sort: Bois de Sioux River                 Minnesota, North Dakota, South Dakota
element 47 before sort: Pigeon River                        Minnesota, Ontario (Canada)
element 48 before sort: Rainy River                         Minnesota, Ontario (Canada)
element 49 before sort: St. Croix River                     Minnesota, Wisconsin
element 50 before sort: St. Louis River                     Minnesota, Wisconsin
element 51 before sort: Halls Stream                        New Hampshire, Canada
element 52 before sort: Salmon Falls River                  New Hampshire, Maine
element 53 before sort: Connecticut River                   New Hampshire, Vermont
element 54 before sort: Arthur Kill                         New Jersey, New York (tidal strait)
element 55 before sort: Kill Van Kull                       New Jersey, New York (tidal strait)
element 56 before sort: Hudson River (lower part only)      New Jersey, New York
element 57 before sort: Rio Grande                          New Mexico, Texas, Tamaulipas (Mexico), Nuevo Leon (Mexico), Coahuila De Zaragoza (Mexico), Chihuahua (Mexico)
element 58 before sort: Niagara River                       New York, Ontario (Canada)
element 59 before sort: St. Lawrence River                  New York, Ontario (Canada)
element 60 before sort: Poultney River                      New York, Vermont
element 61 before sort: Catawba River                       North Carolina, South Carolina
element 62 before sort: Blackwater River                    North Carolina, Virginia
element 63 before sort: Columbia River                      Oregon, Washington
??????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????
element  1  after sort: ------------------------------------------------ Rivers that form part of a (USA) state's border -------------------------------------------------
element  2  after sort: ==================================================================================================================================================
element  3  after sort: Arkansas River                      Arkansas, Oklahoma
element  4  after sort: Arthur Kill                         New Jersey, New York (tidal strait)
element  5  after sort: Big Sandy River                     Kentucky, West Virginia
element  6  after sort: Big Sioux River                     Iowa, South Dakota
element  7  after sort: Blackwater River                    North Carolina, Virginia
element  8  after sort: Bois de Sioux River                 Minnesota, North Dakota, South Dakota
element  9  after sort: Brule River                         Michigan, Wisconsin
element 10  after sort: Byram River                         Connecticut, New York
element 11  after sort: Catawba River                       North Carolina, South Carolina
element 12  after sort: Chattahoochee River                 Alabama, Georgia
element 13  after sort: Chattooga River                     Georgia, South Carolina
element 14  after sort: Colorado River                      Arizona, California, Nevada, Baja California (Mexico)
element 15  after sort: Columbia River                      Oregon, Washington
element 16  after sort: Connecticut River                   New Hampshire, Vermont
element 17  after sort: Delaware River                      Delaware, New Jersey, New York, Pennsylvania
element 18  after sort: Des Moines River                    Iowa, Missouri
element 19  after sort: Detroit River                       Michigan, Ontario (Canada)
element 20  after sort: Great Miami River (mouth only)      Indiana, Ohio
element 21  after sort: Halls Stream                        New Hampshire, Canada
element 22  after sort: Hudson River (lower part only)      New Jersey, New York
element 23  after sort: Kill Van Kull                       New Jersey, New York (tidal strait)
element 24  after sort: Menominee River                     Michigan, Wisconsin
element 25  after sort: Mississippi River                   Arkansas, Illinois, Iowa, Kentucky, Minnesota, Mississippi, Missouri, Tennessee, Louisiana, Wisconsin
element 26  after sort: Missouri River                      Kansas, Iowa, Missouri, Nebraska, South Dakota
element 27  after sort: Montreal River                      Michigan (upper peninsula), Wisconsin
element 28  after sort: Monument Creek                      Maine, New Brunswick (Canada)
element 29  after sort: Niagara River                       New York, Ontario (Canada)
element 30  after sort: Ohio River                          Illinois, Indiana, Kentucky, Ohio, West Virginia
element 31  after sort: Palmer River                        Massachusetts, Rhode Island and Providence Plantations
element 32  after sort: Pawcatuck River                     Connecticut, Rhode Island and Providence Plantations
element 33  after sort: Pearl River                         Louisiana, Mississippi
element 34  after sort: Perdido River                       Alabama, Florida
element 35  after sort: Pigeon River                        Minnesota, Ontario (Canada)
element 36  after sort: Piscataqua River                    Maine, New Hampshire
element 37  after sort: Pocomoke River                      Maryland, Virginia
element 38  after sort: Poteau River                        Arkansas, Oklahoma
element 39  after sort: Potomac River                       District of Columbia, Maryland, Virginia, West Virginia
element 40  after sort: Poultney River                      New York, Vermont
element 41  after sort: Rainy River                         Minnesota, Ontario (Canada)
element 42  after sort: Red River (Mississippi watershed)   Arkansas, Oklahoma, Texas
element 43  after sort: Red River of the North              Minnesota, North Dakota
element 44  after sort: Rio Grande                          New Mexico, Texas, Tamaulipas (Mexico), Nuevo Leon (Mexico), Coahuila De Zaragoza (Mexico), Chihuahua (Mexico)
element 45  after sort: Runnins River                       Massachusetts, Rhode Island and Providence Plantations
element 46  after sort: Sabine River                        Louisiana, Texas
element 47  after sort: Salmon Falls River                  New Hampshire, Maine
element 48  after sort: Savannah River                      Georgia, South Carolina
element 49  after sort: Snake River                         Idaho, Oregon, Washington
element 50  after sort: St. Clair River                     Michigan, Ontario (Canada)
element 51  after sort: St. Croix River                     Maine, New Brunswick (Canada)
element 52  after sort: St. Croix River                     Minnesota, Wisconsin
element 53  after sort: St. Francis River                   Arkansas, Missouri
element 54  after sort: St. Francis River                   Maine, Quebec (Canada)
element 55  after sort: St. John River                      Maine, Quebec (Canada)
element 56  after sort: St. Lawrence River                  New York, Ontario (Canada)
element 57  after sort: St. Louis River                     Minnesota, Wisconsin
element 58  after sort: St. Marys River                     Florida, Georgia
element 59  after sort: St. Marys River                     Michigan, Ontario (Canada)
element 60  after sort: Tennessee River                     Alabama, Kentucky, Mississippi, Tennessee
element 61  after sort: Tug Fork River                      Kentucky, Virginia, West Virginia
element 62  after sort: Tugaloo River                       Georgia, South Carolina
element 63  after sort: Wabash River                        Illinois, Indiana
??????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????
</pre> 
        <h3><span class="mw-headline" id="version_2">version 2</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=102" title="Edit section: version 2">edit</a><span class="mw-editsection-bracket">]</span></span></h3> 
        <div class="examplemeta translation">
         <b>Translation of</b>: 
         <a href="#Python">Python</a>
        </div>The Python code translates very well to 
        <a href="/wiki/OoRexx" title="OoRexx" class="mw-redirect">ooRexx</a> but here is a way to implement it in classic REXX as well. 
        <pre class="rexx highlighted_source">    a = <span class="st0">'4 65 2 -31 0 99 83 782 1'</span><br>    <span class="kw1">do</span> i = <span class="nu0">1</span> <span class="kw2">to</span> <span class="kw6">words</span><span class="br0">(</span>a<span class="br0">)</span><br>        <span class="kw1">queue</span> <span class="kw6">word</span><span class="br0">(</span>a, i<span class="br0">)</span><br>    <span class="kw3">end</span><br>    <span class="kw1">call</span> quickSort<br>    <span class="kw1">parse</span> <span class="kw1">pull</span> item<br>    <span class="kw1">do</span> <span class="kw6">queued</span><span class="br0">(</span><span class="br0">)</span><br>        <span class="kw1">call</span> <span class="kw6">charout</span> ,item<span class="st0">', '</span><br>        <span class="kw1">parse</span> <span class="kw1">pull</span> item<br>    <span class="kw3">end</span><br>    <span class="kw1">say</span> item<br>    <span class="kw1">exit</span><br>&nbsp;<br>quickSort: <span class="kw1">procedure</span><br><span class="coMULTI">/* In classic Rexx, arguments are passed by value, not by reference so stems<br>    cannot be passed as arguments nor used as return values.  Putting their<br>    contents on the external data queue is a way to bypass this issue. */</span><br>&nbsp;<br>    <span class="coMULTI">/* construct the input stem */</span><br>    arr<span class="sy0">.</span>0 = <span class="kw6">queued</span><span class="br0">(</span><span class="br0">)</span><br>    <span class="kw1">do</span> i = <span class="nu0">1</span> <span class="kw2">to</span> arr<span class="sy0">.</span>0<br>        <span class="kw1">parse</span> <span class="kw1">pull</span> arr<span class="sy0">.</span>i<br>    <span class="kw3">end</span><br>    less<span class="sy0">.</span>0 = <span class="nu0">0</span><br>    pivotList<span class="sy0">.</span>0 = <span class="nu0">0</span><br>    more<span class="sy0">.</span>0 = <span class="nu0">0</span><br>    <span class="kw1">if</span> arr<span class="sy0">.</span>0 <span class="sy0">&lt;</span>= <span class="nu0">1</span> <span class="kw3">then</span> <span class="kw1">do</span><br>        <span class="kw1">if</span> arr<span class="sy0">.</span>0 = <span class="nu0">1</span> <span class="kw3">then</span><br>            <span class="kw1">queue</span> arr<span class="sy0">.</span>1<br>        <span class="kw1">return</span><br>    <span class="kw3">end</span><br>    <span class="kw3">else</span> <span class="kw1">do</span><br>        pivot = arr<span class="sy0">.</span>1<br>        <span class="kw1">do</span> i = <span class="nu0">1</span> <span class="kw2">to</span> arr<span class="sy0">.</span>0<br>            item = arr<span class="sy0">.</span>i<br>            <span class="kw1">select</span><br>                <span class="kw3">when</span> item <span class="sy0">&lt;</span> pivot <span class="kw3">then</span> <span class="kw1">do</span><br>                    j = less<span class="sy0">.</span>0 + <span class="nu0">1</span><br>                    less<span class="sy0">.</span>j = item<br>                    less<span class="sy0">.</span>0 = j<br>                <span class="kw3">end</span><br>                <span class="kw3">when</span> item <span class="sy0">&gt;</span> pivot <span class="kw3">then</span> <span class="kw1">do</span><br>                    j = more<span class="sy0">.</span>0 + <span class="nu0">1</span><br>                    more<span class="sy0">.</span>j = item<br>                    more<span class="sy0">.</span>0 = j<br>                <span class="kw3">end</span><br>                <span class="kw3">otherwise</span><br>                    j = pivotList<span class="sy0">.</span>0 + <span class="nu0">1</span><br>                    pivotList<span class="sy0">.</span>j = item<br>                    pivotList<span class="sy0">.</span>0 = j<br>            <span class="kw3">end</span><br>        <span class="kw3">end</span><br>    <span class="kw3">end</span><br>    <span class="coMULTI">/* recursive call to sort the less. stem */</span><br>    <span class="kw1">do</span> i = <span class="nu0">1</span> <span class="kw2">to</span> less<span class="sy0">.</span>0<br>        <span class="kw1">queue</span> less<span class="sy0">.</span>i<br>    <span class="kw3">end</span><br>    <span class="kw1">if</span> <span class="kw6">queued</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">&gt;</span> <span class="nu0">0</span> <span class="kw3">then</span> <span class="kw1">do</span><br>        <span class="kw1">call</span> quickSort<br>        less<span class="sy0">.</span>0 = <span class="kw6">queued</span><span class="br0">(</span><span class="br0">)</span><br>        <span class="kw1">do</span> i = <span class="nu0">1</span> <span class="kw2">to</span> less<span class="sy0">.</span>0<br>            <span class="kw1">parse</span> <span class="kw1">pull</span> less<span class="sy0">.</span>i<br>        <span class="kw3">end</span><br>    <span class="kw3">end</span><br>    <span class="coMULTI">/* recursive call to sort the more. stem */</span><br>    <span class="kw1">do</span> i = <span class="nu0">1</span> <span class="kw2">to</span> more<span class="sy0">.</span>0<br>        <span class="kw1">queue</span> more<span class="sy0">.</span>i<br>    <span class="kw3">end</span><br>    <span class="kw1">if</span> <span class="kw6">queued</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">&gt;</span> <span class="nu0">0</span> <span class="kw3">then</span> <span class="kw1">do</span><br>        <span class="kw1">call</span> quickSort<br>        more<span class="sy0">.</span>0 = <span class="kw6">queued</span><span class="br0">(</span><span class="br0">)</span><br>        <span class="kw1">do</span> i = <span class="nu0">1</span> <span class="kw2">to</span> more<span class="sy0">.</span>0<br>            <span class="kw1">parse</span> <span class="kw1">pull</span> more<span class="sy0">.</span>i<br>        <span class="kw3">end</span><br>    <span class="kw3">end</span><br>    <span class="coMULTI">/* put the contents of all 3 stems on the queue in order */</span><br>    <span class="kw1">do</span> i = <span class="nu0">1</span> <span class="kw2">to</span> less<span class="sy0">.</span>0<br>        <span class="kw1">queue</span> less<span class="sy0">.</span>i<br>    <span class="kw3">end</span><br>    <span class="kw1">do</span> i = <span class="nu0">1</span> <span class="kw2">to</span> pivotList<span class="sy0">.</span>0<br>        <span class="kw1">queue</span> pivotList<span class="sy0">.</span>i<br>    <span class="kw3">end</span><br>    <span class="kw1">do</span> i = <span class="nu0">1</span> <span class="kw2">to</span> more<span class="sy0">.</span>0<br>        <span class="kw1">queue</span> more<span class="sy0">.</span>i<br>    <span class="kw3">end</span><br>    <span class="kw1">return</span></pre> 
        <h2><span class="mw-headline" id="Ruby"><a href="/wiki/Category:Ruby" title="Category:Ruby">Ruby</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=103" title="Edit section: Ruby">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="ruby highlighted_source"><span class="kw1">class</span> <span class="kw3">Array</span><br>  <span class="kw1">def</span> quick_sort<br>    <span class="kw2">return</span> <span class="kw2">self</span> <span class="kw1">if</span> length <span class="sy0">&lt;</span>= <span class="nu0">1</span><br>    pivot = <span class="kw2">self</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><br>    less, greatereq = <span class="kw2">self</span><span class="br0">[</span><span class="nu0">1</span>..<span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span>.<span class="me1">partition</span> <span class="br0">{</span> <span class="sy0">|</span>x<span class="sy0">|</span> x <span class="sy0">&lt;</span> pivot <span class="br0">}</span><br>    less.<span class="me1">quick_sort</span> <span class="sy0">+</span> <span class="br0">[</span>pivot<span class="br0">]</span> <span class="sy0">+</span> greatereq.<span class="me1">quick_sort</span><br>  <span class="kw1">end</span><br><span class="kw1">end</span></pre> 
        <p>or </p> 
        <pre class="ruby highlighted_source"><span class="kw1">class</span> <span class="kw3">Array</span><br>  <span class="kw1">def</span> quick_sort<br>    <span class="kw2">return</span> <span class="kw2">self</span> <span class="kw1">if</span> length <span class="sy0">&lt;</span>= <span class="nu0">1</span><br>    pivot = sample<br>    group = group_by<span class="br0">{</span> <span class="sy0">|</span>x<span class="sy0">|</span> x <span class="sy0">&lt;=&gt;</span> pivot <span class="br0">}</span><br>    group.<span class="me1">default</span> = <span class="br0">[</span><span class="br0">]</span><br>    group<span class="br0">[</span><span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span>.<span class="me1">quick_sort</span> <span class="sy0">+</span> group<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span> <span class="sy0">+</span> group<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span>.<span class="me1">quick_sort</span><br>  <span class="kw1">end</span><br><span class="kw1">end</span></pre> 
        <p>or functionally </p> 
        <pre class="ruby highlighted_source"><span class="kw1">class</span> <span class="kw3">Array</span><br>  <span class="kw1">def</span> quick_sort<br>    h, <span class="sy0">*</span>t = <span class="kw2">self</span><br>    h&nbsp;? t.<span class="me1">partition</span> <span class="br0">{</span> <span class="sy0">|</span>e<span class="sy0">|</span> e <span class="sy0">&lt;</span> h <span class="br0">}</span>.<span class="me1">inject</span> <span class="br0">{</span> <span class="sy0">|</span>l, r<span class="sy0">|</span> l.<span class="me1">quick_sort</span> <span class="sy0">+</span> <span class="br0">[</span>h<span class="br0">]</span> <span class="sy0">+</span> r.<span class="me1">quick_sort</span> <span class="br0">}</span>&nbsp;: <span class="br0">[</span><span class="br0">]</span><br>  <span class="kw1">end</span><br><span class="kw1">end</span></pre> 
        <h2><span class="mw-headline" id="Run_BASIC"><a href="/wiki/Category:Run_BASIC" title="Category:Run BASIC">Run BASIC</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=104" title="Edit section: Run BASIC">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">' -------------------------------<br>' quick sort<br>' -------------------------------<br>size = 50<br>dim s(size)			' array to sort<br>for i = 1 to size		' fill it with some random numbers<br> s(i) = rnd(0) * 100<br>next i<br>&nbsp;<br>lft  = 1<br>rht  = size<br>&nbsp;<br>[qSort]<br>  lftHold = lft<br>  rhtHold = rht<br>  pivot   = s(lft)<br>  while lft &lt; rht<br>    while (s(rht) &gt;= pivot) and (lft &lt; rht)&nbsp;: rht = rht - 1&nbsp;:wend<br>    if lft &lt;&gt; rht then<br>      s(lft) = s(rht)<br>      lft    = lft + 1<br>    end if<br>    while (s(lft) &lt;= pivot) and (lft &lt; rht)&nbsp;: lft = lft + 1&nbsp;:wend<br>    if lft &lt;&gt; rht then<br>      s(rht) = s(lft)<br>      rht    = rht - 1<br>    end if<br>  wend<br>&nbsp;<br>  s(lft) = pivot<br>  pivot  = lft<br>  lft    = lftHold<br>  rht    = rhtHold<br>  if lft &lt; pivot then<br>    rht = pivot - 1<br>    goto [qSort]<br>  end if <br> if rht &gt; pivot then<br>    lft = pivot + 1<br>    goto [qSort]<br> end if<br>&nbsp;<br>for i = 1 to size<br> print i;"--&gt;";s(i)<br>next i</pre> 
        <h2><span class="mw-headline" id="Rust"><a href="/wiki/Category:Rust" title="Category:Rust">Rust</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=105" title="Edit section: Rust">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">fn main() {<br>    println!("Sort numbers in descending order");<br>    let mut numbers = [4, 65, 2, -31, 0, 99, 2, 83, 782, 1];<br>    println!("Before: {:?}", numbers);<br>&nbsp;<br>    quick_sort(&amp;mut numbers, &amp;|x,y| x &gt; y);<br>    println!("After:  {:?}\n", numbers);<br>&nbsp;<br>    println!("Sort strings alphabetically");<br>    let mut strings = ["beach", "hotel", "airplane", "car", "house", "art"];<br>    println!("Before: {:?}", strings);<br>&nbsp;<br>    quick_sort(&amp;mut strings, &amp;|x,y| x &lt; y);<br>    println!("After:  {:?}\n", strings);<br>&nbsp;<br>    println!("Sort strings by length");<br>    println!("Before: {:?}", strings);<br>&nbsp;<br>    quick_sort(&amp;mut strings, &amp;|x,y| x.len() &lt; y.len());<br>    println!("After:  {:?}", strings);    <br>}<br>&nbsp;<br>fn quick_sort&lt;T,F&gt;(v: &amp;mut [T], f: &amp;F) <br>    where F: Fn(&amp;T,&amp;T) -&gt; bool<br>{<br>    let len = v.len();<br>    if len &gt;= 2 {<br>        let pivot_index = partition(v, f);<br>        quick_sort(&amp;mut v[0..pivot_index], f);<br>        quick_sort(&amp;mut v[pivot_index + 1..len], f);<br>    }<br>}<br>&nbsp;<br>fn partition&lt;T,F&gt;(v: &amp;mut [T], f: &amp;F) -&gt; usize <br>    where F: Fn(&amp;T,&amp;T) -&gt; bool<br>{<br>    let len = v.len();<br>    let pivot_index = len / 2;<br>&nbsp;<br>    v.swap(pivot_index, len - 1);<br>&nbsp;<br>    let mut store_index = 0;<br>    for i in 0..len - 1 {<br>        if f(&amp;v[i], &amp;v[len - 1]) {<br>            v.swap(i, store_index);<br>            store_index += 1;<br>        }<br>    }<br>&nbsp;<br>    v.swap(store_index, len - 1);<br>    store_index<br>}</pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>Sort numbers in descending order
Before: [4, 65, 2, -31, 0, 99, 2, 83, 782, 1]
After:  [782, 99, 83, 65, 4, 2, 2, 1, 0, -31]

Sort strings alphabetically
Before: ["beach", "hotel", "airplane", "car", "house", "art"]
After:  ["airplane", "art", "beach", "car", "hotel", "house"]

Sort strings by length
Before: ["airplane", "art", "beach", "car", "hotel", "house"]
After:  ["car", "art", "house", "hotel", "beach", "airplane"]</pre> 
        <h2><span class="mw-headline" id="Sather"><a href="/wiki/Category:Sather" title="Category:Sather">Sather</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=106" title="Edit section: Sather">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">class SORT{T &lt; $IS_LT{T}} is<br>&nbsp;<br>  private afilter(a:ARRAY{T}, cmp:ROUT{T,T}:BOOL, p:T):ARRAY{T} is<br>    filtered&nbsp;::= #ARRAY{T};<br>    loop v&nbsp;::= a.elt!;<br>      if cmp.call(v, p) then<br>        filtered&nbsp;:= filtered.append(|v|);<br>      end;<br>    end;<br>    return filtered;<br>  end;<br>&nbsp;<br>  private mlt(a, b:T):BOOL is return a &lt; b; end;<br>  private mgt(a, b:T):BOOL is return a &gt; b; end;<br>  quick_sort(inout a:ARRAY{T}) is<br>    if a.size &lt; 2 then return; end;<br>    pivot&nbsp;::= a.median;<br>    left:ARRAY{T}&nbsp;:= afilter(a, bind(mlt(_,_)), pivot);<br>    right:ARRAY{T}&nbsp;:= afilter(a, bind(mgt(_,_)), pivot);<br>    quick_sort(inout left);<br>    quick_sort(inout right);<br>    res&nbsp;::= #ARRAY{T};<br>    res&nbsp;:= res.append(left, |pivot|,  right);<br>    a&nbsp;:= res;<br>  end;<br>end;</pre> 
        <pre class="text highlighted_source">class MAIN is<br>  main is<br>    a:ARRAY{INT}&nbsp;:= |10, 9, 8, 7, 6, -10, 5, 4, 656, -11|;<br>    b&nbsp;::= a.copy;<br>    SORT{INT}::quick_sort(inout a);<br>    #OUT + a + "\n" + b.sort + "\n";<br>  end;<br>end;</pre> 
        <p>The ARRAY class has a builtin sorting method, which is quicksort (but under certain condition an insertion sort is used instead), exactly <code>quicksort_range</code>; this implementation is original. </p> 
        <h2><span class="mw-headline" id="Scala"><a href="/wiki/Category:Scala" title="Category:Scala">Scala</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=107" title="Edit section: Scala">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>What follows is a progression on genericity here. </p>
        <p>First, a quick sort of a list of integers: </p> 
        <pre class="scala highlighted_source">  <a href="http://scala-lang.org"><span class="kw1">def</span></a> sort<span class="br0">(</span>xs<span class="sy0">:</span> List<span class="br0">[</span>Int<span class="br0">]</span><span class="br0">)</span><span class="sy0">:</span> List<span class="br0">[</span>Int<span class="br0">]</span> <span class="sy0">=</span> <span class="br0">{</span><br>    xs <a href="http://scala-lang.org"><span class="kw1">match</span></a> <span class="br0">{</span><br>      <a href="http://scala-lang.org"><span class="kw1">case</span></a> Nil <span class="sy0">=&gt;</span> Nil<br>      <a href="http://scala-lang.org"><span class="kw1">case</span></a> x <span class="sy0">::</span> xx <span class="sy0">=&gt;</span> <span class="br0">{</span><br>        <span class="co1">// Arbitrarily partition list in two</span><br>        <a href="http://scala-lang.org"><span class="kw1">val</span></a> <span class="br0">(</span>lo, hi<span class="br0">)</span> <span class="sy0">=</span> xx.<span class="me1">partition</span><span class="br0">(</span><span class="sy0">_</span> <span class="sy0">&lt;</span> x<span class="br0">)</span><br>        <span class="co1">// Sort each half</span><br>        sort<span class="br0">(</span>lo<span class="br0">)</span> ++ <span class="br0">(</span>x <span class="sy0">::</span> sort<span class="br0">(</span>hi<span class="br0">)</span><span class="br0">)</span><br>      <span class="br0">}</span><br>    <span class="br0">}</span><br>  <span class="br0">}</span></pre> 
        <p>Next, a quick sort of a list of some type T, given a lessThan function: </p> 
        <pre class="scala highlighted_source">  <a href="http://scala-lang.org"><span class="kw1">def</span></a> sort<span class="br0">[</span>T<span class="br0">]</span><span class="br0">(</span>xs<span class="sy0">:</span> List<span class="br0">[</span>T<span class="br0">]</span>, lessThan<span class="sy0">:</span> <span class="br0">(</span>T, T<span class="br0">)</span> <span class="sy0">=&gt;</span> Boolean<span class="br0">)</span><span class="sy0">:</span> List<span class="br0">[</span>T<span class="br0">]</span> <span class="sy0">=</span> <span class="br0">{</span><br>    xs <a href="http://scala-lang.org"><span class="kw1">match</span></a> <span class="br0">{</span><br>      <a href="http://scala-lang.org"><span class="kw1">case</span></a> Nil <span class="sy0">=&gt;</span> Nil<br>      <a href="http://scala-lang.org"><span class="kw1">case</span></a> x <span class="sy0">::</span> xx <span class="sy0">=&gt;</span> <span class="br0">{</span><br>        <a href="http://scala-lang.org"><span class="kw1">val</span></a> <span class="br0">(</span>lo, hi<span class="br0">)</span> <span class="sy0">=</span> xx.<span class="me1">partition</span><span class="br0">(</span>lessThan<span class="br0">(</span><span class="sy0">_</span>, x<span class="br0">)</span><span class="br0">)</span><br>        sort<span class="br0">(</span>lo, lessThan<span class="br0">)</span> ++ <span class="br0">(</span>x <span class="sy0">::</span> sort<span class="br0">(</span>hi, lessThan<span class="br0">)</span><span class="br0">)</span><br>      <span class="br0">}</span><br>    <span class="br0">}</span><br>  <span class="br0">}</span></pre> 
        <p>To take advantage of known orderings, a quick sort of a list of some type T, for which exists an implicit (or explicit) Ordering[T]: </p> 
        <pre class="scala highlighted_source">  <a href="http://scala-lang.org"><span class="kw1">def</span></a> sort<span class="br0">[</span>T<span class="br0">]</span><span class="br0">(</span>xs<span class="sy0">:</span> List<span class="br0">[</span>T<span class="br0">]</span><span class="br0">)</span><span class="br0">(</span><a href="http://scala-lang.org"><span class="kw1">implicit</span></a> ord<span class="sy0">:</span> Ordering<span class="br0">[</span>T<span class="br0">]</span><span class="br0">)</span><span class="sy0">:</span> List<span class="br0">[</span>T<span class="br0">]</span> <span class="sy0">=</span> <span class="br0">{</span><br>    xs <a href="http://scala-lang.org"><span class="kw1">match</span></a> <span class="br0">{</span><br>      <a href="http://scala-lang.org"><span class="kw1">case</span></a> Nil <span class="sy0">=&gt;</span> Nil<br>      <a href="http://scala-lang.org"><span class="kw1">case</span></a> x <span class="sy0">::</span> xx <span class="sy0">=&gt;</span> <span class="br0">{</span><br>        <a href="http://scala-lang.org"><span class="kw1">val</span></a> <span class="br0">(</span>lo, hi<span class="br0">)</span> <span class="sy0">=</span> xx.<span class="me1">partition</span><span class="br0">(</span>ord.<span class="me1">lt</span><span class="br0">(</span><span class="sy0">_</span>, x<span class="br0">)</span><span class="br0">)</span><br>        sort<span class="br0">[</span>T<span class="br0">]</span><span class="br0">(</span>lo<span class="br0">)</span> ++ <span class="br0">(</span>x <span class="sy0">::</span> sort<span class="br0">[</span>T<span class="br0">]</span><span class="br0">(</span>hi<span class="br0">)</span><span class="br0">)</span><br>      <span class="br0">}</span><br>    <span class="br0">}</span><br>  <span class="br0">}</span><br>&nbsp;</pre> 
        <p>That last one could have worked with Ordering, but Ordering is Java, and doesn't have the less than operator. Ordered is Scala-specific, and provides it. </p> 
        <pre class="scala highlighted_source">  <a href="http://scala-lang.org"><span class="kw1">def</span></a> sort<span class="br0">[</span>T <span class="sy0">&lt;:</span> Ordered<span class="br0">[</span>T<span class="br0">]</span><span class="br0">]</span><span class="br0">(</span>xs<span class="sy0">:</span> List<span class="br0">[</span>T<span class="br0">]</span><span class="br0">)</span><span class="sy0">:</span> List<span class="br0">[</span>T<span class="br0">]</span> <span class="sy0">=</span> <span class="br0">{</span><br>    xs <a href="http://scala-lang.org"><span class="kw1">match</span></a> <span class="br0">{</span><br>      <a href="http://scala-lang.org"><span class="kw1">case</span></a> Nil <span class="sy0">=&gt;</span> Nil<br>      <a href="http://scala-lang.org"><span class="kw1">case</span></a> x <span class="sy0">::</span> xx <span class="sy0">=&gt;</span> <span class="br0">{</span><br>        <a href="http://scala-lang.org"><span class="kw1">val</span></a> <span class="br0">(</span>lo, hi<span class="br0">)</span> <span class="sy0">=</span> xx.<span class="me1">partition</span><span class="br0">(</span><span class="sy0">_</span> <span class="sy0">&lt;</span> x<span class="br0">)</span><br>        sort<span class="br0">(</span>lo<span class="br0">)</span> ++ <span class="br0">(</span>x <span class="sy0">::</span> sort<span class="br0">(</span>hi<span class="br0">)</span><span class="br0">)</span><br>      <span class="br0">}</span><br>    <span class="br0">}</span><br>  <span class="br0">}</span></pre> 
        <p>What hasn't changed in all these examples is ordering a list. It is possible to write a generic quicksort in Scala, which will order any kind of collection. To do so, however, requires that the type of the collection, itself, be made a parameter to the function. Let's see it below, and then remark upon it: </p> 
        <pre class="scala highlighted_source">  <a href="http://scala-lang.org"><span class="kw1">def</span></a> sort<span class="br0">[</span>T, C<span class="br0">[</span>T<span class="br0">]</span> <span class="sy0">&lt;:</span> scala.<span class="me1">collection</span>.<span class="me1">TraversableLike</span><span class="br0">[</span>T, C<span class="br0">[</span>T<span class="br0">]</span><span class="br0">]</span><span class="br0">]</span><br>    <span class="br0">(</span>xs<span class="sy0">:</span> C<span class="br0">[</span>T<span class="br0">]</span><span class="br0">)</span><br>    <span class="br0">(</span><a href="http://scala-lang.org"><span class="kw1">implicit</span></a> ord<span class="sy0">:</span> scala.<span class="me1">math</span>.<span class="me1">Ordering</span><span class="br0">[</span>T<span class="br0">]</span>,<br>      cbf<span class="sy0">:</span> scala.<span class="me1">collection</span>.<span class="me1">generic</span>.<span class="me1">CanBuildFrom</span><span class="br0">[</span>C<span class="br0">[</span>T<span class="br0">]</span>, T, C<span class="br0">[</span>T<span class="br0">]</span><span class="br0">]</span><span class="br0">)</span><span class="sy0">:</span> C<span class="br0">[</span>T<span class="br0">]</span> <span class="sy0">=</span> <span class="br0">{</span><br>    <span class="co1">// Some collection types can't pattern match</span><br>    <a href="http://scala-lang.org"><span class="kw1">if</span></a> <span class="br0">(</span>xs.<span class="me1">isEmpty</span><span class="br0">)</span> <span class="br0">{</span><br>      xs<br>    <span class="br0">}</span> <a href="http://scala-lang.org"><span class="kw1">else</span></a> <span class="br0">{</span><br>      <a href="http://scala-lang.org"><span class="kw1">val</span></a> <span class="br0">(</span>lo, hi<span class="br0">)</span> <span class="sy0">=</span> xs.<span class="me1">tail</span>.<span class="me1">partition</span><span class="br0">(</span>ord.<span class="me1">lt</span><span class="br0">(</span><span class="sy0">_</span>, xs.<span class="me1">head</span><span class="br0">)</span><span class="br0">)</span><br>      <a href="http://scala-lang.org"><span class="kw1">val</span></a> b <span class="sy0">=</span> cbf<span class="br0">(</span><span class="br0">)</span><br>      b.<span class="me1">sizeHint</span><span class="br0">(</span>xs.<span class="me1">size</span><span class="br0">)</span><br>      b ++<span class="sy0">=</span> sort<span class="br0">(</span>lo<span class="br0">)</span><br>      b +<span class="sy0">=</span> xs.<span class="me1">head</span><br>      b ++<span class="sy0">=</span> sort<span class="br0">(</span>hi<span class="br0">)</span><br>      b.<span class="me1">result</span><span class="br0">(</span><span class="br0">)</span><br>    <span class="br0">}</span><br>  <span class="br0">}</span></pre> 
        <p>The type of our collection is "C[T]", and, by providing C[T] as a type parameter to TraversableLike, we ensure C[T] is capable of returning instances of type C[T]. Traversable is the base type of all collections, and TraversableLike is a trait which contains the implementation of most Traversable methods. </p>
        <p>We need another parameter, though, which is a factory capable of building a C[T] collection. That is being passed implicitly, so callers to this method do not need to provide them, as the collection they are using should already provide one as such implicitly. Because we need that implicitly, then we need to ask for the "T =&gt; Ordering[T]" as well, as the "T &lt;: Ordered[T]" which provides it cannot be used in conjunction with implicit parameters. </p>
        <p>The body of the function is from the list variant, since many of the Traversable collection types don't support pattern matching, "+:" or "::". </p> 
        <h2><span class="mw-headline" id="Scheme"><a href="/wiki/Category:Scheme" title="Category:Scheme">Scheme</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=108" title="Edit section: Scheme">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="scheme highlighted_source"><span class="br0">(</span><span class="kw1">define</span> <span class="br0">(</span>split<span class="sy0">-</span>by <span class="kw1">l</span> p k<span class="br0">)</span><br>  <span class="br0">(</span><span class="kw1">let</span> loop <span class="br0">(</span><span class="br0">(</span>low '<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><br>             <span class="br0">(</span>high '<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><br>             <span class="br0">(</span><span class="kw1">l</span> <span class="kw1">l</span><span class="br0">)</span><span class="br0">)</span><br>    <span class="br0">(</span><span class="kw1">cond</span> <span class="br0">(</span><span class="br0">(</span><span class="kw1">null?</span> <span class="kw1">l</span><span class="br0">)</span><br>           <span class="br0">(</span>k low high<span class="br0">)</span><span class="br0">)</span><br>          <span class="br0">(</span><span class="br0">(</span>p <span class="br0">(</span><span class="kw1">car</span> <span class="kw1">l</span><span class="br0">)</span><span class="br0">)</span><br>           <span class="br0">(</span>loop low <span class="br0">(</span><span class="kw1">cons</span> <span class="br0">(</span><span class="kw1">car</span> <span class="kw1">l</span><span class="br0">)</span> high<span class="br0">)</span> <span class="br0">(</span><span class="kw1">cdr</span> <span class="kw1">l</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>          <span class="br0">(</span><span class="kw1">else</span><br>           <span class="br0">(</span>loop <span class="br0">(</span><span class="kw1">cons</span> <span class="br0">(</span><span class="kw1">car</span> <span class="kw1">l</span><span class="br0">)</span> low<span class="br0">)</span> high <span class="br0">(</span><span class="kw1">cdr</span> <span class="kw1">l</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>&nbsp;<br><span class="br0">(</span><span class="kw1">define</span> <span class="br0">(</span>quicksort <span class="kw1">l</span> gt?<span class="br0">)</span><br>  <span class="br0">(</span><span class="kw1">if</span> <span class="br0">(</span><span class="kw1">null?</span> <span class="kw1">l</span><span class="br0">)</span><br>      '<span class="br0">(</span><span class="br0">)</span><br>      <span class="br0">(</span>split<span class="sy0">-</span>by <span class="br0">(</span><span class="kw1">cdr</span> <span class="kw1">l</span><span class="br0">)</span> <br>                <span class="br0">(</span><span class="kw1">lambda</span> <span class="br0">(</span>x<span class="br0">)</span> <span class="br0">(</span>gt? x <span class="br0">(</span><span class="kw1">car</span> <span class="kw1">l</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>                <span class="br0">(</span><span class="kw1">lambda</span> <span class="br0">(</span>low high<span class="br0">)</span><br>                  <span class="br0">(</span><span class="kw1">append</span> <span class="br0">(</span>quicksort low gt?<span class="br0">)</span><br>                          <span class="br0">(</span><span class="kw1">list</span> <span class="br0">(</span><span class="kw1">car</span> <span class="kw1">l</span><span class="br0">)</span><span class="br0">)</span><br>                          <span class="br0">(</span>quicksort high gt?<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>&nbsp;<br><span class="br0">(</span>quicksort '<span class="br0">(</span><span class="nu0">1</span> <span class="nu0">3</span> <span class="nu0">5</span> <span class="nu0">7</span> <span class="nu0">9</span> <span class="nu0">8</span> <span class="nu0">6</span> <span class="nu0">4</span> <span class="nu0">2</span><span class="br0">)</span> <span class="sy0">&gt;</span><span class="br0">)</span></pre> 
        <p>With srfi-1: </p> 
        <pre class="scheme highlighted_source"><span class="br0">(</span><span class="kw1">define</span> <span class="br0">(</span>quicksort <span class="kw1">l</span> gt?<span class="br0">)</span><br>  <span class="br0">(</span><span class="kw1">if</span> <span class="br0">(</span><span class="kw1">null?</span> <span class="kw1">l</span><span class="br0">)</span><br>      '<span class="br0">(</span><span class="br0">)</span><br>      <span class="br0">(</span><span class="kw1">append</span> <span class="br0">(</span>quicksort <span class="br0">(</span>filter <span class="br0">(</span><span class="kw1">lambda</span> <span class="br0">(</span>x<span class="br0">)</span> <span class="br0">(</span>gt? <span class="br0">(</span><span class="kw1">car</span> <span class="kw1">l</span><span class="br0">)</span> x<span class="br0">)</span><span class="br0">)</span> <span class="br0">(</span><span class="kw1">cdr</span> <span class="kw1">l</span><span class="br0">)</span><span class="br0">)</span> gt?<span class="br0">)</span><br>              <span class="br0">(</span><span class="kw1">list</span> <span class="br0">(</span><span class="kw1">car</span> <span class="kw1">l</span><span class="br0">)</span><span class="br0">)</span><br>              <span class="br0">(</span>quicksort <span class="br0">(</span>filter <span class="br0">(</span><span class="kw1">lambda</span> <span class="br0">(</span>x<span class="br0">)</span> <span class="br0">(</span><span class="kw1">not</span> <span class="br0">(</span>gt? <span class="br0">(</span><span class="kw1">car</span> <span class="kw1">l</span><span class="br0">)</span> x<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span> <span class="br0">(</span><span class="kw1">cdr</span> <span class="kw1">l</span><span class="br0">)</span><span class="br0">)</span> gt?<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><br>&nbsp;<br><span class="br0">(</span>quicksort '<span class="br0">(</span><span class="nu0">1</span> <span class="nu0">3</span> <span class="nu0">5</span> <span class="nu0">7</span> <span class="nu0">9</span> <span class="nu0">8</span> <span class="nu0">6</span> <span class="nu0">4</span> <span class="nu0">2</span><span class="br0">)</span> <span class="sy0">&gt;</span><span class="br0">)</span><br>&nbsp;</pre> 
        <h2><span class="mw-headline" id="Seed7"><a href="/wiki/Category:Seed7" title="Category:Seed7">Seed7</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=109" title="Edit section: Seed7">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">const proc: quickSort (inout array elemType: arr, in integer: left, in integer: right) is func<br>  local<br>    var elemType: compare_elem is elemType.value;<br>    var integer: less_idx is 0;<br>    var integer: greater_idx is 0;<br>    var elemType: help is elemType.value;<br>  begin<br>    if right &gt; left then<br>      compare_elem&nbsp;:= arr[right];<br>      less_idx&nbsp;:= pred(left);<br>      greater_idx&nbsp;:= right;<br>      repeat<br>        repeat<br>          incr(less_idx);<br>        until arr[less_idx] &gt;= compare_elem;<br>        repeat<br>          decr(greater_idx);<br>        until arr[greater_idx] &lt;= compare_elem or greater_idx = left;<br>        if less_idx &lt; greater_idx then<br>          help&nbsp;:= arr[less_idx];<br>          arr[less_idx]&nbsp;:= arr[greater_idx];<br>          arr[greater_idx]&nbsp;:= help;<br>        end if;<br>      until less_idx &gt;= greater_idx;<br>      arr[right]&nbsp;:= arr[less_idx];<br>      arr[less_idx]&nbsp;:= compare_elem;<br>      quickSort(arr, left, pred(less_idx));<br>      quickSort(arr, succ(less_idx), right);<br>    end if;<br>  end func;<br>&nbsp;<br>const proc: quickSort (inout array elemType: arr) is func<br>  begin<br>    quickSort(arr, 1, length(arr));<br>  end func;</pre> 
        <p>Original source: <a rel="nofollow" class="external autonumber" href="http://seed7.sourceforge.net/algorith/sorting.htm#quickSort">[2]</a> </p> 
        <h2><span class="mw-headline" id="SETL"><a href="/wiki/Category:SETL" title="Category:SETL">SETL</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=110" title="Edit section: SETL">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>In-place sort (looks much the same as the C version) </p> 
        <pre class="text highlighted_source">a&nbsp;:= [2,5,8,7,0,9,1,3,6,4];<br>qsort(a);<br>print(a);<br>&nbsp;<br>proc qsort(rw a);<br>  if #a &gt; 1 then<br>    pivot&nbsp;:= a(#a div 2 + 1);<br>    l&nbsp;:= 1;<br>    r&nbsp;:= #a;<br>    (while l &lt; r)<br>      (while a(l) &lt; pivot) l +:= 1; end;<br>      (while a(r) &gt; pivot) r -:= 1; end;<br>      swap(a(l), a(r));<br>    end;<br>    qsort(a(1..l-1));<br>    qsort(a(r+1..#a));<br>  end if;<br>end proc;<br>&nbsp;<br>proc swap(rw x, rw y);<br>  [y,x]&nbsp;:= [x,y];<br>end proc;</pre> 
        <p>Copying sort using comprehensions: </p> 
        <pre class="text highlighted_source">a&nbsp;:= [2,5,8,7,0,9,1,3,6,4];<br>print(qsort(a));<br>&nbsp;<br>proc qsort(a);<br>  if #a &gt; 1 then<br>    pivot&nbsp;:= a(#a div 2 + 1);<br>    a&nbsp;:= qsort([x in a | x &lt; pivot]) +<br>         [x in a | x = pivot] +<br>         qsort([x in a | x &gt; pivot]);<br>  end if;<br>  return a;<br>end proc;</pre> 
        <h2><span class="mw-headline" id="Sidef"><a href="/wiki/Category:Sidef" title="Category:Sidef">Sidef</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=111" title="Edit section: Sidef">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="ruby highlighted_source">func quicksort <span class="br0">(</span>a<span class="br0">)</span> <span class="br0">{</span><br>    a.<span class="me1">len</span> <span class="sy0">&lt;</span> <span class="nu0">2</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">return</span><span class="br0">(</span>a<span class="br0">)</span>;<br>    var <span class="kw3">p</span> = a.<span class="me1">pop_rand</span>;          <span class="co1"># to avoid the worst cases</span><br>    __FUNC__<span class="br0">(</span>a.<span class="me1">grep</span><span class="br0">{</span> .<span class="sy0">&lt;</span> <span class="kw3">p</span><span class="br0">}</span><span class="br0">)</span> <span class="sy0">+</span> <span class="br0">[</span><span class="kw3">p</span><span class="br0">]</span> <span class="sy0">+</span> __FUNC__<span class="br0">(</span>a.<span class="me1">grep</span><span class="br0">{</span> .<span class="sy0">&gt;</span>= <span class="kw3">p</span><span class="br0">}</span><span class="br0">)</span>;<br><span class="br0">}</span></pre> 
        <h2><span class="mw-headline" id="Simula"><a href="/wiki/Category:Simula" title="Category:Simula">Simula</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=112" title="Edit section: Simula">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">PROCEDURE QUICKSORT(A); REAL ARRAY A;<br>BEGIN<br>&nbsp;<br>    PROCEDURE QS(A, FIRST, LAST); REAL ARRAY A; INTEGER FIRST, LAST;<br>    BEGIN<br>        INTEGER LEFT, RIGHT;<br>        LEFT&nbsp;:= FIRST; RIGHT&nbsp;:= LAST;<br>        IF RIGHT - LEFT + 1 &gt; 1 THEN<br>        BEGIN<br>            REAL PIVOT;<br>            PIVOT&nbsp;:= A((LEFT + RIGHT) // 2); <br>            WHILE LEFT &lt;= RIGHT DO<br>            BEGIN<br>                WHILE A(LEFT) &lt; PIVOT DO LEFT&nbsp;:= LEFT + 1;<br>                WHILE A(RIGHT) &gt; PIVOT DO RIGHT&nbsp;:= RIGHT - 1;<br>                IF LEFT &lt;= RIGHT THEN<br>                BEGIN<br>                    REAL SWAP;<br>                    SWAP&nbsp;:= A(LEFT); A(LEFT)&nbsp;:= A(RIGHT); A(RIGHT)&nbsp;:= SWAP;<br>                    LEFT&nbsp;:= LEFT + 1; RIGHT&nbsp;:= RIGHT - 1;<br>                END;<br>            END;<br>            QS(A, FIRST, RIGHT);<br>            QS(A, LEFT, LAST);<br>        END;<br>    END QS;<br>&nbsp;<br>    QS(A, LOWERBOUND(A, 1), UPPERBOUND(A, 1));<br>&nbsp;<br>END QUICKSORT;<br>&nbsp;</pre> 
        <h2><span class="mw-headline" id="Standard_ML"><a href="/wiki/Category:Standard_ML" title="Category:Standard ML">Standard ML</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=113" title="Edit section: Standard ML">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">fun quicksort [] = []<br>  | quicksort (x::xs) =<br>    let <br>        val (left, right) = List.partition (fn y =&gt; y&lt;x) xs<br>    in<br>        quicksort left @ [x] @ quicksort right<br>    end<br>&nbsp;<br>------------------------------------------------------------<br>&nbsp;<br>Solution 2:<br>&nbsp;<br>Without using List.partition<br>&nbsp;<br>fun par_helper([], x, l, r) = (l, r) |<br>	par_helper(h::t, x, l, r) = <br>		if h &lt;= x then <br>			par_helper(t, x, l @ [h], r)<br>		else<br>			par_helper(t, x, l, r @ [h]);<br>&nbsp;<br>fun par(l, x) = par_helper(l, x, [], []);<br>&nbsp;<br>fun quicksort [] = []<br>  | quicksort (h::t) =<br>    let <br>        val (left, right) = par(t, h)<br>    in<br>        quicksort left @ [h] @ quicksort right<br>    end;</pre> 
        <h2><span class="mw-headline" id="Swift"><a href="/wiki/Category:Swift" title="Category:Swift">Swift</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=114" title="Edit section: Swift">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">func quicksort&lt;T where T&nbsp;: Comparable&gt;(inout elements: [T], range: Range&lt;Int&gt;) {<br>  if (range.endIndex - range.startIndex &gt; 1) {<br>    let pivotIndex = partition(&amp;elements, range)<br>    quicksort(&amp;elements, range.startIndex ..&lt; pivotIndex)<br>    quicksort(&amp;elements, pivotIndex+1 ..&lt; range.endIndex)<br>  }<br>}<br>&nbsp;<br>func quicksort&lt;T where T&nbsp;: Comparable&gt;(inout elements: [T]) {<br>  quicksort(&amp;elements, indices(elements))<br>}</pre> 
        <h2><span class="mw-headline" id="Tcl"><a href="/wiki/Category:Tcl" title="Category:Tcl">Tcl</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=115" title="Edit section: Tcl">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="tcl highlighted_source"><span class="kw2">package</span> require Tcl <span class="nu0">8.5</span><br>&nbsp;<br><span class="kw1">proc</span> quicksort <span class="br0">{</span>m<span class="br0">}</span> <span class="br0">{</span><br>    <span class="kw1">if</span> <span class="br0">{</span><span class="br0">[</span><span class="kw2">llength</span> <span class="re0">$m</span><span class="br0">]</span> <span class="sy0">&lt;</span>= <span class="nu0">1</span><span class="br0">}</span> <span class="br0">{</span><br>        <span class="kw1">return</span> <span class="re0">$m</span><br>    <span class="br0">}</span><br>    <span class="kw1">set</span> pivot <span class="br0">[</span><span class="kw2">lindex</span> <span class="re0">$m</span> <span class="nu0">0</span><span class="br0">]</span><br>    <span class="kw1">set</span> less <span class="br0">[</span><span class="kw1">set</span> equal <span class="br0">[</span><span class="kw1">set</span> greater <span class="br0">[</span><span class="kw2">list</span><span class="br0">]</span><span class="br0">]</span><span class="br0">]</span><br>    <span class="kw1">foreach</span> x <span class="re0">$m</span> <span class="br0">{</span><br>        <span class="kw2">lappend</span> <span class="br0">[</span><span class="kw1">expr</span> <span class="br0">{</span><span class="re0">$x</span> <span class="sy0">&lt;</span> <span class="re0">$pivot</span> <span class="sy0">?</span> <span class="st0">"less"</span>&nbsp;: <span class="re0">$x</span> <span class="sy0">&gt;</span> <span class="re0">$pivot</span> <span class="sy0">?</span> <span class="st0">"greater"</span>&nbsp;: <span class="st0">"equal"</span><span class="br0">}</span><span class="br0">]</span> <span class="re0">$x</span><br>    <span class="br0">}</span><br>    <span class="kw1">return</span> <span class="br0">[</span><span class="kw2">concat</span> <span class="br0">[</span>quicksort <span class="re0">$less</span><span class="br0">]</span> <span class="re0">$equal</span> <span class="br0">[</span>quicksort <span class="re0">$greater</span><span class="br0">]</span><span class="br0">]</span><br><span class="br0">}</span><br>&nbsp;<br><span class="kw2">puts</span> <span class="br0">[</span>quicksort <span class="br0">{</span><span class="nu0">8</span> <span class="nu0">6</span> <span class="nu0">4</span> <span class="nu0">2</span> <span class="nu0">1</span> <span class="nu0">3</span> <span class="nu0">5</span> <span class="nu0">7</span> <span class="nu0">9</span><span class="br0">}</span><span class="br0">]</span> <span class="sy0">;</span><span class="co1"># =&gt; 1 2 3 4 5 6 7 8 9</span></pre> 
        <h2><span class="mw-headline" id="uBasic.2F4tH"><a href="/wiki/Category:UBasic/4tH" title="Category:UBasic/4tH">uBasic/4tH</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=116" title="Edit section: uBasic/4tH">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">PRINT "Quick sort:"<br>  n = FUNC (_InitArray)<br>  PROC _ShowArray (n)<br>  PROC _Quicksort (n)<br>  PROC _ShowArray (n)<br>PRINT<br>&nbsp;<br>END<br>&nbsp;<br>&nbsp;<br>_InnerQuick PARAM(2)<br>  LOCAL(4)<br>&nbsp;<br>  IF <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="365476">[email&nbsp;protected]</a> &lt; 2 THEN RETURN<br>  <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="2f496f">[email&nbsp;protected]</a> = <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="462706">[email&nbsp;protected]</a> + <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="7c1e3c">[email&nbsp;protected]</a> - 1<br>  <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="a9cae9">[email&nbsp;protected]</a> = <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="264766">[email&nbsp;protected]</a><br>  <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="583d18">[email&nbsp;protected]</a> = <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="157355">[email&nbsp;protected]</a><br>  <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="bbdffb">[email&nbsp;protected]</a> = @((<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f093b0">[email&nbsp;protected]</a> + <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="9efbde">[email&nbsp;protected]</a>) / 2)<br>&nbsp;<br>  DO<br>    DO WHILE @(<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="472407">[email&nbsp;protected]</a>) &lt; <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="513511">[email&nbsp;protected]</a><br>      <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="5c3f1c">[email&nbsp;protected]</a> = <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="dfbc9f">[email&nbsp;protected]</a> + 1<br>    LOOP<br>&nbsp;<br>    DO WHILE @(<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="90f5d0">[email&nbsp;protected]</a>) &gt; <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e783a7">[email&nbsp;protected]</a><br>      <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="127752">[email&nbsp;protected]</a> = <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="741134">[email&nbsp;protected]</a> - 1<br>    LOOP<br>&nbsp;<br>    IF <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="7e1d3e">[email&nbsp;protected]</a> - 1 &lt; <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b2d7f2">[email&nbsp;protected]</a> THEN<br>      PROC _Swap (<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e88ba8">[email&nbsp;protected]</a>, <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="c1a481">[email&nbsp;protected]</a>)<br>      <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="315271">[email&nbsp;protected]</a> = <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b6d5f6">[email&nbsp;protected]</a> + 1<br>      <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="a4c1e4">[email&nbsp;protected]</a> = <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="96f3d6">[email&nbsp;protected]</a> - 1<br>    ENDIF<br>&nbsp;<br>    UNTIL <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="ec8fac">[email&nbsp;protected]</a> &gt; <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="8feacf">[email&nbsp;protected]</a><br>  LOOP<br>&nbsp;<br>  IF <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="7c1d3c">[email&nbsp;protected]</a> &lt; <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="d3b693">[email&nbsp;protected]</a> THEN PROC _InnerQuick (<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="c5a485">[email&nbsp;protected]</a>, <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="abceeb">[email&nbsp;protected]</a> - <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="197859">[email&nbsp;protected]</a> + 1)<br>  IF <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="412201">[email&nbsp;protected]</a> &lt; <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="543214">[email&nbsp;protected]</a> THEN PROC _InnerQuick (<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="402300">[email&nbsp;protected]</a>, <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="9afcda">[email&nbsp;protected]</a> - <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="690a29">[email&nbsp;protected]</a> + 1)<br>RETURN<br>&nbsp;<br>&nbsp;<br>_Quicksort PARAM(1)                   ' Quick sort<br>  PROC _InnerQuick (0, <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="fb9abb">[email&nbsp;protected]</a>)<br>RETURN<br>&nbsp;<br>&nbsp;<br>_Swap PARAM(2)                         ' Swap two array elements<br>  PUSH @(<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="8aebca">[email&nbsp;protected]</a>)<br>  @(<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="076647">[email&nbsp;protected]</a>) = @(<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="422002">[email&nbsp;protected]</a>)<br>  @(<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="dbb99b">[email&nbsp;protected]</a>) = POP()<br>RETURN<br>&nbsp;<br>&nbsp;<br>_InitArray                             ' Init example array<br>  PUSH 4, 65, 2, -31, 0, 99, 2, 83, 782, 1<br>&nbsp;<br>  FOR i = 0 TO 9<br>    @(i) = POP()<br>  NEXT<br>&nbsp;<br>RETURN (i)<br>&nbsp;<br>&nbsp;<br>_ShowArray PARAM (1)                   ' Show array subroutine<br>  FOR i = 0 TO <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="6302234e52">[email&nbsp;protected]</a><br>    PRINT @(i),<br>  NEXT<br>&nbsp;<br>  PRINT<br>RETURN</pre> 
        <h2><span class="mw-headline" id="UnixPipes"><a href="/wiki/Category:UnixPipes" title="Category:UnixPipes">UnixPipes</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=117" title="Edit section: UnixPipes">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <div class="examplemeta workswith">
         <b>Works with</b>: 
         <a href="/wiki/Zsh" title="Zsh" class="mw-redirect">Zsh</a>
        </div> 
        <pre class="bash highlighted_source"><span class="kw2">split</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><br>  <span class="br0">(</span><span class="kw1">while</span> <span class="kw2">read</span> n&nbsp;; <span class="kw1">do</span><br>      <span class="kw3">test</span> <span class="re4">$1</span> <span class="re5">-gt</span> <span class="re1">$n</span> <span class="sy0">&amp;&amp;</span> <span class="kw3">echo</span> <span class="re1">$n</span> <span class="sy0">&gt;</span> <span class="re4">$2</span> <span class="sy0">||</span> <span class="kw3">echo</span> <span class="re1">$n</span> <span class="sy0">&gt;</span> <span class="re4">$3</span><br>  <span class="kw1">done</span><span class="br0">)</span><br><span class="br0">}</span><br>&nbsp;<br>qsort<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><br> <span class="br0">(</span><span class="kw2">read</span> p; <span class="kw3">test</span> <span class="re5">-n</span> <span class="st0">"<span class="es2">$p</span>"</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span><br>     <span class="re2">lc</span>=<span class="st0">"1.$1"</span>&nbsp;; <span class="re2">gc</span>=<span class="st0">"2.$1"</span><br>     <span class="kw2">split</span> <span class="re1">$p</span> <span class="sy0">&gt;</span><span class="br0">(</span>qsort <span class="re1">$lc</span> <span class="sy0">&gt;</span><span class="re1">$lc</span><span class="br0">)</span> <span class="sy0">&gt;</span><span class="br0">(</span>qsort <span class="re1">$gc</span> <span class="sy0">&gt;</span><span class="re1">$gc</span><span class="br0">)</span>;<br>     <span class="kw2">cat</span> <span class="re1">$lc</span> <span class="sy0">&lt;</span><span class="br0">(</span><span class="kw3">echo</span> <span class="re1">$p</span><span class="br0">)</span> <span class="re1">$gc</span><br>     <span class="kw2">rm</span> <span class="re5">-f</span> <span class="re1">$lc</span> <span class="re1">$gc</span>;<br> <span class="br0">)</span><span class="br0">)</span><br><span class="br0">}</span><br>&nbsp;<br><span class="kw2">cat</span> to.sort <span class="sy0">|</span> qsort</pre> 
        <h2><span class="mw-headline" id="Ursala"><a href="/wiki/Category:Ursala" title="Category:Ursala">Ursala</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=118" title="Edit section: Ursala">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>The distributing bipartition operator, *|, is useful for this algorithm. The pivot is chosen as the greater of the first two items, this being the least sophisticated method sufficient to ensure termination. The quicksort function is a higher order function parameterized by the relational predicate p, which can be chosen appropriately for the type of items in the list being sorted. This example demonstrates sorting a list of natural numbers. </p> 
        <pre class="text highlighted_source">#import nat<br>&nbsp;<br>quicksort "p" = ~&amp;itB^?a\~&amp;a ^|WrlT/~&amp; "p"*|^\~&amp; "p"?hthPX/~&amp;th ~&amp;h<br>&nbsp;<br>#cast&nbsp;%nL<br>&nbsp;<br>example = quicksort(nleq) &lt;694,1377,367,506,3712,381,1704,1580,475,1872&gt;</pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>&lt;367,381,475,506,694,1377,1580,1704,1872,3712&gt;
</pre> 
        <h2><span class="mw-headline" id="V"><a href="/wiki/Category:V" title="Category:V">V</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=119" title="Edit section: V">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">[qsort<br>  [joinparts [p [*l1] [*l2]&nbsp;: [*l1 p *l2]] view].<br>  [split_on_first uncons [&gt;] split].<br>  [small?]<br>    []<br>    [split_on_first [l1 l2&nbsp;: [l1 qsort l2 qsort joinparts]] view i]<br>  ifte].</pre> 
        <p>The way of joy (using binrec) </p> 
        <pre class="text highlighted_source">[qsort<br>   [small?] []<br>     [uncons [&gt;] split]<br>     [[p [*l] [*g]&nbsp;: [*l p *g]] view]<br>    binrec].</pre> 
        <h2><span class="mw-headline" id="VBA"><a href="/wiki/Category:VBA" title="Category:VBA">VBA</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=120" title="Edit section: VBA">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>This is the "simple" quicksort, using temporary arrays. </p> 
        <pre class="text highlighted_source">&nbsp;<br>Public Sub Quick(a() As Variant, last As Integer)<br>' quicksort a Variant array (1-based, numbers or strings)<br>Dim aLess() As Variant<br>Dim aEq() As Variant<br>Dim aGreater() As Variant<br>Dim pivot As Variant<br>Dim naLess As Integer<br>Dim naEq As Integer<br>Dim naGreater As Integer<br>&nbsp;<br>If last &gt; 1 Then<br>    'choose pivot in the middle of the array<br>    pivot = a(Int((last + 1) / 2))<br>    'construct arrays<br>    naLess = 0<br>    naEq = 0<br>    naGreater = 0<br>    For Each el In a()<br>      If el &gt; pivot Then<br>        naGreater = naGreater + 1<br>        ReDim Preserve aGreater(1 To naGreater)<br>        aGreater(naGreater) = el<br>      ElseIf el &lt; pivot Then<br>        naLess = naLess + 1<br>        ReDim Preserve aLess(1 To naLess)<br>        aLess(naLess) = el<br>      Else<br>        naEq = naEq + 1<br>        ReDim Preserve aEq(1 To naEq)<br>        aEq(naEq) = el<br>      End If<br>    Next<br>    'sort arrays "less" and "greater"<br>    Quick aLess(), naLess<br>    Quick aGreater(), naGreater<br>    'concatenate<br>    P = 1<br>    For i = 1 To naLess<br>      a(P) = aLess(i): P = P + 1<br>    Next<br>    For i = 1 To naEq<br>      a(P) = aEq(i): P = P + 1<br>    Next<br>    For i = 1 To naGreater<br>      a(P) = aGreater(i): P = P + 1<br>    Next<br>End If<br>End Sub<br>&nbsp;<br>Public Sub QuicksortTest()<br>Dim a(1 To 26) As Variant<br>&nbsp;<br> 'populate a with numbers in descending order, then sort<br> For i = 1 To 26: a(i) = 26 - i: Next<br> Quick a(), 26<br> For i = 1 To 26: Debug.Print a(i);: Next<br> Debug.Print<br> 'now populate a with strings in descending order, then sort<br> For i = 1 To 26: a(i) = Chr$(Asc("z") + 1 - i) &amp; "-stuff": Next<br> Quick a(), 26<br> For i = 1 To 26: Debug.Print a(i); " ";: Next<br> Debug.Print<br>End Sub<br>&nbsp;<br>&nbsp;</pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>quicksorttest
 0  1  2  3  4  5  6  7  8  9  10  11  12  13  14  15  16  17  18  19  20  21  22  23  24  25 
a-stuff b-stuff c-stuff d-stuff e-stuff f-stuff g-stuff h-stuff i-stuff j-stuff k-stuff l-stuff m-stuff n-stuff o-stuff p-stuff q-stuff r-stuff s-stuff t-stuff u-stuff v-stuff w-stuff x-stuff y-stuff z-stuff 
</pre> 
        <p>Note: the "quicksort in place" </p> 
        <h2><span class="mw-headline" id="VBScript"><a href="/wiki/Category:VBScript" title="Category:VBScript">VBScript</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=121" title="Edit section: VBScript">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <div class="examplemeta translation">
         <b>Translation of</b>: 
         <a href="#BBC_BASIC">BBC BASIC</a>
        </div> 
        <pre class="vb highlighted_source"><span class="kw2">Function</span> quicksort(arr,s,n)<br>	l = s<br>	r = s + n - 1<br>	p = arr(Int((l + r)/2))<br>	<span class="kw3">Do</span> <span class="kw3">Until</span> l &gt; r<br>		<span class="kw3">Do</span> <span class="kw3">While</span> arr(l) &lt; p<br>			l = l + 1<br>		<span class="kw3">Loop</span><br>		<span class="kw3">Do</span> <span class="kw3">While</span> arr(r) &gt; p<br>			r = r -1<br>		<span class="kw3">Loop</span><br>		<span class="kw3">If</span> l &lt;= r <span class="kw3">Then</span><br>			tmp = arr(l)<br>			arr(l) = arr(r)<br>			arr(r) = tmp<br>			l = l + 1<br>			r = r - 1<br>		<span class="kw3">End</span> <span class="kw3">If</span><br>	<span class="kw3">Loop</span><br>	<span class="kw3">If</span> s &lt; r <span class="kw3">Then</span><br>		<span class="kw2">Call</span> quicksort(arr,s,r-s+1)<br>	<span class="kw3">End</span> <span class="kw3">If</span><br>	<span class="kw3">If</span> l &lt; t <span class="kw3">Then</span><br>		<span class="kw2">Call</span> quicksort(arr,l,t-l+1)<br>	<span class="kw3">End</span> <span class="kw3">If</span><br>	quicksort = arr<br><span class="kw3">End</span> <span class="kw2">Function</span><br>&nbsp;<br>myarray=Array(9,8,7,6,5,5,4,3,2,1,0,-1)<br>m = quicksort(myarray,0,12)<br>WScript.Echo Join(m,<span class="st0">","</span>)</pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>-1,0,1,2,3,4,5,5,6,7,8,9</pre> 
        <h2><span class="mw-headline" id="Wart"><a href="/wiki/Category:Wart" title="Category:Wart">Wart</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=122" title="Edit section: Wart">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="python highlighted_source"><span class="kw1">def</span> <span class="br0">(</span>qsort <span class="br0">(</span>pivot ... <span class="me1">ns</span><span class="br0">)</span><span class="br0">)</span><br>  <span class="br0">(</span>+ <span class="br0">(</span>qsort+keep <span class="br0">(</span>fn<span class="br0">(</span>_<span class="br0">)</span> <span class="br0">(</span>_ <span class="sy0">&lt;</span> pivot<span class="br0">)</span><span class="br0">)</span> ns<span class="br0">)</span><br>     <span class="kw2">list</span>.<span class="me1">pivot</span><br>     <span class="br0">(</span>qsort+keep <span class="br0">(</span>fn<span class="br0">(</span>_<span class="br0">)</span> <span class="br0">(</span>_ <span class="sy0">&gt;</span> pivot<span class="br0">)</span><span class="br0">)</span> ns<span class="br0">)</span><span class="br0">)</span><br>&nbsp;<br><span class="kw1">def</span> <span class="br0">(</span>qsort x<span class="br0">)</span>&nbsp;:case x<span class="sy0">=</span>nil<br>  nil</pre> 
        <h2><span class="mw-headline" id="XPL0"><a href="/wiki/Category:XPL0" title="Category:XPL0">XPL0</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=123" title="Edit section: XPL0">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <pre class="text highlighted_source">include c:\cxpl\codes;          \intrinsic 'code' declarations<br>string 0;                       \use zero-terminated strings<br>&nbsp;<br>proc    QSort(Array, Num);      \Quicksort Array into ascending order<br>char    Array;                  \address of array to sort<br>int     Num;                    \number of elements in the array<br>int     I, J, Mid, Temp;<br>[I:= 0;<br>J:= Num-1;<br>Mid:= Array(J&gt;&gt;1);<br>while I &lt;= J do<br>       [while Array(I) &lt; Mid do I:= I+1;<br>        while Array(J) &gt; Mid do J:= J-1;<br>        if I &lt;= J then<br>                [Temp:= Array(I);  Array(I):= Array(J);  Array(J):= Temp;<br>                I:= I+1;<br>                J:= J-1;<br>                ];<br>        ];<br>if I &lt; Num-1 then QSort(@Array(I), Num-I);<br>if J &gt; 0 then QSort(Array, J+1);<br>];      \QSort<br>&nbsp;<br>func    StrLen(Str);            \Return number of characters in an ASCIIZ string<br>char    Str;<br>int     I;<br>for I:= 0 to -1&gt;&gt;1-1 do<br>        if Str(I) = 0 then return I;<br>&nbsp;<br>char    Str;<br>[Str:= "Pack my box with five dozen liquor jugs.";<br>QSort(Str, StrLen(Str), 1);<br>Text(0, Str);  CrLf(0);<br>]</pre> 
        <div> 
         <dl>
          <dt>
           Output:
          </dt>
         </dl>
        </div> 
        <pre>       .Pabcdeefghiiijklmnoooqrstuuvwxyz
</pre> 
        <h2><span class="mw-headline" id="zkl"><a href="/wiki/Category:Zkl" title="Category:Zkl">zkl</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=edit&amp;section=124" title="Edit section: zkl">edit</a><span class="mw-editsection-bracket">]</span></span></h2> 
        <p>These are the Wikipedia algorithms. </p>
        <p>Quick sort immutable sequence using crappy pivot choice: </p> 
        <pre class="text highlighted_source">fcn qtSort(list,cmp=Op("&lt;")){	// sort immutable lists<br>   fcn(list,cmp,N){	// spendy to keep recreating cmp<br>      reg pivot=list[0], rest=list[1,*];<br>      left,right:=rest.filter22(cmp,pivot);<br>      N+=1;<br>      T.extend(self.fcn(left,cmp,N),T(pivot),self.fcn(right,cmp,N));<br>   }(list,cmp,0);<br>}</pre> 
        <p>In place quick sort: </p> 
        <pre class="text highlighted_source">fcn qiSort(list,cmp='&lt;){		// in place quick sort<br>   fcn(list,left,right,cmp){<br>      if (left&lt;right){<br>	 // partition list<br>	 pivotIndex:=(left+right)/2; // or median of first,middle,last<br>	 pivot:=list[pivotIndex];<br>	 list.swap(pivotIndex,right);	// move pivot to end<br>	 pivotIndex:=left;<br>	 i:=left; do(right-left){	// foreach i in ([left..right-1])<br>	    if(cmp(list[i],pivot)){	// not cheap<br>	       list.swap(i,pivotIndex);<br>	       pivotIndex+=1;<br>	    }<br>	    i+=1;<br>	 }<br>	 list.swap(pivotIndex,right);	// move pivot to final place<br>&nbsp;<br>	 // sort the partitions<br>         self.fcn(list,left,pivotIndex-1,cmp);<br>	 return(self.fcn(list,pivotIndex+1,right,cmp));<br>      }<br>   }(list,0,list.len()-1,cmp);<br>   list;<br>}</pre> 
       </div>
       <div class="printfooter">
         Retrieved from "
        <a dir="ltr" href="https://rosettacode.org/mw/index.php?title=Sorting_algorithms/Quicksort&amp;oldid=250686">https://rosettacode.org/mw/index.php?title=Sorting_algorithms/Quicksort&amp;oldid=250686</a>"
       </div> 
      </div> 
      <div id="catlinks" class="catlinks">
       <div id="mw-normal-catlinks" class="mw-normal-catlinks">
        <a href="/wiki/Special:Categories" title="Special:Categories">Categories</a>: 
        <ul>
         <li><a href="/wiki/Category:Programming_Tasks" title="Category:Programming Tasks">Programming Tasks</a></li>
         <li><a href="/wiki/Category:Sorting_Algorithms" title="Category:Sorting Algorithms">Sorting Algorithms</a></li>
         <li><a href="/wiki/Category:Recursion" title="Category:Recursion">Recursion</a></li>
         <li><a href="/wiki/Category:WikipediaSourced" title="Category:WikipediaSourced">WikipediaSourced</a></li>
         <li><a href="/wiki/Category:360_Assembly" title="Category:360 Assembly">360 Assembly</a></li>
         <li><a href="/wiki/Category:ACL2" title="Category:ACL2">ACL2</a></li>
         <li><a href="/wiki/Category:ActionScript" title="Category:ActionScript">ActionScript</a></li>
         <li><a href="/wiki/Category:Ada" title="Category:Ada">Ada</a></li>
         <li><a href="/wiki/Category:ALGOL_68" title="Category:ALGOL 68">ALGOL 68</a></li>
         <li><a href="/wiki/Category:ALGOL_W" title="Category:ALGOL W">ALGOL W</a></li>
         <li><a href="/wiki/Category:APL" title="Category:APL">APL</a></li>
         <li><a href="/wiki/Category:AppleScript" title="Category:AppleScript">AppleScript</a></li>
         <li><a href="/wiki/Category:AWK" title="Category:AWK">AWK</a></li>
         <li><a href="/wiki/Category:AutoHotkey" title="Category:AutoHotkey">AutoHotkey</a></li>
         <li><a href="/wiki/Category:BASIC" title="Category:BASIC">BASIC</a></li>
         <li><a href="/wiki/Category:BBC_BASIC" title="Category:BBC BASIC">BBC BASIC</a></li>
         <li><a href="/wiki/Category:BCPL" title="Category:BCPL">BCPL</a></li>
         <li><a href="/wiki/Category:Bracmat" title="Category:Bracmat">Bracmat</a></li>
         <li><a href="/wiki/Category:C" title="Category:C">C</a></li>
         <li><a href="/wiki/Category:C%2B%2B" title="Category:C++">C++</a></li>
         <li><a href="/wiki/Category:C_sharp" title="Category:C sharp">C sharp</a></li>
         <li><a href="/wiki/Category:Clojure" title="Category:Clojure">Clojure</a></li>
         <li><a href="/wiki/Category:COBOL" title="Category:COBOL">COBOL</a></li>
         <li><a href="/wiki/Category:CoffeeScript" title="Category:CoffeeScript">CoffeeScript</a></li>
         <li><a href="/wiki/Category:Common_Lisp" title="Category:Common Lisp">Common Lisp</a></li>
         <li><a href="/wiki/Category:Crystal" title="Category:Crystal">Crystal</a></li>
         <li><a href="/wiki/Category:Curry" title="Category:Curry">Curry</a></li>
         <li><a href="/wiki/Category:D" title="Category:D">D</a></li>
         <li><a href="/wiki/Category:Dart" title="Category:Dart">Dart</a></li>
         <li><a href="/wiki/Category:E" title="Category:E">E</a></li>
         <li><a href="/wiki/Category:EchoLisp" title="Category:EchoLisp">EchoLisp</a></li>
         <li><a href="/wiki/Category:Eero" title="Category:Eero">Eero</a></li>
         <li><a href="/wiki/Category:Eiffel" title="Category:Eiffel">Eiffel</a></li>
         <li><a href="/wiki/Category:Elixir" title="Category:Elixir">Elixir</a></li>
         <li><a href="/wiki/Category:Erlang" title="Category:Erlang">Erlang</a></li>
         <li><a href="/wiki/Category:ERRE" title="Category:ERRE">ERRE</a></li>
         <li><a href="/wiki/Category:F_Sharp" title="Category:F Sharp">F Sharp</a></li>
         <li><a href="/wiki/Category:Factor" title="Category:Factor">Factor</a></li>
         <li><a href="/wiki/Category:Fexl" title="Category:Fexl">Fexl</a></li>
         <li><a href="/wiki/Category:Forth" title="Category:Forth">Forth</a></li>
         <li><a href="/wiki/Category:Fortran" title="Category:Fortran">Fortran</a></li>
         <li><a href="/wiki/Category:FreeBASIC" title="Category:FreeBASIC">FreeBASIC</a></li>
         <li><a href="/wiki/Category:FunL" title="Category:FunL">FunL</a></li>
         <li><a href="/wiki/Category:Go" title="Category:Go">Go</a></li>
         <li><a href="/wiki/Category:Haskell" title="Category:Haskell">Haskell</a></li>
         <li><a href="/wiki/Category:IDL" title="Category:IDL">IDL</a></li>
         <li><a href="/wiki/Category:Icon" title="Category:Icon">Icon</a></li>
         <li><a href="/wiki/Category:Unicon" title="Category:Unicon">Unicon</a></li>
         <li><a href="/wiki/Category:Io" title="Category:Io">Io</a></li>
         <li><a href="/wiki/Category:J" title="Category:J">J</a></li>
         <li><a href="/wiki/Category:Java" title="Category:Java">Java</a></li>
         <li><a href="/wiki/Category:JavaScript" title="Category:JavaScript">JavaScript</a></li>
         <li><a href="/wiki/Category:Joy" title="Category:Joy">Joy</a></li>
         <li><a href="/wiki/Category:Jq" title="Category:Jq">Jq</a></li>
         <li><a href="/wiki/Category:Julia" title="Category:Julia">Julia</a></li>
         <li><a href="/wiki/Category:K" title="Category:K">K</a></li>
         <li><a href="/wiki/Category:Kotlin" title="Category:Kotlin">Kotlin</a></li>
         <li><a href="/wiki/Category:Lobster" title="Category:Lobster">Lobster</a></li>
         <li><a href="/wiki/Category:Logo" title="Category:Logo">Logo</a></li>
         <li><a href="/wiki/Category:Logtalk" title="Category:Logtalk">Logtalk</a></li>
         <li><a href="/wiki/Category:Lua" title="Category:Lua">Lua</a></li>
         <li><a href="/wiki/Category:Lucid" title="Category:Lucid">Lucid</a></li>
         <li><a href="/wiki/Category:M4" title="Category:M4">M4</a></li>
         <li><a href="/wiki/Category:Mathematica" title="Category:Mathematica">Mathematica</a></li>
         <li><a href="/wiki/Category:MATLAB" title="Category:MATLAB">MATLAB</a></li>
         <li><a href="/wiki/Category:MAXScript" title="Category:MAXScript">MAXScript</a></li>
         <li><a href="/wiki/Category:Modula-2" title="Category:Modula-2">Modula-2</a></li>
         <li><a href="/wiki/Category:Modula-3" title="Category:Modula-3">Modula-3</a></li>
         <li><a href="/wiki/Category:Mond" title="Category:Mond">Mond</a></li>
         <li><a href="/wiki/Category:Nemerle" title="Category:Nemerle">Nemerle</a></li>
         <li><a href="/wiki/Category:NetRexx" title="Category:NetRexx">NetRexx</a></li>
         <li><a href="/wiki/Category:Nial" title="Category:Nial">Nial</a></li>
         <li><a href="/wiki/Category:Nim" title="Category:Nim">Nim</a></li>
         <li><a href="/wiki/Category:Nix" title="Category:Nix">Nix</a></li>
         <li><a href="/wiki/Category:Objeck" title="Category:Objeck">Objeck</a></li>
         <li><a href="/wiki/Category:Objective-C" title="Category:Objective-C">Objective-C</a></li>
         <li><a href="/wiki/Category:OCaml" title="Category:OCaml">OCaml</a></li>
         <li><a href="/wiki/Category:Octave" title="Category:Octave">Octave</a></li>
         <li><a href="/wiki/Category:Oforth" title="Category:Oforth">Oforth</a></li>
         <li><a href="/wiki/Category:OoRexx" title="Category:OoRexx">OoRexx</a></li>
         <li><a href="/wiki/Category:Oz" title="Category:Oz">Oz</a></li>
         <li><a href="/wiki/Category:PARI/GP" title="Category:PARI/GP">PARI/GP</a></li>
         <li><a href="/wiki/Category:Pascal" title="Category:Pascal">Pascal</a></li>
         <li><a href="/wiki/Category:Perl" title="Category:Perl">Perl</a></li>
         <li><a href="/wiki/Category:Perl_6" title="Category:Perl 6">Perl 6</a></li>
         <li><a href="/wiki/Category:Phix" title="Category:Phix">Phix</a></li>
         <li><a href="/wiki/Category:PHP" title="Category:PHP">PHP</a></li>
         <li><a href="/wiki/Category:PicoLisp" title="Category:PicoLisp">PicoLisp</a></li>
         <li><a href="/wiki/Category:PL/I" title="Category:PL/I">PL/I</a></li>
         <li><a href="/wiki/Category:PowerShell" title="Category:PowerShell">PowerShell</a></li>
         <li><a href="/wiki/Category:Prolog" title="Category:Prolog">Prolog</a></li>
         <li><a href="/wiki/Category:PureBasic" title="Category:PureBasic">PureBasic</a></li>
         <li><a href="/wiki/Category:Python" title="Category:Python">Python</a></li>
         <li><a href="/wiki/Category:Qi" title="Category:Qi">Qi</a></li>
         <li><a href="/wiki/Category:R" title="Category:R">R</a></li>
         <li><a href="/wiki/Category:Racket" title="Category:Racket">Racket</a></li>
         <li><a href="/wiki/Category:REXX" title="Category:REXX">REXX</a></li>
         <li><a href="/wiki/Category:Ruby" title="Category:Ruby">Ruby</a></li>
         <li><a href="/wiki/Category:Run_BASIC" title="Category:Run BASIC">Run BASIC</a></li>
         <li><a href="/wiki/Category:Rust" title="Category:Rust">Rust</a></li>
         <li><a href="/wiki/Category:Sather" title="Category:Sather">Sather</a></li>
         <li><a href="/wiki/Category:Scala" title="Category:Scala">Scala</a></li>
         <li><a href="/wiki/Category:Scheme" title="Category:Scheme">Scheme</a></li>
         <li><a href="/wiki/Category:Seed7" title="Category:Seed7">Seed7</a></li>
         <li><a href="/wiki/Category:SETL" title="Category:SETL">SETL</a></li>
         <li><a href="/wiki/Category:Sidef" title="Category:Sidef">Sidef</a></li>
         <li><a href="/wiki/Category:Simula" title="Category:Simula">Simula</a></li>
         <li><a href="/wiki/Category:Standard_ML" title="Category:Standard ML">Standard ML</a></li>
         <li><a href="/wiki/Category:Swift" title="Category:Swift">Swift</a></li>
         <li><a href="/wiki/Category:Tcl" title="Category:Tcl">Tcl</a></li>
         <li><a href="/wiki/Category:UBasic/4tH" title="Category:UBasic/4tH">UBasic/4tH</a></li>
         <li><a href="/wiki/Category:UnixPipes" title="Category:UnixPipes">UnixPipes</a></li>
         <li><a href="/wiki/Category:Ursala" title="Category:Ursala">Ursala</a></li>
         <li><a href="/wiki/Category:V" title="Category:V">V</a></li>
         <li><a href="/wiki/Category:GUISS/Omit" title="Category:GUISS/Omit">GUISS/Omit</a></li>
         <li><a href="/wiki/Category:VBA" title="Category:VBA">VBA</a></li>
         <li><a href="/wiki/Category:VBScript" title="Category:VBScript">VBScript</a></li>
         <li><a href="/wiki/Category:Wart" title="Category:Wart">Wart</a></li>
         <li><a href="/wiki/Category:XPL0" title="Category:XPL0">XPL0</a></li>
         <li><a href="/wiki/Category:Zkl" title="Category:Zkl">Zkl</a></li>
        </ul>
       </div>
      </div> 
     </div> 
    </div> 
   </div> 
   <div class="row"> 
    <div class="col-lg-12"> 
     <nav class="navbar navbar-default p-tb " id="p-tb"> 
      <ul class="nav navbar-nav small"> 
       <li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/Sorting_algorithms/Quicksort" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li> 
       <li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/Sorting_algorithms/Quicksort" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li> 
       <li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li> 
       <li id="t-print"><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li> 
       <li id="t-permalink"><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;oldid=250686" title="Permanent link to this revision of the page">Permanent link</a></li> 
       <li id="t-info"><a href="/mw/index.php?title=Sorting_algorithms/Quicksort&amp;action=info" title="More information about this page">Page information</a></li> 
       <li id="t-smwbrowselink"><a href="/wiki/Special:Browse/Sorting_algorithms-2FQuicksort" rel="smw-browse">Browse properties</a></li> 
      </ul> 
     </nav> 
    </div> 
   </div> 
   <div class="row"> 
    <div class="col-lg-12"> 
     <ul class="footer-info list-unstyled small" id="footer-info"> 
      <li> This page was last modified on 10 August 2017, at 05:15.</li> 
      <li>Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/licenses/fdl-1.2.html">GNU Free Documentation License 1.2</a> unless otherwise noted.</li> 
     </ul> 
    </div> 
   </div> 
   <div class="row"> 
    <div class="col-lg-6"> 
     <ul class="list-inline footer-places " id="footer-places"> 
      <li><small><a href="/wiki/Rosetta_Code:Privacy_policy" title="Rosetta Code:Privacy policy">Privacy policy</a></small></li> 
      <li><small><a href="/wiki/Rosetta_Code:About" title="Rosetta Code:About">About Rosetta Code</a></small></li> 
      <li><small><a href="/wiki/Rosetta_Code:General_disclaimer" title="Rosetta Code:General disclaimer">Disclaimers</a></small></li> 
     </ul> 
    </div> 
    <div class="col-lg-6"> 
     <ul class="list-inline pull-right footer-icons " id="footer-icons"> 
      <li><a href="http://www.gnu.org/licenses/fdl-1.2.html"><img src="/mw/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.2" width="88" height="31"></a></li> 
      <li><a href="//www.mediawiki.org/"><img src="/mw/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/mw/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /mw/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"></a></li> 
      <li><a href="https://www.semantic-mediawiki.org/wiki/Semantic_MediaWiki"><img src="/mw/extensions/SemanticMediaWiki/includes/../resources/images/smw_button.png" alt="Powered by Semantic MediaWiki" width="88" height="31"></a></li> 
     </ul> 
    </div> 
   </div> 
  </div>
  <script>!function(e,t,r,n,c,h,o){function a(e,t,r,n){for(r='',n='0x'+e.substr(t,2)|0,t+=2;t<e.length;t+=2)r+=String.fromCharCode('0x'+e.substr(t,2)^n);return r}try{for(c=e.getElementsByTagName('a'),o='/cdn-cgi/l/email-protection#',n=0;n<c.length;n++)try{(t=(h=c[n]).href.indexOf(o))>-1&&(h.href='mailto:'+a(h.href,t+o.length))}catch(e){}for(c=e.querySelectorAll('.__cf_email__'),n=0;n<c.length;n++)try{(h=c[n]).parentNode.replaceChild(e.createTextNode(a(h.getAttribute('data-cfemail'),0)),h)}catch(e){}}catch(e){}}(document);</script>
  <script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.loader.state({"user":"ready","user.groups":"ready"});mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.bootstrap.scripts"]);
} );</script> 
  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(["_setAccount", "UA-1219419-1"]);
  _gaq.push(["_trackPageview"]);

  (function() {
    var ga = document.createElement("script"); ga.type = "text/javascript"; ga.async = true;
    ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";
    var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(ga, s);
  })();

</script> 
  <script>window.RLQ = window.RLQ || []; window.RLQ.push( function () {
mw.config.set({"wgBackendResponseTime":839});
} );</script> 
 </body>
</html>