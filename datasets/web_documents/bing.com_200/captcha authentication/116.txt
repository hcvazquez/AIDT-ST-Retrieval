<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml" xmlns:b="http://www.google.com/2005/gml/b" xmlns:data="http://www.google.com/2005/gml/data" xmlns:expr="http://www.google.com/2005/gml/expr">
 <head> 
  <link href="https://www.blogger.com/static/v1/widgets/3730162741-widget_css_bundle.css" rel="stylesheet" type="text/css"> 
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> 
  <meta content="blogger" name="generator"> 
  <link href="http://thelabdude.blogspot.com.ar/favicon.ico" rel="icon" type="image/x-icon"> 
  <link href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html" rel="canonical"> 
  <link rel="alternate" type="application/atom+xml" title="thelabdude - Atom" href="http://thelabdude.blogspot.com/feeds/posts/default"> 
  <link rel="alternate" type="application/rss+xml" title="thelabdude - RSS" href="http://thelabdude.blogspot.com/feeds/posts/default?alt=rss"> 
  <link rel="service.post" type="application/atom+xml" title="thelabdude - Atom" href="https://www.blogger.com/feeds/6666528949054177156/posts/default"> 
  <link rel="alternate" type="application/atom+xml" title="thelabdude - Atom" href="http://thelabdude.blogspot.com/feeds/6473217683954305768/comments/default"> 
  <!--Can't find substitution for tag [blog.ieCssRetrofitLinks]--> 
  <link href="http://vinwiki.com/thelabdude/jsf_rf_seam_user_reg/site.png" rel="image_src"> 
  <meta content="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html" property="og:url"> 
  <meta content="User authentication / registration with JSF / RichFaces, Spring, and Hibernate" property="og:title"> 
  <meta content=" In this article, I show you how to implement a Web 2.0-style user registration solution using JSF/RichFaces, Spring, and Hibernate. This ar..." property="og:description"> 
  <meta content="https://lh5.googleusercontent.com/proxy/JoHzS_FBlMgmCbCWbjxlAVBucBdrw8CJ5Z2MPXa2YHkiuFq0de9-fS9ba30yt4vTy7mxz0D0tfkIsyBo43mLlh67Czy8XT3BLcrabHKg7w=w1200-h630-p-k-no-nu" property="og:image"> 
  <!--[if IE]> <script> (function() { var html5 = ("abbr,article,aside,audio,canvas,datalist,details," + "figure,footer,header,hgroup,mark,menu,meter,nav,output," + "progress,section,time,video").split(','); for (var i = 0; i < html5.length; i++) { document.createElement(html5[i]); } try { document.execCommand('BackgroundImageCache', false, true); } catch(e) {} })(); </script> <![endif]--> 
  <title>thelabdude: User authentication / registration with JSF / RichFaces, Spring, and Hibernate</title> 
  <style id="page-skin-1" type="text/css"><!--
/*
-----------------------------------------------
Blogger Template Style
Name:     Minima
Designer: Douglas Bowman
URL:      www.stopdesign.com
Date:     26 Feb 2004
Updated by: Blogger Team
----------------------------------------------- */
/* Variable definitions
====================
<Variable name="bgcolor" description="Page Background Color"
type="color" default="#fff">
<Variable name="textcolor" description="Text Color"
type="color" default="#333">
<Variable name="linkcolor" description="Link Color"
type="color" default="#58a">
<Variable name="pagetitlecolor" description="Blog Title Color"
type="color" default="#666">
<Variable name="descriptioncolor" description="Blog Description Color"
type="color" default="#999">
<Variable name="titlecolor" description="Post Title Color"
type="color" default="#c60">
<Variable name="bordercolor" description="Border Color"
type="color" default="#ccc">
<Variable name="sidebarcolor" description="Sidebar Title Color"
type="color" default="#999">
<Variable name="sidebartextcolor" description="Sidebar Text Color"
type="color" default="#666">
<Variable name="visitedlinkcolor" description="Visited Link Color"
type="color" default="#999">
<Variable name="bodyfont" description="Text Font"
type="font" default="normal normal 100% Georgia, Serif">
<Variable name="headerfont" description="Sidebar Title Font"
type="font"
default="normal normal 78% 'Trebuchet MS',Trebuchet,Arial,Verdana,Sans-serif">
<Variable name="pagetitlefont" description="Blog Title Font"
type="font"
default="normal normal 200% Georgia, Serif">
<Variable name="descriptionfont" description="Blog Description Font"
type="font"
default="normal normal 78% 'Trebuchet MS', Trebuchet, Arial, Verdana, Sans-serif">
<Variable name="postfooterfont" description="Post Footer Font"
type="font"
default="normal normal 78% 'Trebuchet MS', Trebuchet, Arial, Verdana, Sans-serif">
<Variable name="startSide" description="Side where text starts in blog language"
type="automatic" default="left">
<Variable name="endSide" description="Side where text ends in blog language"
type="automatic" default="right">
*/
/* Use this with templates/template-twocol.html */
body {
background:#ffffff;
margin:0;
color:#333333;
font:x-small Georgia Serif;
font-size/* */:/**/small;
font-size: /**/small;
text-align: center;
}
a:link {
color:#5588aa;
text-decoration:none;
}
a:visited {
color:#999999;
text-decoration:none;
}
a:hover {
color:#cc6600;
text-decoration:underline;
}
a img {
border-width:0;
}
/* Header
-----------------------------------------------
*/
#header-wrapper {
width:800px;
margin:0 auto 10px;
border:1px solid #cccccc;
}
#header-inner {
background-position: center;
margin-left: auto;
margin-right: auto;
}
#header {
margin: 5px;
border: 1px solid #cccccc;
text-align: center;
color:#666666;
}
#header h1 {
margin:5px 5px 0;
padding:15px 20px .25em;
line-height:1.2em;
text-transform:uppercase;
letter-spacing:.2em;
font: normal normal 200% Georgia, Serif;
}
#header a {
color:#666666;
text-decoration:none;
}
#header a:hover {
color:#666666;
}
#header .description {
margin:0 5px 5px;
padding:0 20px 15px;
max-width:700px;
text-transform:uppercase;
letter-spacing:.2em;
line-height: 1.4em;
font: normal normal 78% 'Trebuchet MS', Trebuchet, Arial, Verdana, Sans-serif;
color: #999999;
}
#header img {
margin-left: auto;
margin-right: auto;
}
/* Outer-Wrapper
----------------------------------------------- */
#outer-wrapper {
width: 800px;
margin:0 auto;
padding:10px;
text-align:left;
font: normal normal 100% Georgia, Serif;
}
#main-wrapper {
width: 800px;
float: left;
word-wrap: break-word; /* fix for long text breaking sidebar float in IE */
overflow: hidden;     /* fix for long non-text content breaking IE sidebar float */
}
#sidebar-wrapper {
width: 220px;
float: right;
word-wrap: break-word; /* fix for long text breaking sidebar float in IE */
overflow: hidden;      /* fix for long non-text content breaking IE sidebar float */
}
/* Headings
----------------------------------------------- */
h2 {
margin:1.5em 0 .75em;
font:normal normal 78% 'Trebuchet MS',Trebuchet,Arial,Verdana,Sans-serif;
line-height: 1.4em;
text-transform:uppercase;
letter-spacing:.2em;
color:#999999;
}
/* Posts
-----------------------------------------------
*/
h2.date-header {
margin:1.5em 0 .5em;
}
.post {
margin:.5em 0 1.5em;
border-bottom:1px dotted #cccccc;
padding-bottom:1.5em;
}
.post h3 {
margin:.25em 0 0;
padding:0 0 4px;
font-size:140%;
font-weight:normal;
line-height:1.4em;
color:#cc6600;
}
.post h3 a, .post h3 a:visited, .post h3 strong {
display:block;
text-decoration:none;
color:#cc6600;
font-weight:normal;
}
.post h3 strong, .post h3 a:hover {
color:#333333;
}
.post-body {
margin:0 0 .75em;
line-height:1.6em;
}
.post-body blockquote {
line-height:1.3em;
}
.post-footer {
margin: .75em 0;
color:#999999;
text-transform:uppercase;
letter-spacing:.1em;
font: normal normal 78% 'Trebuchet MS', Trebuchet, Arial, Verdana, Sans-serif;
line-height: 1.4em;
}
.comment-link {
margin-left:.6em;
}
.post img {
padding:4px;
border:1px solid #cccccc;
}
.post blockquote {
margin:1em 20px;
}
.post blockquote p {
margin:.75em 0;
}
/* Comments
----------------------------------------------- */
#comments h4 {
margin:1em 0;
font-weight: bold;
line-height: 1.4em;
text-transform:uppercase;
letter-spacing:.2em;
color: #999999;
}
#comments-block {
margin:1em 0 1.5em;
line-height:1.6em;
}
#comments-block .comment-author {
margin:.5em 0;
}
#comments-block .comment-body {
margin:.25em 0 0;
}
#comments-block .comment-footer {
margin:-.25em 0 2em;
line-height: 1.4em;
text-transform:uppercase;
letter-spacing:.1em;
}
#comments-block .comment-body p {
margin:0 0 .75em;
}
.deleted-comment {
font-style:italic;
color:gray;
}
#blog-pager-newer-link {
float: left;
}
#blog-pager-older-link {
float: right;
}
#blog-pager {
text-align: center;
}
.feed-links {
clear: both;
line-height: 2.5em;
}
/* Sidebar Content
----------------------------------------------- */
.sidebar {
color: #666666;
line-height: 1.5em;
}
.sidebar ul {
list-style:none;
margin:0 0 0;
padding:0 0 0;
}
.sidebar li {
margin:0;
padding-top:0;
padding-right:0;
padding-bottom:.25em;
padding-left:15px;
text-indent:-15px;
line-height:1.5em;
}
.sidebar .widget, .main .widget {
border-bottom:1px dotted #cccccc;
margin:0 0 1.5em;
padding:0 0 1.5em;
}
.main .Blog {
border-bottom-width: 0;
}
/* Profile
----------------------------------------------- */
.profile-img {
float: left;
margin-top: 0;
margin-right: 5px;
margin-bottom: 5px;
margin-left: 0;
padding: 4px;
border: 1px solid #cccccc;
}
.profile-data {
margin:0;
text-transform:uppercase;
letter-spacing:.1em;
font: normal normal 78% 'Trebuchet MS', Trebuchet, Arial, Verdana, Sans-serif;
color: #999999;
font-weight: bold;
line-height: 1.6em;
}
.profile-datablock {
margin:.5em 0 .5em;
}
.profile-textblock {
margin: 0.5em 0;
line-height: 1.6em;
}
.profile-link {
font: normal normal 78% 'Trebuchet MS', Trebuchet, Arial, Verdana, Sans-serif;
text-transform: uppercase;
letter-spacing: .1em;
}
/* Footer
----------------------------------------------- */
#footer {
width:800px;
clear:both;
margin:0 auto;
padding-top:15px;
line-height: 1.6em;
text-transform:uppercase;
letter-spacing:.1em;
text-align: center;
}

--></style> 
  <link href="https://www.blogger.com/dyn-css/authorization.css?targetBlogID=6666528949054177156&amp;zx=e8def5eb-a0c9-41ac-a886-6e317d508d48" media="none" onload="if(media!='all')media='all'" rel="stylesheet">
  <noscript>
   <link href="https://www.blogger.com/dyn-css/authorization.css?targetBlogID=6666528949054177156&amp;zx=e8def5eb-a0c9-41ac-a886-6e317d508d48" rel="stylesheet">
  </noscript> 
 </head> 
 <body> 
  <div class="navbar section" id="navbar">
   <div class="widget Navbar" data-version="1" id="Navbar1">
    <script type="text/javascript">
    function setAttributeOnload(object, attribute, val) {
      if(window.addEventListener) {
        window.addEventListener('load',
          function(){ object[attribute] = val; }, false);
      } else {
        window.attachEvent('onload', function(){ object[attribute] = val; });
      }
    }
  </script> 
    <div id="navbar-iframe-container"></div> 
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script> 
    <script type="text/javascript">
      gapi.load("gapi.iframes:gapi.iframes.style.bubble", function() {
        if (gapi.iframes && gapi.iframes.getContext) {
          gapi.iframes.getContext().openChild({
              url: 'https://www.blogger.com/navbar.g?targetBlogID\x3d6666528949054177156\x26blogName\x3dthelabdude\x26publishMode\x3dPUBLISH_MODE_BLOGSPOT\x26navbarType\x3dBLUE\x26layoutType\x3dLAYOUTS\x26searchRoot\x3dhttp://thelabdude.blogspot.com/search\x26blogLocale\x3den\x26v\x3d2\x26homepageUrl\x3dhttp://thelabdude.blogspot.com/\x26targetPostID\x3d6473217683954305768\x26blogPostOrPageUrl\x3dhttp://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html\x26vt\x3d-7169127199307376509',
              where: document.getElementById("navbar-iframe-container"),
              id: "navbar-iframe"
          });
        }
      });
    </script>
    <script type="text/javascript">
(function() {
var script = document.createElement('script');
script.type = 'text/javascript';
script.src = '//pagead2.googlesyndication.com/pagead/js/google_top_exp.js';
var head = document.getElementsByTagName('head')[0];
if (head) {
head.appendChild(script);
}})();
</script> 
   </div>
  </div> 
  <div id="outer-wrapper">
   <div id="wrap2"> 
    <!-- skip links for text browsers --> 
    <span id="skiplinks" style="display:none;"> <a href="#main">skip to main </a> | <a href="#sidebar">skip to sidebar</a> </span> 
    <div id="header-wrapper"> 
     <div class="header section" id="header">
      <div class="widget Header" data-version="1" id="Header1"> 
       <div id="header-inner"> 
        <div class="titlewrapper"> 
         <h1 class="title"> <a href="http://thelabdude.blogspot.com.ar/"> thelabdude </a> </h1> 
        </div> 
        <div class="descriptionwrapper"> 
         <p class="description"><span>Knowledgebase about Seam, Spring, JSF / RichFaces, Lucene / Solr, Hibernate, and Collective Intelligence.</span></p> 
        </div> 
       </div> 
      </div>
     </div> 
    </div> 
    <div id="content-wrapper"> 
     <div id="crosscol-wrapper" style="text-align:center"> 
      <div class="crosscol section" id="crosscol">
       <div class="widget BlogArchive" data-version="1" id="BlogArchive1"> 
        <h2>Blog Archive</h2> 
        <div class="widget-content"> 
         <div id="ArchiveList"> 
          <div id="BlogArchive1_ArchiveList"> 
           <ul class="hierarchy"> 
            <li class="archivedate collapsed"> <a class="toggle" href="javascript:void(0)"> <span class="zippy"> ?&nbsp; </span> </a> <a class="post-count-link" href="http://thelabdude.blogspot.com.ar/2011/"> 2011 </a> <span class="post-count" dir="ltr">(1)</span> 
             <ul class="hierarchy"> 
              <li class="archivedate collapsed"> <a class="toggle" href="javascript:void(0)"> <span class="zippy"> ?&nbsp; </span> </a> <a class="post-count-link" href="http://thelabdude.blogspot.com.ar/2011/07/"> July </a> <span class="post-count" dir="ltr">(1)</span> </li> 
             </ul> </li> 
           </ul> 
           <ul class="hierarchy"> 
            <li class="archivedate collapsed"> <a class="toggle" href="javascript:void(0)"> <span class="zippy"> ?&nbsp; </span> </a> <a class="post-count-link" href="http://thelabdude.blogspot.com.ar/2010/"> 2010 </a> <span class="post-count" dir="ltr">(4)</span> 
             <ul class="hierarchy"> 
              <li class="archivedate collapsed"> <a class="toggle" href="javascript:void(0)"> <span class="zippy"> ?&nbsp; </span> </a> <a class="post-count-link" href="http://thelabdude.blogspot.com.ar/2010/09/"> September </a> <span class="post-count" dir="ltr">(1)</span> </li> 
             </ul> 
             <ul class="hierarchy"> 
              <li class="archivedate collapsed"> <a class="toggle" href="javascript:void(0)"> <span class="zippy"> ?&nbsp; </span> </a> <a class="post-count-link" href="http://thelabdude.blogspot.com.ar/2010/07/"> July </a> <span class="post-count" dir="ltr">(1)</span> </li> 
             </ul> 
             <ul class="hierarchy"> 
              <li class="archivedate collapsed"> <a class="toggle" href="javascript:void(0)"> <span class="zippy"> ?&nbsp; </span> </a> <a class="post-count-link" href="http://thelabdude.blogspot.com.ar/2010/06/"> June </a> <span class="post-count" dir="ltr">(1)</span> </li> 
             </ul> 
             <ul class="hierarchy"> 
              <li class="archivedate collapsed"> <a class="toggle" href="javascript:void(0)"> <span class="zippy"> ?&nbsp; </span> </a> <a class="post-count-link" href="http://thelabdude.blogspot.com.ar/2010/05/"> May </a> <span class="post-count" dir="ltr">(1)</span> </li> 
             </ul> </li> 
           </ul> 
           <ul class="hierarchy"> 
            <li class="archivedate expanded"> <a class="toggle" href="javascript:void(0)"> <span class="zippy toggle-open"> ?&nbsp; </span> </a> <a class="post-count-link" href="http://thelabdude.blogspot.com.ar/2009/"> 2009 </a> <span class="post-count" dir="ltr">(3)</span> 
             <ul class="hierarchy"> 
              <li class="archivedate collapsed"> <a class="toggle" href="javascript:void(0)"> <span class="zippy"> ?&nbsp; </span> </a> <a class="post-count-link" href="http://thelabdude.blogspot.com.ar/2009/05/"> May </a> <span class="post-count" dir="ltr">(2)</span> </li> 
             </ul> 
             <ul class="hierarchy"> 
              <li class="archivedate expanded"> <a class="toggle" href="javascript:void(0)"> <span class="zippy toggle-open"> ?&nbsp; </span> </a> <a class="post-count-link" href="http://thelabdude.blogspot.com.ar/2009/04/"> April </a> <span class="post-count" dir="ltr">(1)</span> 
               <ul class="posts"> 
                <li><a href="http://thelabdude.blogspot.com.ar/2009/04/user-authentication-registration-with.html">User authentication / registration with JSF / Rich...</a></li> 
               </ul> </li> 
             </ul> </li> 
           </ul> 
          </div> 
         </div> 
         <div class="clear"></div> 
         <span class="widget-item-control"> <span class="item-control blog-admin"> <a class="quickedit" href="//www.blogger.com/rearrange?blogID=6666528949054177156&amp;widgetType=BlogArchive&amp;widgetId=BlogArchive1&amp;action=editWidget&amp;sectionId=crosscol" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;BlogArchive1&quot;));" target="configBlogArchive1" title="Edit"> <img alt="" height="18" src="https://resources.blogblog.com/img/icon18_wrench_allbkg.png" width="18"> </a> </span> </span> 
         <div class="clear"></div> 
        </div> 
       </div>
      </div> 
     </div> 
     <div id="main-wrapper"> 
      <div class="main section" id="main">
       <div class="widget Blog" data-version="1" id="Blog1"> 
        <div class="blog-posts hfeed"> 
         <div class="date-outer"> 
          <h2 class="date-header"><span>Thursday, April 16, 2009</span></h2> 
          <div class="date-posts"> 
           <div class="post-outer"> 
            <div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting"> 
             <meta content="http://vinwiki.com/thelabdude/jsf_rf_seam_user_reg/site.png" itemprop="image_url"> 
             <meta content="6666528949054177156" itemprop="blogId"> 
             <meta content="6473217683954305768" itemprop="postId"> 
             <a name="6473217683954305768"></a> 
             <h3 class="post-title entry-title" itemprop="name"> User authentication / registration with JSF / RichFaces, Spring, and Hibernate </h3> 
             <div class="post-header"> 
              <div class="post-header-line-1"></div> 
             </div> 
             <div class="post-body entry-content" id="post-body-6473217683954305768" itemprop="description articleBody"> 
              <span style="font-family:verdana;font-size:12px;"> <p>In this article, I show you how to implement a Web 2.0-style user registration solution using JSF/RichFaces, Spring, and Hibernate. This article evolved from a real Web 2.0 site I'm building; I hope to document more lessons learned as I have time. You can learn more about me on my <a href="http://www.linkedin.com/in/thelabdude" target="_blank">LinkedIn</a> profile. As for what's in it for you, I've provided the <a href="http://vinwiki.com/thelabdude/jsf_rf_spring_user_reg_src.zip" target="_blank">source code</a> and a working solution using:</p>
               <ul>
                <li><a href="https://javaserverfaces.dev.java.net/" target="_blank">JSF 1.2 (Mojarra)</a> with <a href="http://www.jboss.org/jbossrichfaces/" target="_blank">RichFaces 3.3.1</a> (using JSP not Facelets)</li> 
                <li><a href="http://www.hibernate.org/" target="_blank">Hibernate</a> Core 3.3.1, Hibernate Annotations 3.4.0, Hibernate Validator 3.1.0</li> 
                <li><a href="http://www.springsource.org/about" target="_blank">Spring Framework 2.5.6</a></li> 
                <li><a href="http://static.springsource.org/spring-security/site/index.html" target="_blank">Spring Security 2.0.4</a></li> 
               </ul><p>In future articles, I also plan to incorporate Hibernate Search and implementations of collective intelligence techniques such as tag clouds, clustering, collaborative filtering, and recommendations.</p><p>While writing this article, I assumed the reader would have a basic understanding of the technologies listed above and focused more on how to integrate them to solve the requirements discussed in the next section.</p>
               <div style="font-size:125%;font-weight:bold;">
                Basic Requirements
               </div><p>Here are the high-level requirements this solution satisfies. Notice that most these requirements apply to many Web 2.0 sites seen on the Web today.</p><p><strong>1. Public-facing Web site with read-only access to Guests</strong><br> The site should be useful without logging in and the content should be accessible to search engines. Since casual surfers will be visiting the site, it must load fast and be easy to use on all major browsers (IE 6 / 7, FireFox 3.x, and Safari 3.x).</p><p style="text-align:center;"><img alt="Site" src="http://vinwiki.com/thelabdude/jsf_rf_seam_user_reg/site.png"></p><p><strong>2. Open registration process with email verification</strong><br> Guests should be able sign-up for a new account using a simple form that collects minimal information from the user; CAPTCHAs should be used to prevent bots from creating accounts. Each user must agree to the site's terms of use before registering. After registering, the user will also need to click on an activation link sent to their email, which ensures they have access to the email account provided on the form.</p><p style="text-align:center;"><img alt="Registration Form" src="http://vinwiki.com/thelabdude/jsf_rf_seam_user_reg/register.png"></p><p><strong>3. Remember Me</strong><br> Registered users can request the site to remember their credentials for automatic login for future visits.</p><p style="text-align:center;"><img alt="Sign-In Form" src="http://vinwiki.com/thelabdude/jsf_rf_seam_user_reg/signin.png"></p><p><strong>4. Ability to recover forgotten passwords</strong><br> Since we have a valid email for every user, users can request a new temporary password to be emailed to them. Upon logging in with the temporary password, the user should be prompted to change their password to a permanent value.</p><p style="text-align:center;"></p>
               <table>
                <tbody>
                 <tr> 
                  <td><img alt="Recover Password Form" src="http://vinwiki.com/thelabdude/jsf_rf_seam_user_reg/forgot.png"></td> 
                  <td><img alt="Password Reset Confirmation Dialog" src="http://vinwiki.com/thelabdude/jsf_rf_seam_user_reg/password_reset.png"></td> 
                  <td><img alt="Change Password Dialog" src="http://vinwiki.com/thelabdude/jsf_rf_seam_user_reg/change_password.png"></td> 
                 </tr> 
                </tbody>
               </table><p></p><p><strong>5. User Preferences</strong><br> Registered users can share personal information, upload a photo, and setup site preferences, such as whether they are interested in receiving emails about special promotions from the site.</p><p style="text-align:center;"><img alt="User Preferences" src="http://vinwiki.com/thelabdude/jsf_rf_seam_user_reg/preferences.png"></p><p><strong>6. Strong Server-side Validation</strong><br> Since we're exposing the site to the Wild Wild Web, server-side validation is essential; client-side validation using JavaScript is a nice to have, but is not sufficient. It's trivial for a hacker to by-pass client-side validation so you want to make sure your server code is protected as well. Where appropriate, use AJAX to give immediate feedback to the user when they've entered invalid data.</p><p style="text-align:center;"><img alt="AJAX Validation" src="http://vinwiki.com/thelabdude/jsf_rf_seam_user_reg/ajax.png"></p>
               <div style="font-size:125%;font-weight:bold;">
                Layered Architecture
               </div><p>To satisfy these requirements, I've implemented a layered architecture depicted in the diagram below:</p><p style="text-align:center;"><img alt="Layered Architecture Diagram" src="http://vinwiki.com/thelabdude/jsf_rf_spring_user_reg/layers.png"></p><p>For simple authentication, Spring Security may seem like overkill. However, as the application evolves, I'm also going to need authorization. In addition, Spring Security supports OpenID, which is also of interest for this site.</p>
               <div style="font-size:125%;font-weight:bold;">
                Web Application Organization
               </div><p>Here is the <a href="http://vinwiki.com/thelabdude/jsf_rf_spring_user_reg_src.zip" target="_blank">link</a> to the source code and WAR file. A simple Ant build script is provided so you can build the source. Before digging too deeply into the details of the configuration, take moment to familiarize yourself with the organization of the Web application:</p><p style="text-align:center;"><img alt="Web Application Directory Structure" src="http://vinwiki.com/thelabdude/jsf_rf_spring_user_reg/dir_struct.png"></p>
               <div style="font-size:125%;font-weight:bold;">
                Persistence Layer
               </div>
               <div style="font-size:110%;font-weight:bold;">
                Domain Objects
               </div><p>There are three primary domain objects: User, Preferences, and Role, which should be self-explanatory given the requirements outlined above. The domain objects are POJOs with the exception of also using Hibernate annotations in a few key places. For example, in the following code snippet, we annotate the User class as a Hibernate Entity and map it to the ex_user table in the database:</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>@Entity
@Table(name="ex_user")
public class User implements Serializable ...
</pre>
               </div><p>Notice that we are using <a href="http://en.wikipedia.org/wiki/Surrogate_key" target="_blank">surrogate keys</a> for our domain objects that are auto-generated by Hibernate using the best approach for the specific database-type:</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>@Id
@GeneratedValue(strategy = GenerationType.AUTO)
public Long getUserId() {
    return userId;
}
</pre>
               </div><p>We also define the userName property to be the natural ID for the User entity. While rare, you can allow the userName to change, such as if a user gets married and wants to change her name.</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>@NaturalId(mutable=true)
public String getUserName() {
    return userName;
}
</pre>
               </div><p>I'm also using the Hibernate Validator annotations to restrict the values for some of the members, such as the userName:</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>@NotEmpty
@Length(min=4,max=16)
@Pattern(regex="^[a-zA-Z\\d_]{4,12}$", message="Invalid screen name.")
private String userName;
</pre>
               </div><p>Unfortunately, the default localized message for the <b>@Pattern</b> annotation isn't very user-friendly so I've had to resort to a hard-coded English message until I figure out a cleaner solution.</p>
               <div style="font-size:110%;font-weight:bold;">
                Domain Object Associations
               </div><p>There is a one-to-one relationship between the Preferences and User objects. The Preferences object is loaded with the User object (fetch=FetchType.EAGER) because it contains information that is needed to render the UI for the user.</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>@OneToOne(cascade=CascadeType.ALL, fetch=FetchType.EAGER)
@PrimaryKeyJoinColumn
public Preferences getPreferences() {
    return preferences;
}
</pre>
               </div><p>There is a bidirectional many-to-many relationship between the User and Role objects using a join table ex_user_role.</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>@ManyToMany(targetEntity=example.user.Role.class, cascade={CascadeType.PERSIST, CascadeType.MERGE})
@JoinTable(name="ex_user_role",joinColumns=@JoinColumn(name="userId"), inverseJoinColumns=@JoinColumn(name="roleId"))
protected Set&lt;Role&gt; getUserRoles() {
    if (userRoles == null) userRoles = new HashSet&lt;Role&gt;();
    return userRoles;
}
</pre>
               </div><p>On the Role object, we have:</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>@ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE}, mappedBy="userRoles", targetEntity=User.class)
public Set&lt;User&gt; getRoleUsers() {
    if (roleUsers == null) roleUsers = new HashSet&lt;User&gt;();
    return roleUsers;
}
</pre>
               </div><p>This solution comes directly from the Hibernate documentation, <a href="http://www.hibernate.org/hib_docs/reference/en/html/assoc-bidirectional-join.html#assoc-bidirectional-join-m2m" target="_blank">section 7.5.3</a>.</p>
               <div style="font-size:110%;font-weight:bold;">
                Data Access Object (DAO)
               </div><p>The persistence layer adopts the <a href="http://en.wikipedia.org/wiki/Data_Access_Object" target="_blank">Data Access Object (DAO)</a> design pattern to hide the details of the underlying persistence mechanism from the business logic of the application. For this solution, there are two DAO interfaces defined: UserDAO and RoleDAO.</p><p>The HibernateUserDao implements the UserDAO interface and extends Spring's <a href="http://static.springframework.org/spring/docs/2.0.x/api/org/springframework/orm/hibernate/support/HibernateDaoSupport.html" target="_blank">HibernateDaoSupport</a> base class. HibernateDaoSupport uses the <a href="http://en.wikipedia.org/wiki/Template_method_pattern" target="_blank">Template method pattern</a> to greatly simplify the process of using Hibernate correctly. Additionally, all checked Hibernate exceptions are translated into unchecked exceptions that extend from <a href="http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/dao/DataAccessException.html" target="_blank">org.springframework.dao.DataAccessException</a>. This allows developers to handle most persistence exceptions, which are non-recoverable, only in the appropriate layers, without having annoying boilerplate catch-and-throw blocks and exception declarations in the DAOs. For example, an attempt to insert a new record that violates a primary key constraint can only be resolved by changing the values the end-user is providing, such as a User ID during registration. With the Spring DataAccessException strategy, the DAO will throw a DataIntegrityViolationException and allow the presentation layer to catch it and prompt the end-user to change their input accordingly. Moreover, the Spring DataAccessException strategy insulates our business-logic layer from Hibernate specific classes. This is helpful if the underlying persistence mechanism needs to change for your application.</p>
               <div style="font-size:110%;font-weight:bold;">
                Hibernate
               </div><p>Each DAO implementation bean is injected with an instance of <a href="http://static.springframework.org/spring/docs/2.5.x/api/org/springframework/orm/hibernate3/annotation/AnnotationSessionFactoryBean.html" target="_blank">AnnotationSessionFactoryBean</a>. This Spring FactoryBean provides a shared Hibernate SessionFactory and supports JDK 1.5+ annotation metadata for mappings, which alleviates the need to have hbm.xml files for our persistent objects.</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>&lt;bean id="hbSessionFactory" class="org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean"&gt;
  &lt;property name="dataSource" ref="jdbcDs"&gt;
  &lt;property name="annotatedClasses"&gt;
    &lt;list&gt;
      &lt;value&gt;example.user.User&lt;/value&gt;
      &lt;value&gt;example.user.Role&lt;/value&gt;
      &lt;value&gt;example.user.Preferences&lt;/value&gt;
    &lt;/list&gt;
  &lt;/property&gt;
  &lt;property name="hibernateProperties"&gt;
    &lt;value&gt;hibernate.dialect=example.user.dao.hibernate.HSQLDialect_HHH_1598&lt;/value&gt;
  &lt;/property&gt;
  &lt;property name="schemaUpdate" value="true"&gt;
&lt;/bean&gt;
</pre>
               </div><p>The hbSessionFactory bean is configured to auto-generate the database schema and is injected with our Spring DataSource. The custom hibernate.dialect property is provided to fix an issue with HSQLDB (see: <a href="http://forum.hibernate.org/viewtopic.php?p=2324183" target="_blank">http://forum.hibernate.org/viewtopic.php?p=2324183</a>).</p><p>Under the covers, we use an Apache Commons DBCP connection pool that is exposed as a javax.sql.DataSource in the JNDI tree in Tomcat. A javax.sql.DataSource is defined by the JDBC specification to hide connection pooling and transaction management issues from application code. The <span style="font-family:courier new;font-size:90%;font-weight:bold;">web-application-config.xml</span> file defines a reference to the javax.sql.DataSource using:</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>&lt;bean class="org.springframework.jndi.JndiObjectFactoryBean" id="jdbcDs"&gt;
  &lt;property name="jndiName" value="java:comp/env/jdbc/exampleDs"&gt;
&lt;/bean&gt;
</pre>
               </div><p>The database specific properties for the pool are configured in the <span style="font-family:courier new;font-size:90%;font-weight:bold;">META-INF/context.xml</span> file:</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>&lt;Resource name="jdbc/exampleDs"
          auth="Container"
          type="javax.sql.DataSource"
          username="sa"
          password=""
          driverClassName="org.hsqldb.jdbcDriver"
          url="jdbc:hsqldb:file:example"
          initialSize="0"
          maxActive="10"
          maxIdle="10"
          minIdle="0"
          maxWait="30000"
          poolPreparedStatements="true"
          /&gt;
</pre>
               </div><p>Be sure to put the hsqldb.jar file into the tomcat/lib directory if you use HSQL.</p>
               <div style="font-size:125%;font-weight:bold;">
                Service Layer
               </div><p>One could allow the presentation layer beans to interact directly with the DAOs. However, this approach leads to your business logic being infected with presentation logic, which makes it difficult to support other interfaces, such as Web services. The Service Layer sits between your presentation layer and persistence layer. The Service Layer is where you implement the <em>business-logic</em> of your application.</p><p>For this solution, we have only one Spring bean in the Service Layer: <strong>UserService</strong>. The UserService provides a high-level interface to the operations provided by the UserDAO and RoleDAO. UserService is an application of the <a href="http://java.sun.com/blueprints/corej2eepatterns/Patterns/SessionFacade.html" target="_blank">Session Facade</a> design pattern in that it aggregates fine-grained data access operations into a single high-level transaction-aware service. Moreover, the UserService keeps business-logic out of the DAO implementations, which are only concerned with efficient object storage and retrieval.</p>
               <div style="font-size:110%;font-weight:bold;">
                Transactions
               </div><p>As mentioned above, the UserService is transaction-aware. This is accomplished using a Spring TransactionProxyFactoryBean which works with the HibernateTransactionManager. However, since we're using Spring 2.5.x and Java 5, we can use a more compact, annotation driven approach for making our UserServiceImpl transactional. First, you need to include the following element in your Spring configuration:</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>&lt;tx:annotation-driven/&gt;
</pre>
               </div><p>Second, you need to mark your service's concrete implementation class with the @Transactional annotation:</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>@Transactional
public class UserServiceImpl implements UserService ...
</pre>
               </div><p>For more information about declarative transactions with Spring, see: <a href="file:///C:/F:/dev/thirdparty/spring-framework-2.5.6/docs/reference/html_single/index.html#transaction-declarative" target="_blank">Declarative transaction management</a>.</p>
               <div style="font-size:110%;font-weight:bold;">
                Mail Service
               </div><p>As described in the requirements, we'll need to send emails from time to time. For this, we'll be using Spring's <a href="http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/mail/javamail/JavaMailSender.html" target="_blank">JavaMailSender</a>. The environment specific settings for your SMTP server are pulled from the <span style="font-family:courier new;font-size:90%;font-weight:bold;">example-env.properties</span> file.</p>
               <div style="font-size:125%;font-weight:bold;">
                Presentation Layer
               </div><p>I chose JSF with RichFaces for this project based on the following criteria:</p>
               <ul>
                <li>Modern, professional looking skin out-of-the-box (I don't want to fool with CSS).</li> 
                <li>Extensive set of easy-to-use, yet flexible UI components, such as trees, data grids, tabbed panes, etc.</li> 
                <li>Easy to create reusable custom components.</li> 
                <li>Large community of users and developers building real apps.</li> 
                <li>Performance: loads and runs fast on all modern browsers.</li> 
                <li>Minimizes hand-coded JavaScript.</li> 
               </ul>
               <div style="font-size:110%;font-weight:bold;">
                RichFaces ModalPanel
               </div><p>I decided to use the RichFaces ModalPanel component &lt;rich:modalPanel&gt; for my dialogs because it helps the user keep their current orientation with the site. Instead of navigating to a different page, I simply open a dialog over the current view. Consequently, I didn't have any need for Spring Web Flow or JSF navigation rules in this example.</p>
               <div style="font-size:110%;font-weight:bold;">
                Spring-managed JSF Controller Beans
               </div><p>For this solution, there are two Spring-managed JSF controller beans of interest: <b>example.jsf.GuestSupport</b> and <b>example.jsf.UserSession</b>. Here is the definition from the <span style="font-family:courier new;font-size:90%;font-weight:bold;">example-jsf.xml</span> file:</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>&lt;bean id="guest" class="example.jsf.GuestSupport" scope="request"&gt;
&lt;property name="userService" ref="userService"/&gt;
&lt;property name="facesSupport" ref="facesSupport"/&gt;
&lt;/bean&gt;
</pre>
               </div><p>The GuestSupport bean (<b><i>request-scoped</i></b>) is the controller for actions performed by guests, such as login and register. Spring creates a new instance per request (if needed).</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>&lt;bean id="userSession" class="example.jsf.UserSession" scope="session"&gt;
&lt;property name="userService" ref="userService"/&gt;
&lt;property name="facesSupport" ref="facesSupport"/&gt;
&lt;/bean&gt;
</pre>
               </div><p>The UserSession bean (<b><i>session-scoped</i></b>) is the controller for actions performed by authenticated users, such as managing preferences. There will be one instance of UserSession per HttpSession; Spring makes sure a new UserSession bean is created whenever a new HttpSession is created, which happens before the user is logged in. Thus, there are two possible states for the UserSession bean:</p>
               <ol>
                <li>User has not been authenticated ( remoteUser == null )</li> 
                <li>User has logged in ( remoteUser != null )</li> 
               </ol><p>Thus, you need to make sure not to use this bean in your JSF EL unless the user is logged in.</p>
               <div style="font-weight:bold;">
                Registration
               </div><p>When a user clicks on the Register link on the home page, a RichFaces &lt;rich:componentcontrol&gt; is used to open the RichFaces ModalPanel with id <em>registerPanel</em>.</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>&lt;rich:componentControl for="registerPanel" attachTo="registerLink" operation="show" event="onclick"/&gt;
</pre>
               </div><p>The form is bound to the doRegister method on our GuestSupport bean using a standard JSF commandButton. Under the covers, JSF uses the <a href="http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/web/jsf/el/SpringBeanFacesELResolver.html" target="_blank">SpringBeanELResolver</a> to get an instance of the GuestSupport bean from Spring. This is configured in <span style="font-family:courier new;font-size:90%;font-weight:bold;">faces-config.xml</span>:</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>&lt;application&gt;
  &lt;el-resolver&gt;org.springframework.web.jsf.el.SpringBeanFacesELResolver&lt;/el-resolver&gt;
&lt;/application&gt;
</pre>
               </div><p>Registration requires the user to solve a CAPTCHA. The easiest way to add this to your site is to use reCAPTCHA. The best way to get started with reCAPTCHA is to read their developer's guide at <a href="http://recaptcha.net/whyrecaptcha.html" target="_blank">http://recaptcha.net/whyrecaptcha.html</a>. I had to use a custom JSF tag to embed reCAPTCHA JavaScript into the registration form because the standard JSF script tag was being written to the page header instead of inline. This is due to the following setting in the <span style="font-family:courier new;font-size:90%;font-weight:bold;">web.xml</span>:</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>&lt;context-param&gt;
  &lt;param-name&gt;com.sun.faces.externalizeJavaScript&lt;/param-name&gt;
  &lt;param-value&gt;true&lt;/param-value&gt;
&lt;/context-param&gt;
</pre>
               </div><p>This allows browsers to cache our JSF JavaScript instead of having to write it each time the page is accessed, which presumably will help our pages load faster. However, we need the reCAPTCHA script to be inline and not in the header. Fortunately, JSF makes it very easy to create custom tags.</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>&lt;example:script src="#{uiSupport.recaptchaScriptUrl}"&gt;
</pre>
               </div>
               <div style="font-weight:bold;">
                Strong Password Validation
               </div><p>Notice that the registration form binds the password to the <b>guest.passwordSupport.password</b>.</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>&lt;h:inputSecret label="#{i18n.login_password}" id="password" required="true" value="#{guest.passwordSupport.password}" size="12" maxlength="12"&gt;
  &lt;rich:beanvalidator/&gt;
&lt;/h:inputSecret&gt;
</pre>
               </div><p>This is because the User password is expected to be a one-way MD5 hash instead of plain text. The <b>example.user.PasswordSupport</b> utility bean validates the password using Hibernate Validator:</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>@NotEmpty
@Length(min=8,max=12)
@Pattern(regex="(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$", message="Password is not secure enough!")
private String password = null;
</pre>
               </div><p>Upon successful registration, the guest.newUserName and guest.newUserEmail properties are updated on the guest bean. This activates the <b>regPending</b> modal panel to notify the user that their registration must be activated by clicking on an activation link sent to their email. However, if registration fails, then the registerPanel is displayed with the appropriate error message(s).</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>&lt;a:commandButton id="registerButton" value="#{i18n.register}"
    action="#{guest.doRegister}" styleClass="rich-fileupload-button" reRender="regPending"
    oncomplete="if (document.getElementById('jsfMsgMaxSev').value != '2') { #{rich:component('registerPanel')}.hide(); #{rich:component('regPending')}.show(); }"/&gt;
</pre>
               </div><p>The <b>oncomplete</b> attribute will close the registerPanel and open the regPending panel if no errors are present in the AJAX response. This relies on the use of an A4J &lt;a:outputPanel&gt;, see index.jsp.</p>
               <div style="font-weight:bold;">
                Account Activation
               </div><p>The activation link includes the <em>act</em> parameter containing a hex-encoded MD5 hash code linked to the pending registration. The <b>guest.getUser()</b> method checks for the <em>act</em> parameter and if present tries to activate the user. If successful, the login panel is displayed with the new user name pre-popluated.</p>
               <div style="font-weight:bold;">
                Login
               </div><p>For authentication, we delegate to Spring Security using an ExternalContext dispatch to <em>/j_spring_security_check</em>. This handler expects two parameters provided by our Login form: j_username and j_password. Notice that the login form is configured with prependId="false" so that JSF does not add <em>loginForm:</em> to the parameter names. The request to <em>/j_spring_security_check</em> is handled by the springSecurityFilterChain configured in <span style="font-family:courier new;font-size:90%;font-weight:bold;">web.xml</span>:</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>&lt;filter&gt;
  &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;
  &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;
&lt;/filter&gt;
</pre>
               </div><p>Spring Security, configured in <span style="font-family:courier new;font-size:90%;font-weight:bold;">example-security.xml</span>, uses a userDetailsService based authentication provider. In this case, we configure two simple SQL queries based on the Hibernate schema for the <a href="http://static.springframework.org/spring-security/site/reference/html/authentication-common-auth-services.html#jdbc-service" target="_blank">org.springframework.security.userdetails.jdbc.JdbcDaoImpl</a>.</p><p>Authenticate by Username and Password:</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>SELECT userName, password, active from ex_user where userName=?
</pre>
               </div><p>Get Roles for User:</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>SELECT ij.userId, r.name FROM ex_role r INNER JOIN (SELECT u.userId, ur.roleId FROM ex_user_role ur, ex_user u WHERE ur.userId=u.userId AND u.userName=?) ij ON r.roleId=ij.roleId
</pre>
               </div><p>If authentication fails, Spring Security puts the exception into the session keyed by: <a href="http://static.springsource.org/spring-security/site/apidocs/org/springframework/security/ui/AbstractProcessingFilter.html" target="_blank">AbstractProcessingFilter.SPRING_SECURITY_LAST_EXCEPTION_KEY</a>. In the JSF layer, we need to check for this exception and if present display a generic JSF error message to the user. It's a good idea to show a generic message because the actual exception may contain information a hacker can use to break into the site. Unfortunately, I had to resort to invoking a static function <span style="font-family:courier new;font-size:95%;">GuestSupport.setLoginPanelVisibility</span> from a JSP Scriptlet in auth.jspf to check for the Spring Security exception.</p>
               <div style="font-weight:bold;">
                Remember Me
               </div><p>Recall that one of our requirements was to support a Remember Me feature so that returning users are automatically logged into the site. With Spring Security, this is trivial; the JSF login form simply needs to pass the <span style="font-family:courier new;font-size:95%;">_spring_security_remember_me parameter</span>. Under the covers, Spring Security is configured to use the simple hash-based token approach. However, you can also use a more secure solution described <a href="http://static.springframework.org/spring-security/site/reference/html/remember-me.html" target="_blank">here</a>.</p>
               <div style="font-size:125%;font-weight:bold;">
                JavaScript and AJAX Tricks
               </div><p>In this section, I demonstrate a few of the JavaScript and AJAX tricks used by the solution.</p>
               <div style="font-size:110%;font-weight:bold;">
                Country / Region
               </div><p>One of the nice things about RichFaces is that you can attach AJAX-driven logic to any JSF component without writing any JavaScript. For example, suppose we want to limit the list of regions based on the selected country on the Preferences form. This is trivial using the &lt;a4j:support&gt; tag provided by RichFaces:</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>&lt;a4j:support event="onchange" rerender="region" ajaxsingle="true"&gt;
</pre>
               </div><p>This fires an AJAX request when the country is changed and upon success, the region component is re-rendered with a country-specific list of regions.</p>
               <div style="font-size:110%;font-weight:bold;">
                User name check with AJAX
               </div><p>During registration, if the user's desired screen name is already taken by another user, we should let them know immediately. To do this, we use the &lt;a4j:support&gt; tag provided by RichFaces on the userName &lt;h:inputText&gt; field:</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>&lt;a4j:support event="onblur" rerender="userName" ajaxsingle="true"&gt;
</pre>
               </div><p>When the onblur event occurs, RichFaces sends an AJAX request to update the guest.registrationScreenName property. If the desired screen name is already taken, a FacesMessage is created to be displayed by the &lt;rich:message&gt; tag associated with the userName field.</p>
               <div style="font-family:courier new;font-size:95%;margin-left:25px;">
                <pre>&lt;rich:message for="userName"&gt;
  &lt;f:facet name="errorMarker"&gt;&lt;h:graphicimage value="img/error.gif"&gt;&lt;/f:facet&gt;
&lt;/rich:message&gt;
</pre>
               </div></span> 
              <div style="clear: both;"></div> 
             </div> 
             <div class="post-footer"> 
              <div class="post-footer-line post-footer-line-1"> 
               <span class="post-author vcard"> Posted by <span class="fn" itemprop="author" itemscope itemtype="http://schema.org/Person"> 
                 <meta content="https://www.blogger.com/profile/08032248788175889303" itemprop="url"> <a class="g-profile" href="https://www.blogger.com/profile/08032248788175889303" rel="author" title="author profile"> <span itemprop="name">thelabdude</span> </a> </span> </span> 
               <span class="post-timestamp"> at 
                <meta content="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html" itemprop="url"> <a class="timestamp-link" href="http://thelabdude.blogspot.com.ar/2009/04/user-authentication-registration-with.html" rel="bookmark" title="permanent link"><abbr class="published" itemprop="datePublished" title="2009-04-16T15:13:00-07:00">3:13 PM</abbr></a> </span> 
               <span class="reaction-buttons"> </span> 
               <span class="post-comment-link"> </span> 
               <span class="post-backlinks post-comment-link"> </span> 
               <span class="post-icons"> <span class="item-action"> <a href="https://www.blogger.com/email-post.g?blogID=6666528949054177156&amp;postID=6473217683954305768" title="Email Post"> <img alt="" class="icon-action" height="13" src="https://resources.blogblog.com/img/icon18_email.gif" width="18"> </a> </span> <span class="item-control blog-admin pid-890513516"> <a href="https://www.blogger.com/post-edit.g?blogID=6666528949054177156&amp;postID=6473217683954305768&amp;from=pencil" title="Edit Post"> <img alt="" class="icon-action" height="18" src="https://resources.blogblog.com/img/icon18_edit_allbkg.gif" width="18"> </a> </span> </span> 
               <div class="post-share-buttons goog-inline-block"> 
               </div> 
              </div> 
              <div class="post-footer-line post-footer-line-2"> 
               <span class="post-labels"> Labels: <a href="http://thelabdude.blogspot.com.ar/search/label/hibernate" rel="tag">hibernate</a>, <a href="http://thelabdude.blogspot.com.ar/search/label/jsf" rel="tag">jsf</a>, <a href="http://thelabdude.blogspot.com.ar/search/label/richfaces" rel="tag">richfaces</a>, <a href="http://thelabdude.blogspot.com.ar/search/label/spring" rel="tag">spring</a>, <a href="http://thelabdude.blogspot.com.ar/search/label/spring%20security" rel="tag">spring security</a> </span> 
              </div> 
              <div class="post-footer-line post-footer-line-3"> 
               <span class="post-location"> </span> 
              </div> 
             </div> 
            </div> 
            <div class="comments" id="comments"> 
             <a name="comments"></a> 
             <h4>30 comments:</h4> 
             <div class="comments-content"> 
              <script async src="//www.blogblog.com/dynamicviews/4224c15c4e7c9321/js/comments.js" type="text/javascript"></script> 
              <script type="text/javascript">
    (function() {
      var items = [{'id': '3316929977330306544', 'body': 'Hi!\x3cbr /\x3eIts a really great example and I am definetly going to use it as a template for my coming projects. \x3cbr /\x3e\x3cbr /\x3eThe RECAPTCHA AUTHENTICATION part of the code is not rendered/not visible in the site. Do you know what could be wrong?\x3cbr /\x3e\x3cbr /\x3ethanks for the great tutorial', 'timestamp': '1242919432919', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1242919432919#c3316929977330306544', 'author': {'name': 'anonymous', 'avatarUrl': '//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA\x3ds35', 'profileUrl': 'https://www.blogger.com/profile/05856628429651905973'}, 'displayTime': 'May 21, 2009 at 8:23 AM', 'deleteclass': 'item-control blog-admin pid-1659859711'}, {'id': '1360438041196185971', 'body': 'Is it possible that you have not defined a public key for the RECAPTCHA AUTHENTICATION? \x3cbr /\x3e\x3cbr /\x3eregards', 'timestamp': '1242920016999', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1242920016999#c1360438041196185971', 'author': {'name': 'choesang', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'May 21, 2009 at 8:33 AM', 'deleteclass': 'item-control blog-admin pid-168130015'}, {'id': '1094049309077903334', 'body': 'Just a reminder that you need to register with the reCAPTCHA site to get your own private / public keys. Once you have those, then you need to plug them in the config/example-jsf.xml file ... look for:\x3cbr /\x3e\x3cbr /\x3e\x26lt;property name\x3d\x26quot;recaptchaPrivateKey\x26quot;\x3cbr /\x3evalue\x3d\x26quot;GET YOUR OWN PRIVATE KEY\x26quot;/\x26gt;\x3cbr /\x3e\x26lt;property name\x3d\x26quot;recaptchaVerifyUrl\x26quot;\x3cbr /\x3evalue\x3d\x26quot;http://api-verify.recaptcha.net/verify\x26quot;/\x26gt;\x3cbr /\x3e\x26lt;property name\x3d\x26quot;recaptchaScriptUrl\x26quot;\x3cbr /\x3evalue\x3d\x26quot;http://api.recaptcha.net/challenge?k\x3dGET YOUR OWN PUBLIC KEY\x26quot;/\x26gt;\x3cbr /\x3e\x3cbr /\x3eYou can register with reCAPTCHA to get your own keys at http://recaptcha.net/whyrecaptcha.html.\x3cbr /\x3e\x3cbr /\x3eIf you\x26#39;ve done this, then try viewing the source of the page from your browser to see what my custom tag is putting out. Feel free to post back here with more information.', 'timestamp': '1242923294334', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1242923294334#c1094049309077903334', 'author': {'name': 'thelabdude', 'avatarUrl': '//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA\x3ds35', 'profileUrl': 'https://www.blogger.com/profile/08032248788175889303'}, 'displayTime': 'May 21, 2009 at 9:28 AM', 'deleteclass': 'item-control blog-admin pid-890513516'}, {'id': '5716343230134381123', 'body': 'Hi!\x3cbr /\x3eThank you for your prompt reply. Now the recaptcha part works But it fails to send mail. I get the following error:\x3cbr /\x3e\x3cbr /\x3eorg.springframework.mail.mailsendexception: mail server connection failed; nested exception is \x3cbr /\x3ejavax.mail.MessageException: Could not connect to SMTP host: example.com port:25;\x3cbr /\x3e\x3cbr /\x3eDo you have any idea, where the mistake is?', 'timestamp': '1242986990396', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1242986990396#c5716343230134381123', 'author': {'name': 'anonymous', 'avatarUrl': '//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA\x3ds35', 'profileUrl': 'https://www.blogger.com/profile/05856628429651905973'}, 'displayTime': 'May 22, 2009 at 3:09 AM', 'deleteclass': 'item-control blog-admin pid-1659859711'}, {'id': '1679408964097930331', 'body': 'I solved the problem regarding sending mail. I edited example-env.properties to use gmail and it all went well. \x3cbr /\x3e\x3cbr /\x3eAn observation, when the mail is send, the activationURL is localhost:8989 instead of localhost:8080\x3cbr /\x3e\x3cbr /\x3eThank you for the great tutorial.', 'timestamp': '1243001530197', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1243001530197#c1679408964097930331', 'author': {'name': 'anonymous', 'avatarUrl': '//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA\x3ds35', 'profileUrl': 'https://www.blogger.com/profile/05856628429651905973'}, 'displayTime': 'May 22, 2009 at 7:12 AM', 'deleteclass': 'item-control blog-admin pid-1659859711'}, {'id': '8481764499330635391', 'body': 'Glad to hear you have the reCAPTCHA stuff working ...\x3cbr /\x3e\x3cbr /\x3eRe: localhost:8989 ...\x3cbr /\x3e\x3cbr /\x3eYou need to change the \x27activationLinkUrl\x27 property in example-env.properties to match your server.', 'timestamp': '1243002901430', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1243002901430#c8481764499330635391', 'author': {'name': 'thelabdude', 'avatarUrl': '//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA\x3ds35', 'profileUrl': 'https://www.blogger.com/profile/08032248788175889303'}, 'displayTime': 'May 22, 2009 at 7:35 AM', 'deleteclass': 'item-control blog-admin pid-890513516'}, {'id': '3116988177567146574', 'body': 'Great article!', 'timestamp': '1243460618753', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1243460618753#c3116988177567146574', 'author': {'name': 'Zuquirio maur', 'avatarUrl': '//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA\x3ds35', 'profileUrl': 'https://www.blogger.com/profile/10135980656836281405'}, 'displayTime': 'May 27, 2009 at 2:43 PM', 'deleteclass': 'item-control blog-admin pid-1471028727'}, {'id': '1700359322581874700', 'body': 'Hi,\x3cbr /\x3e\x3cbr /\x3eI made these changes in examples-env.properties file.\x3cbr /\x3emailhost\x3dgmail.com\x3cbr /\x3eBut I am still getting an error saying that \x22Could not connect to SMTP hose gmail.com port 25\x22.\x3cbr /\x3e\x3cbr /\x3eDo you know why it is so?\x3cbr /\x3eIs there any way, I could disable this mail sending functionality?', 'timestamp': '1243687480922', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1243687480922#c1700359322581874700', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'May 30, 2009 at 5:44 AM', 'deleteclass': 'item-control blog-admin pid-299246548'}, {'id': '7454717879944913431', 'body': 'gmail.com is probably not a SMTP server ... The only way to disable email at this point would be to alter the logic in the UserServiceImpl::createUser method but that sort of defeats the purpose of this solution.', 'timestamp': '1243691671487', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1243691671487#c7454717879944913431', 'author': {'name': 'thelabdude', 'avatarUrl': '//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA\x3ds35', 'profileUrl': 'https://www.blogger.com/profile/08032248788175889303'}, 'displayTime': 'May 30, 2009 at 6:54 AM', 'deleteclass': 'item-control blog-admin pid-890513516'}, {'id': '7824433801361163112', 'body': 'Instead of gmail.com, could uo suggest any other SMTP server I can use to test or have a look at the solution?', 'timestamp': '1243855277333', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1243855277333#c7824433801361163112', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'June 1, 2009 at 4:21 AM', 'deleteclass': 'item-control blog-admin pid-729488972'}, {'id': '7055566982576311256', 'body': 'Hello out there!\x3cbr /\x3e\x3cbr /\x3eI\x27m using the same Spring versions like the Example, but I always gets the error:\x3cbr /\x3e\x3cbr /\x3e\x22lang.NoSuchMethodError: org.springframework.web.context.ConfigurableWebApplicationContext.setConfigLocation(Ljava/lang/String;)V\x22\x3cbr /\x3e\x3cbr /\x3eI\x27m getting crazy and really don\x27t knwo what I can still do....\x3cbr /\x3e\x3cbr /\x3eI don\x27t user maven, so i cannot exclude dependencys or such things!\x3cbr /\x3e\x3cbr /\x3eCan anybody help me please, i\x27m really desperate!\x3cbr /\x3e\x3cbr /\x3eI also tried a lot of other versions of spring.\x3cbr /\x3e\x3cbr /\x3e2.5.5, 2.5.1 .. all those!\x3cbr /\x3e\x3cbr /\x3eCan anyone with a running application maybe post his jar archives, what can i do else?', 'timestamp': '1243971437686', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1243971437686#c7055566982576311256', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'June 2, 2009 at 12:37 PM', 'deleteclass': 'item-control blog-admin pid-1886608456'}, {'id': '3069760382661492279', 'body': 'Learn Wicket.  Forget JSF.', 'timestamp': '1245461121373', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1245461121373#c3069760382661492279', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'June 19, 2009 at 6:25 PM', 'deleteclass': 'item-control blog-admin pid-486169530'}, {'id': '1852511212213503794', 'body': 'Hi!\x3cbr /\x3e\x3cbr /\x3eI\x26#39;ve been trying to implement solution similar to yours for the login panel.\x3cbr /\x3e\x3cbr /\x3eMy big problem is that apparently when I execute the dispatch (or somewhere around that) the session gets reset.\x3cbr /\x3e\x3cbr /\x3eThis leads me to 2 big problems:\x3cbr /\x3e1) every time a login is successful, I just fall back to the same login page again and again..\x3cbr /\x3e2) if I check the remember me I got an exception regarding the session not being there anymore (I\x26#39;ll provide you with the full trace if you want). But then when I reload the page I\x26#39;m logged in as if it worked.\x3cbr /\x3e\x3cbr /\x3eFrom the logs in spring security it appears that the session ID changes every time I authenticate. No problems if I fall back in the standard login form.\x3cbr /\x3e\x3cbr /\x3eI have the feeling that this could be a simple configuration issue (one of those you bang your head on for days and then just feel stupid for not having seen it before), has it ever happen to you something similar?\x3cbr /\x3e\x3cbr /\x3eThanks in advance.', 'timestamp': '1245880273920', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1245880273920#c1852511212213503794', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'June 24, 2009 at 2:51 PM', 'deleteclass': 'item-control blog-admin pid-538511680'}, {'id': '6237412350097187128', 'body': 'http://sensiblerationalization.blogspot.com/2009/07/from-jsf-to-richfaces-to-richfaces.html for those who would like to get stared with Richfaces', 'timestamp': '1247104831599', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1247104831599#c6237412350097187128', 'author': {'name': 'Prabhat Jha', 'avatarUrl': '//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA\x3ds35', 'profileUrl': 'https://www.blogger.com/profile/18220849795910855444'}, 'displayTime': 'July 8, 2009 at 7:00 PM', 'deleteclass': 'item-control blog-admin pid-1328680153'}, {'id': '517767947670332858', 'body': 'For those who know JSF and would like to  get started with Richfaces and probably portal, I wrote an intro blog at http://sensiblerationalization.blogspot.com/', 'timestamp': '1247104831600', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1247104831600#c517767947670332858', 'author': {'name': 'Prabhat Jha', 'avatarUrl': '//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA\x3ds35', 'profileUrl': 'https://www.blogger.com/profile/18220849795910855444'}, 'displayTime': 'July 8, 2009 at 7:00 PM', 'deleteclass': 'item-control blog-admin pid-1328680153'}, {'id': '9145770648237443556', 'body': 'Is there a complete soucre code?', 'timestamp': '1248966206510', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1248966206510#c9145770648237443556', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'July 30, 2009 at 8:03 AM', 'deleteclass': 'item-control blog-admin pid-1781655714'}, {'id': '3856161044096551174', 'body': 'Can anyone please tell me if I want to use Oracle in place of hsqldb what should i do?', 'timestamp': '1256593415938', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1256593415938#c3856161044096551174', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'October 26, 2009 at 2:43 PM', 'deleteclass': 'item-control blog-admin pid-85124705'}, {'id': '808638498089075405', 'body': 'Hi,\x3cbr /\x3eGreat article! I\x26#39;m starting using Spring MVC, so i would like to know why use the Service Layer based on SpringTransactionProxy instead of Control Layer (from SpringMVC) to leads the business logic. How i can modify it for Spring MVC ? Which gains and losses ?', 'timestamp': '1259149670166', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1259149670166#c808638498089075405', 'author': {'name': 'Gilson', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'November 25, 2009 at 3:47 AM', 'deleteclass': 'item-control blog-admin pid-664770231'}, {'id': '3424537189061012879', 'body': 'Hello all,\x3cbr /\x3eim facing a problem trying to execute this sample. After press the REGISTER button on Register page my application was through an exception. Its strange because i got the CAPTCHA text correctly and after enter the text in the textbox i receive the message [Incorrect CAPTCHA text, please try again] followed by exception message error below in TOMCAT console.\x3cbr /\x3e\x3cbr /\x3ejava.net.SocketTimeoutException: connect timed out\x3cbr /\x3e        at java.net.PlainSocketImpl.socketConnect(Native Method)\x3cbr /\x3e        at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)\x3cbr /\x3e        at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)\x3cbr /\x3e        at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)\x3cbr /\x3e        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)\x3cbr /\x3e        at java.net.Socket.connect(Socket.java:519)\x3cbr /\x3e        at sun.net.NetworkClient.doConnect(NetworkClient.java:158)\x3cbr /\x3e        at sun.net.www.http.HttpClient.openServer(HttpClient.java:394)\x3cbr /\x3e        at sun.net.www.http.HttpClient.openServer\x3cbr /\x3e:\x3cbr /\x3esun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLCo\x3cbr /\x3ennection.java:896)\x3cbr /\x3e        at example.jsf.FacesSupport.post(FacesSupport.java:165)\x3cbr /\x3e        at example.jsf.FacesSupport.isCaptchaSolved(FacesSupport.java:147)\x3cbr /\x3e        at example.jsf.GuestSupport.doRegister(GuestSupport.java:157)\x3cbr /\x3e        at \x3cbr /\x3e\x3cbr /\x3e\x3cbr /\x3eAnyone any suggestion ?\x3cbr /\x3eThanks in Advance', 'timestamp': '1259169902183', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1259169902183#c3424537189061012879', 'author': {'name': 'Gilson', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'November 25, 2009 at 9:25 AM', 'deleteclass': 'item-control blog-admin pid-664770231'}, {'id': '6696352013586414586', 'body': 'Hi,\x3cbr /\x3esomeone can say me how the getRecaptchaVerifyUrl() method recover the URL string or where recaptchaVerifyUrl variable is setted ? I didn\x26#39;t find any references for setRecaptchaVerifyUrl() method and i\x26#39;m facing a problem related to connection in Post method.\x3cbr /\x3e\x3cbr /\x3eThanks in advance.', 'timestamp': '1259172189748', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1259172189748#c6696352013586414586', 'author': {'name': 'Gilson', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'November 25, 2009 at 10:03 AM', 'deleteclass': 'item-control blog-admin pid-664770231'}, {'id': '6847921345898893053', 'body': 'recaptchaVerifyUrl is set in example-jsf.xml', 'timestamp': '1259173001899', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1259173001899#c6847921345898893053', 'author': {'name': 'thelabdude', 'avatarUrl': '//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA\x3ds35', 'profileUrl': 'https://www.blogger.com/profile/08032248788175889303'}, 'displayTime': 'November 25, 2009 at 10:16 AM', 'deleteclass': 'item-control blog-admin pid-890513516'}, {'id': '7971438645916634597', 'body': 'Hi,\x3cbr /\x3ewhy i receive a SocketTimeoutException in Tomcat Console when i submit the CAPTCHA text from Register Form ? \x3cbr /\x3eThanks', 'timestamp': '1259176714658', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1259176714658#c7971438645916634597', 'author': {'name': 'Gilson', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'November 25, 2009 at 11:18 AM', 'deleteclass': 'item-control blog-admin pid-664770231'}, {'id': '4152640940099955591', 'body': 'thank you very much for your sharing. it was so useful in our project.It works well. thanks alot again:D', 'timestamp': '1260224161666', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1260224161666#c4152640940099955591', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'December 7, 2009 at 2:16 PM', 'deleteclass': 'item-control blog-admin pid-1424007227'}, {'id': '3107640333456690712', 'body': 'hallo, pls can enyone tell  me how to use MySQL instead of hsql?..pls this is very urgent to me..', 'timestamp': '1263982798527', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1263982798527#c3107640333456690712', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'January 20, 2010 at 2:19 AM', 'deleteclass': 'item-control blog-admin pid-2078527653'}, {'id': '8126550872998497484', 'body': 'An excelent article. I think that you have written this article from your own experience in development. I have read many articles, but i never have seen an article about authentication fullest and full explained.\x3cbr /\x3eI was impressed with the whole of knowledge applied here, then I would like you to recommend me some references (books, articles) to complement it based in your experience.', 'timestamp': '1266537504668', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1266537504668#c8126550872998497484', 'author': {'name': 'Gilson D\x27Elrei', 'avatarUrl': '//3.bp.blogspot.com/_TdvBcLSSwYw/Sao17z_DyBI/AAAAAAAAACI/rBO0-NU1lL0/S45-s35/gilson_quadro.jpg', 'profileUrl': 'https://www.blogger.com/profile/13456196100907903040'}, 'displayTime': 'February 18, 2010 at 3:58 PM', 'deleteclass': 'item-control blog-admin pid-1409415932'}, {'id': '1535261008040205394', 'body': 'An excelent article.. Brazilian Tanks !', 'timestamp': '1267823081001', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1267823081001#c1535261008040205394', 'author': {'name': 'JUNIOR  - DESENVOLVEDOR NUTEC - DITI', 'avatarUrl': '//2.bp.blogspot.com/_nTzBoYSeT2I/SwwVb8hsMrI/AAAAAAAACm8/_2-ts9lkTuo/S45-s35/53c3bce66e43be4f209556518c2fcb54.jpg', 'profileUrl': 'https://www.blogger.com/profile/13176535089221707675'}, 'displayTime': 'March 5, 2010 at 1:04 PM', 'deleteclass': 'item-control blog-admin pid-2123349440'}, {'id': '2044853908912166276', 'body': 'Dear Friends. I downloaded the source code. Tomcat works perfect, but when I put the example.war at webapps and test it on my browser -\x26gt; http://localhost:8080/example/  I&#180;m getting a 404 Tomcat&#180;s error. Anyone knows what can be that issue? Thank you so much.', 'timestamp': '1269802237641', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1269802237641#c2044853908912166276', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'March 28, 2010 at 11:50 AM', 'deleteclass': 'item-control blog-admin pid-405515013'}, {'id': '4090310457949003850', 'body': 'The source can not be downloaded :-(', 'timestamp': '1269855560600', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1269855560600#c4090310457949003850', 'author': {'name': 'svwingerden', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'March 29, 2010 at 2:39 AM', 'deleteclass': 'item-control blog-admin pid-438280191'}, {'id': '1895994526931008664', 'body': 'Really An excellent article.\x3cbr /\x3ebut i can\x26#39;t download the source code.\x3cbr /\x3ecould u upload it again or tell me how to get it plz.', 'timestamp': '1270014975933', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1270014975933#c1895994526931008664', 'author': {'name': 'Anonymous', 'avatarUrl': '//img1.blogblog.com/img/blank.gif', 'profileUrl': ''}, 'displayTime': 'March 30, 2010 at 10:56 PM', 'deleteclass': 'item-control blog-admin pid-2052245448'}, {'id': '8832795012040258381', 'body': 'Trying to find a new home for the source code for the Spring project as some bot got ahold of the URL and drove my bandwidth usage over the limit.\x3cbr /\x3e\x3cbr /\x3ePlease send an email to thelabdude at gmail and I\x26#39;ll send you a link to the temporary download location.', 'timestamp': '1270042883103', 'permalink': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment\x3d1270042883103#c8832795012040258381', 'author': {'name': 'thelabdude', 'avatarUrl': '//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA\x3ds35', 'profileUrl': 'https://www.blogger.com/profile/08032248788175889303'}, 'displayTime': 'March 31, 2010 at 6:41 AM', 'deleteclass': 'item-control blog-admin pid-890513516'}];
      var msgs = {'loadMore': 'Load more...', 'loading': 'Loading...', 'loaded': 'No more!', 'addComment': 'Add comment', 'reply': 'Reply', 'delete': 'Delete'};
      var config = {'blogId': '6666528949054177156', 'postId': '6473217683954305768', 'feed': 'http://thelabdude.blogspot.com/feeds/6473217683954305768/comments/default', 'authorName': 'thelabdude', 'authorUrl': 'https://www.blogger.com/profile/08032248788175889303', 'baseUri': 'https://www.blogger.com', 'maxThreadDepth': 2};

// <![CDATA[
      var cursor = null;
      if (items && items.length > 0) {
        cursor = parseInt(items[items.length - 1].timestamp) + 1;
      }

      var bodyFromEntry = function(entry) {
        if (entry.gd$extendedProperty) {
          for (var k in entry.gd$extendedProperty) {
            if (entry.gd$extendedProperty[k].name == 'blogger.contentRemoved') {
              return '<span class="deleted-comment">' + entry.content.$t + '</span>';
            }
          }
        }
        return entry.content.$t;
      }

      var parse = function(data) {
        cursor = null;
        var comments = [];
        if (data && data.feed && data.feed.entry) {
          for (var i = 0, entry; entry = data.feed.entry[i]; i++) {
            var comment = {};
            // comment ID, parsed out of the original id format
            var id = /blog-(\d+).post-(\d+)/.exec(entry.id.$t);
            comment.id = id ? id[2] : null;
            comment.body = bodyFromEntry(entry);
            comment.timestamp = Date.parse(entry.published.$t) + '';
            if (entry.author && entry.author.constructor === Array) {
              var auth = entry.author[0];
              if (auth) {
                comment.author = {
                  name: (auth.name ? auth.name.$t : undefined),
                  profileUrl: (auth.uri ? auth.uri.$t : undefined),
                  avatarUrl: (auth.gd$image ? auth.gd$image.src : undefined)
                };
              }
            }
            if (entry.link) {
              if (entry.link[2]) {
                comment.link = comment.permalink = entry.link[2].href;
              }
              if (entry.link[3]) {
                var pid = /.*comments\/default\/(\d+)\?.*/.exec(entry.link[3].href);
                if (pid && pid[1]) {
                  comment.parentId = pid[1];
                }
              }
            }
            comment.deleteclass = 'item-control blog-admin';
            if (entry.gd$extendedProperty) {
              for (var k in entry.gd$extendedProperty) {
                if (entry.gd$extendedProperty[k].name == 'blogger.itemClass') {
                  comment.deleteclass += ' ' + entry.gd$extendedProperty[k].value;
                } else if (entry.gd$extendedProperty[k].name == 'blogger.displayTime') {
                  comment.displayTime = entry.gd$extendedProperty[k].value;
                }
              }
            }
            comments.push(comment);
          }
        }
        return comments;
      };

      var paginator = function(callback) {
        if (hasMore()) {
          var url = config.feed + '?alt=json&v=2&orderby=published&reverse=false&max-results=50';
          if (cursor) {
            url += '&published-min=' + new Date(cursor).toISOString();
          }
          window.bloggercomments = function(data) {
            var parsed = parse(data);
            cursor = parsed.length < 50 ? null
                : parseInt(parsed[parsed.length - 1].timestamp) + 1
            callback(parsed);
            window.bloggercomments = null;
          }
          url += '&callback=bloggercomments';
          var script = document.createElement('script');
          script.type = 'text/javascript';
          script.src = url;
          document.getElementsByTagName('head')[0].appendChild(script);
        }
      };
      var hasMore = function() {
        return !!cursor;
      };
      var getMeta = function(key, comment) {
        if ('iswriter' == key) {
          var matches = !!comment.author
              && comment.author.name == config.authorName
              && comment.author.profileUrl == config.authorUrl;
          return matches ? 'true' : '';
        } else if ('deletelink' == key) {
          return config.baseUri + '/delete-comment.g?blogID='
               + config.blogId + '&postID=' + comment.id;
        } else if ('deleteclass' == key) {
          return comment.deleteclass;
        }
        return '';
      };

      var replybox = null;
      var replyUrlParts = null;
      var replyParent = undefined;

      var onReply = function(commentId, domId) {
        if (replybox == null) {
          // lazily cache replybox, and adjust to suit this style:
          replybox = document.getElementById('comment-editor');
          if (replybox != null) {
            replybox.height = '250px';
            replybox.style.display = 'block';
            replyUrlParts = replybox.src.split('#');
          }
        }
        if (replybox && (commentId !== replyParent)) {
          replybox.src = '';
          document.getElementById(domId).insertBefore(replybox, null);
          replybox.src = replyUrlParts[0]
              + (commentId ? '&parentID=' + commentId : '')
              + '#' + replyUrlParts[1];
          replyParent = commentId;
        }
      };

      var hash = (window.location.hash || '#').substring(1);
      var startThread, targetComment;
      if (/^comment-form_/.test(hash)) {
        startThread = hash.substring('comment-form_'.length);
      } else if (/^c[0-9]+$/.test(hash)) {
        targetComment = hash.substring(1);
      }

      // Configure commenting API:
      var configJso = {
        'maxDepth': config.maxThreadDepth
      };
      var provider = {
        'id': config.postId,
        'data': items,
        'loadNext': paginator,
        'hasMore': hasMore,
        'getMeta': getMeta,
        'onReply': onReply,
        'rendered': true,
        'initComment': targetComment,
        'initReplyThread': startThread,
        'config': configJso,
        'messages': msgs
      };

      var render = function() {
        if (window.goog && window.goog.comments) {
          var holder = document.getElementById('comment-holder');
          window.goog.comments.render(holder, provider);
        }
      };

      // render now, or queue to render when library loads:
      if (window.goog && window.goog.comments) {
        render();
      } else {
        window.goog = window.goog || {};
        window.goog.comments = window.goog.comments || {};
        window.goog.comments.loadQueue = window.goog.comments.loadQueue || [];
        window.goog.comments.loadQueue.push(render);
      }
    })();
// ]]>
  </script> 
              <div id="comment-holder"> 
               <div id="bc_0_31C" kind="c">
                <div id="bc_0_31CT">
                 <div id="bc_0_30T" class="comment-thread" kind="r" t="0" u="0">
                  <ol id="bc_0_30TB">
                   <li id="bc_0_0B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
                    </div>
                    <div id="c3316929977330306544" class="comment-block">
                     <div id="bc_0_0M" class="comment-header" kind="m">
                      <cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/05856628429651905973">anonymous</a></cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1242919432919#c3316929977330306544">May 21, 2009 at 8:23 AM</a></span>
                     </div>
                     <p id="bc_0_0MC" class="comment-content">Hi!<br>Its a really great example and I am definetly going to use it as a template for my coming projects. <br><br>The RECAPTCHA AUTHENTICATION part of the code is not rendered/not visible in the site. Do you know what could be wrong?<br><br>thanks for the great tutorial</p>
                     <span id="bc_0_0MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1659859711"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=3316929977330306544">Delete</a></span></span>
                    </div>
                    <div id="bc_0_0BR" class="comment-replies"></div>
                    <div id="bc_0_0B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_1B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//img1.blogblog.com/img/blank.gif">
                    </div>
                    <div id="c1360438041196185971" class="comment-block">
                     <div id="bc_0_1M" class="comment-header" kind="m">
                      <cite class="user">choesang</cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1242920016999#c1360438041196185971">May 21, 2009 at 8:33 AM</a></span>
                     </div>
                     <p id="bc_0_1MC" class="comment-content">Is it possible that you have not defined a public key for the RECAPTCHA AUTHENTICATION? <br><br>regards</p>
                     <span id="bc_0_1MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-168130015"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=1360438041196185971">Delete</a></span></span>
                    </div>
                    <div id="bc_0_1BR" class="comment-replies"></div>
                    <div id="bc_0_1B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_2B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
                    </div>
                    <div id="c1094049309077903334" class="comment-block">
                     <div id="bc_0_2M" class="comment-header" kind="m">
                      <cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/08032248788175889303">thelabdude</a></cite>
                      <span class="icon user blog-author"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1242923294334#c1094049309077903334">May 21, 2009 at 9:28 AM</a></span>
                     </div>
                     <p id="bc_0_2MC" class="comment-content">Just a reminder that you need to register with the reCAPTCHA site to get your own private / public keys. Once you have those, then you need to plug them in the config/example-jsf.xml file ... look for:<br><br>&lt;property name="recaptchaPrivateKey"<br>value="GET YOUR OWN PRIVATE KEY"/&gt;<br>&lt;property name="recaptchaVerifyUrl"<br>value="http://api-verify.recaptcha.net/verify"/&gt;<br>&lt;property name="recaptchaScriptUrl"<br>value="http://api.recaptcha.net/challenge?k=GET YOUR OWN PUBLIC KEY"/&gt;<br><br>You can register with reCAPTCHA to get your own keys at http://recaptcha.net/whyrecaptcha.html.<br><br>If you've done this, then try viewing the source of the page from your browser to see what my custom tag is putting out. Feel free to post back here with more information.</p>
                     <span id="bc_0_2MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-890513516"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=1094049309077903334">Delete</a></span></span>
                    </div>
                    <div id="bc_0_2BR" class="comment-replies"></div>
                    <div id="bc_0_2B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_3B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
                    </div>
                    <div id="c5716343230134381123" class="comment-block">
                     <div id="bc_0_3M" class="comment-header" kind="m">
                      <cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/05856628429651905973">anonymous</a></cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1242986990396#c5716343230134381123">May 22, 2009 at 3:09 AM</a></span>
                     </div>
                     <p id="bc_0_3MC" class="comment-content">Hi!<br>Thank you for your prompt reply. Now the recaptcha part works But it fails to send mail. I get the following error:<br><br>org.springframework.mail.mailsendexception: mail server connection failed; nested exception is <br>javax.mail.MessageException: Could not connect to SMTP host: example.com port:25;<br><br>Do you have any idea, where the mistake is?</p>
                     <span id="bc_0_3MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1659859711"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=5716343230134381123">Delete</a></span></span>
                    </div>
                    <div id="bc_0_3BR" class="comment-replies"></div>
                    <div id="bc_0_3B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_4B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
                    </div>
                    <div id="c1679408964097930331" class="comment-block">
                     <div id="bc_0_4M" class="comment-header" kind="m">
                      <cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/05856628429651905973">anonymous</a></cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1243001530197#c1679408964097930331">May 22, 2009 at 7:12 AM</a></span>
                     </div>
                     <p id="bc_0_4MC" class="comment-content">I solved the problem regarding sending mail. I edited example-env.properties to use gmail and it all went well. <br><br>An observation, when the mail is send, the activationURL is localhost:8989 instead of localhost:8080<br><br>Thank you for the great tutorial.</p>
                     <span id="bc_0_4MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1659859711"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=1679408964097930331">Delete</a></span></span>
                    </div>
                    <div id="bc_0_4BR" class="comment-replies"></div>
                    <div id="bc_0_4B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_5B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
                    </div>
                    <div id="c8481764499330635391" class="comment-block">
                     <div id="bc_0_5M" class="comment-header" kind="m">
                      <cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/08032248788175889303">thelabdude</a></cite>
                      <span class="icon user blog-author"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1243002901430#c8481764499330635391">May 22, 2009 at 7:35 AM</a></span>
                     </div>
                     <p id="bc_0_5MC" class="comment-content">Glad to hear you have the reCAPTCHA stuff working ...<br><br>Re: localhost:8989 ...<br><br>You need to change the 'activationLinkUrl' property in example-env.properties to match your server.</p>
                     <span id="bc_0_5MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-890513516"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=8481764499330635391">Delete</a></span></span>
                    </div>
                    <div id="bc_0_5BR" class="comment-replies"></div>
                    <div id="bc_0_5B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_6B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
                    </div>
                    <div id="c3116988177567146574" class="comment-block">
                     <div id="bc_0_6M" class="comment-header" kind="m">
                      <cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/10135980656836281405">Zuquirio maur</a></cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1243460618753#c3116988177567146574">May 27, 2009 at 2:43 PM</a></span>
                     </div>
                     <p id="bc_0_6MC" class="comment-content">Great article!</p>
                     <span id="bc_0_6MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1471028727"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=3116988177567146574">Delete</a></span></span>
                    </div>
                    <div id="bc_0_6BR" class="comment-replies"></div>
                    <div id="bc_0_6B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_7B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//img1.blogblog.com/img/blank.gif">
                    </div>
                    <div id="c1700359322581874700" class="comment-block">
                     <div id="bc_0_7M" class="comment-header" kind="m">
                      <cite class="user">Anonymous</cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1243687480922#c1700359322581874700">May 30, 2009 at 5:44 AM</a></span>
                     </div>
                     <p id="bc_0_7MC" class="comment-content">Hi,<br><br>I made these changes in examples-env.properties file.<br>mailhost=gmail.com<br>But I am still getting an error saying that "Could not connect to SMTP hose gmail.com port 25".<br><br>Do you know why it is so?<br>Is there any way, I could disable this mail sending functionality?</p>
                     <span id="bc_0_7MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-299246548"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=1700359322581874700">Delete</a></span></span>
                    </div>
                    <div id="bc_0_7BR" class="comment-replies"></div>
                    <div id="bc_0_7B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_8B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
                    </div>
                    <div id="c7454717879944913431" class="comment-block">
                     <div id="bc_0_8M" class="comment-header" kind="m">
                      <cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/08032248788175889303">thelabdude</a></cite>
                      <span class="icon user blog-author"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1243691671487#c7454717879944913431">May 30, 2009 at 6:54 AM</a></span>
                     </div>
                     <p id="bc_0_8MC" class="comment-content">gmail.com is probably not a SMTP server ... The only way to disable email at this point would be to alter the logic in the UserServiceImpl::createUser method but that sort of defeats the purpose of this solution.</p>
                     <span id="bc_0_8MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-890513516"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=7454717879944913431">Delete</a></span></span>
                    </div>
                    <div id="bc_0_8BR" class="comment-replies"></div>
                    <div id="bc_0_8B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_9B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//img1.blogblog.com/img/blank.gif">
                    </div>
                    <div id="c7824433801361163112" class="comment-block">
                     <div id="bc_0_9M" class="comment-header" kind="m">
                      <cite class="user">Anonymous</cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1243855277333#c7824433801361163112">June 1, 2009 at 4:21 AM</a></span>
                     </div>
                     <p id="bc_0_9MC" class="comment-content">Instead of gmail.com, could uo suggest any other SMTP server I can use to test or have a look at the solution?</p>
                     <span id="bc_0_9MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-729488972"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=7824433801361163112">Delete</a></span></span>
                    </div>
                    <div id="bc_0_9BR" class="comment-replies"></div>
                    <div id="bc_0_9B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_10B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//img1.blogblog.com/img/blank.gif">
                    </div>
                    <div id="c7055566982576311256" class="comment-block">
                     <div id="bc_0_10M" class="comment-header" kind="m">
                      <cite class="user">Anonymous</cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1243971437686#c7055566982576311256">June 2, 2009 at 12:37 PM</a></span>
                     </div>
                     <p id="bc_0_10MC" class="comment-content">Hello out there!<br><br>I'm using the same Spring versions like the Example, but I always gets the error:<br><br>"lang.NoSuchMethodError: org.springframework.web.context.ConfigurableWebApplicationContext.setConfigLocation(Ljava/lang/String;)V"<br><br>I'm getting crazy and really don't knwo what I can still do....<br><br>I don't user maven, so i cannot exclude dependencys or such things!<br><br>Can anybody help me please, i'm really desperate!<br><br>I also tried a lot of other versions of spring.<br><br>2.5.5, 2.5.1 .. all those!<br><br>Can anyone with a running application maybe post his jar archives, what can i do else?</p>
                     <span id="bc_0_10MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1886608456"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=7055566982576311256">Delete</a></span></span>
                    </div>
                    <div id="bc_0_10BR" class="comment-replies"></div>
                    <div id="bc_0_10B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_11B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//img1.blogblog.com/img/blank.gif">
                    </div>
                    <div id="c3069760382661492279" class="comment-block">
                     <div id="bc_0_11M" class="comment-header" kind="m">
                      <cite class="user">Anonymous</cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1245461121373#c3069760382661492279">June 19, 2009 at 6:25 PM</a></span>
                     </div>
                     <p id="bc_0_11MC" class="comment-content">Learn Wicket. Forget JSF.</p>
                     <span id="bc_0_11MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-486169530"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=3069760382661492279">Delete</a></span></span>
                    </div>
                    <div id="bc_0_11BR" class="comment-replies"></div>
                    <div id="bc_0_11B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_12B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//img1.blogblog.com/img/blank.gif">
                    </div>
                    <div id="c1852511212213503794" class="comment-block">
                     <div id="bc_0_12M" class="comment-header" kind="m">
                      <cite class="user">Anonymous</cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1245880273920#c1852511212213503794">June 24, 2009 at 2:51 PM</a></span>
                     </div>
                     <p id="bc_0_12MC" class="comment-content">Hi!<br><br>I've been trying to implement solution similar to yours for the login panel.<br><br>My big problem is that apparently when I execute the dispatch (or somewhere around that) the session gets reset.<br><br>This leads me to 2 big problems:<br>1) every time a login is successful, I just fall back to the same login page again and again..<br>2) if I check the remember me I got an exception regarding the session not being there anymore (I'll provide you with the full trace if you want). But then when I reload the page I'm logged in as if it worked.<br><br>From the logs in spring security it appears that the session ID changes every time I authenticate. No problems if I fall back in the standard login form.<br><br>I have the feeling that this could be a simple configuration issue (one of those you bang your head on for days and then just feel stupid for not having seen it before), has it ever happen to you something similar?<br><br>Thanks in advance.</p>
                     <span id="bc_0_12MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-538511680"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=1852511212213503794">Delete</a></span></span>
                    </div>
                    <div id="bc_0_12BR" class="comment-replies"></div>
                    <div id="bc_0_12B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_13B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
                    </div>
                    <div id="c6237412350097187128" class="comment-block">
                     <div id="bc_0_13M" class="comment-header" kind="m">
                      <cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/18220849795910855444">Prabhat Jha</a></cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1247104831599#c6237412350097187128">July 8, 2009 at 7:00 PM</a></span>
                     </div>
                     <p id="bc_0_13MC" class="comment-content">http://sensiblerationalization.blogspot.com/2009/07/from-jsf-to-richfaces-to-richfaces.html for those who would like to get stared with Richfaces</p>
                     <span id="bc_0_13MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1328680153"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=6237412350097187128">Delete</a></span></span>
                    </div>
                    <div id="bc_0_13BR" class="comment-replies"></div>
                    <div id="bc_0_13B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_14B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
                    </div>
                    <div id="c517767947670332858" class="comment-block">
                     <div id="bc_0_14M" class="comment-header" kind="m">
                      <cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/18220849795910855444">Prabhat Jha</a></cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1247104831600#c517767947670332858">July 8, 2009 at 7:00 PM</a></span>
                     </div>
                     <p id="bc_0_14MC" class="comment-content">For those who know JSF and would like to get started with Richfaces and probably portal, I wrote an intro blog at http://sensiblerationalization.blogspot.com/</p>
                     <span id="bc_0_14MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1328680153"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=517767947670332858">Delete</a></span></span>
                    </div>
                    <div id="bc_0_14BR" class="comment-replies"></div>
                    <div id="bc_0_14B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_15B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//img1.blogblog.com/img/blank.gif">
                    </div>
                    <div id="c9145770648237443556" class="comment-block">
                     <div id="bc_0_15M" class="comment-header" kind="m">
                      <cite class="user">Anonymous</cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1248966206510#c9145770648237443556">July 30, 2009 at 8:03 AM</a></span>
                     </div>
                     <p id="bc_0_15MC" class="comment-content">Is there a complete soucre code?</p>
                     <span id="bc_0_15MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1781655714"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=9145770648237443556">Delete</a></span></span>
                    </div>
                    <div id="bc_0_15BR" class="comment-replies"></div>
                    <div id="bc_0_15B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_16B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//img1.blogblog.com/img/blank.gif">
                    </div>
                    <div id="c3856161044096551174" class="comment-block">
                     <div id="bc_0_16M" class="comment-header" kind="m">
                      <cite class="user">Anonymous</cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1256593415938#c3856161044096551174">October 26, 2009 at 2:43 PM</a></span>
                     </div>
                     <p id="bc_0_16MC" class="comment-content">Can anyone please tell me if I want to use Oracle in place of hsqldb what should i do?</p>
                     <span id="bc_0_16MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-85124705"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=3856161044096551174">Delete</a></span></span>
                    </div>
                    <div id="bc_0_16BR" class="comment-replies"></div>
                    <div id="bc_0_16B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_17B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//img1.blogblog.com/img/blank.gif">
                    </div>
                    <div id="c808638498089075405" class="comment-block">
                     <div id="bc_0_17M" class="comment-header" kind="m">
                      <cite class="user">Gilson</cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1259149670166#c808638498089075405">November 25, 2009 at 3:47 AM</a></span>
                     </div>
                     <p id="bc_0_17MC" class="comment-content">Hi,<br>Great article! I'm starting using Spring MVC, so i would like to know why use the Service Layer based on SpringTransactionProxy instead of Control Layer (from SpringMVC) to leads the business logic. How i can modify it for Spring MVC ? Which gains and losses ?</p>
                     <span id="bc_0_17MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-664770231"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=808638498089075405">Delete</a></span></span>
                    </div>
                    <div id="bc_0_17BR" class="comment-replies"></div>
                    <div id="bc_0_17B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_18B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//img1.blogblog.com/img/blank.gif">
                    </div>
                    <div id="c3424537189061012879" class="comment-block">
                     <div id="bc_0_18M" class="comment-header" kind="m">
                      <cite class="user">Gilson</cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1259169902183#c3424537189061012879">November 25, 2009 at 9:25 AM</a></span>
                     </div>
                     <p id="bc_0_18MC" class="comment-content">Hello all,<br>im facing a problem trying to execute this sample. After press the REGISTER button on Register page my application was through an exception. Its strange because i got the CAPTCHA text correctly and after enter the text in the textbox i receive the message [Incorrect CAPTCHA text, please try again] followed by exception message error below in TOMCAT console.<br><br>java.net.SocketTimeoutException: connect timed out<br> at java.net.PlainSocketImpl.socketConnect(Native Method)<br> at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)<br> at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)<br> at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)<br> at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)<br> at java.net.Socket.connect(Socket.java:519)<br> at sun.net.NetworkClient.doConnect(NetworkClient.java:158)<br> at sun.net.www.http.HttpClient.openServer(HttpClient.java:394)<br> at sun.net.www.http.HttpClient.openServer<br>:<br>sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLCo<br>nnection.java:896)<br> at example.jsf.FacesSupport.post(FacesSupport.java:165)<br> at example.jsf.FacesSupport.isCaptchaSolved(FacesSupport.java:147)<br> at example.jsf.GuestSupport.doRegister(GuestSupport.java:157)<br> at <br><br><br>Anyone any suggestion ?<br>Thanks in Advance</p>
                     <span id="bc_0_18MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-664770231"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=3424537189061012879">Delete</a></span></span>
                    </div>
                    <div id="bc_0_18BR" class="comment-replies"></div>
                    <div id="bc_0_18B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_19B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//img1.blogblog.com/img/blank.gif">
                    </div>
                    <div id="c6696352013586414586" class="comment-block">
                     <div id="bc_0_19M" class="comment-header" kind="m">
                      <cite class="user">Gilson</cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1259172189748#c6696352013586414586">November 25, 2009 at 10:03 AM</a></span>
                     </div>
                     <p id="bc_0_19MC" class="comment-content">Hi,<br>someone can say me how the getRecaptchaVerifyUrl() method recover the URL string or where recaptchaVerifyUrl variable is setted ? I didn't find any references for setRecaptchaVerifyUrl() method and i'm facing a problem related to connection in Post method.<br><br>Thanks in advance.</p>
                     <span id="bc_0_19MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-664770231"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=6696352013586414586">Delete</a></span></span>
                    </div>
                    <div id="bc_0_19BR" class="comment-replies"></div>
                    <div id="bc_0_19B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_20B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
                    </div>
                    <div id="c6847921345898893053" class="comment-block">
                     <div id="bc_0_20M" class="comment-header" kind="m">
                      <cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/08032248788175889303">thelabdude</a></cite>
                      <span class="icon user blog-author"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1259173001899#c6847921345898893053">November 25, 2009 at 10:16 AM</a></span>
                     </div>
                     <p id="bc_0_20MC" class="comment-content">recaptchaVerifyUrl is set in example-jsf.xml</p>
                     <span id="bc_0_20MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-890513516"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=6847921345898893053">Delete</a></span></span>
                    </div>
                    <div id="bc_0_20BR" class="comment-replies"></div>
                    <div id="bc_0_20B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_21B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//img1.blogblog.com/img/blank.gif">
                    </div>
                    <div id="c7971438645916634597" class="comment-block">
                     <div id="bc_0_21M" class="comment-header" kind="m">
                      <cite class="user">Gilson</cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1259176714658#c7971438645916634597">November 25, 2009 at 11:18 AM</a></span>
                     </div>
                     <p id="bc_0_21MC" class="comment-content">Hi,<br>why i receive a SocketTimeoutException in Tomcat Console when i submit the CAPTCHA text from Register Form ? <br>Thanks</p>
                     <span id="bc_0_21MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-664770231"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=7971438645916634597">Delete</a></span></span>
                    </div>
                    <div id="bc_0_21BR" class="comment-replies"></div>
                    <div id="bc_0_21B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_22B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//img1.blogblog.com/img/blank.gif">
                    </div>
                    <div id="c4152640940099955591" class="comment-block">
                     <div id="bc_0_22M" class="comment-header" kind="m">
                      <cite class="user">Anonymous</cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1260224161666#c4152640940099955591">December 7, 2009 at 2:16 PM</a></span>
                     </div>
                     <p id="bc_0_22MC" class="comment-content">thank you very much for your sharing. it was so useful in our project.It works well. thanks alot again:D</p>
                     <span id="bc_0_22MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1424007227"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=4152640940099955591">Delete</a></span></span>
                    </div>
                    <div id="bc_0_22BR" class="comment-replies"></div>
                    <div id="bc_0_22B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_23B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//img1.blogblog.com/img/blank.gif">
                    </div>
                    <div id="c3107640333456690712" class="comment-block">
                     <div id="bc_0_23M" class="comment-header" kind="m">
                      <cite class="user">Anonymous</cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1263982798527#c3107640333456690712">January 20, 2010 at 2:19 AM</a></span>
                     </div>
                     <p id="bc_0_23MC" class="comment-content">hallo, pls can enyone tell me how to use MySQL instead of hsql?..pls this is very urgent to me..</p>
                     <span id="bc_0_23MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-2078527653"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=3107640333456690712">Delete</a></span></span>
                    </div>
                    <div id="bc_0_23BR" class="comment-replies"></div>
                    <div id="bc_0_23B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_24B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//3.bp.blogspot.com/_TdvBcLSSwYw/Sao17z_DyBI/AAAAAAAAACI/rBO0-NU1lL0/S45-s35/gilson_quadro.jpg">
                    </div>
                    <div id="c8126550872998497484" class="comment-block">
                     <div id="bc_0_24M" class="comment-header" kind="m">
                      <cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/13456196100907903040">Gilson D'Elrei</a></cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1266537504668#c8126550872998497484">February 18, 2010 at 3:58 PM</a></span>
                     </div>
                     <p id="bc_0_24MC" class="comment-content">An excelent article. I think that you have written this article from your own experience in development. I have read many articles, but i never have seen an article about authentication fullest and full explained.<br>I was impressed with the whole of knowledge applied here, then I would like you to recommend me some references (books, articles) to complement it based in your experience.</p>
                     <span id="bc_0_24MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-1409415932"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=8126550872998497484">Delete</a></span></span>
                    </div>
                    <div id="bc_0_24BR" class="comment-replies"></div>
                    <div id="bc_0_24B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_25B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//2.bp.blogspot.com/_nTzBoYSeT2I/SwwVb8hsMrI/AAAAAAAACm8/_2-ts9lkTuo/S45-s35/53c3bce66e43be4f209556518c2fcb54.jpg">
                    </div>
                    <div id="c1535261008040205394" class="comment-block">
                     <div id="bc_0_25M" class="comment-header" kind="m">
                      <cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/13176535089221707675">JUNIOR - DESENVOLVEDOR NUTEC - DITI</a></cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1267823081001#c1535261008040205394">March 5, 2010 at 1:04 PM</a></span>
                     </div>
                     <p id="bc_0_25MC" class="comment-content">An excelent article.. Brazilian Tanks !</p>
                     <span id="bc_0_25MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-2123349440"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=1535261008040205394">Delete</a></span></span>
                    </div>
                    <div id="bc_0_25BR" class="comment-replies"></div>
                    <div id="bc_0_25B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_26B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//img1.blogblog.com/img/blank.gif">
                    </div>
                    <div id="c2044853908912166276" class="comment-block">
                     <div id="bc_0_26M" class="comment-header" kind="m">
                      <cite class="user">Anonymous</cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1269802237641#c2044853908912166276">March 28, 2010 at 11:50 AM</a></span>
                     </div>
                     <p id="bc_0_26MC" class="comment-content">Dear Friends. I downloaded the source code. Tomcat works perfect, but when I put the example.war at webapps and test it on my browser -&gt; http://localhost:8080/example/ Im getting a 404 Tomcats error. Anyone knows what can be that issue? Thank you so much.</p>
                     <span id="bc_0_26MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-405515013"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=2044853908912166276">Delete</a></span></span>
                    </div>
                    <div id="bc_0_26BR" class="comment-replies"></div>
                    <div id="bc_0_26B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_27B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//img1.blogblog.com/img/blank.gif">
                    </div>
                    <div id="c4090310457949003850" class="comment-block">
                     <div id="bc_0_27M" class="comment-header" kind="m">
                      <cite class="user">svwingerden</cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1269855560600#c4090310457949003850">March 29, 2010 at 2:39 AM</a></span>
                     </div>
                     <p id="bc_0_27MC" class="comment-content">The source can not be downloaded :-(</p>
                     <span id="bc_0_27MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-438280191"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=4090310457949003850">Delete</a></span></span>
                    </div>
                    <div id="bc_0_27BR" class="comment-replies"></div>
                    <div id="bc_0_27B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_28B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//img1.blogblog.com/img/blank.gif">
                    </div>
                    <div id="c1895994526931008664" class="comment-block">
                     <div id="bc_0_28M" class="comment-header" kind="m">
                      <cite class="user">Anonymous</cite>
                      <span class="icon user"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1270014975933#c1895994526931008664">March 30, 2010 at 10:56 PM</a></span>
                     </div>
                     <p id="bc_0_28MC" class="comment-content">Really An excellent article.<br>but i can't download the source code.<br>could u upload it again or tell me how to get it plz.</p>
                     <span id="bc_0_28MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-2052245448"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=1895994526931008664">Delete</a></span></span>
                    </div>
                    <div id="bc_0_28BR" class="comment-replies"></div>
                    <div id="bc_0_28B_box" class="comment-replybox-single"></div></li>
                   <li id="bc_0_29B" class="comment" kind="b">
                    <div class="avatar-image-container">
                     <img src="//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA=s35">
                    </div>
                    <div id="c8832795012040258381" class="comment-block">
                     <div id="bc_0_29M" class="comment-header" kind="m">
                      <cite class="user blog-author"><a rel="nofollow" href="https://www.blogger.com/profile/08032248788175889303">thelabdude</a></cite>
                      <span class="icon user blog-author"></span>
                      <span class="datetime secondary-text"><a rel="nofollow" href="http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html?showComment=1270042883103#c8832795012040258381">March 31, 2010 at 6:41 AM</a></span>
                     </div>
                     <p id="bc_0_29MC" class="comment-content">Trying to find a new home for the source code for the Spring project as some bot got ahold of the URL and drove my bandwidth usage over the limit.<br><br>Please send an email to thelabdude at gmail and I'll send you a link to the temporary download location.</p>
                     <span id="bc_0_29MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">Reply</a><span class="item-control blog-admin pid-890513516"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=6666528949054177156&amp;postID=8832795012040258381">Delete</a></span></span>
                    </div>
                    <div id="bc_0_29BR" class="comment-replies"></div>
                    <div id="bc_0_29B_box" class="comment-replybox-single"></div></li>
                  </ol>
                  <div id="bc_0_30I" class="continue" kind="ci">
                   <a href="javascript:;" target="_self">Add comment</a>
                  </div>
                  <div id="bc_0_30T_box" class="comment-replybox-thread"></div>
                  <div id="bc_0_30L" class="loadmore loaded" kind="rb">
                   <a href="javascript:;" target="_self">Load more...</a>
                  </div>
                 </div>
                </div>
               </div> 
              </div> 
             </div> 
             <p class="comment-footer"> </p>
             <div class="comment-form"> 
              <a name="comment-form"></a> 
              <p> </p> 
              <a href="https://www.blogger.com/comment-iframe.g?blogID=6666528949054177156&amp;postID=6473217683954305768" id="comment-editor-src"></a> 
              <iframe allowtransparency="true" class="blogger-iframe-colorize blogger-comment-from-post" frameborder="0" height="410px" id="comment-editor" name="comment-editor" src="" width="100%"></iframe> 
              <script src="https://www.blogger.com/static/v1/jsbin/3223910711-comment_from_post_iframe.js" type="text/javascript"></script> 
              <script type="text/javascript">
      BLOG_CMT_createIframe('https://www.blogger.com/rpc_relay.html');
    </script> 
             </div> 
             <p></p> 
             <div id="backlinks-container"> 
              <div id="Blog1_backlinks-container"> 
               <a name="links"></a>
               <h4>
                <!--Can't find substitution for tag [post.backlinksLabel]--></h4> 
               <p class="comment-footer"> <a class="comment-link" href="" id="Blog1_backlinks-create-link" target="_blank">
                 <!--Can't find substitution for tag [post.createLinkLabel]--></a> </p> 
              </div> 
             </div> 
            </div> 
           </div> 
          </div>
         </div> 
        </div> 
        <div class="blog-pager" id="blog-pager"> 
         <span id="blog-pager-newer-link"> <a class="blog-pager-newer-link" href="http://thelabdude.blogspot.com.ar/2009/05/user-registration-solution-using-jboss.html" id="Blog1_blog-pager-newer-link" title="Newer Post">Newer Post</a> </span> 
         <a class="home-link" href="http://thelabdude.blogspot.com.ar/">Home</a> 
        </div> 
        <div class="clear"></div> 
        <div class="post-feeds"> 
         <div class="feed-links">
           Subscribe to: 
          <a class="feed-link" href="http://thelabdude.blogspot.com/feeds/6473217683954305768/comments/default" target="_blank" type="application/atom+xml">Post Comments (Atom)</a> 
         </div> 
        </div> 
        <script type="text/javascript">
    window.___gcfg = { 'lang': 'en' };
  </script> 
       </div>
      </div> 
     </div> 
     <div id="sidebar-wrapper"> 
      <div class="sidebar no-items section" id="sidebar"></div> 
     </div> 
     <!-- spacer for skins that want sidebar and main to be the same height--> 
     <div class="clear">
      &nbsp;
     </div> 
    </div> 
    <!-- end content-wrapper --> 
    <div id="footer-wrapper"> 
     <div class="footer no-items section" id="footer"></div> 
    </div> 
   </div>
  </div> 
  <!-- end outer-wrapper --> 
  <script src="https://apis.google.com/js/plusone.js" type="text/javascript"></script> 
  <script type="text/javascript" src="https://www.blogger.com/static/v1/widgets/2115856256-widgets.js"></script> 
  <script type="text/javascript">
window['__wavt'] = 'AOuZoY4rgdL6v00-44na7Z34LtGkYMc0tw:1506837239066';_WidgetManager._Init('//www.blogger.com/rearrange?blogID\x3d6666528949054177156','//thelabdude.blogspot.com.ar/2009/04/user-authentication-registration-with.html','6666528949054177156');
_WidgetManager._SetDataContext([{'name': 'blog', 'data': {'blogId': '6666528949054177156', 'title': 'thelabdude', 'url': 'http://thelabdude.blogspot.com.ar/2009/04/user-authentication-registration-with.html', 'canonicalUrl': 'http://thelabdude.blogspot.com/2009/04/user-authentication-registration-with.html', 'homepageUrl': 'http://thelabdude.blogspot.com.ar/', 'searchUrl': 'http://thelabdude.blogspot.com.ar/search', 'canonicalHomepageUrl': 'http://thelabdude.blogspot.com/', 'blogspotFaviconUrl': 'http://thelabdude.blogspot.com.ar/favicon.ico', 'bloggerUrl': 'https://www.blogger.com', 'hasCustomDomain': false, 'httpsEnabled': true, 'enabledCommentProfileImages': true, 'gPlusViewType': 'FILTERED_POSTMOD', 'adultContent': false, 'analyticsAccountNumber': '', 'encoding': 'UTF-8', 'locale': 'en', 'localeUnderscoreDelimited': 'en', 'languageDirection': 'ltr', 'isPrivate': false, 'isMobile': false, 'isMobileRequest': false, 'mobileClass': '', 'isPrivateBlog': false, 'feedLinks': '\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22thelabdude - Atom\x22 href\x3d\x22http://thelabdude.blogspot.com/feeds/posts/default\x22 /\x3e\n\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/rss+xml\x22 title\x3d\x22thelabdude - RSS\x22 href\x3d\x22http://thelabdude.blogspot.com/feeds/posts/default?alt\x3drss\x22 /\x3e\n\x3clink rel\x3d\x22service.post\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22thelabdude - Atom\x22 href\x3d\x22https://www.blogger.com/feeds/6666528949054177156/posts/default\x22 /\x3e\n\n\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22thelabdude - Atom\x22 href\x3d\x22http://thelabdude.blogspot.com/feeds/6473217683954305768/comments/default\x22 /\x3e\n', 'meTag': '', 'openIdOpTag': '', 'adsenseHostId': 'ca-host-pub-1556223355139109', 'adsenseHasAds': false, 'view': '', 'dynamicViewsCommentsSrc': '//www.blogblog.com/dynamicviews/4224c15c4e7c9321/js/comments.js', 'dynamicViewsScriptSrc': '//www.blogblog.com/dynamicviews/97e2ab1c57854d2e', 'plusOneApiSrc': 'https://apis.google.com/js/plusone.js', 'sharing': {'platforms': [{'name': 'Get link', 'key': 'link', 'shareMessage': 'Get link', 'target': ''}, {'name': 'Facebook', 'key': 'facebook', 'shareMessage': 'Share to Facebook', 'target': 'facebook'}, {'name': 'BlogThis!', 'key': 'blogThis', 'shareMessage': 'BlogThis!', 'target': 'blog'}, {'name': 'Twitter', 'key': 'twitter', 'shareMessage': 'Share to Twitter', 'target': 'twitter'}, {'name': 'Pinterest', 'key': 'pinterest', 'shareMessage': 'Share to Pinterest', 'target': 'pinterest'}, {'name': 'Google+', 'key': 'googlePlus', 'shareMessage': 'Share to Google+', 'target': 'googleplus'}, {'name': 'Email', 'key': 'email', 'shareMessage': 'Email', 'target': 'email'}], 'googlePlusShareButtonWidth': 300, 'googlePlusBootstrap': '\x3cscript type\x3d\x22text/javascript\x22\x3ewindow.___gcfg \x3d {\x27lang\x27: \x27en\x27};\x3c/script\x3e'}, 'hasCustomJumpLinkMessage': false, 'jumpLinkMessage': 'Read more', 'pageType': 'item', 'postId': '6473217683954305768', 'postImageUrl': 'http://vinwiki.com/thelabdude/jsf_rf_seam_user_reg/site.png', 'pageName': 'User authentication / registration with JSF / RichFaces, Spring, and Hibernate', 'pageTitle': 'thelabdude: User authentication / registration with JSF / RichFaces, Spring, and Hibernate'}}, {'name': 'features', 'data': {'lazy_images': 'false', 'unsupported_browser_message': 'false', 'lightbox_img_parsing': 'false', 'video_theatre_support': 'false', 'sharing_get_link_dialog': 'false', 'sharing_native': 'false'}}, {'name': 'messages', 'data': {'edit': 'Edit', 'linkCopiedToClipboard': 'Link copied to clipboard!', 'ok': 'Ok', 'postLink': 'Post Link'}}, {'name': 'template', 'data': {'name': 'custom', 'localizedName': 'Custom', 'isResponsive': false, 'isAlternateRendering': false, 'isCustom': true}}, {'name': 'view', 'data': {'classic': {'name': 'classic', 'url': '?view\x3dclassic'}, 'flipcard': {'name': 'flipcard', 'url': '?view\x3dflipcard'}, 'magazine': {'name': 'magazine', 'url': '?view\x3dmagazine'}, 'mosaic': {'name': 'mosaic', 'url': '?view\x3dmosaic'}, 'sidebar': {'name': 'sidebar', 'url': '?view\x3dsidebar'}, 'snapshot': {'name': 'snapshot', 'url': '?view\x3dsnapshot'}, 'timeslide': {'name': 'timeslide', 'url': '?view\x3dtimeslide'}, 'isMobile': false, 'title': 'User authentication / registration with JSF / RichFaces, Spring, and Hibernate', 'description': ' In this article, I show you how to implement a Web 2.0-style user registration solution using JSF/RichFaces, Spring, and Hibernate. This ar...', 'featuredImage': 'https://lh5.googleusercontent.com/proxy/JoHzS_FBlMgmCbCWbjxlAVBucBdrw8CJ5Z2MPXa2YHkiuFq0de9-fS9ba30yt4vTy7mxz0D0tfkIsyBo43mLlh67Czy8XT3BLcrabHKg7w', 'url': 'http://thelabdude.blogspot.com.ar/2009/04/user-authentication-registration-with.html', 'type': 'item', 'isSingleItem': true, 'isMultipleItems': false, 'isError': false, 'isPage': false, 'isPost': true, 'isHomepage': false, 'isArchive': false, 'isLabelSearch': false, 'postId': 6473217683954305768}}]);
_WidgetManager._RegisterWidget('_NavbarView', new _WidgetInfo('Navbar1', 'navbar', null, document.getElementById('Navbar1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_HeaderView', new _WidgetInfo('Header1', 'header', null, document.getElementById('Header1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogArchiveView', new _WidgetInfo('BlogArchive1', 'crosscol', null, document.getElementById('BlogArchive1'), {'languageDirection': 'ltr', 'loadingMessage': 'Loading\x26hellip;'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogView', new _WidgetInfo('Blog1', 'main', null, document.getElementById('Blog1'), {'cmtInteractionsEnabled': false, 'showBacklinks': true, 'postId': '6473217683954305768', 'lightboxEnabled': true, 'lightboxModuleUrl': 'https://www.blogger.com/static/v1/jsbin/2016138909-lbx.js', 'lightboxCssUrl': 'https://www.blogger.com/static/v1/v-css/368954415-lightbox_bundle.css'}, 'displayModeFull'));
</script>  
 </body>
</html>