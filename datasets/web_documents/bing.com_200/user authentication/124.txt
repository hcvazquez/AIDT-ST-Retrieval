<!doctype html>
<html lang="en" class="application-layout videos-show videos-controller show-action has-stage-progress visitor chrome webkit windows" id="layout" data-featurette="application-layout">
 <head> 
  <title>Turning On Spring Security with Java Config | User Authentication in Spring | Treehouse</title> 
  <meta charset="UTF-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","errorBeacon":"bam.nr-data.net","licenseKey":"d98036d1cc","applicationID":"1824378","transactionName":"cQ5eRRQNCQ8BFhZOXlYEX0JJEQ0MEw==","queueTime":1,"applicationTime":253,"agent":""}</script> 
  <script type="text/javascript">(window.NREUM||(NREUM={})).loader_config={xpid:"VwIBVldWGwIIVlVRAAk="};window.NREUM||(NREUM={}),__nr_require=function(t,n,e){function r(e){if(!n[e]){var o=n[e]={exports:{}};t[e][0].call(o.exports,function(n){var o=t[e][1][n];return r(o||n)},o,o.exports)}return n[e].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<e.length;o++)r(e[o]);return r}({1:[function(t,n,e){function r(t){try{s.console&&console.log(t)}catch(n){}}var o,i=t("ee"),a=t(15),s={};try{o=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(s.console=!0,o.indexOf("dev")!==-1&&(s.dev=!0),o.indexOf("nr_dev")!==-1&&(s.nrDev=!0))}catch(c){}s.nrDev&&i.on("internal-error",function(t){r(t.stack)}),s.dev&&i.on("fn-err",function(t,n,e){r(e.stack)}),s.dev&&(r("NR AGENT IN DEVELOPMENT MODE"),r("flags: "+a(s,function(t,n){return t}).join(", ")))},{}],2:[function(t,n,e){function r(t,n,e,r,o){try{d?d-=1:i("err",[o||new UncaughtException(t,n,e)])}catch(s){try{i("ierr",[s,c.now(),!0])}catch(u){}}return"function"==typeof f&&f.apply(this,a(arguments))}function UncaughtException(t,n,e){this.message=t||"Uncaught error with no additional information",this.sourceURL=n,this.line=e}function o(t){i("err",[t,c.now()])}var i=t("handle"),a=t(16),s=t("ee"),c=t("loader"),f=window.onerror,u=!1,d=0;c.features.err=!0,t(1),window.onerror=r;try{throw new Error}catch(l){"stack"in l&&(t(8),t(7),"addEventListener"in window&&t(5),c.xhrWrappable&&t(9),u=!0)}s.on("fn-start",function(t,n,e){u&&(d+=1)}),s.on("fn-err",function(t,n,e){u&&(this.thrown=!0,o(e))}),s.on("fn-end",function(){u&&!this.thrown&&d>0&&(d-=1)}),s.on("internal-error",function(t){i("ierr",[t,c.now(),!0])})},{}],3:[function(t,n,e){t("loader").features.ins=!0},{}],4:[function(t,n,e){function r(t){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var o=t("ee"),i=t("handle"),a=t(8),s=t(7),c="learResourceTimings",f="addEventListener",u="resourcetimingbufferfull",d="bstResource",l="resource",p="-start",h="-end",m="fn"+p,w="fn"+h,v="bstTimer",y="pushState",g=t("loader");g.features.stn=!0,t(6);var b=NREUM.o.EV;o.on(m,function(t,n){var e=t[0];e instanceof b&&(this.bstStart=g.now())}),o.on(w,function(t,n){var e=t[0];e instanceof b&&i("bst",[e,n,this.bstStart,g.now()])}),a.on(m,function(t,n,e){this.bstStart=g.now(),this.bstType=e}),a.on(w,function(t,n){i(v,[n,this.bstStart,g.now(),this.bstType])}),s.on(m,function(){this.bstStart=g.now()}),s.on(w,function(t,n){i(v,[n,this.bstStart,g.now(),"requestAnimationFrame"])}),o.on(y+p,function(t){this.time=g.now(),this.startPath=location.pathname+location.hash}),o.on(y+h,function(t){i("bstHist",[location.pathname+location.hash,this.startPath,this.time])}),f in window.performance&&(window.performance["c"+c]?window.performance[f](u,function(t){i(d,[window.performance.getEntriesByType(l)]),window.performance["c"+c]()},!1):window.performance[f]("webkit"+u,function(t){i(d,[window.performance.getEntriesByType(l)]),window.performance["webkitC"+c]()},!1)),document[f]("scroll",r,{passive:!0}),document[f]("keypress",r,!1),document[f]("click",r,!1)}},{}],5:[function(t,n,e){function r(t){for(var n=t;n&&!n.hasOwnProperty(u);)n=Object.getPrototypeOf(n);n&&o(n)}function o(t){s.inPlace(t,[u,d],"-",i)}function i(t,n){return t[1]}var a=t("ee").get("events"),s=t(18)(a,!0),c=t("gos"),f=XMLHttpRequest,u="addEventListener",d="removeEventListener";n.exports=a,"getPrototypeOf"in Object?(r(document),r(window),r(f.prototype)):f.prototype.hasOwnProperty(u)&&(o(window),o(f.prototype)),a.on(u+"-start",function(t,n){var e=t[1],r=c(e,"nr@wrapped",function(){function t(){if("function"==typeof e.handleEvent)return e.handleEvent.apply(e,arguments)}var n={object:t,"function":e}[typeof e];return n?s(n,"fn-",null,n.name||"anonymous"):e});this.wrapped=t[1]=r}),a.on(d+"-start",function(t){t[1]=this.wrapped||t[1]})},{}],6:[function(t,n,e){var r=t("ee").get("history"),o=t(18)(r);n.exports=r,o.inPlace(window.history,["pushState","replaceState"],"-")},{}],7:[function(t,n,e){var r=t("ee").get("raf"),o=t(18)(r),i="equestAnimationFrame";n.exports=r,o.inPlace(window,["r"+i,"mozR"+i,"webkitR"+i,"msR"+i],"raf-"),r.on("raf-start",function(t){t[0]=o(t[0],"fn-")})},{}],8:[function(t,n,e){function r(t,n,e){t[0]=a(t[0],"fn-",null,e)}function o(t,n,e){this.method=e,this.timerDuration=isNaN(t[1])?0:+t[1],t[0]=a(t[0],"fn-",this,e)}var i=t("ee").get("timer"),a=t(18)(i),s="setTimeout",c="setInterval",f="clearTimeout",u="-start",d="-";n.exports=i,a.inPlace(window,[s,"setImmediate"],s+d),a.inPlace(window,[c],c+d),a.inPlace(window,[f,"clearImmediate"],f+d),i.on(c+u,r),i.on(s+u,o)},{}],9:[function(t,n,e){function r(t,n){d.inPlace(n,["onreadystatechange"],"fn-",s)}function o(){var t=this,n=u.context(t);t.readyState>3&&!n.resolved&&(n.resolved=!0,u.emit("xhr-resolved",[],t)),d.inPlace(t,y,"fn-",s)}function i(t){g.push(t),h&&(x?x.then(a):w?w(a):(E=-E,O.data=E))}function a(){for(var t=0;t<g.length;t++)r([],g[t]);g.length&&(g=[])}function s(t,n){return n}function c(t,n){for(var e in t)n[e]=t[e];return n}t(5);var f=t("ee"),u=f.get("xhr"),d=t(18)(u),l=NREUM.o,p=l.XHR,h=l.MO,m=l.PR,w=l.SI,v="readystatechange",y=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],g=[];n.exports=u;var b=window.XMLHttpRequest=function(t){var n=new p(t);try{u.emit("new-xhr",[n],n),n.addEventListener(v,o,!1)}catch(e){try{u.emit("internal-error",[e])}catch(r){}}return n};if(c(p,b),b.prototype=p.prototype,d.inPlace(b.prototype,["open","send"],"-xhr-",s),u.on("send-xhr-start",function(t,n){r(t,n),i(n)}),u.on("open-xhr-start",r),h){var x=m&&m.resolve();if(!w&&!m){var E=1,O=document.createTextNode(E);new h(a).observe(O,{characterData:!0})}}else f.on("fn-end",function(t){t[0]&&t[0].type===v||a()})},{}],10:[function(t,n,e){function r(t){var n=this.params,e=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r<d;r++)t.removeEventListener(u[r],this.listener,!1);if(!n.aborted){if(e.duration=a.now()-this.startTime,4===t.readyState){n.status=t.status;var i=o(t,this.lastSize);if(i&&(e.rxSize=i),this.sameOrigin){var c=t.getResponseHeader("X-NewRelic-App-Data");c&&(n.cat=c.split(", ").pop())}}else n.status=0;e.cbTime=this.cbTime,f.emit("xhr-done",[t],t),s("xhr",[n,e,this.startTime])}}}function o(t,n){var e=t.responseType;if("json"===e&&null!==n)return n;var r="arraybuffer"===e||"blob"===e||"json"===e?t.response:t.responseText;return h(r)}function i(t,n){var e=c(n),r=t.params;r.host=e.hostname+":"+e.port,r.pathname=e.pathname,t.sameOrigin=e.sameOrigin}var a=t("loader");if(a.xhrWrappable){var s=t("handle"),c=t(11),f=t("ee"),u=["load","error","abort","timeout"],d=u.length,l=t("id"),p=t(14),h=t(13),m=window.XMLHttpRequest;a.features.xhr=!0,t(9),f.on("new-xhr",function(t){var n=this;n.totalCbs=0,n.called=0,n.cbTime=0,n.end=r,n.ended=!1,n.xhrGuids={},n.lastSize=null,p&&(p>34||p<10)||window.opera||t.addEventListener("progress",function(t){n.lastSize=t.loaded},!1)}),f.on("open-xhr-start",function(t){this.params={method:t[0]},i(this,t[1]),this.metrics={}}),f.on("open-xhr-end",function(t,n){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&n.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),f.on("send-xhr-start",function(t,n){var e=this.metrics,r=t[0],o=this;if(e&&r){var i=h(r);i&&(e.txSize=i)}this.startTime=a.now(),this.listener=function(t){try{"abort"===t.type&&(o.params.aborted=!0),("load"!==t.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof n.onload))&&o.end(n)}catch(e){try{f.emit("internal-error",[e])}catch(r){}}};for(var s=0;s<d;s++)n.addEventListener(u[s],this.listener,!1)}),f.on("xhr-cb-time",function(t,n,e){this.cbTime+=t,n?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof e.onload||this.end(e)}),f.on("xhr-load-added",function(t,n){var e=""+l(t)+!!n;this.xhrGuids&&!this.xhrGuids[e]&&(this.xhrGuids[e]=!0,this.totalCbs+=1)}),f.on("xhr-load-removed",function(t,n){var e=""+l(t)+!!n;this.xhrGuids&&this.xhrGuids[e]&&(delete this.xhrGuids[e],this.totalCbs-=1)}),f.on("addEventListener-end",function(t,n){n instanceof m&&"load"===t[0]&&f.emit("xhr-load-added",[t[1],t[2]],n)}),f.on("removeEventListener-end",function(t,n){n instanceof m&&"load"===t[0]&&f.emit("xhr-load-removed",[t[1],t[2]],n)}),f.on("fn-start",function(t,n,e){n instanceof m&&("onload"===e&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=a.now()))}),f.on("fn-end",function(t,n){this.xhrCbStart&&f.emit("xhr-cb-time",[a.now()-this.xhrCbStart,this.onload,n],n)})}},{}],11:[function(t,n,e){n.exports=function(t){var n=document.createElement("a"),e=window.location,r={};n.href=t,r.port=n.port;var o=n.href.split("://");!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=n.hostname||e.hostname,r.pathname=n.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname);var i=!n.protocol||":"===n.protocol||n.protocol===e.protocol,a=n.hostname===document.domain&&n.port===e.port;return r.sameOrigin=i&&(!n.hostname||a),r}},{}],12:[function(t,n,e){function r(){}function o(t,n,e){return function(){return i(t,[f.now()].concat(s(arguments)),n?null:this,e),n?void 0:this}}var i=t("handle"),a=t(15),s=t(16),c=t("ee").get("tracer"),f=t("loader"),u=NREUM;"undefined"==typeof window.newrelic&&(newrelic=u);var d=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],l="api-",p=l+"ixn-";a(d,function(t,n){u[n]=o(l+n,!0,"api")}),u.addPageAction=o(l+"addPageAction",!0),u.setCurrentRouteName=o(l+"routeName",!0),n.exports=newrelic,u.interaction=function(){return(new r).get()};var h=r.prototype={createTracer:function(t,n){var e={},r=this,o="function"==typeof n;return i(p+"tracer",[f.now(),t,e],r),function(){if(c.emit((o?"":"no-")+"fn-start",[f.now(),r,o],e),o)try{return n.apply(this,arguments)}finally{c.emit("fn-end",[f.now()],e)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,n){h[n]=o(p+n)}),newrelic.noticeError=function(t){"string"==typeof t&&(t=new Error(t)),i("err",[t,f.now()])}},{}],13:[function(t,n,e){n.exports=function(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return JSON.stringify(t).length}catch(n){return}}}},{}],14:[function(t,n,e){var r=0,o=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);o&&(r=+o[1]),n.exports=r},{}],15:[function(t,n,e){function r(t,n){var e=[],r="",i=0;for(r in t)o.call(t,r)&&(e[i]=n(r,t[r]),i+=1);return e}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],16:[function(t,n,e){function r(t,n,e){n||(n=0),"undefined"==typeof e&&(e=t?t.length:0);for(var r=-1,o=e-n||0,i=Array(o<0?0:o);++r<o;)i[r]=t[n+r];return i}n.exports=r},{}],17:[function(t,n,e){n.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],18:[function(t,n,e){function r(t){return!(t&&t instanceof Function&&t.apply&&!t[a])}var o=t("ee"),i=t(16),a="nr@original",s=Object.prototype.hasOwnProperty,c=!1;n.exports=function(t,n){function e(t,n,e,o){function nrWrapper(){var r,a,s,c;try{a=this,r=i(arguments),s="function"==typeof e?e(r,a):e||{}}catch(f){l([f,"",[r,a,o],s])}u(n+"start",[r,a,o],s);try{return c=t.apply(a,r)}catch(d){throw u(n+"err",[r,a,d],s),d}finally{u(n+"end",[r,a,c],s)}}return r(t)?t:(n||(n=""),nrWrapper[a]=t,d(t,nrWrapper),nrWrapper)}function f(t,n,o,i){o||(o="");var a,s,c,f="-"===o.charAt(0);for(c=0;c<n.length;c++)s=n[c],a=t[s],r(a)||(t[s]=e(a,f?s+o:o,i,s))}function u(e,r,o){if(!c||n){var i=c;c=!0;try{t.emit(e,r,o,n)}catch(a){l([a,e,r,o])}c=i}}function d(t,n){if(Object.defineProperty&&Object.keys)try{var e=Object.keys(t);return e.forEach(function(e){Object.defineProperty(n,e,{get:function(){return t[e]},set:function(n){return t[e]=n,n}})}),n}catch(r){l([r])}for(var o in t)s.call(t,o)&&(n[o]=t[o]);return n}function l(n){try{t.emit("internal-error",n)}catch(e){}}return t||(t=o),e.inPlace=f,e.flag=a,e}},{}],ee:[function(t,n,e){function r(){}function o(t){function n(t){return t&&t instanceof r?t:t?c(t,s,i):i()}function e(e,r,o,i){if(!l.aborted||i){t&&t(e,r,o);for(var a=n(o),s=h(e),c=s.length,f=0;f<c;f++)s[f].apply(a,r);var d=u[y[e]];return d&&d.push([g,e,r,a]),a}}function p(t,n){v[t]=h(t).concat(n)}function h(t){return v[t]||[]}function m(t){return d[t]=d[t]||o(e)}function w(t,n){f(t,function(t,e){n=n||"feature",y[e]=n,n in u||(u[n]=[])})}var v={},y={},g={on:p,emit:e,get:m,listeners:h,context:n,buffer:w,abort:a,aborted:!1};return g}function i(){return new r}function a(){(u.api||u.feature)&&(l.aborted=!0,u=l.backlog={})}var s="nr@context",c=t("gos"),f=t(15),u={},d={},l=n.exports=o();l.backlog=u},{}],gos:[function(t,n,e){function r(t,n,e){if(o.call(t,n))return t[n];var r=e();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,n,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return t[n]=r,r}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],handle:[function(t,n,e){function r(t,n,e,r){o.buffer([t],r),o.emit(t,n,e)}var o=t("ee").get("handle");n.exports=r,r.ee=o},{}],id:[function(t,n,e){function r(t){var n=typeof t;return!t||"object"!==n&&"function"!==n?-1:t===window?0:a(t,i,function(){return o++})}var o=1,i="nr@id",a=t("gos");n.exports=r},{}],loader:[function(t,n,e){function r(){if(!x++){var t=b.info=NREUM.info,n=l.getElementsByTagName("script")[0];if(setTimeout(u.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&n))return u.abort();f(y,function(n,e){t[n]||(t[n]=e)}),c("mark",["onload",a()+b.offset],null,"api");var e=l.createElement("script");e.src="https://"+t.agent,n.parentNode.insertBefore(e,n)}}function o(){"complete"===l.readyState&&i()}function i(){c("mark",["domContent",a()+b.offset],null,"api")}function a(){return E.exists&&performance.now?Math.round(performance.now()):(s=Math.max((new Date).getTime(),s))-b.offset}var s=(new Date).getTime(),c=t("handle"),f=t(15),u=t("ee"),d=window,l=d.document,p="addEventListener",h="attachEvent",m=d.XMLHttpRequest,w=m&&m.prototype;NREUM.o={ST:setTimeout,SI:d.setImmediate,CT:clearTimeout,XHR:m,REQ:d.Request,EV:d.Event,PR:d.Promise,MO:d.MutationObserver};var v=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1044.min.js"},g=m&&w&&w[p]&&!/CriOS/.test(navigator.userAgent),b=n.exports={offset:s,now:a,origin:v,features:{},xhrWrappable:g};t(12),l[p]?(l[p]("DOMContentLoaded",i,!1),d[p]("load",r,!1)):(l[h]("onreadystatechange",o),d[h]("onload",r)),c("mark",["firstbyte",s],null,"api");var x=0,E=t(17)},{}]},{},["loader",2,10,4,3]);</script> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"> 
  <meta name="google-site-verification" content="4Ga-viQvIZUFNQXu323xpp_24RDlLooxwlpnXhinjPA"> 
  <meta name="msvalidate.01" content="F0716E70B7DD3B8C892B48891CA4B541"> 
  <meta name="csrf-param" content="authenticity_token"> 
  <meta name="csrf-token" content="HUsMuWlr+CD1+ADu8IKXY5aVQOPjdFDa8TkZR4OESPrLd7haMoi+o05C9MmUulwzrDTu8N4TiO0h9DmnYawpww=="> 
  <meta name="description" content="In this video, we'll switch on security by adding a <code>@Configuration</code> class that specifies the details of which Spring Security features we'd like to use."> 
  <meta name="image" content="http://teamtreehouse.com/images/logo.png"> 
  <meta name="twitter:site" content="@treehouse"> 
  <meta name="twitter:card" content="summary"> 
  <meta name="twitter:description" content="In this video, we'll switch on security by adding a <code>@Configuration</code> class that specifies the details of which Spring Security features we'd like to use."> 
  <meta name="twitter:image" content="https://static.teamtreehouse.com/assets/marketing/opengraph/logo_twitter-cd0ecb90408499f45a2191805f54362981da5a69ddcfaa6ec93556d64e289036.png"> 
  <meta name="twitter:url" content="https://teamtreehouse.com/library/62412"> 
  <meta name="twitter:title" content="Turning On Spring Security with Java Config"> 
  <meta property="fb:app_id" content="1447543992198627"> 
  <meta property="og:site_name" content="Treehouse"> 
  <meta property="og:description" content="In this video, we'll switch on security by adding a <code>@Configuration</code> class that specifies the details of which Spring Security features we'd like to use."> 
  <meta property="og:image" content="https://static.teamtreehouse.com/assets/marketing/opengraph/logo_facebook-5a7642409483233360d948ca4dd6840de0a6083475af4b047d452b77b00ca68a.png"> 
  <meta property="og:url" content="https://teamtreehouse.com/library/62412"> 
  <meta property="og:title" content="Turning On Spring Security with Java Config"> 
  <meta property="og:type" content="article"> 
  <script>
//<![CDATA[
window.appData = '{\"controller_name\":\"videos\",\"action_name\":\"show\",\"app_version\":\"579d8162a1aaf875c21bd15c63f45027d107c0bc\"}'
//]]>
</script> 
  <link rel="stylesheet" media="screen" href="https://static.teamtreehouse.com/assets/vendor-86641a0fafea48cd8549dc3ce202965fd02a7856e9bc9a725fe404d0c2156161.css"> 
  <link rel="stylesheet" media="screen" href="https://static.teamtreehouse.com/assets/application-9835a5580ae286235747e8acb789a01874c11ac5afc81c7f1cea93c66b36b15a.css"> 
  <link rel="stylesheet" type="text/css" href="//cloud.typography.com/7055252/762022/css/fonts.css"> 
  <style media="print">
      header, footer, .graph, .nav, svg {
        display: none
      }
    </style> 
  <link rel="shortcut icon" href="/assets/favicon.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://static.teamtreehouse.com/assets/apple-touch-icon-60x60-precomposed-05be36fef4d37c9642a8923eb00325c9d680150d26954e868ddded6b7976a032.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://static.teamtreehouse.com/assets/apple-touch-icon-76x76-precomposed-7283cd247847d1f21be0e79c52e3524c89adabf69cfc331046319f4ab19be058.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://static.teamtreehouse.com/assets/apple-touch-icon-120x120-precomposed-dda60d87f49aa928ff86379bb50d9514d4b5f19502ff562b453e3d254730f682.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://static.teamtreehouse.com/assets/apple-touch-icon-152x152-precomposed-1f486d33d1fe181adce0689d370d7dab9e777fab99b244e15b8c785239410674.png"> 
  <script type="text/javascript">
(function() {
  var s = document.createElement('script'),
  e = document.getElementsByTagName('script')[0];
  s.src = '//d3cxv97fi8q177.cloudfront.net/foundation-A187849-72ad-44c6-83bc-3d4f458b85e71.min.js';s.type = 'text/javascript';s.async = true;s.id="irfOuterTag";
  e.parentNode.insertBefore(s, e);

})();
</script> 
  <noscript>
   &lt;img src="//tl.r7ls.net/unscripted/187849" width="1" height="1"&gt;
  </noscript> 
 </head> 
 <body class="windows chrome webkit global-message-displayed"> 
  <!-- Data Layer --> 
  <script>
  dataLayer = [{"loggedIn":false,"visitorId":5748687612,"userId":null}];
</script> 
  <!-- Google Tag Manager --> 
  <noscript>
   <iframe src="//www.googletagmanager.com/ns.html?id=GTM-PZ55S7" height="0" width="0" style="display:none;visibility:hidden"></iframe>
  </noscript> 
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PZ55S7');</script> 
  <!-- End Google Tag Manager --> 
  <header class="header" role="banner" data-header> 
   <nav class="header-nav container" role="navigation" data-nav> 
    <button class="hamburger-button hamburger-button-inverse" aria-label="Navigation Menu" data-hamburger-button> <span class="hamburger"></span> </button> 
    <ul class="header-nav-list "> 
     <li class="header-nav-item  header-nav-item-primary header-nav-item-logo "> <h6 class="header-nav-item-logo-container"> <a class="header-nav-link header-nav-item-logo-link" aria_label="Treehouse Home" data-analytics-link="Treehouse Logo" data-analytics-event="application nav link" data-analytics-path="/" data-analytics-action="clicked" href="/"> 
        <svg class="logo-icon header-nav-item-logo-icon" alt="Treehouse" preserveaspectratio="xMinYMin meet" viewbox="0 0 30 32">
         <use xlink:href="/assets/icons-48b0de4a34ed7fae447605bf8931277ed88c17d4465c9f215fa915274f9b0072.svg#logo-icon"></use>
        </svg> <span class="header-nav-item-logo-text header-nav-item-primary">Home</span> </a> </h6> </li> 
     <li class="header-nav-item  header-nav-item-sign-up "> <a class="header-nav-link " data-analytics-event="application nav link" data-analytics-link="Free Trial" data-analytics-path="/subscribe/plans?trial=yes" data-analytics-action="clicked" href="/subscribe/plans?trial=yes">Free Trial</a> </li> 
     <li class="header-nav-item header-nav-item-mobile header-nav-item-sign-in "> <a class="header-nav-link " data-analytics-event="application nav link" data-analytics-link="Sign In" data-analytics-path="/signin?return_to=%2Flibrary%2Fturning-on-spring-security-with-java-config" data-analytics-action="clicked" href="/signin?return_to=%2Flibrary%2Fturning-on-spring-security-with-java-config">Sign In</a> </li> 
     <li class="header-nav-item header-nav-item-tablet header-nav-item-primary header-nav-item-techdegrees "> <a class="header-nav-link " data-analytics-event="application nav link" data-analytics-link="Techdegree" data-analytics-path="/techdegree" data-analytics-action="clicked" href="/techdegree">Techdegree</a> </li> 
     <li class="header-nav-item header-nav-item-tablet header-nav-item-primary header-nav-item-tracks "> <a class="header-nav-link nav-item-tracks" data-analytics-event="application nav link" data-analytics-link="Tracks" data-analytics-path="/tracks" data-analytics-action="clicked" href="/tracks">Tracks</a> </li> 
     <li class="header-nav-item header-nav-item-tablet header-nav-item-primary header-nav-item-library "> <a class="header-nav-link nav-item-library" data-analytics-event="application nav link" data-analytics-link="Library" data-analytics-path="/library" data-analytics-action="clicked" href="/library">Library</a> </li> 
     <li class="header-nav-item header-nav-item-tablet nav-item-community header-nav-item-primary header-nav-item-community "> <a class="header-nav-link nav-item-community" data-analytics-event="application nav link" data-analytics-link="Community" data-analytics-path="/community" data-analytics-action="clicked" href="/community">Community</a> </li> 
     <li class="header-nav-item header-nav-item-tablet header-nav-item-primary header-nav-item-support "> <a class="header-nav-link " data-analytics-event="application nav link" data-analytics-link="Support" data-analytics-path="/support" data-analytics-action="clicked" href="/support">Support</a> </li> 
    </ul> 
   </nav> 
  </header> 
  <main class="content " role="main" data-content=""> 
   <div class="container "> 
    <div class="alert-banner error " data-featurette="alert">
     <p><strong>Bummer!</strong> This is just a preview. You need to be signed in with a Basic account to view the entire video.</p>
     <button class="button  close-alert" data-close-alert="" title="Close">
      <svg preserveaspectratio="xMinYMin meet" viewbox="0 0 12 12" class="close-icon">
       <use xlink:href="/assets/icons-48b0de4a34ed7fae447605bf8931277ed88c17d4465c9f215fa915274f9b0072.svg#close-icon"></use>
      </svg></button>
    </div> 
    <div class="mixed-box"> 
     <div class="breadcrumb"> 
      <h3 class="breadcrumb-title"> <a itemprop="url" class="breadcrumb-title-link has-topic-color-on-hover add-java-color-dark-on-hover" href="/library/user-authentication-in-spring"> 
        <svg class="left-arrow-icon breadcrumb-title-icon" preserveaspectratio="xMinYMin meet" viewbox="0 0 12 12">
         <use xlink:href="/assets/icons-48b0de4a34ed7fae447605bf8931277ed88c17d4465c9f215fa915274f9b0072.svg#left-arrow-icon"></use>
        </svg> <span itemprop="title">User Authentication in Spring</span> </a></h3>
     </div> 
     <div class="stage-progress-container assessment-callout" data-layout-element="stage-progress"> 
      <ul class="stage-progress-list has-topic-background-color add-java-background-color" data-featurette="async-element" data-url="/stages/video/62412/stage_progress" data-strategy="update" data-onload-event="stage-progress-loaded"> 
      </ul> 
     </div> 
     <div class="step-overlay scale-3d-chrome-fix" data-step-overlay> 
      <div class="step-overlay-loading-container"> 
       <svg class="loading-icon step-overlay-loading-icon" preserveaspectratio="xMinYMin meet" viewbox="0 0 18 18"> 
        <path class="loading-circle" d="M9,4c2.76,0,5,2.24,5,5s-2.24,5-5,5s-5-2.24-5-5S6.24,4,9,4 M9,0C4.03,0,0,4.03,0,9s4.03,9,9,9s9-4.03,9-9S13.97,0,9,0L9,0z"></path> 
        <path class="loading-quarter-circle" d="M16,11c-1.1,0-2-0.9-2-2c0-2.76-2.24-5-5-5C7.9,4,7,3.1,7,2s0.9-2,2-2c4.96,0,9,4.04,9,9C18,10.1,17.1,11,16,11z"></path> 
       </svg> 
      </div> 
     </div> 
     <div id="video-container" data-featurette="analytics-click-event" data-target="button[data-track-click-event]" data-event-category="button" data-event-action="Opened Launch Workspace Modal" data-event-label="Source: Video Player"> 
      <div class="video-is-preview">
       Preview
      </div> 
      <div class="video-overlay" id="next-step-overlay"> 
       <div class="video-overlay-message"> 
        <p class="videos-show-overlay-message">Start a free Basic trial<br>to watch this video</p> 
        <a class="button primary" href="https://teamtreehouse.com/subscribe/plans">Sign up for Treehouse</a> 
       </div> 
      </div> 
      <video data-preview="true" data-autoplay="true" data-playback-rate="1.0" data-step-video="" id="video-player" class="fixed-controls connect-to-box padded-when-max-width-reached has-stage-progress" style="width: 100%; height: 100%" preload="none" poster="https://videos.teamtreehouse.com/stills/TH-Workshops-UserAuthenticationSpring-S1-V5-stills-0.jpg?token=59c16ce2_472012ec4f4c6c38187335b2bc4e4b885166925a" data-console="false" data-featurette="video-player" data-video-id="62412" data-duration="1451150" data-play-icon="&amp;lt;svg preserveAspectRatio=&amp;quot;xMinYMin meet&amp;quot; viewBox=&amp;quot;0 0 11 12&amp;quot; class=&amp;quot;play-icon&amp;quot;&amp;gt;&amp;lt;use xlink:href=&amp;quot;/assets/icons-48b0de4a34ed7fae447605bf8931277ed88c17d4465c9f215fa915274f9b0072.svg#play-icon&amp;quot;&amp;gt;&amp;lt;/use&amp;gt;&amp;lt;/svg&amp;gt;" data-pause-icon="&amp;lt;svg preserveAspectRatio=&amp;quot;xMinYMin meet&amp;quot; viewBox=&amp;quot;0 0 16 20&amp;quot; class=&amp;quot;pause-icon&amp;quot;&amp;gt;&amp;lt;use xlink:href=&amp;quot;/assets/icons-48b0de4a34ed7fae447605bf8931277ed88c17d4465c9f215fa915274f9b0072.svg#pause-icon&amp;quot;&amp;gt;&amp;lt;/use&amp;gt;&amp;lt;/svg&amp;gt;" data-speed-icon="&amp;lt;svg preserveAspectRatio=&amp;quot;xMinYMin meet&amp;quot; viewBox=&amp;quot;0 0 22 22&amp;quot; class=&amp;quot;speed-icon&amp;quot;&amp;gt;&amp;lt;use xlink:href=&amp;quot;/assets/icons-48b0de4a34ed7fae447605bf8931277ed88c17d4465c9f215fa915274f9b0072.svg#speed-icon&amp;quot;&amp;gt;&amp;lt;/use&amp;gt;&amp;lt;/svg&amp;gt;" data-rewind-icon="&amp;lt;svg preserveAspectRatio=&amp;quot;xMinYMin meet&amp;quot; viewBox=&amp;quot;0 0 22 25&amp;quot; class=&amp;quot;rewind-icon&amp;quot;&amp;gt;&amp;lt;use xlink:href=&amp;quot;/assets/icons-48b0de4a34ed7fae447605bf8931277ed88c17d4465c9f215fa915274f9b0072.svg#rewind-icon&amp;quot;&amp;gt;&amp;lt;/use&amp;gt;&amp;lt;/svg&amp;gt;" data-volume-icon="&amp;lt;svg preserveAspectRatio=&amp;quot;xMinYMin meet&amp;quot; viewBox=&amp;quot;0 0 22 22&amp;quot; class=&amp;quot;volume-icon&amp;quot;&amp;gt;&amp;lt;use xlink:href=&amp;quot;/assets/icons-48b0de4a34ed7fae447605bf8931277ed88c17d4465c9f215fa915274f9b0072.svg#volume-icon&amp;quot;&amp;gt;&amp;lt;/use&amp;gt;&amp;lt;/svg&amp;gt;" data-captions-icon="&amp;lt;svg preserveAspectRatio=&amp;quot;xMinYMin meet&amp;quot; viewBox=&amp;quot;0 0 22 22&amp;quot; class=&amp;quot;captions-icon&amp;quot;&amp;gt;&amp;lt;use xlink:href=&amp;quot;/assets/icons-48b0de4a34ed7fae447605bf8931277ed88c17d4465c9f215fa915274f9b0072.svg#captions-icon&amp;quot;&amp;gt;&amp;lt;/use&amp;gt;&amp;lt;/svg&amp;gt;" data-fullscreen-icon="&amp;lt;svg preserveAspectRatio=&amp;quot;xMinYMin meet&amp;quot; viewBox=&amp;quot;0 0 18 18&amp;quot; class=&amp;quot;fullscreen-icon&amp;quot;&amp;gt;&amp;lt;use xlink:href=&amp;quot;/assets/icons-48b0de4a34ed7fae447605bf8931277ed88c17d4465c9f215fa915274f9b0072.svg#fullscreen-icon&amp;quot;&amp;gt;&amp;lt;/use&amp;gt;&amp;lt;/svg&amp;gt;" data-workspaces-icon="&amp;lt;svg preserveAspectRatio=&amp;quot;xMinYMin meet&amp;quot; viewBox=&amp;quot;0 0 22 22&amp;quot; class=&amp;quot;workspaces-outline-icon&amp;quot;&amp;gt;&amp;lt;use xlink:href=&amp;quot;/assets/icons-48b0de4a34ed7fae447605bf8931277ed88c17d4465c9f215fa915274f9b0072.svg#workspaces-outline-icon&amp;quot;&amp;gt;&amp;lt;/use&amp;gt;&amp;lt;/svg&amp;gt;" data-track-video-view-url="/videos/62412/track/progress" data-track-video-segment-url="/videos/62412/track/segment">
       <source type="video/webm" src="https://videos.teamtreehouse.com/videos/TH-Workshops-UserAuthenticationSpring-S1-V5-720p-clip.webm?token=59c16ce2_032bc9af0deba3baaf8a359c7ac083236ca6b0e3">
       <source type="video/mp4" src="https://videos.teamtreehouse.com/videos/TH-Workshops-UserAuthenticationSpring-S1-V5-720p-clip.mp4?token=59c16ce2_00951217205af7e5e823898c0431322f6f8cfc36">
       <track kind="subtitles" src="/videos/62412/captions" srclang="en">
      </video> 
     </div> 
     <div class="box-footer"> 
      <div id="video-meta"> 
       <div class="secondary-heading"> 
        <h1>Turning On Spring Security with Java Config</h1> 
        <span id="video-duration">24:11</span> 
        <span id="video-authors">with <a href="/hfszcmvzpv">Chris Ramacciotti</a></span> 
       </div> 
       <p>In this video, we'll switch on security by adding a <code>@Configuration</code> class that specifies the details of which Spring Security features we'd like to use.</p> 
      </div> 
      <div id="video-tabs" data-featurette="tabbed-content"> 
       <div class="tabs left"> 
        <ul> 
         <li id="tab-teacher-s-notes" class="current"> <a href="#teacher-s-notes">Teacher's Notes</a> </li> 
         <li id="tab-video-transcript"> <a href="#video-transcript">Video Transcript</a> </li> 
         <li id="tab-downloads"> <a href="#downloads">Downloads</a> </li> 
        </ul> 
       </div> 
       <div class="tabbed-content"> 
        <div class="teachers-notes-container grid-container" data-featurette="teachers-notes-tab" data-tab-content> 
         <div class="grid-70 tablet-grid-65"> 
          <div class="markdown-zone" data-teachers-notes> 
           <h4>Spring Security Filter Chain</h4> 
           <p>For more information on the filter chain, check out the Spring docs: <a href="http://docs.spring.io/spring-security/site/docs/current/guides/html5/form.html">http://docs.spring.io/spring-security/site/docs/current/guides/html5/form.html</a></p> 
           <h4>Sessions for Login Failures</h4> 
           <p>I've demonstrated the use of session attributes to handle login failure messages, as opposed to using the standard in examples you might see around the web. Examples typically show the use of a query string parameter in the URL, such as</p> 
           <p><code>/login?error=true</code></p> 
           <p>I don't like this approach because care must be taken so that one cannot visit that URL directly to reproduce the flash message. Instead, I prefer to keep the URL clean, and rely on a session attribute to save the flash message. Session attributes are server-stored values, and can even include rich objects. When session attributes are used, you'll notice that a session cookie (usually called <strong>JSESSIONID</strong>) is set in the browser and passed with every request, so that the server can pair the browsing session with the server-stored session data.</p> 
           <p>If you choose this approach, be sure to clear the session attribute when it makes sense to do so. In our case, it makes sense as soon as we add the flash message to the model map for display in the rendered template.</p> 
           <h4>Session IDs and Cookies</h4> 
           <p>When working with session data in web applications using Java or any other server-side language, it is best to understand how your data might be compromised. Many applications match server-stored session data with browsing sessions using some sort of session cookie. This value is stored in the browser, and when your application receives a request that entails using that session ID for authentication or other session data, the application assumes the request originated from the same place.</p> 
           <p>But, what if your session ID cookie becomes compromised, whether through a browser vulnerability, or a non-HTTPS (read: plaintext) request intercepted by an attacker? Remember, HTTP requests are sent as plaintext, and if they're intercepted, they are <em>directly</em> readable by the attacker. Adding SSL encrypts all requests and responses in a way that protects all data (including cookies) in a way that doesn't make it more difficult for an attacker to intercept your requests or responses, but rather renders them unreadable since they're encrypted.</p> 
           <p>In any case, check the Teacher's Notes of later videos for common web app vulnerabilities.</p> 
           <h4>Git Command to Sync Your Code to the Start of this Video</h4> 
           <p><code>git checkout -f v5</code></p> 
           <h4>Using Github With This Course</h4> 
           <p>You can complete this course entirely using code created by you on your local machine. However, if you choose to use the code I've made available to you, you have two options:</p> 
           <ol> 
            <li>Use the project files linked at the bottom of this page, or</li> 
            <li>Use the Github repository I've made available (recommended)</li> 
           </ol> 
           <p>If you choose the recommended option of using the Github repository, it can be found at</p> 
           <p><a href="https://github.com/treehouse/todotoday">https://github.com/treehouse/todotoday</a></p> 
           <p>To utilize Github with this course, you can download the Github desktop client for your system or use the command line interface provided with Git.</p> 
           <p>Clone this repository to your machine using the Github desktop client, or using the following command:</p> 
           <p><code>git clone git@github.com:treehouse/todotoday.git</code></p> 
           <p>To update your local repository to match a video's starting point, you can use the <code>git checkout</code> command in combination with the stage and video number. For example, to update your local repository to match the starting point of <strong>Video 4</strong>, you'd use the following:</p> 
           <p><code>git checkout -f v4</code></p> 
           <p>Notice the use of the <strong>-f</strong> option. This forces Git to override all local changes, so be aware: <em>this will cause any changes you made to be lost</em>.</p> 
          </div> 
         </div> 
         <div class="grid-30 tablet-grid-35"> 
         </div> 
        </div> 
        <div id="video-transcript-tab-content" data-tab-content> 
         <ul> 
          <li> <em>0:00</em> <p>To flip the switch for</p> </li> 
          <li> <em>0:01</em> <p>enabling springs security we need to add some configuration to our application</p> </li> 
          <li> <em>0:06</em> <p>as with anything in spring this could be done with XML or Java based configuration.</p> </li> 
          <li> <em>0:11</em> <p>Now we'll stay consistent by sticking with the Java config approach.</p> </li> 
          <li> <em>0:15</em> <p>To keep things nicely organized I'm going to put all security configuration settings</p> </li> 
          <li> <em>0:19</em> <p>into a configuration class of its own.</p> </li> 
          <li> <em>0:21</em> <p>So in this config package I'll create a class name security config.</p> </li> 
          <li> <em>0:29</em> <p>SecurityConfig.</p> </li> 
          <li> <em>0:32</em> <p>Great to utilize the java configure approach will need to add</p> </li> 
          <li> <em>0:35</em> <p>some annotations to the class.</p> </li> 
          <li> <em>0:37</em> <p>The first one is the configuration annotation so</p> </li> 
          <li> <em>0:40</em> <p>that the spring framework picks this up as a class containing configuration settings.</p> </li> 
          <li> <em>0:45</em> <p>And the second one is the enable web security annotation.</p> </li> 
          <li> <em>0:51</em> <p>Now this class will also extend web security configure adapters so</p> </li> 
          <li> <em>0:56</em> <p>let's do that now.</p> </li> 
          <li> <em>0:57</em> <p>Extends web security configure adapter there it is right there.</p> </li> 
          <li> <em>1:04</em> <p>Now this is a standard way in spring to use what's called the spring security</p> </li> 
          <li> <em>1:08</em> <p>filter chain.</p> </li> 
          <li> <em>1:10</em> <p>This chain allows us to filter certain requests so</p> </li> 
          <li> <em>1:12</em> <p>that a user doesn't have to be authenticated.</p> </li> 
          <li> <em>1:15</em> <p>For example for CSS and JavaScript or require that authenticated users</p> </li> 
          <li> <em>1:20</em> <p>have the appropriate level of permissions using rule filtering.</p> </li> 
          <li> <em>1:24</em> <p>We'll use this in just a bit.</p> </li> 
          <li> <em>1:26</em> <p>Next we'll need to configure an authentication approach.</p> </li> 
          <li> <em>1:29</em> <p>Since we've written a user details service we can leverage that work here</p> </li> 
          <li> <em>1:32</em> <p>we'll start by auto wiring that service.</p> </li> 
          <li> <em>1:37</em> <p>There's that auto wired annotation in private</p> </li> 
          <li> <em>1:41</em> <p>UserService userService.</p> </li> 
          <li> <em>1:46</em> <p>Next we'll configure spring to use this service for authentication by including</p> </li> 
          <li> <em>1:51</em> <p>an auto wired method that sets our service as the one to use for authentication.</p> </li> 
          <li> <em>1:56</em> <p>So the way that looks is as followed auto wired public void figureGlobal.</p> </li> 
          <li> <em>2:08</em> <p>And this will accept an authentication manager builder object.</p> </li> 
          <li> <em>2:16</em> <p>There it is right there.</p> </li> 
          <li> <em>2:19</em> <p>I'll call that off and in here I'll say auth.userDetailsService and</p> </li> 
          <li> <em>2:26</em> <p>I'll pass it the user service that we auto wired into this class.</p> </li> 
          <li> <em>2:33</em> <p>And because this user detail service method potentially throws</p> </li> 
          <li> <em>2:37</em> <p>a standard exception,</p> </li> 
          <li> <em>2:39</em> <p>I'm going to declare this method as throws Exception to take care of that.</p> </li> 
          <li> <em>2:47</em> <p>Now that we've configured spring to use that userDetailsService that</p> </li> 
          <li> <em>2:51</em> <p>we implemented in a previous video We need to configure the logon</p> </li> 
          <li> <em>2:56</em> <p>process more specifically.</p> </li> 
          <li> <em>2:58</em> <p>And we need to selectively allow access to various URLs in our application based on</p> </li> 
          <li> <em>3:02</em> <p>users and roles stored in the database.</p> </li> 
          <li> <em>3:05</em> <p>This is where we use that spring security filter chain.</p> </li> 
          <li> <em>3:08</em> <p>Now I warn you, there is a lot you can do here.</p> </li> 
          <li> <em>3:11</em> <p>And so much room for customization.</p> </li> 
          <li> <em>3:14</em> <p>My goal in this workshop though is to demonstrate the basics and drop</p> </li> 
          <li> <em>3:18</em> <p>some resources into the teacher's note so be sure to check out those teachers notes.</p> </li> 
          <li> <em>3:24</em> <p>In order to start configuring the spring security filter change</p> </li> 
          <li> <em>3:27</em> <p>will override the configure method that accepts a web security parameter.</p> </li> 
          <li> <em>3:31</em> <p>Be careful there are a couple configure methods that you can override so</p> </li> 
          <li> <em>3:36</em> <p>I will choose to override a method and</p> </li> 
          <li> <em>3:38</em> <p>it's the configure method that contains a web security parameter here.</p> </li> 
          <li> <em>3:43</em> <p>Let's override that one.</p> </li> 
          <li> <em>3:46</em> <p>And inside this method, will tell spring to bypass security checks for our static</p> </li> 
          <li> <em>3:51</em> <p>resources to do this we'll call that web security objects ignoring method.</p> </li> 
          <li> <em>3:58</em> <p>And what is it that we want to ignore.</p> </li> 
          <li> <em>4:00</em> <p>Well we wanted to ignore any path that matches this pattern.</p> </li> 
          <li> <em>4:06</em> <p>/assets/anything.</p> </li> 
          <li> <em>4:10</em> <p>In doing this, we'll have spring ignore requests to anything in that assets</p> </li> 
          <li> <em>4:14</em> <p>directory, which is where I've put all the static assets referenced.</p> </li> 
          <li> <em>4:18</em> <p>Let me show you.</p> </li> 
          <li> <em>4:19</em> <p>That's under resources, static.</p> </li> 
          <li> <em>4:23</em> <p>And then there's that assets directory.</p> </li> 
          <li> <em>4:25</em> <p>There's nothing in the static directory apart from the assets directory.</p> </li> 
          <li> <em>4:27</em> <p>That's why intelliJ says static data assets And</p> </li> 
          <li> <em>4:31</em> <p>then here are all the static assets.</p> </li> 
          <li> <em>4:33</em> <p>CSS, images and some JavaScript in there.</p> </li> 
          <li> <em>4:37</em> <p>Cool.</p> </li> 
          <li> <em>4:38</em> <p>Next, we'll configure security for</p> </li> 
          <li> <em>4:40</em> <p>the requests that will actually require authentication and authorization.</p> </li> 
          <li> <em>4:45</em> <p>And we'll do that by overwriting another configure method.</p> </li> 
          <li> <em>4:48</em> <p>And this is the configure method that accepts an HTTP security parameter.</p> </li> 
          <li> <em>4:52</em> <p>So i will override that method.</p> </li> 
          <li> <em>4:54</em> <p>We'll override the method that accepts the configure method that accepts that.</p> </li> 
          <li> <em>4:59</em> <p>HTTP.</p> </li> 
          <li> <em>5:00</em> <p>security parameter.</p> </li> 
          <li> <em>5:01</em> <p>There it is right there.</p> </li> 
          <li> <em>5:04</em> <p>In this method will configure security for authorizing our users requests to their</p> </li> 
          <li> <em>5:08</em> <p>to do list configure the logon page and configure the log out process.</p> </li> 
          <li> <em>5:13</em> <p>Let's take those steps one at a time.</p> </li> 
          <li> <em>5:16</em> <p>First is restricting access to all resources to only those</p> </li> 
          <li> <em>5:21</em> <p>users that are authorized to do so for us that means a user must have the user role.</p> </li> 
          <li> <em>5:26</em> <p>So we'll start with that http parameter here and I'm gonna format.</p> </li> 
          <li> <em>5:31</em> <p>All of this code nicely as you often see on tutorials about spring security online.</p> </li> 
          <li> <em>5:37</em> <p>Okay.</p> </li> 
          <li> <em>5:38</em> <p>So http.uthorizeRequests.</p> </li> 
          <li> <em>5:43</em> <p>This will ensure that all requests must be authorized at this point.</p> </li> 
          <li> <em>5:49</em> <p>So here I'll say any request must have the role USER.</p> </li> 
          <li> <em>5:59</em> <p>So again I start by calling the authorizedRequest method so</p> </li> 
          <li> <em>6:03</em> <p>that anything that follows is assumed to be handled by authorisation.</p> </li> 
          <li> <em>6:07</em> <p>And it's implied that authentication has already happened at this point.</p> </li> 
          <li> <em>6:12</em> <p>Also notice that I didn't use roll underscore user here.</p> </li> 
          <li> <em>6:16</em> <p>I instead use just User.</p> </li> 
          <li> <em>6:19</em> <p>And that's because this has a role method will prepared</p> </li> 
          <li> <em>6:23</em> <p>a role_ before checking the role.</p> </li> 
          <li> <em>6:28</em> <p>So at this point every request other than ones to our static assets is restricted.</p> </li> 
          <li> <em>6:33</em> <p>This will completely lock down our application because we have no way for</p> </li> 
          <li> <em>6:36</em> <p>users to authenticate In fact, if you were to run this app, and</p> </li> 
          <li> <em>6:40</em> <p>navigate to the app route in a browser, you'd see a 403 response code.</p> </li> 
          <li> <em>6:44</em> <p>Which means that access is forbidden.</p> </li> 
          <li> <em>6:47</em> <p>Let me show you.</p> </li> 
          <li> <em>6:48</em> <p>So I'm going to run that boot run task right there.</p> </li> 
          <li> <em>6:51</em> <p>And I'll let the application compile.</p> </li> 
          <li> <em>6:55</em> <p>And then I will let this spring application boot.</p> </li> 
          <li> <em>7:02</em> <p>Looks like it is booted successfully.</p> </li> 
          <li> <em>7:05</em> <p>Now let's go to chrome and I’ll close this user details service tab.</p> </li> 
          <li> <em>7:10</em> <p>And I’m going to refresh this page here.</p> </li> 
          <li> <em>7:14</em> <p>There's that four o three status code access For bitten.</p> </li> 
          <li> <em>7:20</em> <p>We've successfully implemented spring security.</p> </li> 
          <li> <em>7:23</em> <p>And now let's go back to our application and let some users in.</p> </li> 
          <li> <em>7:28</em> <p>So back in this method after requiring that.</p> </li> 
          <li> <em>7:33</em> <p>Any request be authorized with the user role?</p> </li> 
          <li> <em>7:35</em> <p>Let's configure the login form.</p> </li> 
          <li> <em>7:37</em> <p>So i will follow that up with the end method.</p> </li> 
          <li> <em>7:43</em> <p>And here's how we are going to allow access to our login form that formLogin,</p> </li> 
          <li> <em>7:48</em> <p>.LoginPage and we'll say, that you are right to our LoginPages/login and</p> </li> 
          <li> <em>7:56</em> <p>we will permit anyone into the login page.</p> </li> 
          <li> <em>8:01</em> <p>Now at this point we'd actually be able to log in but</p> </li> 
          <li> <em>8:04</em> <p>let's keep going before testing again.</p> </li> 
          <li> <em>8:07</em> <p>So next we can configure success and failure handler methods.</p> </li> 
          <li> <em>8:11</em> <p>In other words we can specify methods that we'd like to execute when</p> </li> 
          <li> <em>8:15</em> <p>login succeeds or when login fails.</p> </li> 
          <li> <em>8:19</em> <p>So let's do that.</p> </li> 
          <li> <em>8:20</em> <p>So we have a success handler and we have a failure handler.</p> </li> 
          <li> <em>8:27</em> <p>For these all specified two methods that don't yet exist but</p> </li> 
          <li> <em>8:30</em> <p>will create those or right after.</p> </li> 
          <li> <em>8:32</em> <p>So I'll call this loginSuccessHandler.</p> </li> 
          <li> <em>8:38</em> <p>And i will call this a logon failure handler.</p> </li> 
          <li> <em>8:44</em> <p>Now let's create those two methods.</p> </li> 
          <li> <em>8:48</em> <p>Ok i'll drop my semi-colon here.</p> </li> 
          <li> <em>8:50</em> <p>And here's how these methods need to look.</p> </li> 
          <li> <em>8:52</em> <p>This login success handler.</p> </li> 
          <li> <em>8:54</em> <p>We'll start with that one, has to return an authentication success handler.</p> </li> 
          <li> <em>8:59</em> <p>So, loginSuccessHandler is the name of that method.</p> </li> 
          <li> <em>9:04</em> <p>I'll just specify it as returning null, for now.</p> </li> 
          <li> <em>9:09</em> <p>And we'll do the same for the authentication failure handler.</p> </li> 
          <li> <em>9:13</em> <p>Public_AuthenticationFailureHandler there it is right there.</p> </li> 
          <li> <em>9:21</em> <p>And logonFailureHandler what I named it up above return null.</p> </li> 
          <li> <em>9:26</em> <p>Now let's go back up to the success handler and actually code that.</p> </li> 
          <li> <em>9:30</em> <p>Now this method will need to return an object implementing the authentication</p> </li> 
          <li> <em>9:34</em> <p>success handler interface.</p> </li> 
          <li> <em>9:35</em> <p>This is an interface here and the interface has only one method.</p> </li> 
          <li> <em>9:39</em> <p>So I'll use a lambda to do that.</p> </li> 
          <li> <em>9:43</em> <p>I'll return a lambda accepting three parameters.</p> </li> 
          <li> <em>9:46</em> <p>The HTTP servlet request and HTTP servlet response and an authentication object.</p> </li> 
          <li> <em>9:53</em> <p>Here's how that can look.</p> </li> 
          <li> <em>9:55</em> <p>So, the three parameters, the request.</p> </li> 
          <li> <em>10:00</em> <p>The response and you can use your IDE's auto suggest as you saw mine come up with.</p> </li> 
          <li> <em>10:07</em> <p>And the authentication and</p> </li> 
          <li> <em>10:09</em> <p>that's going to return response.send,</p> </li> 
          <li> <em>10:15</em> <p>redirect to the application route.</p> </li> 
          <li> <em>10:19</em> <p>Let me give myself more room to see all of this code right here.</p> </li> 
          <li> <em>10:24</em> <p>Okay.</p> </li> 
          <li> <em>10:25</em> <p>So this interface right here has one method that again</p> </li> 
          <li> <em>10:29</em> <p>accepts an HTTP server let request parameter.</p> </li> 
          <li> <em>10:33</em> <p>An HTTP server that response parameter in an authentication object.</p> </li> 
          <li> <em>10:39</em> <p>So then, the body of this lambda will simply read direct to the application</p> </li> 
          <li> <em>10:44</em> <p>root or that single slash.</p> </li> 
          <li> <em>10:46</em> <p>Now certainly, you could do other things here.</p> </li> 
          <li> <em>10:49</em> <p>And if you had a more complex set up you could do a multi-line</p> </li> 
          <li> <em>10:52</em> <p>body here by surrounding this in curly braces and</p> </li> 
          <li> <em>10:55</em> <p>adding more to pull lines here inside these curly braces.</p> </li> 
          <li> <em>11:00</em> <p>We don't need that here because this is a single line implementation, or if you had</p> </li> 
          <li> <em>11:04</em> <p>an even more complex set up you might want to create a separate class that implements</p> </li> 
          <li> <em>11:08</em> <p>the AuthenticationSuccessHandler interface instead of using a lambda all together.</p> </li> 
          <li> <em>11:14</em> <p>For the failure method also use a lambda</p> </li> 
          <li> <em>11:17</em> <p>though this one will have a multi-line body, so I will need those curly braces.</p> </li> 
          <li> <em>11:21</em> <p>So here, we have the same type of thing here.</p> </li> 
          <li> <em>11:24</em> <p>We have the request.</p> </li> 
          <li> <em>11:26</em> <p>And here I'll use my IDE's auto suggest right here.</p> </li> 
          <li> <em>11:30</em> <p>There we go.</p> </li> 
          <li> <em>11:31</em> <p>So I will return.</p> </li> 
          <li> <em>11:32</em> <p>And I don't need these enclosing parentheses here.</p> </li> 
          <li> <em>11:36</em> <p>I will return a multi-line lambda.</p> </li> 
          <li> <em>11:41</em> <p>So in the body of this thing we'll redirect in the same way</p> </li> 
          <li> <em>11:44</em> <p>a response.sendRedirect.</p> </li> 
          <li> <em>11:47</em> <p>If authentication fails though we'll send the user back to the login form,</p> </li> 
          <li> <em>11:51</em> <p>which is located at /login that's the URI for a logon form.</p> </li> 
          <li> <em>11:56</em> <p>But before doing, so</p> </li> 
          <li> <em>11:57</em> <p>let's add a quick flash message saying that authentication failed.</p> </li> 
          <li> <em>12:01</em> <p>So I'll do that in the first line of the lambda here.</p> </li> 
          <li> <em>12:04</em> <p>And I'll say, request.getSession.setAttribute.</p> </li> 
          <li> <em>12:10</em> <p>We will call this flash.</p> </li> 
          <li> <em>12:14</em> <p>And the flash attribute in the session will contain A FlashMessage object,</p> </li> 
          <li> <em>12:19</em> <p>just like you've seen in previous courses.</p> </li> 
          <li> <em>12:21</em> <p>And I'll say, here is something like Incorrect_username_and/or_password.</p> </li> 
          <li> <em>12:29</em> <p>You don't want to reveal which one was incorrect.</p> </li> 
          <li> <em>12:32</em> <p>Please try again.</p> </li> 
          <li> <em>12:34</em> <p>Cool, and then I also need this constructor.</p> </li> 
          <li> <em>12:37</em> <p>This flash message constructor requires me to indicate a status.</p> </li> 
          <li> <em>12:41</em> <p>So that's flashedmessage.status.failure.</p> </li> 
          <li> <em>12:44</em> <p>Kind of like we did in previous courses.</p> </li> 
          <li> <em>12:48</em> <p>Cool.</p> </li> 
          <li> <em>12:49</em> <p>So I have a flash message stored into session data and then I redirect.</p> </li> 
          <li> <em>12:54</em> <p>Now you'll notice I'm not using the typical redirectAttributes</p> </li> 
          <li> <em>12:57</em> <p>object that you've seen before with that addFlashAttribute method.</p> </li> 
          <li> <em>13:01</em> <p>And that's because we don't have easy access to that</p> </li> 
          <li> <em>13:04</em> <p>redirectAttributes object here from this method.</p> </li> 
          <li> <em>13:08</em> <p>This will work fine for this one case though.</p> </li> 
          <li> <em>13:11</em> <p>Check the teacher's notes for why I prefer this method over using the query</p> </li> 
          <li> <em>13:16</em> <p>string method for a login error page, which will see another online tutorials.</p> </li> 
          <li> <em>13:21</em> <p>Now as for the session attribute named flash.</p> </li> 
          <li> <em>13:24</em> <p>I've already woven that into the model map for you.</p> </li> 
          <li> <em>13:27</em> <p>If you take a look at the login controller let me open that now.</p> </li> 
          <li> <em>13:33</em> <p>You can see where i detect that flash attribute.</p> </li> 
          <li> <em>13:38</em> <p>I use that HTTP servlet request.</p> </li> 
          <li> <em>13:41</em> <p>I get the session data.</p> </li> 
          <li> <em>13:43</em> <p>And I look for an attribute named flash.</p> </li> 
          <li> <em>13:45</em> <p>Now, what happens here is if this attribute is not found</p> </li> 
          <li> <em>13:49</em> <p>an exception is thrown, so I catch that exception and I don't do anything</p> </li> 
          <li> <em>13:53</em> <p>because all that means is that there's no attribute in the session named flash.</p> </li> 
          <li> <em>13:58</em> <p>But if it is there that is if this line of</p> </li> 
          <li> <em>14:01</em> <p>code executes successfully without throwing an exception.</p> </li> 
          <li> <em>14:04</em> <p>Then I will add that flash attribute that was retrieved from the session data I add</p> </li> 
          <li> <em>14:09</em> <p>that to the model map which will be used by time leave to render the login form.</p> </li> 
          <li> <em>14:16</em> <p>Of course, so that this session attribute acts like a true flash attribute.</p> </li> 
          <li> <em>14:20</em> <p>If the attribute is found, after I added to the model map,</p> </li> 
          <li> <em>14:23</em> <p>I immediately remove it from the sessions so that the subsequent request if they</p> </li> 
          <li> <em>14:28</em> <p>refresh the page will not contain That flash message.</p> </li> 
          <li> <em>14:33</em> <p>Now another thing I've included for</p> </li> 
          <li> <em>14:34</em> <p>you is I have included a flash fragment in the time leave template named layout.</p> </li> 
          <li> <em>14:40</em> <p>So if you expand the templates directory and you look at layout.html,</p> </li> 
          <li> <em>14:44</em> <p>you will see a fragment named flash.</p> </li> 
          <li> <em>14:48</em> <p>It is right here.</p> </li> 
          <li> <em>14:50</em> <p>Now that attribute is included in the login template if</p> </li> 
          <li> <em>14:54</em> <p>you open the login template you will see this div right here</p> </li> 
          <li> <em>14:59</em> <p>is replaced with that flash fragment coming from the layout template.</p> </li> 
          <li> <em>15:06</em> <p>Okay, I'll close out of that and</p> </li> 
          <li> <em>15:09</em> <p>while I've got the login controller open let's do one more thing.</p> </li> 
          <li> <em>15:14</em> <p>Let's add the user entity as an attribute to the model, so</p> </li> 
          <li> <em>15:17</em> <p>that in the login form Time Leave, object binding will work as intended.</p> </li> 
          <li> <em>15:22</em> <p>So will do that up top here.</p> </li> 
          <li> <em>15:24</em> <p>I'll say, model.addAttribute, call that attribute user in the Time Leave template,</p> </li> 
          <li> <em>15:30</em> <p>and I'm going to add a new user entity there.</p> </li> 
          <li> <em>15:35</em> <p>Make sure you're importing the correct one.</p> </li> 
          <li> <em>15:37</em> <p>Cool.</p> </li> 
          <li> <em>15:38</em> <p>Okay, with that done I will close that controller and</p> </li> 
          <li> <em>15:41</em> <p>we're back in the security config class.</p> </li> 
          <li> <em>15:45</em> <p>Let's finish by configuring the log out actions so that spring knows</p> </li> 
          <li> <em>15:48</em> <p>which URI to capture, for destroying a user's authentication data, and</p> </li> 
          <li> <em>15:52</em> <p>to do this we'll use the log out method in that filter chain.</p> </li> 
          <li> <em>15:56</em> <p>So, right here I will add one of those and calls.</p> </li> 
          <li> <em>16:04</em> <p>And here's how you configure the logout, you call the logout method.</p> </li> 
          <li> <em>16:08</em> <p>We won't require authentication or authorization for this, so permitAll.</p> </li> 
          <li> <em>16:14</em> <p>And then finally, I will call the logoutSuccessUrl.</p> </li> 
          <li> <em>16:22</em> <p>And I'll say to log out success URL is /logon.</p> </li> 
          <li> <em>16:26</em> <p>Now instead of using log out success URL you could have used log out success</p> </li> 
          <li> <em>16:30</em> <p>handler as you probably saw in my auto suggest and just like we did for the two</p> </li> 
          <li> <em>16:34</em> <p>methods for logging in the login success handler and the login failure handler.</p> </li> 
          <li> <em>16:39</em> <p>But, I'm showing you this way for</p> </li> 
          <li> <em>16:41</em> <p>logging out just so that you can see both in action.</p> </li> 
          <li> <em>16:44</em> <p>Well, hey guess what we should be able to log in and out now.</p> </li> 
          <li> <em>16:48</em> <p>Let's fired up and see if that works.</p> </li> 
          <li> <em>16:50</em> <p>I'm gonna stop my previous instance and I’m going to run that</p> </li> 
          <li> <em>16:55</em> <p>boot run task Looks like we've compiled successfully and</p> </li> 
          <li> <em>17:02</em> <p>if all goes well, our application will start successfully, cool.</p> </li> 
          <li> <em>17:06</em> <p>Let's flip to chrome and see what happens.</p> </li> 
          <li> <em>17:09</em> <p>I'm going to refresh, and there is our logon page.</p> </li> 
          <li> <em>17:14</em> <p>Okay, we've got a username and password field here.</p> </li> 
          <li> <em>17:17</em> <p>So let's first test invalid credentials.</p> </li> 
          <li> <em>17:20</em> <p>I'll type user for the user name and nothing for the password.</p> </li> 
          <li> <em>17:26</em> <p>Cool.</p> </li> 
          <li> <em>17:26</em> <p>There's our flash message.</p> </li> 
          <li> <em>17:27</em> <p>Yeah, it could use a little styling work but it's okay for now.</p> </li> 
          <li> <em>17:31</em> <p>Let's make sure though that it acts like a flash message I'll refreshed and</p> </li> 
          <li> <em>17:35</em> <p>hey great it's gone.</p> </li> 
          <li> <em>17:37</em> <p>Now let's check to make sure authentication succeeds when we</p> </li> 
          <li> <em>17:40</em> <p>enter the correct username and password.</p> </li> 
          <li> <em>17:43</em> <p>So I'll enter user here and password here and hit enter.</p> </li> 
          <li> <em>17:48</em> <p>Okay it looks like providing even the correct username and</p> </li> 
          <li> <em>17:51</em> <p>password did not lead to successful authentication.</p> </li> 
          <li> <em>17:55</em> <p>Now there are a bunch of reasons why this could happen and</p> </li> 
          <li> <em>17:57</em> <p>one of the most common reasons is that usernames and</p> </li> 
          <li> <em>18:00</em> <p>or roles aren't getting inserted into the database correctly.</p> </li> 
          <li> <em>18:05</em> <p>Let's check our input dot SQL file to make sure.</p> </li> 
          <li> <em>18:09</em> <p>That that's the case so I'm wanna scroll down import.SQL and</p> </li> 
          <li> <em>18:13</em> <p>looks like I do have my role being inserted as a Role_user</p> </li> 
          <li> <em>18:17</em> <p>that's good insert user and okay all this is working nicely.</p> </li> 
          <li> <em>18:22</em> <p>One thing I do notice is that insert into role</p> </li> 
          <li> <em>18:25</em> <p>It doesn't have a semicolon at the end.</p> </li> 
          <li> <em>18:27</em> <p>Let's stick semicolons at the end of our import file,</p> </li> 
          <li> <em>18:32</em> <p>at the end of each query in the import file and</p> </li> 
          <li> <em>18:36</em> <p>rerun things and see if that helps us at all.</p> </li> 
          <li> <em>18:46</em> <p>Okay, let's scroll through the output and</p> </li> 
          <li> <em>18:49</em> <p>see if we can verify that users and roles are inserted,</p> </li> 
          <li> <em>18:52</em> <p>so I see that we've got insert and user insert end user that's all nice.</p> </li> 
          <li> <em>18:57</em> <p>Let's see if we can see the insert statement for roles.</p> </li> 
          <li> <em>19:04</em> <p>I see unsuccessful insert into role.</p> </li> 
          <li> <em>19:08</em> <p>So here you can check out the output,</p> </li> 
          <li> <em>19:10</em> <p>just to make sure that you are getting things inserted correctly.</p> </li> 
          <li> <em>19:15</em> <p>And it actually looks like our users were not being inserted correctly even though</p> </li> 
          <li> <em>19:19</em> <p>These queries were attempted.</p> </li> 
          <li> <em>19:23</em> <p>No worries though we can figure out what happened with the SQL syntax and</p> </li> 
          <li> <em>19:27</em> <p>make our changes accordingly.</p> </li> 
          <li> <em>19:28</em> <p>Okay, so insert into user</p> </li> 
          <li> <em>19:33</em> <p>that is not working it says that the calling count does not match.</p> </li> 
          <li> <em>19:38</em> <p>And I see that now.</p> </li> 
          <li> <em>19:40</em> <p>I see username, enabled, password.</p> </li> 
          <li> <em>19:42</em> <p>But then, I see four values.</p> </li> 
          <li> <em>19:44</em> <p>You can probably guess which one I forgot.</p> </li> 
          <li> <em>19:46</em> <p>I forgot the role ID column.</p> </li> 
          <li> <em>19:49</em> <p>Check this out.</p> </li> 
          <li> <em>19:50</em> <p>Role_id, role_ id.</p> </li> 
          <li> <em>19:57</em> <p>And with that in place, let's now stop our application and</p> </li> 
          <li> <em>20:02</em> <p>reboot and see if we get success.</p> </li> 
          <li> <em>20:06</em> <p>Now I want to show you how this looks live, so</p> </li> 
          <li> <em>20:09</em> <p>that if you run into similar scenarios, you have experience scrolling through</p> </li> 
          <li> <em>20:14</em> <p>this debugging output and finding these things on your own.</p> </li> 
          <li> <em>20:19</em> <p>Okay, cool, now I don't see those errors in my output here,</p> </li> 
          <li> <em>20:23</em> <p>so it looks like things are getting in okay.</p> </li> 
          <li> <em>20:27</em> <p>Let's see if that is the case, I'm gonna refresh this page, that message is gone.</p> </li> 
          <li> <em>20:32</em> <p>Let's see if user authentication fails with what we know are invalid credentials.</p> </li> 
          <li> <em>20:39</em> <p>Great, that should come up without a password, now user and</p> </li> 
          <li> <em>20:44</em> <p>password, there we go.</p> </li> 
          <li> <em>20:46</em> <p>We are in.</p> </li> 
          <li> <em>20:48</em> <p>Excellent!</p> </li> 
          <li> <em>20:48</em> <p>Debugging, successful!</p> </li> 
          <li> <em>20:51</em> <p>Now, we'll get to the user specific tasks in a bit, but</p> </li> 
          <li> <em>20:54</em> <p>now that we know we can get in, let's test our log out feature.</p> </li> 
          <li> <em>20:58</em> <p>And I've got this power icon here at the top right that's an inline form posting</p> </li> 
          <li> <em>21:02</em> <p>to the slash log out URI.</p> </li> 
          <li> <em>21:04</em> <p>Let's click it and make sure we're logged out.</p> </li> 
          <li> <em>21:07</em> <p>Cool, we are logged out.</p> </li> 
          <li> <em>21:10</em> <p>Now before we wrap up this video,</p> </li> 
          <li> <em>21:11</em> <p>I'd like to show you how Spring saves the fact that a user is authenticated.</p> </li> 
          <li> <em>21:16</em> <p>And I'm going to do this by opening the Chrome Developer tools.</p> </li> 
          <li> <em>21:21</em> <p>I'll click refresh, just so I can capture all results, because I'm gonna be looking</p> </li> 
          <li> <em>21:26</em> <p>at the Network tab, and let me pan up a little bit here.</p> </li> 
          <li> <em>21:30</em> <p>I'll size that down to give myself a little more room.</p> </li> 
          <li> <em>21:34</em> <p>Okay. If I now click on login, right here, and</p> </li> 
          <li> <em>21:38</em> <p>navigate to the Cookies tab, you'll see a cookie named JSESSIONID.</p> </li> 
          <li> <em>21:44</em> <p>This is an ID unique to this browsing session, that is, this window in Chrome.</p> </li> 
          <li> <em>21:52</em> <p>This cookie is set in the browser, when a request is made to the application.</p> </li> 
          <li> <em>21:57</em> <p>And every request, thereafter, from the browser, will include this.</p> </li> 
          <li> <em>22:01</em> <p>Here, I'll give you a closer look.</p> </li> 
          <li> <em>22:03</em> <p>Let's log in and see what happens, user, password.</p> </li> 
          <li> <em>22:12</em> <p>Let me scroll up to the top here and check out that first request, the login request.</p> </li> 
          <li> <em>22:19</em> <p>Looking at the headers of this request, we see that the response</p> </li> 
          <li> <em>22:25</em> <p>had a 302 Found status code, and a location header,</p> </li> 
          <li> <em>22:31</em> <p>if I scroll down here, a location header, going to the root of the application.</p> </li> 
          <li> <em>22:37</em> <p>Now looking closer, you'll see that there's a response header from the server,</p> </li> 
          <li> <em>22:41</em> <p>instructing the browser to set a cookie named JSESSIONID,</p> </li> 
          <li> <em>22:46</em> <p>right here, using the set cookie header in the HTTP response.</p> </li> 
          <li> <em>22:53</em> <p>Now, switching to the subsequent request,</p> </li> 
          <li> <em>22:56</em> <p>that is the localhost request, we can look at the request headers.</p> </li> 
          <li> <em>23:01</em> <p>Let me collapse the response headers.</p> </li> 
          <li> <em>23:04</em> <p>We can look at the request headers to see this cookie header being sent.</p> </li> 
          <li> <em>23:09</em> <p>This cookie header is sending the JSESSIONID cookie using</p> </li> 
          <li> <em>23:14</em> <p>the same value that was set in the browser using the previous response,</p> </li> 
          <li> <em>23:19</em> <p>so the response instructs the browser to set a cookie value for the JSESSIONID.</p> </li> 
          <li> <em>23:24</em> <p>And then subsequent requests by this browsing session to the same domain,</p> </li> 
          <li> <em>23:29</em> <p>will send that cookie value, along with the request, as a cookie header.</p> </li> 
          <li> <em>23:35</em> <p>So what's happening here is that upon authentication,</p> </li> 
          <li> <em>23:37</em> <p>Spring Security saves your authentication data on the server and</p> </li> 
          <li> <em>23:41</em> <p>associates it with that JSESSIONID.</p> </li> 
          <li> <em>23:46</em> <p>Then, in the HTTP response, it tells the browser to remember that value name,</p> </li> 
          <li> <em>23:50</em> <p>JSESSIONID, on the initial request to the application, so that future requests can</p> </li> 
          <li> <em>23:54</em> <p>be lined up with the already saved authentication information.</p> </li> 
          <li> <em>23:58</em> <p>That way, your users don't have to provide their usernames and</p> </li> 
          <li> <em>24:01</em> <p>passwords on every request.</p> </li> 
          <li> <em>24:04</em> <p>Pretty cool?</p> </li> 
          <li> <em>24:05</em> <p>Now be sure to check the teacher's notes for</p> </li> 
          <li> <em>24:07</em> <p>considerations when working with session IDs and cookies.</p> </li> 
         </ul> 
        </div> 
        <div id="downloads-tab-content" data-tab-content> 
         <div class="module no-downloads-message"> 
          <p>You need to sign up for Treehouse in order to download course files.</p> 
          <a class="button" href="/subscribe/plans">Sign up</a> 
         </div> 
        </div> 
       </div> 
      </div> 
     </div> 
    </div> 
   </div>
  </main> 
  <footer class="footer" role="contentinfo"> 
   <div class="container "> 
    <dl class="footer-meta-list footer-meta-list-treehouse"> 
     <dt class="footer-meta-title">
      <a class="footer-meta-treehouse-icon-link" href="/">
       <svg class="treehouse-icon footer-meta-treehouse-icon" preserveaspectratio="xMinYMin meet" viewbox="0 0 139 32">
        <use xlink:href="/assets/icons-48b0de4a34ed7fae447605bf8931277ed88c17d4465c9f215fa915274f9b0072.svg#treehouse-icon"></use>
       </svg></a>
     </dt> 
     <dd class="footer-meta-item">
      Our mission is to bring 
      <a class="footer-meta-treehouse-link" href="/">affordable technology education</a> to people everywhere in order to help them achieve their dreams and change the world.
     </dd> 
    </dl> 
    <dl class="footer-meta-list"> 
     <dt class="footer-meta-title">
      Our Company
     </dt> 
     <dd class="footer-meta-item">
      <a rel="nofollow" class="footer-meta-link" href="/about">About Us</a>
     </dd> 
     <dd class="footer-meta-item">
      <a class="footer-meta-link" href="/support">Contact Us</a>
     </dd> 
     <dd class="footer-meta-item">
      <a class="footer-meta-link" href="/community">Community</a>
     </dd> 
     <dd class="footer-meta-item">
      <a class="footer-meta-link" href="/stories">Treehouse Stories</a>
     </dd> 
     <dd class="footer-meta-item">
      <a class="footer-meta-link" href="/perks">Student Perks</a>
     </dd> 
     <dd class="footer-meta-item">
      <a class="footer-meta-link" href="http://blog.teamtreehouse.com/">Treehouse Blog</a>
     </dd> 
     <dd class="footer-meta-item">
      <a rel="nofollow" class="footer-meta-link" href="https://teamtreehouse.com/affiliate-program">Affiliate Program</a>
     </dd> 
     <dd class="footer-meta-item">
      <a rel="nofollow" class="footer-meta-link" href="/careers">Careers</a>
     </dd> 
    </dl> 
    <dl class="footer-meta-list"> 
     <dt class="footer-meta-title">
      Topics
     </dt> 
     <dd class="footer-meta-item">
      <a class="footer-meta-link" href="/library/topic:html">HTML</a>
     </dd> 
     <dd class="footer-meta-item">
      <a class="footer-meta-link" href="/library/topic:css">CSS</a>
     </dd> 
     <dd class="footer-meta-item">
      <a class="footer-meta-link" href="/library/topic:design">Design</a>
     </dd> 
     <dd class="footer-meta-item">
      <a class="footer-meta-link" href="/library/topic:javascript">JavaScript</a>
     </dd> 
     <dd class="footer-meta-item">
      <a class="footer-meta-link" href="/library/topic:ruby">Ruby</a>
     </dd> 
     <dd class="footer-meta-item">
      <a class="footer-meta-link" href="/library/topic:php">PHP</a>
     </dd> 
     <dd class="footer-meta-item">
      <a class="footer-meta-link" href="/library/topic:wordpress">WordPress</a>
     </dd> 
     <dd class="footer-meta-item">
      <a class="footer-meta-link" href="/library/topic:ios">iOS</a>
     </dd> 
     <dd class="footer-meta-item">
      <a class="footer-meta-link" href="/library/topic:android">Android</a>
     </dd> 
     <dd class="footer-meta-item">
      <a class="footer-meta-link" href="/library/topic:development-tools">Development Tools</a>
     </dd> 
     <dd class="footer-meta-item">
      <a class="footer-meta-link" href="/library/topic:business">Business</a>
     </dd> 
    </dl> 
    <dl class="footer-meta-list"> 
     <dt class="footer-meta-title">
      Tracks
     </dt> 
     <dd class="footer-meta-item">
      <a class="footer-meta-link" href="/tracks/web-design">Web Design</a>
     </dd> 
     <dd class="footer-meta-item">
      <a class="footer-meta-link" href="/tracks/web-development">Web Development</a>
     </dd> 
     <dd class="footer-meta-item">
      <a class="footer-meta-link" href="/tracks/rails-development">Rails Development</a>
     </dd> 
     <dd class="footer-meta-item">
      <a class="footer-meta-link" href="/tracks/php-development">PHP Development</a>
     </dd> 
     <dd class="footer-meta-item">
      <a class="footer-meta-link" href="/tracks/ios-development">iOS Development</a>
     </dd> 
     <dd class="footer-meta-item">
      <a class="footer-meta-link" href="/tracks/android-development">Android Development</a>
     </dd> 
     <dd class="footer-meta-item">
      <a class="footer-meta-link" href="/tracks/wordpress-development">WordPress Development</a>
     </dd> 
     <dd class="footer-meta-item">
      <a class="footer-meta-link" href="/tracks/starting-a-business">Starting a Business</a>
     </dd> 
    </dl> 
    <ul class="footer-list"> 
     <li class="footer-item footer-social-item"> <a title="Twitter" class="footer-social-link" target="_blank" href="http://twitter.com/treehouse">
       <svg preserveaspectratio="xMinYMin meet" viewbox="0 0 24 24" class="twitter-icon">
        <use xlink:href="/assets/icons-48b0de4a34ed7fae447605bf8931277ed88c17d4465c9f215fa915274f9b0072.svg#twitter-icon"></use>
       </svg></a> </li> 
     <li class="footer-item footer-social-item"> <a title="Youtube" class="footer-social-link" target="_blank" href="http://youtube.com/user/gotreehouse">
       <svg preserveaspectratio="xMinYMin meet" viewbox="0 0 24 24" class="youtube-icon">
        <use xlink:href="/assets/icons-48b0de4a34ed7fae447605bf8931277ed88c17d4465c9f215fa915274f9b0072.svg#youtube-icon"></use>
       </svg></a> </li> 
     <li class="footer-item footer-social-item"> <a title="Facebook" class="footer-social-link" target="_blank" href="http://facebook.com/teamtreehouse">
       <svg preserveaspectratio="xMinYMin meet" viewbox="0 0 24 24" class="facebook-icon">
        <use xlink:href="/assets/icons-48b0de4a34ed7fae447605bf8931277ed88c17d4465c9f215fa915274f9b0072.svg#facebook-icon"></use>
       </svg></a> </li> 
     <li class="footer-item footer-social-item"> <a title="Google Plus" class="footer-social-link" target="_blank" href="http://plus.google.com/110278003536476194286/posts">
       <svg preserveaspectratio="xMinYMin meet" viewbox="0 0 24 24" class="google-plus-icon">
        <use xlink:href="/assets/icons-48b0de4a34ed7fae447605bf8931277ed88c17d4465c9f215fa915274f9b0072.svg#google-plus-icon"></use>
       </svg></a> </li> 
     <li class="footer-item footer-social-item"> <a title="LinkedIn" class="footer-social-link" target="_blank" href="http://linkedin.com/company/treehouse-island-inc-">
       <svg preserveaspectratio="xMinYMin meet" viewbox="0 0 24 24" class="linked-in-icon">
        <use xlink:href="/assets/icons-48b0de4a34ed7fae447605bf8931277ed88c17d4465c9f215fa915274f9b0072.svg#linked-in-icon"></use>
       </svg></a> </li> 
     <li class="footer-item footer-social-item"> <a title="Instagram" class="footer-social-link" target="_blank" href="http://instagram.com/teamtreehouse">
       <svg preserveaspectratio="xMinYMin meet" viewbox="0 0 24 24" class="instagram-icon">
        <use xlink:href="/assets/icons-48b0de4a34ed7fae447605bf8931277ed88c17d4465c9f215fa915274f9b0072.svg#instagram-icon"></use>
       </svg></a> </li> 
     <li class="footer-item footer-item-text footer-item-blog"><a class="footer-item-text-link" href="http://blog.teamtreehouse.com/">Treehouse Blog</a></li> 
     <li class="footer-item footer-item-text"><a class="footer-item-text-link" href="/about">About Treehouse</a></li> 
     <li class="footer-item footer-item-text"><a rel="nofollow" class="footer-item-text-link" href="/privacy">Privacy Policy</a></li> 
     <li class="footer-item footer-item-text"><a rel="nofollow" class="footer-item-text-link" href="/terms">Terms &amp; Conditions</a></li> 
     <li class="footer-item footer-item-copyright">© 2017 Treehouse Island, Inc.</li> 
    </ul> 
   </div>
  </footer> 
  <!-- yields content from within treehouse-tour paths. Find helper in application.helper --> 
  <div id="card-trailer-modal" class="modal" data-featurette="course-trailer-modal" data-modal-video-autoplay="true" style="; display: none;"> 
  </div> 
  <div id="login-modal" class="modal" data-featurette="modal" style="; display: none;"> 
   <div class="grid-container login-modal"> 
    <div class="grid-50 grid-parent centered"> 
     <section class="contained"> 
      <button class="button  modal-close x-small square secondary" data-modal-close="close">
       <svg preserveaspectratio="xMinYMin meet" viewbox="0 0 12 12" class="close-icon">
        <use xlink:href="/assets/icons-48b0de4a34ed7fae447605bf8931277ed88c17d4465c9f215fa915274f9b0072.svg#close-icon"></use>
       </svg></button> 
      <div class="grid-100 secondary-heading"> 
       <h1>Sign in</h1> 
      </div> 
      <form class="new_user_session" id="new_user_session" action="https://teamtreehouse.com/person_session?secure=true" accept-charset="UTF-8" method="post">
       <input name="utf8" type="hidden" value="?">
       <input type="hidden" name="authenticity_token" value="5k4m73t7yAzsJVPA5u2sbNgOODJKvEN/8qESZNAWs3AwcpIMIJiOj1efp+eC1Wc84q+WIXfbm0gibDKEMj7SSQ=="> 
       <input type="hidden" name="return_to" id="return_to" value="/library/turning-on-spring-security-with-java-config" class="input-hidden"> 
       <fieldset> 
        <div class="form-item"> 
         <label for="user_session_email">Email Address</label> 
         <input autofocus autocomplete="email" class="form-text-input input-text input-text" type="email" name="user_session[email]" id="user_session_email"> 
        </div> 
       </fieldset> 
       <fieldset> 
        <div class="form-item"> 
         <label for="user_session_password">Password</label> 
         <input autocomplete="current-password" class="form-text-input input-text input-text" type="password" name="user_session[password]" id="user_session_password"> 
        </div> 
       </fieldset> 
       <p class="forgot-password"><a href="/password_resets"><span class="icon icon-help-mini"></span>I forgot my password</a></p> 
       <button type="submit" class="button primary">Sign in</button> 
      </form> 
     </section> 
    </div> 
   </div> 
  </div> 
  <div id="mini-profile-container"></div> 
  <div id="tarp" class="modal-tarp" style="display: none;" data-featurette="tarp"></div> 
  <script src="https://static.teamtreehouse.com/assets/application_vendor-c843404d152dbff7cd740ca45885382a2cc37e9af00d2f7196473d0bfebe8502.js"></script> 
  <script src="https://static.teamtreehouse.com/assets/application-54937d8ae0c11ed7eb81336d89121ccae9170ee766de9782aa8eff3f6f48695a.js"></script> 
  <!-- Segment.io Analytics --> 
  <script type="text/javascript">
  !function(){
    var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.1.0";
    analytics.load("DMUKccVYvuuUIVSJlokCJe0YQyGm9qVb");

    analytics.ready(function(){
      window.analytics.segmentDebug = window.analytics.debug;
      window.analytics.debug = function(state) {
        if (state == null) { state = true; }
        $.cookie("_treehouse_analytics_debug", state);
        return state;
      };
    })

    window.recordedAnalytics = []
    function recordAnalyticsCall(callType, event, properties, options) {
      if ($.cookie("_treehouse_analytics_debug") == "true") {
        window.recordedAnalytics.push([callType, event, properties, options])
        console.debug("Analytics: ", callType, ("'" + event + "'"), properties, options);
      }
    }
    analytics.on('alias', function(e, p, o) { recordAnalyticsCall('alias', e, p, o)});
    analytics.on('identify', function(e, p, o) { recordAnalyticsCall('identify', e, p, o)});
    analytics.on('group', function(e, p, o) { recordAnalyticsCall('group', e, p, o)});
    analytics.on('track', function(e, p, o) { recordAnalyticsCall('track', e, p, o)});
    analytics.on('page', function(e, p, o) { recordAnalyticsCall('page', e, p, o)});

    var session_id = "4d01522f-fbf0-4cb3-bbd6-5b7c83918ce3";
    var request_id = "B55C7769-D109-0A78242D-01BB-59BEC9E1-9F1F90-0D26";
    var visitor_id = $.cookie("vid");
    var user_id = "";
    var organization_id = "";
    var composite_identity = "NGQwMTUyMmYtZmJmMC00Y2IzLWJiZDYtNWI3YzgzOTE4Y2UzNTc0ODY4NzYxMg==";

    function trackIdentity() {
        window.analytics.identify({
          visitor_id: visitor_id,
          session_id: session_id
        }, {
          anonymousId: session_id,
          Intercom : {
            user_hash : "d2a2f3c7caaf7b871ea4e855b1684a9c54fdbf79dad79c222222e5f029cc0111"
          }
        });

    }

    function trackPage() {
      window.analytics.page({
        visitor_id: visitor_id,
        session_id: session_id,
        request_id: request_id
      }, {
        anonymousId: session_id
      });
    }

    if ($.cookie("_analytics_composite_identity") != composite_identity) {
      analytics.reset();
    }
    $.cookie("_analytics_composite_identity", composite_identity);

    trackIdentity();
    trackPage();

    $(document).on("pjax:success", function(event, body, status, xhr, options) {
      request_id = xhr.getResponseHeader("X-Request-Id");
      trackPage();
    });
  }}();

</script>   
 </body>
</html>