<!doctype html>
<html ng-app="hub">
 <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="readme-deploy" content="f06f25ce538e6c770643d149dcf11348ff4e30bc">
  <meta name="readme-subdomain" content="kickbox">
  <meta name="readme-version" content="2.0">
  <script src="//d2wy8f7a9ursnm.cloudfront.net/bugsnag-3.min.js" data-apikey="8593a4bcc5e114a9e5a28c4adcc73374"></script>
  <title>Kickbox Email Verification</title>
  <meta name="description" content="Integrate Kickbox directly into your applications with our Email Verification and Recipient Authentication APIs. Get a head start with the Kickbox API libraries for Node.js, PHP, Python, and Ruby.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta property="og:title" content="Recipient Authentication and node.js">
  <meta property="og:description" content="A node.js application to collect email addresses using Kickbox">
  <link href="https://files.readme.io/6f026e2-favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link rel="canonical" href="https://docs.kickbox.io/v2.0/docs/recipient-authentication-and-nodejs">
  <!-- Application styles-->
  <link rel="stylesheet" href="https://d2sl9eawlu179j.cloudfront.net/css/bundle-hub2.css?1505513482963">
  <!-- Custom CSS-->
  <style>a {
  color: #2B91B4;
}
a:hover {
  color: #174f62;
}
a.text-muted:hover {
  color: #2B91B4;
}
.btn.btn-primary {
  background-color: #2B91B4;
}
.btn.btn-primary:hover {
  background-color: #174f62;
}
.theme-line #hub-landing-top h2 {
  color: #2B91B4;
}
#hub-landing-top .btn:hover {
  color: #2B91B4;
}
.theme-line #hub-landing-top .btn:hover {
  color: #fff;
}
.theme-solid header#hub-header #header-top {
  background-color: #CBDB29;
}
.theme-solid.header-gradient header#hub-header #header-top {
  background: linear-gradient(to bottom, #CBDB29, #919d1a);
}
.theme-solid.header-custom header#hub-header #header-top {
  background-image: url("undefined");
}
.theme-line header#hub-header #header-top {
  border-bottom-color: #CBDB29;
}
.theme-line header#hub-header #header-top .btn {
  background-color: #CBDB29;
}
header#hub-header #header-top #header-logo {
  width: 120px;
  height: 40px;
  margin-top: 0px;
  background-image: url("https://files.readme.io/RWKIItN4QNuhjY9oQeEK_KB_Logo_grey_Txt_Only.png");
}
nav#hub-sidebar ul a.active {
  background-color: #CBDB29;
}
#hub-subheader-parent #hub-subheader .hub-subheader-breadcrumbs .dropdown-menu a:hover {
  background-color: #CBDB29;
}
.discussion .submit-vote.submit-vote-parent.voted a.submit-vote-button {
  background-color: #2B91B4;
}
section#hub-discuss .discussion a .discuss-body h4 {
  color: #2B91B4;
}
section#hub-discuss .discussion a:hover .discuss-body h4 {
  color: #174f62;
}
#hub-subheader-parent #hub-subheader.sticky-header.sticky {
  border-bottom-color: #2B91B4;
}
#hub-subheader-parent #hub-subheader.sticky-header.sticky .search-box {
  border-bottom-color: #2B91B4;
}
#hub-search-results h3 em {
  color: #2B91B4;
}
.main_background,
.tag-item {
  background: #2B91B4 !important;
}
.main_background:hover {
  background: #174f62 !important;
}
.main_color {
  color: #CBDB29 !important;
}
.main_color_hover:hover {
  color: #CBDB29 !important;
}
section#hub-discuss h1 {
  color: #2B91B4;
}
#hub-reference .hub-api .api-manager .param-table .param-item .param-item-info .param-item-table .param-item-input textarea:focus,
#hub-reference .hub-api .api-manager .param-table .param-item .param-item-info .param-item-table .param-item-input input[type="text"]:focus,
#hub-reference .hub-api .api-manager .param-table .param-item .param-item-info .param-item-table .param-item-input input[type="number"]:focus {
  border: 1px solid #2B91B4;
}
#hub-reference .hub-api .api-definition .api-try-it-out.active {
  border-color: #2B91B4;
  background-color: #2B91B4;
}
#hub-reference .hub-api .api-definition .api-try-it-out.active:hover {
  background-color: #174f62;
  border-color: #174f62;
}
#hub-reference .hub-api .api-definition .api-try-it-out:hover {
  border-color: #2B91B4;
  color: #2B91B4;
}
#hub-reference .hub-reference .hub-reference-section .hub-reference-left header .hub-reference-edit:hover {
  color: #2B91B4;
}
</style>
  <!-- TODO: Escape!-->
  <style id="customCSS">
</style>
 </head>
 <body ng-class="{'hub-full': state.current().opts.full, 'no-sidebar': !state.current().opts.sidebar, 'hub-is-home': state.current().name == 'home' &amp;&amp; 'docs' == 'landing', 'hub-suggested-edits': suggestedEdits.isEnabled}" class="body-none theme-solid header-solid header-bg-size-auto header-bg-pos-tl header-overlay-triangles lumosity-light ">
  <div id="hub-me" style="display: none;">
   {"oauth_url":"","loggedIn":false,"search":{"token":"MDAxMWZiYzk4MDAwMWQ5N2IyNTBhMjNlNzg5Y2E2Mzg3ODMzMzA4NGNlOTc5M2FmMTNlNmI1NTJiYjdhYmQyNHRhZ0ZpbHRlcnM9cHJvamVjdDo1NDRlY2NlYWNmOWY4NjA4MDA4MDBkY2MsKGhpZGRlbjpub25lLGhpZGRlbjpmYWxzZSksKHZlcnNpb246bm9uZSx2ZXJzaW9uOjU0ZjhiMGNhOGU5ZjUyMzUwMDc4MjAwMyk=","filters":"tagFilters=project:544ecceacf9f860800800dcc,(hidden:none,hidden:false),(version:none,version:54f8b0ca8e9f523500782003)","app":"T28YKFATPY","modules":{"landing":false,"docs":true,"examples":true,"reference":true,"blog":true,"discuss":true,"suggested_edits":true}}}
  </div>
  <header id="hub-header">
   <div id="header-top">
    <div class="hub-container">
     <div class="clearfix">
      <a href="https://kickbox.io" class="header-link"><h1 id="header-logo">Kickbox Email Verification</h1></a>
      <nav>
       <ul id="header-nav-left">
        <li><a href="" ui-sref="docs" title="Documentation">Documentation</a></li>
        <li><a href="" ui-sref="reference" title="Reference">API Endpoints</a></li>
        <li><a href="https://kickbox.io/#!#contact" target="_self">Support</a></li>
        <li><a href="http://slack.kickbox.io/" target="_self">#Slack</a></li>
       </ul>
       <ul id="header-nav-right">
        <li><a href="https://kickbox.io/signin" target="_self">Log In</a></li>
        <li><a href="https://kickbox.io/signup" target="_self">Sign Up</a></li>
       </ul>
      </nav>
     </div>
     <div id="hub-landing-top" class="hub-landing-buttons">
      <h2>Kickbox Email Verification Documentation</h2>
      <div class="hub-landing-description">
       <p>Welcome to the Kickbox Email Verification developer hub. You'll find comprehensive guides and documentation to help you start working with Kickbox Email Verification as quickly as possible, as well as support if you get stuck. Let's jump right in!</p> 
      </div>
      <a href="/docs" class="btn btn-lg btn-primary"><i class="fa fa-rocket"></i>Get Started</a>&nbsp;&nbsp;&nbsp;&nbsp;
     </div>
    </div>
   </div>
   <div id="hub-subheader-parent">
    <div id="hub-subheader">
     <div class="hub-container">
      <nav id="header-bottom-nav">
       <div id="header-icon-nav">
        <div class="icons">
         <div class="hub-subheader-breadcrumbs">
          <!-- Version picker-->
          <span dropdown class="left-dropdown ng-cloak"><a href="" ng-class="{'hub-breadcrumb-last': !showTitle() &amp;&amp; !state.current().params.category}" dropdown-toggle class="hub-breadcrumb-item hub-breadcrumb-item-type"><span ng-show="state.current().root == 'home'">Home</span><span ng-show="state.current().root == 'docs'">Documentation</span><span ng-show="state.current().root == 'reference'">API Endpoints</span><span ng-show="state.current().root == 'preview'">Reference</span><span ng-show="state.current().root == 'blog'">Announcements</span><span ng-show="state.current().root == 'discuss'">Support</span><span ng-show="state.current().root == 'error'">Page Not Found</span><span ng-show="state.current().root == 'search'">Search</span><span ng-show="state.current().root == 'custompages'" style="text-transform: capitalize;">{{state.current().params.custompage}}</span><i class="fa fa-chevron-down"></i></a>
           <ul dropdown-menu class="ng-cloak">
            <a href="" ui-sref="docs" ng-class="{muted: false}" class="subheaderLink"><i class="icon icon-documentation"></i><span>Documentation</span></a>
            <a href="" ui-sref="reference" ng-class="{muted: false}" class="subheaderLink"><i class="icon icon-reference"></i><span>API Endpoints</span></a>
            <a href="" ui-sref="blog" class="subheaderLink"><i class="icon icon-announcements"></i><span>Announcements</span></a>
            <a href="" ui-sref="discuss" class="subheaderLink"><i class="icon icon-support"></i><span>Support</span></a>
           </ul></span>
          <span ng-show="showTitle()" class="hub-breadcrumb-item hub-breadcrumb-item-title ng-cloak"><span>{{ showTitle() }}</span></span>
         </div>
         <div>
          <div id="hub-search">
           <div searchbox ng-class="{full:search.full}" class="searchbox">
            <input ng-model="search.query" type="text" placeholder="Search" class="search-box">
            <div class="fa fa-search"></div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </nav>
      <div id="header-bottom-suggested-edits">
       <div class="pull-right">
        <a href="" ng-click="suggestedEdits.disable()" class="hub-suggested-edits-cancel"><i class="icon icon-cross-circle"></i>discard</a>
        <button ng-if="user.isAdmin" ng-click="suggestedEdits.adminSave()" class="btn btn-default hub-suggested-edits-save"><i class="icon icon-right icon-floppy-disk"></i><strong ng-show="!suggestedEdits.loading">Save Edits</strong><span ng-show="suggestedEdits.loading" class="loader"></span></button>
        <button ng-click="suggestedEdits.prepare()" class="btn btn-default"><i class="icon icon-right icon-register"></i><strong>Submit</strong> Suggested Edits</button>
       </div>
      </div>
     </div>
     <div>
      <div id="hub-search-results" searchresults ng-class="{'hub-search-results-active':search.full}">
       <div class="hub-container">
        <h3>Search results for "<em>{{ search.query }}</em>"</h3>
        <div ng-show="!search.results.length" class="hub-search-noresults">
         <em>No results found for "{{search.query}}".&nbsp;</em>
         <a href="" ui-sref="discuss.new">Ask about it in support</a>.
        </div>
       </div>
       <ul ng-show="search.results.length">
        <li ng-repeat="result in search.results" ng-class="{activeSearch: $index == search.highlighted}"><a ng-if="result._index == 'Page' &amp;&amp; result.link_url" ng-href="{{result.link_url}}" class="external">
          <div class="hub-container">
           <i class="icon icon-documentation"></i>
           <div>
            <strong ng-bind-html="result._title" class="hub-result-title"></strong>
            <em class="hub-result-type">Guide</em>
           </div>
           <p ng-bind-html="result._body" class="text-overflow"></p>
          </div></a><a ng-if="result._index == 'Page' &amp;&amp; !result._isReference &amp;&amp; !result.link_url" href="" ui-sref="docs.show({doc:result._slug})">
          <div class="hub-container">
           <i class="icon icon-documentation"></i>
           <div>
            <strong ng-bind-html="result._title" class="hub-result-title"></strong>
            <em class="hub-result-type">Guide</em>
           </div>
           <p ng-bind-html="result._body" class="text-overflow"></p>
          </div></a><a ng-if="result._index == 'Page' &amp;&amp; result._isReference &amp;&amp; !result.link_url" href="" ui-sref="reference#{{result._slug}}">
          <div class="hub-container">
           <i class="icon icon-reference"></i>
           <div>
            <!-- TODO: Fix this is search-->
            <strong ng-bind-html="result._title" class="hub-result-title"></strong>
            <em class="hub-result-type">Reference</em>
           </div>
           <p ng-bind-html="result._body" class="text-overflow"></p>
          </div></a><a ng-if="result._index == 'Blog'" href="" ui-sref="blog.show({blog:result._slug})">
          <div class="hub-container">
           <i class="icon icon-announcements"></i>
           <div>
            <strong ng-bind-html="result._title" class="hub-result-title"></strong>
            <em class="hub-result-type">Announcement</em>
           </div>
           <p ng-bind-html="result._body" class="text-overflow"></p>
          </div></a><a ng-if="result._index == 'Discuss'" href="" ui-sref="discuss.show({discuss:result._id})">
          <div class="hub-container">
           <i class="icon icon-support"></i>
           <div>
            <strong ng-bind-html="result._title" class="hub-result-title"></strong>
            <em class="hub-result-type">Support</em>
           </div>
           <p ng-bind-html="result._body" class="text-overflow"></p>
          </div></a><a ng-if="result._index == 'CustomPage'" href="" ui-sref="custompages.show({custompage:result._slug})">
          <div class="hub-container">
           <i class="icon icon-custom-pages"></i>
           <div>
            <strong ng-bind-html="result._title" class="hub-result-title"></strong>
            <em class="hub-result-type">Page</em>
           </div>
           <p ng-bind-html="result._body" class="text-overflow"></p>
          </div></a></li>
       </ul>
       <a ng-show="search.results.length" ng-href="/v2.0/search?q={{search.query}}" class="viewAll">View All Results</a>
      </div>
     </div>
     <div ng-cloak ng-if="isMobile" class="mobile-nav"></div>
    </div>
   </div>
  </header>
  <div ng-class="{active:contentLoadingSection || contentLoading}" class="hub-loading-indicator"></div>
  <div id="hub-container" ng-class="{loading:contentLoadingSection}">
   <div class="hub-container">
    <div id="hub-sidebar-parent" sidebar class="hub-sidebar-sticky">
     <nav id="hub-sidebar">
      <div class="scrollable-parent">
       <scrollable scroll-to-top="state.current().root">
        <div id="hub-sidebar-content">
         <div ng-show="state.current().root == 'docs'">
          <h3>About Kickbox</h3>
          <ul>
           <li ng-class="{'subnav-expanded' : isActive('58fc01be6b29580f00d902b3')}"> <a ui-sref="docs.show({'doc': 'why-use-kickbox'})" href="" ui-sref-alt="docs" class="text-overflow"><span ng-show="suggestedEdits.edited['why-use-kickbox'].edited" class="icon icon-pencil4 ng-cloak"></span>Why Use Kickbox?</a>
            <ul class="subpages"></ul></li>
           <li ng-class="{'subnav-expanded' : isActive('54f8b0cb8e9f52350078200a')}"> <a ui-sref="docs.show({'doc': 'the-95-deliverability-guarantee'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['the-95-deliverability-guarantee'].edited" class="icon icon-pencil4 ng-cloak"></span>95% Deliverability Guarantee</a>
            <ul class="subpages"></ul></li>
           <li ng-class="{'subnav-expanded' : isActive('54f8b0cb8e9f523500782012')}"> <a ui-sref="docs.show({'doc': 'list-security-and-privacy'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['list-security-and-privacy'].edited" class="icon icon-pencil4 ng-cloak"></span>Security and Privacy</a>
            <ul class="subpages"></ul></li>
          </ul>
          <h3>Getting Started</h3>
          <ul>
           <li ng-class="{'subnav-expanded' : isActive('570bf4142bf01d2000c058c5')}"> <a ui-sref="docs.show({'doc': 'getting-started'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['getting-started'].edited" class="icon icon-pencil4 ng-cloak"></span>Getting Started with Kickbox</a>
            <ul class="subpages"></ul></li>
           <li ng-class="{'subnav-expanded' : isActive('54f8b0cb8e9f523500782008')}"> <a ui-sref="docs.show({'doc': 'terminology'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['terminology'].edited" class="icon icon-pencil4 ng-cloak"></span>Terminology</a>
            <ul class="subpages"></ul></li>
           <li ng-class="{'subnav-expanded' : isActive('54f8b0cb8e9f523500782009')}"> <a ui-sref="docs.show({'doc': 'the-sendex'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['the-sendex'].edited" class="icon icon-pencil4 ng-cloak"></span>Sendex™ Email Quality</a>
            <ul class="subpages"></ul></li>
          </ul>
          <h3>List Verification</h3>
          <ul>
           <li ng-class="{'subnav-expanded' : isActive('570bfe02e5f8280e006b198d')}"> <a ui-sref="docs.show({'doc': 'uploading-and-importing-lists'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['uploading-and-importing-lists'].edited" class="icon icon-pencil4 ng-cloak"></span>Uploading and Importing Lists</a>
            <ul class="subpages"></ul></li>
           <li ng-class="{'subnav-expanded' : isActive('570c079cdf1a7e34007d84d0')}"> <a ui-sref="docs.show({'doc': 'downloading-and-exporting-results'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['downloading-and-exporting-results'].edited" class="icon icon-pencil4 ng-cloak"></span>Downloading and Exporting Results</a>
            <ul class="subpages"></ul></li>
          </ul>
          <h3>Recipient Authentication</h3>
          <ul>
           <li ng-class="{'subnav-expanded' : isActive('58fcc6ee0c09630f00eb70d0')}"> <a ui-sref="docs.show({'doc': 'what-is-recipient-authentication'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['what-is-recipient-authentication'].edited" class="icon icon-pencil4 ng-cloak"></span>What is Recipient Authentication?</a>
            <ul class="subpages"></ul></li>
           <li ng-class="{'subnav-expanded' : isActive('57224610ecdfb819006bdae2')}"> <a ui-sref="docs.show({'doc': 'creating-a-recipient-authentication-app'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['creating-a-recipient-authentication-app'].edited" class="icon icon-pencil4 ng-cloak"></span>Creating a Recipient Authentication App</a>
            <ul class="subpages"></ul></li>
           <li ng-class="{'subnav-expanded' : isActive('572245cb1bfc8a0e00bcd64a')}"> <a ui-sref="docs.show({'doc': 'integrating-recipient-authentication'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['integrating-recipient-authentication'].edited" class="icon icon-pencil4 ng-cloak"></span>Integrating Recipient Authentication</a>
            <ul class="subpages"></ul></li>
           <li ng-class="{'subnav-expanded' : isActive('573105c719c1e00e006d21f3')}"> <a ui-sref="docs.show({'doc': 'recipient-authentication-api'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['recipient-authentication-api'].edited" class="icon icon-pencil4 ng-cloak"></span>Recipient Authentication API</a>
            <ul class="subpages"></ul></li>
          </ul>
          <h3>Using the Kickbox API</h3>
          <ul>
           <li ng-class="{'subnav-expanded' : isActive('54f8b0cb8e9f52350078200c')}"> <a ui-sref="docs.show({'doc': 'using-the-api'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['using-the-api'].edited" class="icon icon-pencil4 ng-cloak"></span>API Overview</a>
            <ul class="subpages"></ul></li>
           <li><a href="https://docs.kickbox.io/v2.0/reference" data-sidebar="api-endpoints" target="_self" class="sidebar-link"><span>API Endpoints</span>
             <div class="fa fa-external-link-square external"></div></a></li>
           <li ng-class="{'subnav-expanded' : isActive('564a11694fa1460d00780bb8')}"> <a ui-sref="docs.show({'doc': 'sandbox-api'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['sandbox-api'].edited" class="icon icon-pencil4 ng-cloak"></span>Sandbox Mode</a>
            <ul class="subpages"></ul></li>
           <li ng-class="{'subnav-expanded' : isActive('591b2e0dc0ce2b2f0012b725')}"> <a ui-sref="docs.show({'doc': 'verifying-a-list'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['verifying-a-list'].edited" class="icon icon-pencil4 ng-cloak"></span>Verifying a List</a>
            <ul class="subpages"></ul></li>
          </ul>
          <h3>Callbacks</h3>
          <ul>
           <li ng-class="{'subnav-expanded' : isActive('58fbfe956b29580f00d902b2')}"> <a ui-sref="docs.show({'doc': 'batch-job-callback'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['batch-job-callback'].edited" class="icon icon-pencil4 ng-cloak"></span>List Verification Callback</a>
            <ul class="subpages"></ul></li>
          </ul>
          <h3>API Libraries / SDKs</h3>
          <ul>
           <li ng-class="{'subnav-expanded' : isActive('58fbf880ec29e30f000a79d7')}"> <a ui-sref="docs.show({'doc': 'kickbox-api-libraries'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['kickbox-api-libraries'].edited" class="icon icon-pencil4 ng-cloak"></span>Kickbox API Libraries</a>
            <ul class="subpages"></ul></li>
          </ul>
          <h3>Tutorials</h3>
          <ul>
           <li ng-class="{'subnav-expanded' : isActive('59480e6e7947ca000f122d8b')}"> <a ui-sref="docs.show({'doc': 'recipient-authentication-and-nodejs'})" href="" ui-sref-alt="" class="text-overflow active "><span ng-show="suggestedEdits.edited['recipient-authentication-and-nodejs'].edited" class="icon icon-pencil4 ng-cloak"></span>Recipient Authentication and node.js</a>
            <ul class="subpages"></ul></li>
          </ul>
          <h3>Integrations</h3>
          <ul>
           <li ng-class="{'subnav-expanded' : isActive('58d2d6a89c99c92f00647487')}"> <a ui-sref="docs.show({'doc': 'integrating-with-act-on'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['integrating-with-act-on'].edited" class="icon icon-pencil4 ng-cloak"></span>Integrating with Act-On</a>
            <ul class="subpages"></ul></li>
           <li ng-class="{'subnav-expanded' : isActive('59569af25d224a001bbd9bfb')}"> <a ui-sref="docs.show({'doc': 'integrating-with-aweber'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['integrating-with-aweber'].edited" class="icon icon-pencil4 ng-cloak"></span>Integrating with AWeber</a>
            <ul class="subpages"></ul></li>
           <li ng-class="{'subnav-expanded' : isActive('58ee9e9558fcb42d00736c96')}"> <a ui-sref="docs.show({'doc': 'integration-with-benchmark'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['integration-with-benchmark'].edited" class="icon icon-pencil4 ng-cloak"></span>Integration with Benchmark</a>
            <ul class="subpages"></ul></li>
           <li ng-class="{'subnav-expanded' : isActive('5890f707455b8a31002858fe')}"> <a ui-sref="docs.show({'doc': 'integrating-with-bronto'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['integrating-with-bronto'].edited" class="icon icon-pencil4 ng-cloak"></span>Integrating with Bronto</a>
            <ul class="subpages"></ul></li>
           <li ng-class="{'subnav-expanded' : isActive('595eb5f75c5582001bb74904')}"> <a ui-sref="docs.show({'doc': 'integrating-with-campaign-monitor'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['integrating-with-campaign-monitor'].edited" class="icon icon-pencil4 ng-cloak"></span>Integrating with Campaign Monitor</a>
            <ul class="subpages"></ul></li>
           <li ng-class="{'subnav-expanded' : isActive('58d0333908bcac23006e6a4b')}"> <a ui-sref="docs.show({'doc': 'integrating-with-dotmailer'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['integrating-with-dotmailer'].edited" class="icon icon-pencil4 ng-cloak"></span>Integrating with dotmailer</a>
            <ul class="subpages"></ul></li>
           <li ng-class="{'subnav-expanded' : isActive('59528de42080bf002bebff51')}"> <a ui-sref="docs.show({'doc': 'integrating-with-drip'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['integrating-with-drip'].edited" class="icon icon-pencil4 ng-cloak"></span>Integrating with Drip</a>
            <ul class="subpages"></ul></li>
           <li ng-class="{'subnav-expanded' : isActive('58ffab034959f10f00d11534')}"> <a ui-sref="docs.show({'doc': 'integrating-with-hubspot'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['integrating-with-hubspot'].edited" class="icon icon-pencil4 ng-cloak"></span>Integrating with HubSpot</a>
            <ul class="subpages"></ul></li>
           <li ng-class="{'subnav-expanded' : isActive('598cc08114b6ed000fda2f07')}"> <a ui-sref="docs.show({'doc': 'integration-with-mailerlite'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['integration-with-mailerlite'].edited" class="icon icon-pencil4 ng-cloak"></span>Integration with MailerLite</a>
            <ul class="subpages"></ul></li>
           <li ng-class="{'subnav-expanded' : isActive('552bf6e86c82710d002c6fca')}"> <a ui-sref="docs.show({'doc': 'integrating-with-marketo'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['integrating-with-marketo'].edited" class="icon icon-pencil4 ng-cloak"></span>Integrating with Marketo</a>
            <ul class="subpages"></ul></li>
           <li ng-class="{'subnav-expanded' : isActive('59234be861ca710f003f4aec')}"> <a ui-sref="docs.show({'doc': 'integration-with-sendgrid'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['integration-with-sendgrid'].edited" class="icon icon-pencil4 ng-cloak"></span>Integrating with SendGrid</a>
            <ul class="subpages"></ul></li>
           <li ng-class="{'subnav-expanded' : isActive('58e3c66de41bbd1b008a0c9c')}"> <a ui-sref="docs.show({'doc': 'integrating-with-sendloop'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['integrating-with-sendloop'].edited" class="icon icon-pencil4 ng-cloak"></span>Integrating with Sendloop</a>
            <ul class="subpages"></ul></li>
           <li ng-class="{'subnav-expanded' : isActive('58dd7567d3245e1b00cdbef1')}"> <a ui-sref="docs.show({'doc': 'integrating-with-sparkpost'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['integrating-with-sparkpost'].edited" class="icon icon-pencil4 ng-cloak"></span>Integrating with SparkPost</a>
            <ul class="subpages"></ul></li>
           <li ng-class="{'subnav-expanded' : isActive('5891ff05f4624a0f0008389b')}"> <a ui-sref="docs.show({'doc': 'integrating-with-zapier'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['integrating-with-zapier'].edited" class="icon icon-pencil4 ng-cloak"></span>Integrating with Zapier</a>
            <ul class="subpages"></ul></li>
          </ul>
          <h3>Legal</h3>
          <ul>
           <li ng-class="{'subnav-expanded' : isActive('5553bce7eac63f0d003e6c78')}"> <a ui-sref="docs.show({'doc': 'terms-of-service'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['terms-of-service'].edited" class="icon icon-pencil4 ng-cloak"></span>Terms of Service</a>
            <ul class="subpages"></ul></li>
           <li ng-class="{'subnav-expanded' : isActive('5553bab17e64980d008d3f1c')}"> <a ui-sref="docs.show({'doc': 'anti-spam-policy'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['anti-spam-policy'].edited" class="icon icon-pencil4 ng-cloak"></span>Anti-Spam Policy</a>
            <ul class="subpages"></ul></li>
           <li ng-class="{'subnav-expanded' : isActive('57966e192cd23b0e00283bce')}"> <a ui-sref="docs.show({'doc': 'privacy-policy'})" href="" ui-sref-alt="" class="text-overflow"><span ng-show="suggestedEdits.edited['privacy-policy'].edited" class="icon icon-pencil4 ng-cloak"></span>Privacy Policy</a>
            <ul class="subpages"></ul></li>
          </ul>
         </div>
         <div ng-show="state.current().root == 'discuss'" class="ng-cloak">
          <!--a.btn.btn-primary.btn-full.btn-lg(href="" ui-sref="discuss.create") Ask A Question-->
          <h3>Support</h3>
         </div>
         <div ng-show="state.current().root == 'reference' || state.current().root == 'preview'" class="ng-cloak">
          <div ng-show="true || state.current().params.category === &quot;api-endpoints&quot;" class="hub-sidebar-category active">
           <h3>API Endpoints</h3>
           <ul>
            <li ng-class="{'subnav-expanded' : isActive('58fbfadfec29e30f000a79fd')}" class="hub-sidebar-page"><a du-smooth-scroll duration="0" du-scrollspy="verify-an-email-address" href="#verify-an-email-address" target="_self" class="text-overflow"><span class="pg-type type-get">get</span>Verify an Email Address</a>
             <ul class="subpages"></ul></li>
            <li ng-class="{'subnav-expanded' : isActive('58fbfb0d91f0ac1b003f2aa2')}" class="hub-sidebar-page"><a du-smooth-scroll duration="0" du-scrollspy="verify-multiple-email-addresses" href="#verify-multiple-email-addresses" target="_self" class="text-overflow"><span class="pg-type type-put">put</span>Verify Multiple Email Addresses</a>
             <ul class="subpages"></ul></li>
            <li ng-class="{'subnav-expanded' : isActive('58fbfdae809fc30f00f2de0f')}" class="hub-sidebar-page"><a du-smooth-scroll duration="0" du-scrollspy="check-job-status" href="#check-job-status" target="_self" class="text-overflow"><span class="pg-type type-get">get</span>Check Job Status</a>
             <ul class="subpages"></ul></li>
            <li ng-class="{'subnav-expanded' : isActive('591e1434b781950f00e03b5f')}" class="hub-sidebar-page"><a du-smooth-scroll duration="0" du-scrollspy="credit-balance" href="#credit-balance" target="_self" class="text-overflow"><span class="pg-type type-get">get</span>Credit Balance</a>
             <ul class="subpages"></ul></li>
            <li ng-class="{'subnav-expanded' : isActive('59528053b1a12000672aedb6')}" class="hub-sidebar-page"><a du-smooth-scroll duration="0" du-scrollspy="disposable-email-check" href="#disposable-email-check" target="_self" class="text-overflow"><span class="pg-type type-get">get</span>Disposable Email Check</a>
             <ul class="subpages"></ul></li>
           </ul>
          </div>
         </div>
         <div ng-show="state.current().root == 'reference-edit'" class="ng-cloak"></div>
         <div ng-show="state.current().root == 'blog'" class="ng-cloak">
          <h3>Recent Posts</h3>
          <ul>
           <li><a ui-sref="blog.show({'blog': 'welcome-to-kickbox-email-verification'})" class="text-overflow">Welcome to Kickbox Email Verification</a></li>
          </ul>
          <h3>Archive</h3>
          <ul>
           <li><a ui-sref="blog.archive({'year': '2014', 'month': 'October'})" class="text-overflow">October 2014 (1)</a></li>
          </ul>
         </div>
        </div>
       </scrollable>
      </div>
     </nav>
    </div>
    <section id="hub-content">
     <div state-container ng-class="{loading: contentLoading}" class="hub-content-container">
      <div id="replace-view" ng-non-bindable>
       <meta name="meta:slug" content="recipient-authentication-and-nodejs">
       <meta name="meta:type" content="docs">
       <meta name="meta:parent">
       <meta name="meta:title" content="Recipient Authentication and node.js">
       <meta name="meta:description" content="A node.js application to collect email addresses using Kickbox">
       <meta name="meta:_id" content="59480e6e7947ca000f122d8b">
       <meta name="meta:hidden">
       <div ng-if="!suggestedEdits.isEnabled">
        <header id="content-head">
         <div class="row clearfix">
          <div class="col-xs-9">
           <h1>Recipient Authentication and node.js</h1>
           <div class="excerpt">
            <p>A node.js application to collect email addresses using Kickbox</p> 
           </div>
          </div>
          <div class="col-xs-3">
           <a ng-click="suggestedEdits.enable()" href="" ng-cloak class="suggestEdits"><i class="icon icon-register"></i>Suggest Edits</a>
          </div>
         </div>
        </header>
        <div id="content-container" scroll-spy class="grid-container-fluid">
         <section ng-class="{&quot;grid-75&quot;: false != true &amp;&amp; ss.toc.length , &quot;grid-100&quot;: false != false || !ss.toc.length}" class="content-body"> 
          <!-- Gah, you have to manually restart the app if you change this!--> 
          <div class="magic-block-textarea">
           <p>Today we're going to build a <a href="https://nodejs.org/en/" target="_self">node.js</a> application to collect email addresses using Kickbox. We'll be using <a href="https://expressjs.com/" target="_self">Express</a> and <a href="https://github.com/request/request-promise" target="_self">Request</a> on the server side, and jQuery on the client.</p> 
           <p>We'll be using <a href="https://glitch.com" target="_self">Glitch</a> during this tutorial, because it provides an environment, editor, and hosting in one convenient package. There's an <a href="https://glitch.com/~kickbox-tutorial" target="_self">example of the completed project</a> too. If you want to follow along in your own environment, all of the code will work.</p> 
           <h2 class="header-scroll">
            <div class="anchor waypoint" id="section-what-is-recipient-authentication-"></div>What is Recipient Authentication?<a class="fa fa-anchor" href="#section-what-is-recipient-authentication-"></a></h2> 
           <p>Recipient Authentication makes it easy to collect email addresses the right way. We handle account activation, double email opt-in subscriptions, and password resets. We make sure the email gets delivered, send drip reminders, expire old links, handle opt-outs, and automatically add authenticated addresses to your email service provider or marketing platform.</p> 
           <p>Our JavaScript library protects your form from bots, spammers and auto-generated signups. And our API integrations make it easy to add the addresses you collect to your email marketing platform.</p> 
           <h2 class="header-scroll">
            <div class="anchor waypoint" id="section-prerequisites"></div>Prerequisites<a class="fa fa-anchor" href="#section-prerequisites"></a></h2> 
           <ul> 
            <li>A free Kickbox account. <a href="https://kickbox.io/signup" target="_self">Create one here</a>.</li>
            <li>A Kickbox Authentication App Code. <a href="https://kickbox.io/app/authenticate/new/setup/create" target="_self">Create an authentication app</a>. On the "Connect" page you'll see your app code.</li>
            <li>A Kickbox API key that can access your new authentication app.<br>Hit "Create New Key" on the connect page to create one. Choose "Sandbox" for now.</li>
           </ul> 
           <p>Keep your App Code and API Key nearby as we'll be using them soon.</p> 
           <h2 class="header-scroll">
            <div class="anchor waypoint" id="section-overview"></div>Overview<a class="fa fa-anchor" href="#section-overview"></a></h2> 
           <p>Our project today has 3 components. These are:</p> 
           <ol> 
            <li value="1">A <strong>view</strong> containing a form to capture an email address and a place to display progress.</li>
            <li value="2">Some <strong>client-side</strong> JavaScript to fingerprint the client session</li>
            <li value="3">A <strong>server-side route</strong> to call the kickbox API with the address, fingerprint, and app token</li>
           </ol> 
           <p>We'll start with some app scaffolding, create the view, add some client code, and wrap things up with the server-side.</p> 
           <h2 class="header-scroll">
            <div class="anchor waypoint" id="section-let-s-get-going-"></div>Let's Get Going!<a class="fa fa-anchor" href="#section-let-s-get-going-"></a></h2> 
           <p>Woohoo! To start, fire up a fresh <a href="https://glitch.com" target="_self">Glitch</a> project. Glitch includes a boilerplate <a href="https://expressjs.com/" target="_self">Express</a> app straight away. If you're new to node or express, you might want to take a moment to look around the default code.</p> 
           <p>The first thing we need to do is add the other npm packages that we'll be using. Click on the <a href="https://docs.npmjs.com/files/package.json" target="_self"><code>package.json</code></a> file in the left-hand list to open it. Next, click "Add Package" and add <code>request</code> and <code>request-promise</code> to your project. We're also going to use <code>body-parser</code> to handle API responses, so add that as well.</p> 
           <p>The entire <code>package.json</code> file should look like this:</p> 
          </div> 
          <div class="magic-block-code"> 
           <ul class="block-code-header"> 
            <li><a href="" ng-click="showCode(0)" ng-class="{active: (0 == tab)}">package.json</a></li> 
           </ul> 
           <div class="block-code-code"> 
            <pre ng-if="tab == 0"><code><span class="cm-s-neo">{ <span class="cm-string">"//1"</span>: <span class="cm-string">"describes your app and its dependencies"</span>, <span class="cm-string">"//2"</span>: <span class="cm-string">"https://docs.npmjs.com/files/package.json"</span>, <span class="cm-string">"//3"</span>: <span class="cm-string">"updating this file will download and update your packages"</span>, <span class="cm-string">"name"</span>: <span class="cm-string">"my-glitch-app"</span>, <span class="cm-string">"version"</span>: <span class="cm-string">"0.0.1"</span>, <span class="cm-string">"description"</span>: <span class="cm-string">"What am I about?"</span>, <span class="cm-string">"main"</span>: <span class="cm-string">"server.js"</span>, <span class="cm-string">"scripts"</span>: { <span class="cm-string">"start"</span>: <span class="cm-string">"node server.js"</span> }, <span class="cm-string">"dependencies"</span>: { <span class="cm-string">"express"</span>: <span class="cm-string">"^4.15.3"</span>, <span class="cm-string">"request-promise"</span>: <span class="cm-string">"^4.2.1"</span>, <span class="cm-string">"body-parser"</span>: <span class="cm-string">"^1.17.2"</span>, <span class="cm-string">"request"</span>: <span class="cm-string">"^2.81.0"</span> }, <span class="cm-string">"engines"</span>: { <span class="cm-string">"node"</span>: <span class="cm-string">"6.10.x"</span> }, <span class="cm-string">"repository"</span>: { <span class="cm-string">"url"</span>: <span class="cm-string">"https://glitch.com/edit/#!/welcome-project"</span> }, <span class="cm-string">"license"</span>: <span class="cm-string">"MIT"</span>, <span class="cm-string">"keywords"</span>: [ <span class="cm-string">"node"</span>, <span class="cm-string">"glitch"</span>, <span class="cm-string">"express"</span> ] }</span></code></pre> 
           </div> 
          </div> 
          <div class="magic-block-textarea">
           <h2 class="header-scroll">
            <div class="anchor waypoint" id="section-some-scaffolding-"></div>Some Scaffolding...<a class="fa fa-anchor" href="#section-some-scaffolding-"></a></h2> 
           <p>First things first, open up <code>.env</code> and add a line with your Kickbox API key. (Don't worry, this file is not public on Glitch).</p> 
           <pre><code>KICKBOX_KEY=live_613ea0f77aa319317a0ea1ef86b7a60fe036611633ca912f017435d3339125a8
</code></pre>
           <p>Next, open up <code>server.js</code>. We're going to start fresh, so delete all the default contents.</p> 
           <p>First, let's add the dependencies.</p> 
          </div> 
          <div class="magic-block-code"> 
           <ul class="block-code-header"> 
            <li><a href="" ng-click="showCode(0)" ng-class="{active: (0 == tab)}">server.js - 1</a></li> 
           </ul> 
           <div class="block-code-code"> 
            <pre ng-if="tab == 0"><code><span class="cm-s-neo"><span class="cm-keyword">var</span> <span class="cm-variable">express</span> <span class="cm-operator">=</span> <span class="cm-variable">require</span>(<span class="cm-string">'express'</span>); <span class="cm-keyword">var</span> <span class="cm-variable">request</span> <span class="cm-operator">=</span> <span class="cm-variable">require</span>(<span class="cm-string">'request-promise'</span>); <span class="cm-keyword">var</span> <span class="cm-variable">bodyParser</span> <span class="cm-operator">=</span> <span class="cm-variable">require</span>(<span class="cm-string">'body-parser'</span>);</span></code></pre> 
           </div> 
          </div> 
          <div class="magic-block-textarea">
           <p>And then let's get our express app ready to go. </p> 
          </div> 
          <div class="magic-block-code"> 
           <ul class="block-code-header"> 
            <li><a href="" ng-click="showCode(0)" ng-class="{active: (0 == tab)}">server.js - 2</a></li> 
           </ul> 
           <div class="block-code-code"> 
            <pre ng-if="tab == 0"><code><span class="cm-s-neo"><span class="cm-comment">//we'll use these later</span> <span class="cm-keyword">var</span> <span class="cm-variable">api_host</span> <span class="cm-operator">=</span> <span class="cm-string">"https://api.kickbox.io/v2/"</span>; <span class="cm-keyword">var</span> <span class="cm-variable">app_code</span> <span class="cm-operator">=</span> <span class="cm-string">"YOUR KICKBOX APP CODE HERE"</span>; <span class="cm-keyword">var</span> <span class="cm-variable">app</span> <span class="cm-operator">=</span> <span class="cm-variable">express</span>(); <span class="cm-comment">//create a new express app</span> <span class="cm-variable">app</span>.<span class="cm-property">use</span>(<span class="cm-variable">bodyParser</span>.<span class="cm-property">urlencoded</span>({<span class="cm-property">extended</span>: <span class="cm-atom">false</span>})); <span class="cm-comment">//use body-parser for JSON</span> <span class="cm-variable">app</span>.<span class="cm-property">use</span>(<span class="cm-variable">express</span>.<span class="cm-property">static</span>(<span class="cm-string">'public'</span>)); <span class="cm-comment">//use the 'public' folder for css, js, images... </span> <span class="cm-keyword">var</span> <span class="cm-variable">listener</span> <span class="cm-operator">=</span> <span class="cm-variable">app</span>.<span class="cm-property">listen</span>(<span class="cm-variable">process</span>.<span class="cm-property">env</span>.<span class="cm-property">PORT</span>, <span class="cm-keyword">function</span> () { <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">'Your app is listening on port '</span> <span class="cm-operator">+</span> <span class="cm-variable">listener</span>.<span class="cm-property">address</span>().<span class="cm-property">port</span>); });</span></code></pre> 
           </div> 
          </div> 
          <div class="magic-block-textarea">
           <h2 class="header-scroll">
            <div class="anchor waypoint" id="section-that-s-a-nice-view"></div>That's a Nice View<a class="fa fa-anchor" href="#section-that-s-a-nice-view"></a></h2> 
           <p>Now let's head over to <code>views/index.html</code>. This is where we're going to add our email capture form and a container for our progress tracker. </p> 
          </div> 
          <div class="magic-block-code"> 
           <ul class="block-code-header"> 
            <li><a href="" ng-click="showCode(0)" ng-class="{active: (0 == tab)}">index.html - 1</a></li> 
           </ul> 
           <div class="block-code-code"> 
            <pre ng-if="tab == 0"><code><span class="cm-s-neo"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">form</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">h1</span><span class="cm-tag cm-bracket">&gt;</span>Sign Up<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">h1</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">h2</span><span class="cm-tag cm-bracket">&gt;</span>Fill out the form below to get started.<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">h2</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">label</span> <span class="cm-attribute">for</span>=<span class="cm-string">"email"</span><span class="cm-tag cm-bracket">&gt;</span>Email Address<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">label</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">required</span> <span class="cm-attribute">type</span>=<span class="cm-string">"email"</span> <span class="cm-attribute">name</span>=<span class="cm-string">"email"</span><span class="cm-tag cm-bracket">/&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">br</span><span class="cm-tag cm-bracket">/&gt;&lt;</span><span class="cm-tag">br</span><span class="cm-tag cm-bracket">/&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">button</span> <span class="cm-attribute">type</span>=<span class="cm-string">"submit"</span><span class="cm-tag cm-bracket">&gt;</span> Submit <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">button</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">form</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">div</span> <span class="cm-attribute">id</span>=<span class="cm-string">"tracker"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">div</span><span class="cm-tag cm-bracket">&gt;</span></span></code></pre> 
           </div> 
          </div> 
          <div class="magic-block-textarea">
           <p>And we are going to add one additional required client-side script file. This file generates a fingerprint, allowing Kickbox to differentiate between legitimate users and malicious users (bulk account creators, bots, spammers, etc). </p> 
           <pre><code>&lt;script type="text/javascript" src="https://kickbox.io/authenticate/1/release.js"&gt;&lt;/script&gt;
</code></pre>
           <p>The entire <code>views/index.html</code> file should look like this:</p> 
          </div> 
          <div class="magic-block-code"> 
           <ul class="block-code-header"> 
            <li><a href="" ng-click="showCode(0)" ng-class="{active: (0 == tab)}">index.html - 2</a></li> 
           </ul> 
           <div class="block-code-code"> 
            <pre ng-if="tab == 0"><code><span class="cm-s-neo"><span class="cm-meta">&lt;!DOCTYPE html&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">html</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">head</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">title</span><span class="cm-tag cm-bracket">&gt;</span>Kickbox Email Capture Demo<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">title</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">link</span> <span class="cm-attribute">rel</span>=<span class="cm-string">"stylesheet"</span> <span class="cm-attribute">href</span>=<span class="cm-string">"/style.css"</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">head</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">body</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">form</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">h1</span><span class="cm-tag cm-bracket">&gt;</span>Sign Up<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">h1</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">h2</span><span class="cm-tag cm-bracket">&gt;</span>Fill out the form below to get started.<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">h2</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">label</span> <span class="cm-attribute">for</span>=<span class="cm-string">"email"</span><span class="cm-tag cm-bracket">&gt;</span>Email Address<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">label</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">required</span> <span class="cm-attribute">type</span>=<span class="cm-string">"email"</span> <span class="cm-attribute">name</span>=<span class="cm-string">"email"</span><span class="cm-tag cm-bracket">/&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">br</span><span class="cm-tag cm-bracket">/&gt;&lt;</span><span class="cm-tag">br</span><span class="cm-tag cm-bracket">/&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">button</span> <span class="cm-attribute">type</span>=<span class="cm-string">"submit"</span><span class="cm-tag cm-bracket">&gt;</span> Submit <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">button</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">form</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">div</span> <span class="cm-attribute">id</span>=<span class="cm-string">"tracker"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">div</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">script</span> <span class="cm-attribute">src</span>=<span class="cm-string">"https://code.jquery.com/jquery-2.2.1.min.js"</span> <span class="cm-attribute">integrity</span>=<span class="cm-string">"sha256-gvQgAFzTH6trSrAWoH1iPo9Xc96QxSZ3feW6kem+O00="</span> <span class="cm-attribute">crossorigin</span>=<span class="cm-string">"anonymous"</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">script</span> <span class="cm-attribute">src</span>=<span class="cm-string">"https://kickbox.io/authenticate/1/release.js"</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">script</span> <span class="cm-attribute">src</span>=<span class="cm-string">"/client.js"</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">body</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">html</span><span class="cm-tag cm-bracket">&gt;</span></span></code></pre> 
           </div> 
          </div> 
          <div class="magic-block-textarea">
           <h2 class="header-scroll">
            <div class="anchor waypoint" id="section-adding-a-route"></div>Adding a Route<a class="fa fa-anchor" href="#section-adding-a-route"></a></h2> 
           <p>Now that we've got an <code>index.html</code> view with an email capture form, we need to tell our app how to serve it via <a href="http://expressjs.com/en/starter/basic-routing.html" target="_self">routing</a>. </p> 
           <p>Let's open <code>server.js</code> again. Before the <code>var listener=...</code> line, we're going to define our first route.</p> 
          </div> 
          <div class="magic-block-code"> 
           <ul class="block-code-header"> 
            <li><a href="" ng-click="showCode(0)" ng-class="{active: (0 == tab)}">server.js - 3</a></li> 
           </ul> 
           <div class="block-code-code"> 
            <pre ng-if="tab == 0"><code><span class="cm-s-neo"><span class="cm-variable">app</span>.<span class="cm-property">get</span>(<span class="cm-string">"/"</span>, <span class="cm-keyword">function</span> (<span class="cm-def">request</span>, <span class="cm-def">response</span>) { <span class="cm-variable-2">response</span>.<span class="cm-property">sendFile</span>(<span class="cm-variable">__dirname</span> <span class="cm-operator">+</span> <span class="cm-string">'/views/index.html'</span>); });</span></code></pre> 
           </div> 
          </div> 
          <div class="magic-block-textarea">
           <p>Now click the <strong>Show Live</strong> button in your project. You should see the rendered <code>index.html</code> view with the email capture form.</p> 
           <h2 class="header-scroll">
            <div class="anchor waypoint" id="section-client-side-code"></div>Client-side Code<a class="fa fa-anchor" href="#section-client-side-code"></a></h2> 
           <p>Now let's make that form do some stuff. Open up <code>public/client.js</code> and clear out contents of the existing function.</p> 
           <p>Our client side code will do four things.</p> 
           <ol> 
            <li value="1">Handle the form's <code>submit</code> event. </li>
            <li value="2">Generate a fingerprint from the provided email address. </li>
            <li value="3">Send the data to our server-side code</li>
            <li value="4">Show the Kickbox email tracker</li>
           </ol> 
           <p>Let's get #1 sorted out first.</p> 
          </div> 
          <div class="magic-block-code"> 
           <ul class="block-code-header"> 
            <li><a href="" ng-click="showCode(0)" ng-class="{active: (0 == tab)}">client.js - 1</a></li> 
           </ul> 
           <div class="block-code-code"> 
            <pre ng-if="tab == 0"><code><span class="cm-s-neo"><span class="cm-variable">$</span>(<span class="cm-keyword">function</span>() { <span class="cm-comment">//Your Recipient Authentication auth code</span> <span class="cm-keyword">var</span> <span class="cm-def">kickbox_app_code</span> <span class="cm-operator">=</span> <span class="cm-string">"YOUR KICKBOX APP CODE"</span>; <span class="cm-keyword">var</span> <span class="cm-def">email</span>; <span class="cm-variable">$</span>(<span class="cm-string">'form'</span>).<span class="cm-property">submit</span>(<span class="cm-keyword">function</span>(<span class="cm-def">event</span>) { <span class="cm-comment">//only prevent the default submit action if the form is valid</span> <span class="cm-comment">//otherwise, let it proceed and fail, so we get native HTML5 validation</span> <span class="cm-keyword">if</span>(<span class="cm-variable">self</span>.<span class="cm-property">form</span>[<span class="cm-number">0</span>].<span class="cm-property">checkValidity</span>()) { <span class="cm-variable-2">event</span>.<span class="cm-property">preventDefault</span>(); } <span class="cm-comment">//get the provided email address</span> <span class="cm-variable-2">email</span> <span class="cm-operator">=</span> <span class="cm-variable">$</span>(<span class="cm-string">'input'</span>).<span class="cm-property">val</span>(); <span class="cm-comment">//get the fingerprint, call our server-code, display tracker</span> <span class="cm-variable">Kickbox</span>.<span class="cm-property">fingerprint</span>( { <span class="cm-property">app</span>: <span class="cm-variable-2">kickbox_app_code</span>, <span class="cm-comment">//your kickbox authentication app code</span> <span class="cm-property">email</span>: <span class="cm-variable-2">email</span>, <span class="cm-comment">// Email address to authenticate</span> <span class="cm-property">onSuccess</span>: <span class="cm-variable">fingerprintSuccess</span>, <span class="cm-property">onError</span>: <span class="cm-keyword">function</span>(<span class="cm-def">err</span>) { <span class="cm-variable">alert</span>(<span class="cm-variable-2">err</span>); } }); }); });</span></code></pre> 
           </div> 
          </div> 
          <div class="magic-block-textarea">
           <p>Let's jump over to the server-side and revisit the client-side later.</p> 
           <h2 class="header-scroll">
            <div class="anchor waypoint" id="section-server-side-code"></div>Server-side Code<a class="fa fa-anchor" href="#section-server-side-code"></a></h2> 
           <p>We need to define a route to handle the request from the client-side code and then use the provided email address and fingerprint to call the Kickbox API.</p> 
           <p>Let's go back to <code>server.js</code> and define another route. This time, we'll be handling a POST request to the <code>/authenticate</code> route.</p> 
          </div> 
          <div class="magic-block-code"> 
           <ul class="block-code-header"> 
            <li><a href="" ng-click="showCode(0)" ng-class="{active: (0 == tab)}">server.js - 4</a></li> 
           </ul> 
           <div class="block-code-code"> 
            <pre ng-if="tab == 0"><code><span class="cm-s-neo"><span class="cm-variable">app</span>.<span class="cm-property">post</span>(<span class="cm-string">"/authenticate"</span>, (<span class="cm-def">req</span>, <span class="cm-def">response</span>) <span class="cm-operator">=&gt;</span> { <span class="cm-keyword">var</span> <span class="cm-def">email</span> <span class="cm-operator">=</span> <span class="cm-variable-2">req</span>.<span class="cm-property">body</span>.<span class="cm-property">email</span>; <span class="cm-keyword">var</span> <span class="cm-def">kickbox_app_code</span> <span class="cm-operator">=</span> <span class="cm-variable-2">req</span>.<span class="cm-property">body</span>.<span class="cm-property">kickbox_app_code</span>; <span class="cm-keyword">var</span> <span class="cm-def">fingerprint</span> <span class="cm-operator">=</span> <span class="cm-variable-2">req</span>.<span class="cm-property">body</span>.<span class="cm-property">fingerprint</span>; <span class="cm-comment">//once defined, this method will return our API call options</span> <span class="cm-keyword">var</span> <span class="cm-def">kickbox_call</span> <span class="cm-operator">=</span> <span class="cm-variable">getKickboxCall</span>(<span class="cm-variable-2">req</span>.<span class="cm-property">body</span>.<span class="cm-property">email</span>, <span class="cm-variable-2">req</span>.<span class="cm-property">body</span>.<span class="cm-property">fingerprint</span>, <span class="cm-variable-2">req</span>.<span class="cm-property">body</span>.<span class="cm-property">kickbox_app_code</span>); <span class="cm-comment">// make the call and handle any errors</span> <span class="cm-comment">// after the request is done, send the API response directly to the client (even if it errors)</span> <span class="cm-variable">request</span>(<span class="cm-variable-2">kickbox_call</span>).<span class="cm-property">then</span>(<span class="cm-keyword">function</span>(<span class="cm-def">result</span>){ <span class="cm-variable-2">response</span>.<span class="cm-property">send</span>(<span class="cm-variable-2">result</span>); }).<span class="cm-property">catch</span>(<span class="cm-keyword">function</span>(<span class="cm-def">err</span>){ <span class="cm-variable-2">response</span>.<span class="cm-property">send</span>(<span class="cm-variable-2">err</span>.<span class="cm-property">response</span>); }); });</span></code></pre> 
           </div> 
          </div> 
          <div class="magic-block-textarea">
           <p>Our route is created. Now let's define that <code>getKickboxCall</code> that generates the necessary options we need to pass to request-promise.</p> 
          </div> 
          <div class="magic-block-code"> 
           <ul class="block-code-header"> 
            <li><a href="" ng-click="showCode(0)" ng-class="{active: (0 == tab)}">server.js - 5</a></li> 
           </ul> 
           <div class="block-code-code"> 
            <pre ng-if="tab == 0"><code><span class="cm-s-neo"><span class="cm-keyword">var</span> <span class="cm-variable">getKickboxCall</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span>(<span class="cm-def">email</span>, <span class="cm-def">fingerprint</span>, <span class="cm-def">kickbox_app_code</span>) { <span class="cm-keyword">var</span> <span class="cm-def">kickboxCall</span> <span class="cm-operator">=</span> { <span class="cm-property">uri</span>: <span class="cm-variable">api_host</span> <span class="cm-operator">+</span> <span class="cm-string">"authenticate"</span> <span class="cm-operator">+</span> <span class="cm-string">"/"</span> <span class="cm-operator">+</span> <span class="cm-variable-2">kickbox_app_code</span>, <span class="cm-property">method</span>: <span class="cm-string">"POST"</span>, <span class="cm-property">form</span>: { <span class="cm-property">apikey</span>: <span class="cm-variable">process</span>.<span class="cm-property">env</span>.<span class="cm-property">KICKBOX_KEY</span>, <span class="cm-property">email</span>: <span class="cm-variable-2">email</span>, <span class="cm-property">fingerprint</span>: <span class="cm-variable-2">fingerprint</span> }, <span class="cm-property">json</span>: <span class="cm-atom">true</span> }; <span class="cm-keyword">return</span> <span class="cm-variable-2">kickboxCall</span>; }</span></code></pre> 
           </div> 
          </div> 
          <div class="magic-block-textarea">
           <p>Nice work, the server-side is good to go! Let's take a look at the whole <code>server.js</code> file:</p> 
          </div> 
          <div class="magic-block-code"> 
           <ul class="block-code-header"> 
            <li><a href="" ng-click="showCode(0)" ng-class="{active: (0 == tab)}">server.js - complete</a></li> 
           </ul> 
           <div class="block-code-code"> 
            <pre ng-if="tab == 0"><code><span class="cm-s-neo"><span class="cm-keyword">var</span> <span class="cm-variable">express</span> <span class="cm-operator">=</span> <span class="cm-variable">require</span>(<span class="cm-string">'express'</span>); <span class="cm-keyword">var</span> <span class="cm-variable">request</span> <span class="cm-operator">=</span> <span class="cm-variable">require</span>(<span class="cm-string">'request-promise'</span>); <span class="cm-keyword">var</span> <span class="cm-variable">bodyParser</span> <span class="cm-operator">=</span> <span class="cm-variable">require</span>(<span class="cm-string">'body-parser'</span>); <span class="cm-comment">//we'll use these later</span> <span class="cm-keyword">var</span> <span class="cm-variable">api_host</span> <span class="cm-operator">=</span> <span class="cm-string">"https://api.kickbox.io/v2/"</span>; <span class="cm-keyword">var</span> <span class="cm-variable">app_code</span> <span class="cm-operator">=</span> <span class="cm-string">"YOUR KICKBOX APP CODE HERE"</span>; <span class="cm-keyword">var</span> <span class="cm-variable">app</span> <span class="cm-operator">=</span> <span class="cm-variable">express</span>(); <span class="cm-comment">//create a new express app</span> <span class="cm-variable">app</span>.<span class="cm-property">use</span>(<span class="cm-variable">bodyParser</span>.<span class="cm-property">urlencoded</span>({<span class="cm-property">extended</span>: <span class="cm-atom">false</span>})); <span class="cm-comment">//use body-parser for JSON</span> <span class="cm-variable">app</span>.<span class="cm-property">use</span>(<span class="cm-variable">express</span>.<span class="cm-property">static</span>(<span class="cm-string">'public'</span>)); <span class="cm-comment">//use the 'public' folder for css, js, images... </span> <span class="cm-variable">app</span>.<span class="cm-property">get</span>(<span class="cm-string">"/"</span>, <span class="cm-keyword">function</span> (<span class="cm-def">request</span>, <span class="cm-def">response</span>) { <span class="cm-variable-2">response</span>.<span class="cm-property">sendFile</span>(<span class="cm-variable">__dirname</span> <span class="cm-operator">+</span> <span class="cm-string">'/views/index.html'</span>); }); <span class="cm-variable">app</span>.<span class="cm-property">post</span>(<span class="cm-string">"/authenticate"</span>, (<span class="cm-def">req</span>, <span class="cm-def">response</span>) <span class="cm-operator">=&gt;</span> { <span class="cm-keyword">var</span> <span class="cm-def">email</span> <span class="cm-operator">=</span> <span class="cm-variable-2">req</span>.<span class="cm-property">body</span>.<span class="cm-property">email</span>; <span class="cm-keyword">var</span> <span class="cm-def">kickbox_app_code</span> <span class="cm-operator">=</span> <span class="cm-variable-2">req</span>.<span class="cm-property">body</span>.<span class="cm-property">kickbox_app_code</span>; <span class="cm-keyword">var</span> <span class="cm-def">fingerprint</span> <span class="cm-operator">=</span> <span class="cm-variable-2">req</span>.<span class="cm-property">body</span>.<span class="cm-property">fingerprint</span>; <span class="cm-comment">//once defined, this method will return our API call options</span> <span class="cm-keyword">var</span> <span class="cm-def">kickbox_call</span> <span class="cm-operator">=</span> <span class="cm-variable">getKickboxCall</span>(<span class="cm-variable-2">req</span>.<span class="cm-property">body</span>.<span class="cm-property">email</span>, <span class="cm-variable-2">req</span>.<span class="cm-property">body</span>.<span class="cm-property">fingerprint</span>, <span class="cm-variable-2">req</span>.<span class="cm-property">body</span>.<span class="cm-property">kickbox_app_code</span>); <span class="cm-comment">// make the call and handle any errors</span> <span class="cm-comment">// after the request is done, send the API response directly to the client (even if it errors)</span> <span class="cm-variable">request</span>(<span class="cm-variable-2">kickbox_call</span>).<span class="cm-property">then</span>(<span class="cm-keyword">function</span>(<span class="cm-def">result</span>){ <span class="cm-variable-2">response</span>.<span class="cm-property">send</span>(<span class="cm-variable-2">result</span>); }).<span class="cm-property">catch</span>(<span class="cm-keyword">function</span>(<span class="cm-def">err</span>){ <span class="cm-variable-2">response</span>.<span class="cm-property">send</span>(<span class="cm-variable-2">err</span>.<span class="cm-property">response</span>); }); }); <span class="cm-keyword">var</span> <span class="cm-variable">getKickboxCall</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span>(<span class="cm-def">email</span>, <span class="cm-def">fingerprint</span>, <span class="cm-def">kickbox_app_code</span>) { <span class="cm-keyword">var</span> <span class="cm-def">kickboxCall</span> <span class="cm-operator">=</span> { <span class="cm-property">uri</span>: <span class="cm-variable">api_host</span> <span class="cm-operator">+</span> <span class="cm-string">"authenticate"</span> <span class="cm-operator">+</span> <span class="cm-string">"/"</span> <span class="cm-operator">+</span> <span class="cm-variable-2">kickbox_app_code</span>, <span class="cm-property">method</span>: <span class="cm-string">"POST"</span>, <span class="cm-property">form</span>: { <span class="cm-property">apikey</span>: <span class="cm-variable">process</span>.<span class="cm-property">env</span>.<span class="cm-property">KICKBOX_KEY</span>, <span class="cm-property">email</span>: <span class="cm-variable-2">email</span>, <span class="cm-property">fingerprint</span>: <span class="cm-variable-2">fingerprint</span> }, <span class="cm-property">json</span>: <span class="cm-atom">true</span> }; <span class="cm-keyword">return</span> <span class="cm-variable-2">kickboxCall</span>; } <span class="cm-keyword">var</span> <span class="cm-variable">listener</span> <span class="cm-operator">=</span> <span class="cm-variable">app</span>.<span class="cm-property">listen</span>(<span class="cm-variable">process</span>.<span class="cm-property">env</span>.<span class="cm-property">PORT</span>, <span class="cm-keyword">function</span> () { <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-string">'Your app is listening on port '</span> <span class="cm-operator">+</span> <span class="cm-variable">listener</span>.<span class="cm-property">address</span>().<span class="cm-property">port</span>); }); </span></code></pre> 
           </div> 
          </div> 
          <div class="magic-block-textarea">
           <h2 class="header-scroll">
            <div class="anchor waypoint" id="section-finishing-up-the-client-code"></div>Finishing up the Client Code<a class="fa fa-anchor" href="#section-finishing-up-the-client-code"></a></h2> 
           <p>Let's jump back over to <code>client.js</code> and finish up. </p> 
           <p>We need to generate a fingerprint and send it to Kickbox. The <code>Kickbox.fingerprint()</code> call requires three things: an email, an app code, and an <code>onSuccess</code> callback function.</p> 
           <p>Our <code>onSuccess</code> callback is going to POST to the <code>/authenticate</code> route we created in <code>server.js</code>. Let's write that now.</p> 
          </div> 
          <div class="magic-block-code"> 
           <ul class="block-code-header"> 
            <li><a href="" ng-click="showCode(0)" ng-class="{active: (0 == tab)}">client.js - 2</a></li> 
           </ul> 
           <div class="block-code-code"> 
            <pre ng-if="tab == 0"><code><span class="cm-s-neo"><span class="cm-keyword">var</span> <span class="cm-variable">fingerprintSuccess</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span>(<span class="cm-def">fingerprint</span>) { <span class="cm-comment">//make a post to our /authenticate route</span> <span class="cm-variable">$</span>.<span class="cm-property">post</span>( <span class="cm-string">"/authenticate"</span>, { <span class="cm-property">email</span>: <span class="cm-variable">email</span>, <span class="cm-property">fingerprint</span>: <span class="cm-variable-2">fingerprint</span>, <span class="cm-property">kickbox_app_code</span>: <span class="cm-variable">kickbox_app_code</span> }, <span class="cm-comment">//handle the response</span> <span class="cm-keyword">function</span>(<span class="cm-def">response</span>){ <span class="cm-comment">//do this if something goes wrong</span> <span class="cm-keyword">if</span> (<span class="cm-variable-2">response</span>.<span class="cm-property">success</span> <span class="cm-operator">!=</span> <span class="cm-atom">true</span>) { <span class="cm-variable">alert</span>(<span class="cm-variable-2">response</span>.<span class="cm-property">body</span>.<span class="cm-property">message</span>); <span class="cm-keyword">return</span>; } <span class="cm-comment">//get the tracking token from the API response</span> <span class="cm-keyword">var</span> <span class="cm-def">track_token</span> <span class="cm-operator">=</span> <span class="cm-variable-2">response</span>.<span class="cm-property">track_token</span>; <span class="cm-comment">//show the kickbox email tracker</span> <span class="cm-variable">Kickbox</span>.<span class="cm-property">track</span>({ <span class="cm-property">app</span>: <span class="cm-variable">kickbox_app_code</span>, <span class="cm-property">token</span>: <span class="cm-variable-2">track_token</span>, <span class="cm-property">element</span>: <span class="cm-variable">$</span>(<span class="cm-string">'#tracker'</span>)[<span class="cm-number">0</span>] }); }); }</span></code></pre> 
           </div> 
          </div> 
          <div class="magic-block-textarea">
           <p>We're almost there. Let's go to our form <code>submit</code> handler and remove the <code>TODO</code>.</p> 
          </div> 
          <div class="magic-block-code"> 
           <ul class="block-code-header"> 
            <li><a href="" ng-click="showCode(0)" ng-class="{active: (0 == tab)}">client.js - 3</a></li> 
           </ul> 
           <div class="block-code-code"> 
            <pre ng-if="tab == 0"><code><span class="cm-s-neo"><span class="cm-comment">//Your Recipient Authentication auth code</span> <span class="cm-keyword">var</span> <span class="cm-variable">kickbox_app_code</span> <span class="cm-operator">=</span> <span class="cm-string">"YOUR KICKBOX APP CODE"</span>; <span class="cm-variable">$</span>(<span class="cm-string">'form'</span>).<span class="cm-property">submit</span>(<span class="cm-keyword">function</span>(<span class="cm-def">event</span>) { <span class="cm-comment">//prevent default form submission handler</span> <span class="cm-variable-2">event</span>.<span class="cm-property">preventDefault</span>(); <span class="cm-comment">//get the provided email address</span> <span class="cm-keyword">var</span> <span class="cm-def">email</span> <span class="cm-operator">=</span> <span class="cm-variable">$</span>(<span class="cm-string">'input'</span>).<span class="cm-property">val</span>(); <span class="cm-variable">Kickbox</span>.<span class="cm-property">fingerprint</span>({ <span class="cm-property">app</span>: <span class="cm-variable">kickbox_app_code</span>, <span class="cm-comment">//your kickbox authentication app code</span> <span class="cm-property">email</span>: <span class="cm-variable-2">email</span>, <span class="cm-comment">// Email address to authenticate</span> <span class="cm-property">onSuccess</span>: <span class="cm-variable">fingerprintSuccess</span>, <span class="cm-property">onError</span>: <span class="cm-keyword">function</span>(<span class="cm-def">err</span>) { <span class="cm-variable">alert</span>(<span class="cm-variable-2">err</span>); } }); }</span></code></pre> 
           </div> 
          </div> 
          <div class="magic-block-textarea">
           <p>And that's it for the client side. The completed <code>public/client.js</code> file should look similar to this:</p> 
          </div> 
          <div class="magic-block-code"> 
           <ul class="block-code-header"> 
            <li><a href="" ng-click="showCode(0)" ng-class="{active: (0 == tab)}">client.js - complete</a></li> 
           </ul> 
           <div class="block-code-code"> 
            <pre ng-if="tab == 0"><code><span class="cm-s-neo"><span class="cm-variable">$</span>(<span class="cm-keyword">function</span>() { <span class="cm-keyword">var</span> <span class="cm-def">email</span>; <span class="cm-comment">//Your Recipient Authentication auth code</span> <span class="cm-keyword">var</span> <span class="cm-def">kickbox_app_code</span> <span class="cm-operator">=</span> <span class="cm-string">"YOUR KICKBOX APP CODE"</span>; <span class="cm-variable">$</span>(<span class="cm-string">'form'</span>).<span class="cm-property">submit</span>(<span class="cm-keyword">function</span>(<span class="cm-def">event</span>) { <span class="cm-comment">//prevent default form submission handler</span> <span class="cm-variable-2">event</span>.<span class="cm-property">preventDefault</span>(); <span class="cm-comment">//get the provided email address</span> <span class="cm-variable-2">email</span> <span class="cm-operator">=</span> <span class="cm-variable">$</span>(<span class="cm-string">'input'</span>).<span class="cm-property">val</span>(); <span class="cm-comment">//get the fingerprint, call our server-code, display tracker</span> <span class="cm-variable">Kickbox</span>.<span class="cm-property">fingerprint</span>( { <span class="cm-property">app</span>: <span class="cm-variable-2">kickbox_app_code</span>, <span class="cm-comment">//your kickbox authentication app code</span> <span class="cm-property">email</span>: <span class="cm-variable-2">email</span>, <span class="cm-comment">// Email address to authenticate</span> <span class="cm-property">onSuccess</span>: <span class="cm-variable">fingerprintSuccess</span>, <span class="cm-property">onError</span>: <span class="cm-keyword">function</span>(<span class="cm-def">err</span>) { <span class="cm-variable">alert</span>(<span class="cm-variable-2">err</span>); } }); }); <span class="cm-keyword">var</span> <span class="cm-def">fingerprintSuccess</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span>(<span class="cm-def">fingerprint</span>) { <span class="cm-comment">//make a post to our /authenticate route</span> <span class="cm-variable">$</span>.<span class="cm-property">post</span>( <span class="cm-string">"/authenticate"</span>, { <span class="cm-property">email</span>: <span class="cm-variable-2">email</span>, <span class="cm-property">fingerprint</span>: <span class="cm-variable-2">fingerprint</span>, <span class="cm-property">kickbox_app_code</span>: <span class="cm-variable-2">kickbox_app_code</span> }, <span class="cm-comment">//handle the response</span> <span class="cm-keyword">function</span>(<span class="cm-def">response</span>){ <span class="cm-comment">//do this if something goes wrong</span> <span class="cm-keyword">if</span> (<span class="cm-variable-2">response</span>.<span class="cm-property">success</span> <span class="cm-operator">!=</span> <span class="cm-atom">true</span>) { <span class="cm-variable">alert</span>(<span class="cm-variable-2">response</span>.<span class="cm-property">body</span>.<span class="cm-property">message</span>); <span class="cm-keyword">return</span>; } <span class="cm-comment">//get the tracking token from the API response</span> <span class="cm-keyword">var</span> <span class="cm-def">track_token</span> <span class="cm-operator">=</span> <span class="cm-variable-2">response</span>.<span class="cm-property">track_token</span>; <span class="cm-comment">//show the kickbox email tracker</span> <span class="cm-variable">Kickbox</span>.<span class="cm-property">track</span>({ <span class="cm-property">app</span>: <span class="cm-variable-2">kickbox_app_code</span>, <span class="cm-property">token</span>: <span class="cm-variable-2">track_token</span>, <span class="cm-property">element</span>: <span class="cm-variable">$</span>(<span class="cm-string">'#tracker'</span>)[<span class="cm-number">0</span>] }); }); } }); </span></code></pre> 
           </div> 
          </div> 
          <div class="magic-block-textarea">
           <p>We're done! Click "Show Live." Fill out the form with an email address you control, then watch the tracker as you move through the authentication process.</p> 
           <p><img src="http://i.imgur.com/YJMie5O.png" alt="Authentication Tracker"></p> 
           <p>You will also see some activity show up on your <a href="https://kickbox.io/app/authenticate" target="_self">Authentication dashboard</a>. </p> 
           <h2 class="header-scroll">
            <div class="anchor waypoint" id="section-next-steps"></div>Next Steps<a class="fa fa-anchor" href="#section-next-steps"></a></h2> 
           <p>Now that you've got the basics working, there are several ways to <a href="https://docs.kickbox.io/docs/integrating-recipient-authentication#4-get-the-status" target="_self">handle authentication status</a>. You can respond programmatically to new authentication events via webhook or redirect the user to a page of your choosing after authentication. And there's an API endpoint for retrieving authentication status. </p> 
           <p>Want to automatically add the emails you collect to a list on your email service provider's platform? Go to the advanced settings sections of your Authentication app and click "Mailing Lists."</p> 
           <p>And in the Advanced Settings section of the website, you can configure drip reminders and link expiration.</p> 
           <p>If you got any questions or comments, please get in touch! We're here to help.</p> 
          </div>
         </section>
         <section ng-show="ss.toc.length" class="content-toc grid-25">
          <div sticky="66" ng-if="stickyTOC" class="sticky-toc">
           <nav>
            <div class="ng-cloak">
             <ul>
              <li ng-show="ss.toc.length"><a href="" ng-click="scrollTo()" class="tocHeader"><i class="icon icon-text-align-left"></i>Table of Contents</a></li>
              <li ng-repeat="toc in ss.toc" class="toc-{{ toc[2] }}"> <a href="" ng-cloak="ng-cloak" ng-click="scrollTo(toc[0])">{{ toc[1] }}</a></li>
             </ul>
            </div>
           </nav>
          </div>
          <div ng-if="!stickyTOC" class="fixed-toc">
           <nav>
            <div class="ng-cloak">
             <ul>
              <li ng-show="ss.toc.length"><a href="" ng-click="scrollTo()" class="tocHeader"><i class="icon icon-text-align-left"></i>Table of Contents</a></li>
              <li ng-repeat="toc in ss.toc" class="toc-{{ toc[2] }}"> <a href="" ng-cloak="ng-cloak" ng-click="scrollTo(toc[0])">{{ toc[1] }}</a></li>
             </ul>
            </div>
           </nav>
          </div>
         </section>
        </div>
       </div>
       <div id="content-suggested-edits" ng-if="suggestedEdits.isEnabled" class="ng-cloak">
        <form name="suggestedEditsForm" ng-if="suggestedEdits.isReady">
         <div ng-init="suggestedEdits.setForm(suggestedEditsForm)"></div>
         <header id="content-head">
          <h1>Recipient Authentication and node.js</h1>
          <div class="excerpt">
           <p>A node.js application to collect email addresses using Kickbox</p> 
          </div>
         </header>
         <div class="content-container">
          <magictextarea placeholder="Content goes here..." ng-model="suggestedEdits.current.data.body" sticky-top="66" project="project" class="hub-se-magic content"></magictextarea>
         </div>
        </form>
       </div>
      </div>
     </div>
    </section>
   </div>
  </div>
  <!-- Logo-->
  <footer>
   <div class="hub-container">
    <div id="readmeLogo">
     <a href="https://readme.io?ref_src=hub&amp;project=kickbox" class="icon icon-readme"></a>
    </div>
   </div>
  </footer>
  <script>var is_hub = true;
var is_hub2 = true;
var is_hub_edit = true;
</script>
  <script src="https://d2sl9eawlu179j.cloudfront.net/js/bundle-hub2.js?1505513482963"></script>
  <!-- Google Analytics-->
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-52479696-1', 'auto');
ga('send', 'pageview');

$(window).on('pageLoad', function(e, state){
  ga('send', 'pageview', window.location.pathname);
});
</script>
  <script>ga('create', 'UA-51626107-1', 'auto', {'name': 'custom'});
ga('custom.send', 'pageview');
$(window).on('pageLoad', function(e, state){
  ga('custom.send', 'pageview', window.location.pathname);
});

</script>
 </body>
</html>