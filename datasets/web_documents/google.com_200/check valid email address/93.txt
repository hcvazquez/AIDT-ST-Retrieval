<!doctype html>
<html class="client-nojs" lang="en" dir="ltr">
 <head> 
  <meta charset="UTF-8"> 
  <title>Workarounds: Manipulating a survey at runtime using Javascript - LimeSurvey Manual</title> 
  <script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script> 
  <script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript","wgTitle":"Workarounds: Manipulating a survey at runtime using Javascript","wgCurRevisionId":76729,"wgRevisionId":76729,"wgArticleId":1316,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript","wgRelevantArticleId":1316,"wgRequestId":"494ae1f7e2e8d59f6d019765","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgULSAcceptLanguageList":["en-us","en"],"wgULSCurrentAutonym":"English"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user.cssprefs":"ready","user":"ready","user.options":"loading","user.tokens":"loading","ext.pygments":"ready","ext.uls.pt":"ready","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.foreground.styles":"ready"});mw.loader.implement("user.options@0j3lz3q",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens@0rux73x",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup","ext.uls.interface"]);});</script> 
  <link rel="stylesheet" href="/load.php?debug=false&amp;lang=en&amp;modules=ext.pygments%7Cext.uls.pt%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cskins.foreground.styles&amp;only=styles&amp;skin=foreground"> 
  <script async src="/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=foreground"></script> 
  <meta name="ResourceLoaderDynamicStyles" content=""> 
  <link rel="stylesheet" href="/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=foreground"> 
  <meta name="generator" content="MediaWiki 1.28.0"> 
  <meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1.0"> 
  <link rel="shortcut icon" href="/favicon.ico"> 
  <link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="LimeSurvey Manual (en)"> 
  <link rel="EditURI" type="application/rsd+xml" href="//manual.limesurvey.org/api.php?action=rsd"> 
  <link rel="copyright" href="http://creativecommons.org/licenses/by-sa/3.0/"> 
  <link rel="alternate" type="application/atom+xml" title="LimeSurvey Manual Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
 </head> 
 <body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Workarounds_Manipulating_a_survey_at_runtime_using_Javascript rootpage-Workarounds_Manipulating_a_survey_at_runtime_using_Javascript skin-foreground action-view">
  <div id="navwrapper">
   <!-- START FOREGROUNDTEMPLATE --> 
   <nav class="top-bar" data-topbar role="navigation"> 
    <ul class="title-area"> 
     <li class="name"> <h1 class="title-name"> <a href="/LimeSurvey_Manual"> <img alt="LimeSurvey Manual" class="top-bar-logo" src="/limesurvey_manual.png"> 
        <div class="title-name" style="display: inline-block;">
         LimeSurvey Manual
        </div> </a> </h1> </li> 
     <li class="toggle-topbar menu-icon"> <a href="#"><span>Menu</span></a> </li> 
    </ul> 
    <section class="top-bar-section"> 
     <ul id="top-bar-left" class="left"> 
      <li class="divider show-for-small"></li> 
      <li class="has-dropdown active" id="p-navigation"> <a href="#">Navigation</a> 
       <ul class="dropdown"> 
        <li id="n-mainpage-description"><a href="/LimeSurvey_Manual" title="Visit the main page [z]" accesskey="z">Main page</a></li>
        <li id="n-recentchanges"><a href="/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
        <li id="n-randompage"><a href="/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
        <li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" target="_blank" title="The place to find out">Help</a></li> 
       </ul> </li>
     </ul> 
     <ul id="top-bar-right" class="right"> 
      <li class="has-form"> 
       <form action="/index.php" id="searchform" class="mw-search"> 
        <div class="row collapse"> 
         <div class="small-12 columns"> 
          <input type="search" name="search" placeholder="Search LimeSurvey Manual" title="Search LimeSurvey Manual [f]" accesskey="f" id="searchInput"> 
          <button type="submit" class="button search">Search</button> 
         </div> 
        </div> 
       </form> </li> 
      <li class="divider show-for-small"></li> 
      <li class="has-dropdown active"><a href="#"><i class="fa fa-cogs"></i></a> 
       <ul id="toolbox-dropdown" class="dropdown"> 
        <li id="t-whatlinkshere"><a href="/Special:WhatLinksHere/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
        <li id="t-recentchangeslinked"><a href="/Special:RecentChangesLinked/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
        <li id="t-specialpages"><a href="/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
        <li id="t-print"><a href="/index.php?title=Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
        <li id="t-permalink"><a href="/index.php?title=Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript&amp;oldid=76729" title="Permanent link to this revision of the page">Permanent link</a></li>
        <li id="t-info"><a href="/index.php?title=Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript&amp;action=info" title="More information about this page">Page information</a></li> 
        <li id="n-recentchanges"><a href="/Special:RecentChanges" title="Special:RecentChanges">Recent changes</a></li> 
        <li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents">Help</a></li> 
       </ul> </li> 
      <li id="personal-tools-dropdown" class="has-dropdown active"><a href="#"><i class="fa fa-user"></i></a> 
       <ul class="dropdown"> 
        <li id="pt-uls" class="active"><a href="#" class="uls-trigger autonym">English</a></li>
        <li id="pt-login"><a href="/index.php?title=Special:UserLogin&amp;returnto=Workarounds%3A+Manipulating+a+survey+at+runtime+using+Javascript" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
        <li id="pt-0"><a href="https://www.limesurvey.org/component/comprofiler/registers">Register</a></li> 
       </ul> </li> 
     </ul> 
    </section> 
   </nav> 
  </div> 
  <div id="page-content"> 
   <div class="row"> 
    <div class="large-12 columns"> 
     <!--[if lt IE 9]>
				<div id="siteNotice" class="sitenotice panel radius">LimeSurvey Manual may not look as expected in this version of Internet Explorer. We recommend you upgrade to a newer version of Internet Explorer or switch to a browser like Firefox or Chrome.</div>
				<![endif]--> 
    </div> 
   </div> 
   <div id="mw-js-message" style="display:none;"></div> 
   <div class="row"> 
    <div id="p-cactions" class="large-12 columns"> 
     <a id="actions-button" href="#" data-dropdown="actions" data-options="align:left; is_hover: true; hover_timeout:700" class="button small secondary radius"><i class="fa fa-cog"><span class="show-for-medium-up">&nbsp;Actions</span></i></a> 
     <!--RTL --> 
     <ul id="actions" class="f-dropdown" data-dropdown-content> 
      <li id="ca-nstab-main" class="selected"><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript" title="View the content page [c]" accesskey="c">Page</a></li>
      <li id="ca-talk"><a href="/Talk:Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
      <li id="ca-viewsource"><a href="/index.php?title=Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e">View source</a></li>
      <li id="ca-history"><a href="/index.php?title=Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li> 
     </ul> 
     <!--RTL --> 
     <div id="content"> 
      <h2 id="firstHeading" class="title">Workarounds: Manipulating a survey at runtime using Javascript</h2> 
      <h3 id="tagline">From LimeSurvey Manual</h3> 
      <h5 id="siteSub" class="subtitle"></h5> 
      <div id="contentSub" class="clear_both"></div> 
      <div id="bodyContent" class="mw-bodytext"> 
       <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"> 
        <div class="banneritem" style="float:right;"> 
         <iframe frameborder="0" scrolling="no" height="60" width="470" src="https://www.limesurvey.org/index.php?option=com_jumi&amp;fileid=7&amp;format=raw"></iframe> 
        </div> 
        <!-- Piwik --> 
        <script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
  _paq.push(["setCookieDomain", "*.www.limesurvey.org"]);
  _paq.push(["setDomains", ["*.www.limesurvey.org"]]);
  _paq.push(["trackPageView"]);
  _paq.push(["enableLinkTracking"]);
  (function() {
    var u="//analytics.limesurvey.org/";
    _paq.push(["setTrackerUrl", u+"piwik.php"]);
    _paq.push(["setSiteId", 1]);
    var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0];
    g.type="text/javascript"; g.async=true; g.defer=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
  })();
</script> 
        <noscript>
         <p><img src="//analytics.limesurvey.org/piwik.php?idsite=1" style="border:0;" alt=""></p>
        </noscript> 
        <!-- End Piwik Code --> 
        <p>Often you want to manipulate certain elements of a survey at runtime. The only solution without touching the source code is to use JavaScript or jQuery which is shipped with LimeSurvey. Here are some examples to hide and style elements, validate user input or do calculations at runtime. </p>
        <p>Other workarounds can be found at </p> 
        <ul>
         <li> <a href="/Workarounds:_Survey_behaviour" title="Workarounds: Survey behaviour">Workarounds: Survey behaviour</a></li> 
         <li> <a href="/Workarounds:_Question_design,_layout_and_templating" title="Workarounds: Question design, layout and templating">Workarounds: Question design, layout and templating</a></li>
        </ul> 
        <div class="simplebox">
         <center>
          <br>
          <b>Please keep in mind that these workarounds are not official LimeSurvey extensions - they are solutions that users have created for themselves.<br><span style="color:#EE0000,#FFFFFF">Therefore LimeSurvey can't offer guarantees or support for these solutions.</span><br>If you have questions, please contact the users that, thankfully, shared their solutions with the community.</b>
          <br>
          <br>
         </center>
        </div> 
        <div class="simplebox">
         Note: Version 1.92 implements many new features that make some existing workarounds obsolete. You can continue to use existing workarounds, but may want to consider switching over to using the new features (since those new features are officially supported, and the workarounds are not). Please review below for details of which are no longer needed.
         <br>
         <br>
        </div> 
        <div class="simplebox">
         Also Note: Version 1.92's Expression Manager (EM) may cause some of these work-arounds to fail. Any custom javascript included as a .js file will be fine. However, if you in-line your JavaScript code, you must make sure that you have a space after every opening (left) curly brace, and a space before every closing (right) curly brace. Otherwise, EM will think that the content between the curly braces is something it should parse and understand. I have fixed all of the work-arounds below that can be fixed (many did not follow those rules). However, some will continue to break. If a work-around contains a regular expression which contains curly braces (to indicate a range of repeats of a sub-expression), EM will try to process those curly braces, and thus break your regular expression. Strategies to continue to support that work-around functionality are discussed below.
         <br>
         <br>
        </div> 
        <div id="toc" class="toc">
         <div id="toctitle">
          <h2>Contents</h2>
         </div> 
         <ul> 
          <li class="toclevel-1 tocsection-1"><a href="#How_to_add_a_javascript_workaround_solution_to_this_Wiki_page.3F"><span class="tocnumber">1</span> <span class="toctext">How to <i>add</i> a javascript workaround solution to this Wiki page?</span></a></li> 
          <li class="toclevel-1 tocsection-2"><a href="#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey"><span class="tocnumber">2</span> <span class="toctext">How to <i>use</i> Script (eg. JavaScript etc.) in LimeSurvey</span></a> 
           <ul> 
            <li class="toclevel-2 tocsection-3"><a href="#Usage_of_brackets_.28.7B_and_.7D.29"><span class="tocnumber">2.1</span> <span class="toctext">Usage of brackets ({ and })</span></a></li> 
            <li class="toclevel-2 tocsection-4"><a href="#Examples_of_usage_of_brackets"><span class="tocnumber">2.2</span> <span class="toctext">Examples of usage of brackets</span></a></li> 
           </ul> </li> 
          <li class="toclevel-1 tocsection-5"><a href="#Sum_up_input_values_using_Javascript"><span class="tocnumber">3</span> <span class="toctext">Sum up input values using Javascript</span></a></li> 
          <li class="toclevel-1 tocsection-6"><a href="#Multiple_Question_Validation"><span class="tocnumber">4</span> <span class="toctext">Multiple Question Validation</span></a></li> 
          <li class="toclevel-1 tocsection-7"><a href="#Alternate_exit"><span class="tocnumber">5</span> <span class="toctext">Alternate exit</span></a></li> 
          <li class="toclevel-1 tocsection-8"><a href="#Custom_onload_function"><span class="tocnumber">6</span> <span class="toctext">Custom onload function</span></a> 
           <ul> 
            <li class="toclevel-2 tocsection-9"><a href="#General"><span class="tocnumber">6.1</span> <span class="toctext">General</span></a></li> 
            <li class="toclevel-2 tocsection-10"><a href="#Advanced_usage"><span class="tocnumber">6.2</span> <span class="toctext">Advanced usage</span></a></li> 
            <li class="toclevel-2 tocsection-11"><a href="#Language-specific_Javascript_code"><span class="tocnumber">6.3</span> <span class="toctext">Language-specific Javascript code</span></a></li> 
           </ul> </li> 
          <li class="toclevel-1 tocsection-12"><a href="#Custom_onload_function_in_multi-language_survey"><span class="tocnumber">7</span> <span class="toctext">Custom onload function in multi-language survey</span></a></li> 
          <li class="toclevel-1 tocsection-13"><a href="#Skipping_the_welcome_page"><span class="tocnumber">8</span> <span class="toctext">Skipping the welcome page</span></a></li> 
          <li class="toclevel-1 tocsection-14"><a href="#Filter_answers_of_a_question_with_the_answer_of_another"><span class="tocnumber">9</span> <span class="toctext">Filter answers of a question with the answer of another</span></a> 
           <ul> 
            <li class="toclevel-2 tocsection-15"><a href="#Method_1"><span class="tocnumber">9.1</span> <span class="toctext">Method 1</span></a></li> 
            <li class="toclevel-2 tocsection-16"><a href="#Method_2"><span class="tocnumber">9.2</span> <span class="toctext">Method 2</span></a></li> 
           </ul> </li> 
          <li class="toclevel-1 tocsection-17"><a href="#Filter_answers_of_a_multiple_numeric_type_question"><span class="tocnumber">10</span> <span class="toctext">Filter answers of a multiple numeric type question</span></a></li> 
          <li class="toclevel-1 tocsection-18"><a href="#Use_an_answer_to_prefill_another_question_.28default_value.29"><span class="tocnumber">11</span> <span class="toctext">Use an answer to prefill another question (default value)</span></a></li> 
          <li class="toclevel-1 tocsection-19"><a href="#Dynamic_Sum"><span class="tocnumber">12</span> <span class="toctext">Dynamic Sum</span></a></li> 
          <li class="toclevel-1 tocsection-20"><a href="#Focus_on_the_first_Input_field"><span class="tocnumber">13</span> <span class="toctext">Focus on the first Input field</span></a></li> 
          <li class="toclevel-1 tocsection-21"><a href="#Answer_questions_by_keypress"><span class="tocnumber">14</span> <span class="toctext">Answer questions by keypress</span></a></li> 
          <li class="toclevel-1 tocsection-22"><a href="#Math_notation_in_LimeSurvey"><span class="tocnumber">15</span> <span class="toctext">Math notation in LimeSurvey</span></a></li> 
          <li class="toclevel-1 tocsection-23"><a href="#Reverse_array_filter_.28for_pre-1.90.29"><span class="tocnumber">16</span> <span class="toctext">Reverse array_filter (for pre-1.90)</span></a></li> 
          <li class="toclevel-1 tocsection-24"><a href="#Filter_Ranking_Question_With_Multiple-Options_.28pre_1.92.29"><span class="tocnumber">17</span> <span class="toctext">Filter Ranking Question With Multiple-Options (pre 1.92)</span></a></li> 
          <li class="toclevel-1 tocsection-25"><a href="#Filter_.22Array_by_Column.22_Question_With_.22Multiple-Options.22"><span class="tocnumber">18</span> <span class="toctext">Filter "Array by Column" Question With "Multiple-Options"</span></a></li> 
          <li class="toclevel-1 tocsection-26"><a href="#Auto-tabbing_between_text_input_fields"><span class="tocnumber">19</span> <span class="toctext">Auto-tabbing between text input fields</span></a> 
           <ul> 
            <li class="toclevel-2"><a href="#Maximum_characters_.28maximum_chars.29"><span class="tocnumber">19.1</span> <span class="toctext">Maximum characters (maximum_chars)</span></a></li> 
           </ul> </li> 
          <li class="toclevel-1 tocsection-27"><a href="#Custom_response_listeners"><span class="tocnumber">20</span> <span class="toctext">Custom response listeners</span></a></li> 
          <li class="toclevel-1 tocsection-28"><a href="#Text_input_masks"><span class="tocnumber">21</span> <span class="toctext">Text input masks</span></a></li> 
          <li class="toclevel-1 tocsection-29"><a href="#Text_input_masks_-_second_method"><span class="tocnumber">22</span> <span class="toctext">Text input masks - second method</span></a></li> 
          <li class="toclevel-1 tocsection-30"><a href="#Select_a_random_response_to_a_.22Multiple_options.22_question_for_later_use"><span class="tocnumber">23</span> <span class="toctext">Select a random response to a "Multiple options" question for later use</span></a></li> 
          <li class="toclevel-1 tocsection-31"><a href="#Display_secondary_options_in_a_.22Multiple_options.22_question"><span class="tocnumber">24</span> <span class="toctext">Display secondary options in a "Multiple options" question</span></a></li> 
          <li class="toclevel-1 tocsection-32"><a href="#Minimum_number_of_required_answers_in_an_array_.28pre_1.92.29"><span class="tocnumber">25</span> <span class="toctext">Minimum number of required answers in an array (pre 1.92)</span></a></li> 
          <li class="toclevel-1 tocsection-33"><a href="#Minimum_elapsed_time_before_moving_forward_in_survey"><span class="tocnumber">26</span> <span class="toctext">Minimum elapsed time before moving forward in survey</span></a></li> 
          <li class="toclevel-1 tocsection-34"><a href="#Minimum_number_of_characters_in_Long_free_text_or_Huge_free_text_questions"><span class="tocnumber">27</span> <span class="toctext">Minimum number of characters in Long free text or Huge free text questions</span></a></li> 
          <li class="toclevel-1 tocsection-35"><a href="#Variable_Length_Array_.28Multi_Flexible_Text.29_question"><span class="tocnumber">28</span> <span class="toctext">Variable Length Array (Multi Flexible Text) question</span></a></li> 
          <li class="toclevel-1 tocsection-36"><a href="#Expandable_Array"><span class="tocnumber">29</span> <span class="toctext">Expandable Array</span></a></li> 
          <li class="toclevel-1 tocsection-37"><a href="#Partially_Randomized_Answers_-_Array_questions"><span class="tocnumber">30</span> <span class="toctext">Partially Randomized Answers - Array questions</span></a></li> 
          <li class="toclevel-1 tocsection-38"><a href="#Partially_Randomized_Answers_-_Multiple_Options_.26_List_.28radio.29_questions"><span class="tocnumber">31</span> <span class="toctext">Partially Randomized Answers - Multiple Options &amp; List (radio) questions</span></a></li> 
          <li class="toclevel-1 tocsection-39"><a href="#Partially_Randomized_Answers_-_Multiple_Options_.26_List_.28radio.29_questions_.28Enhanced.29"><span class="tocnumber">32</span> <span class="toctext">Partially Randomized Answers - Multiple Options &amp; List (radio) questions (Enhanced)</span></a></li> 
          <li class="toclevel-1 tocsection-40"><a href="#Partially_Randomized_Answers_-_List_.28dropdown.29_questions"><span class="tocnumber">33</span> <span class="toctext">Partially Randomized Answers - List (dropdown) questions</span></a></li> 
          <li class="toclevel-1 tocsection-41"><a href="#Partially_Randomized_Answers_-_Multiple_numerical_input"><span class="tocnumber">34</span> <span class="toctext">Partially Randomized Answers - Multiple numerical input</span></a></li> 
          <li class="toclevel-1 tocsection-42"><a href="#Making_one_.28or_more.29_rows_of_an_array_mandatory"><span class="tocnumber">35</span> <span class="toctext">Making one (or more) rows of an array mandatory</span></a></li> 
          <li class="toclevel-1 tocsection-43"><a href="#Randomly_displaying_one_of_a_few_YouTube_videos.2C_and_recording_which_was_displayed"><span class="tocnumber">36</span> <span class="toctext">Randomly displaying one of a few YouTube videos, and recording which was displayed</span></a></li> 
          <li class="toclevel-1 tocsection-44"><a href="#Randomly_displaying_one_of_a_few_pictures.2C_and_recording_which_was_displayed"><span class="tocnumber">37</span> <span class="toctext">Randomly displaying one of a few pictures, and recording which was displayed</span></a></li> 
          <li class="toclevel-1 tocsection-45"><a href="#Multiple_numerical_input_with_max_num_value_defined_in_token_.28personalized_limit.29"><span class="tocnumber">38</span> <span class="toctext">Multiple numerical input with max_num_value defined in token (personalized limit)</span></a></li> 
          <li class="toclevel-1 tocsection-46"><a href="#Default_values_in_array_questions"><span class="tocnumber">39</span> <span class="toctext">Default values in array questions</span></a></li> 
          <li class="toclevel-1 tocsection-47"><a href="#Default_Values_In_One_Scale_Of_A_Dual-scale_Array_Question"><span class="tocnumber">40</span> <span class="toctext">Default Values In One Scale Of A Dual-scale Array Question</span></a></li> 
          <li class="toclevel-1 tocsection-48"><a href="#Record_group_view_time"><span class="tocnumber">41</span> <span class="toctext">Record group view time</span></a></li> 
          <li class="toclevel-1 tocsection-49"><a href="#Toggle_visibility_of_groups"><span class="tocnumber">42</span> <span class="toctext">Toggle visibility of groups</span></a></li> 
          <li class="toclevel-1 tocsection-50"><a href="#Use_jQuery_Autocomplete_plugin_to_suggest_answers_for_text_inputs"><span class="tocnumber">43</span> <span class="toctext">Use jQuery Autocomplete plugin to suggest answers for text inputs</span></a> 
           <ul> 
            <li class="toclevel-2 tocsection-51"><a href="#1.90_and_previous_versions"><span class="tocnumber">43.1</span> <span class="toctext">1.90 and previous versions</span></a></li> 
            <li class="toclevel-2 tocsection-52"><a href="#1.91_and_later_versions"><span class="tocnumber">43.2</span> <span class="toctext">1.91 and later versions</span></a></li> 
            <li class="toclevel-2 tocsection-53"><a href="#Update_for_LimeSurvey_2.05.2B"><span class="tocnumber">43.3</span> <span class="toctext">Update for LimeSurvey 2.05+</span></a></li> 
            <li class="toclevel-2 tocsection-54"><a href="#Use_autocomplete_to_populate_several_fields"><span class="tocnumber">43.4</span> <span class="toctext">Use autocomplete to populate several fields</span></a></li> 
           </ul> </li> 
          <li class="toclevel-1 tocsection-55"><a href="#Drag_and_Drop_Rankings"><span class="tocnumber">44</span> <span class="toctext">Drag and Drop Rankings</span></a> 
           <ul> 
            <li class="toclevel-2 tocsection-56"><a href="#Drag_and_Drop_Ranking_-_Version_1.90_to_1.92"><span class="tocnumber">44.1</span> <span class="toctext">Drag and Drop Ranking - Version 1.90 to 1.92</span></a></li> 
            <li class="toclevel-2 tocsection-57"><a href="#Drag_and_Drop_Ranking_using_Images_-_Version_1.90_to_1.92"><span class="tocnumber">44.2</span> <span class="toctext">Drag and Drop Ranking using Images - Version 1.90 to 1.92</span></a></li> 
            <li class="toclevel-2 tocsection-58"><a href="#Drag_and_Drop_Ranking_for_iPad_-_Version_1.91_and_newer"><span class="tocnumber">44.3</span> <span class="toctext">Drag and Drop Ranking for iPad - Version 1.91 and newer</span></a></li> 
            <li class="toclevel-2 tocsection-59"><a href="#Drag_and_Drop_Ranking_-_Version_1.86"><span class="tocnumber">44.4</span> <span class="toctext">Drag and Drop Ranking - Version 1.86</span></a></li> 
           </ul> </li> 
          <li class="toclevel-1 tocsection-60"><a href="#Create_MaxDiff_question_type"><span class="tocnumber">45</span> <span class="toctext">Create MaxDiff question type</span></a></li> 
          <li class="toclevel-1 tocsection-61"><a href="#In_a_checkbox_matrix.2C_have_the_.27none.27_option_in_a_row_disable_all_other_columns_in_that_row"><span class="tocnumber">46</span> <span class="toctext">In a checkbox matrix, have the 'none' option in a row disable all other columns in that row</span></a></li> 
          <li class="toclevel-1 tocsection-62"><a href="#Last_Option_In_Array_.28Numbers.29_.28Checkboxes.29_Row_Excludes_All_Others"><span class="tocnumber">47</span> <span class="toctext">Last Option In Array (Numbers) (Checkboxes) Row Excludes All Others</span></a> 
           <ul> 
            <li class="toclevel-2 tocsection-63"><a href="#Implementation_LS_Version_2.06:"><span class="tocnumber">47.1</span> <span class="toctext">Implementation LS Version 2.06:</span></a></li> 
            <li class="toclevel-2 tocsection-64"><a href="#Implementation_LS_Version_2.54:"><span class="tocnumber">47.2</span> <span class="toctext">Implementation LS Version 2.54:</span></a></li> 
           </ul> </li> 
          <li class="toclevel-1 tocsection-65"><a href="#Add_Navigation_Buttons_.28Next_and_Previous.29_To_Top_Of_Page"><span class="tocnumber">48</span> <span class="toctext">Add Navigation Buttons (Next and Previous) To Top Of Page</span></a></li> 
          <li class="toclevel-1 tocsection-66"><a href="#How_to_add_an_opt_out_link_to_your_survey"><span class="tocnumber">49</span> <span class="toctext">How to <i>add</i> an opt out link to your survey</span></a></li> 
          <li class="toclevel-1 tocsection-67"><a href="#Anonymously_track_respondents_answers_across_multiple_surveys"><span class="tocnumber">50</span> <span class="toctext">Anonymously track respondents answers across multiple surveys</span></a></li> 
          <li class="toclevel-1 tocsection-68"><a href="#Check_validity_of_international_phone_number_in_subquestion"><span class="tocnumber">51</span> <span class="toctext">Check validity of international phone number in subquestion</span></a></li> 
          <li class="toclevel-1 tocsection-69"><a href="#Check_validity_of_email_address_in_subquestion"><span class="tocnumber">52</span> <span class="toctext">Check validity of email address in subquestion</span></a></li> 
          <li class="toclevel-1 tocsection-70"><a href="#Hiding_the_help-text_when_it.27s_empty"><span class="tocnumber">53</span> <span class="toctext">Hiding the help-text when it's empty</span></a></li> 
          <li class="toclevel-1 tocsection-71"><a href="#Disable_or_hide_selected_fields_in_a_matrix_question"><span class="tocnumber">54</span> <span class="toctext">Disable or hide selected fields in a matrix question</span></a></li> 
          <li class="toclevel-1 tocsection-72"><a href="#Add_prefix_or_suffix_to_question_type_.22Array_.28Texts.29.22"><span class="tocnumber">55</span> <span class="toctext">Add prefix or suffix to question type "Array (Texts)"</span></a></li> 
          <li class="toclevel-1 tocsection-73"><a href="#Time_question_.28Date_question-like.29"><span class="tocnumber">56</span> <span class="toctext">Time question (Date question-like)</span></a></li> 
          <li class="toclevel-1 tocsection-74"><a href="#Calculating_date_difference"><span class="tocnumber">57</span> <span class="toctext">Calculating date difference</span></a></li> 
          <li class="toclevel-1 tocsection-75"><a href="#How_to_set_minDate.2FmaxDate_based_on_other_Datequestions"><span class="tocnumber">58</span> <span class="toctext">How to set minDate/maxDate based on other Datequestions</span></a></li> 
          <li class="toclevel-1 tocsection-76"><a href="#Remove_Question_Help_if_empty"><span class="tocnumber">59</span> <span class="toctext">Remove Question Help if empty</span></a></li> 
          <li class="toclevel-1 tocsection-77"><a href="#Implicit_Association_Test_.28IAT.29"><span class="tocnumber">60</span> <span class="toctext">Implicit Association Test (IAT)</span></a> 
           <ul> 
            <li class="toclevel-2 tocsection-78"><a href="#Version_2.06"><span class="tocnumber">60.1</span> <span class="toctext">Version 2.06</span></a></li> 
            <li class="toclevel-2 tocsection-79"><a href="#Version_2.50"><span class="tocnumber">60.2</span> <span class="toctext">Version 2.50</span></a></li> 
           </ul> </li> 
          <li class="toclevel-1 tocsection-80"><a href="#Make_multiple_choice_easier"><span class="tocnumber">61</span> <span class="toctext">Make multiple choice easier</span></a></li> 
          <li class="toclevel-1 tocsection-81"><a href="#Prevent_the_survey_from_being_submitted_when_users_press_enter"><span class="tocnumber">62</span> <span class="toctext">Prevent the survey from being submitted when users press enter</span></a></li> 
          <li class="toclevel-1 tocsection-82"><a href="#Card_Sorting"><span class="tocnumber">63</span> <span class="toctext">Card Sorting</span></a></li> 
          <li class="toclevel-1 tocsection-83"><a href="#Text_Input_.28e.g._.22short_free_text.22.2C_.22huge_free_text.22.29:_Force_UpperCase_.2B_onBlur_Trim"><span class="tocnumber">64</span> <span class="toctext">Text Input (e.g. "short free text", "huge free text"): Force UpperCase + onBlur Trim</span></a></li> 
          <li class="toclevel-1 tocsection-84"><a href="#Convert_arrays_to_dropdowns_on_smaller_screens"><span class="tocnumber">65</span> <span class="toctext">Convert arrays to dropdowns on smaller screens</span></a></li> 
          <li class="toclevel-1 tocsection-85"><a href="#Van_Westendorp_Pricing_Sliders"><span class="tocnumber">66</span> <span class="toctext">Van Westendorp Pricing Sliders</span></a> 
           <ul> 
            <li class="toclevel-2 tocsection-86"><a href="#Version_2.06_2"><span class="tocnumber">66.1</span> <span class="toctext">Version 2.06</span></a></li> 
            <li class="toclevel-2 tocsection-87"><a href="#Version_2.5x"><span class="tocnumber">66.2</span> <span class="toctext">Version 2.5x</span></a></li> 
           </ul> </li> 
          <li class="toclevel-1 tocsection-88"><a href="#Multiple_Choice_-_Select_.22All_of_the_above.22"><span class="tocnumber">67</span> <span class="toctext">Multiple Choice - Select "All of the above"</span></a> 
           <ul> 
            <li class="toclevel-2 tocsection-89"><a href="#Version_2.67.x"><span class="tocnumber">67.1</span> <span class="toctext">Version 2.67.x</span></a></li> 
           </ul> </li> 
         </ul> 
        </div> 
        <h1><span class="mw-headline" id="How_to_add_a_javascript_workaround_solution_to_this_Wiki_page.3F">How to <i>add</i> a javascript workaround solution to this Wiki page?</span></h1> 
        <p>Well, this is pretty easy. Click the edit icon and create your own headline within the javascript section starting with "<b>!</b>". Then add a short note about the version you have used when creating your workaround, you can copy/paste this code snippet ''Tested with: (enter LimeSurvey version and maybe browser)''. </p>
        <p>Finally it's imported to mark all your code with code tags, other wise you might break this page. </p> 
        <ul>
         <li>Start tag: <b>&lt;syntaxhighlight lang="php" enclose="div"&gt;</b></li> 
         <li>End tag: <b>&lt;/syntaxhighlight&gt;</b>.</li>
        </ul> 
        <h1><span class="mw-headline" id="How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey">How to <i>use</i> Script (eg. JavaScript etc.) in LimeSurvey</span></h1> 
        <p>To use JavaScript within LimeSurvey, the XSS filter must be turned off and the code inserted in the source of a question or a group description. </p> 
        <ul>
         <li>Go to Global settings --&gt; Security and set "Filter HTML for XSS" to "Off".</li> 
         <li> <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://docs.limesurvey.org/tiki-index.php?page=Adding+A+Question">Add a new question</a></li> 
         <li> Edit the question and click the "Source" button in the editor toolbar:</li>
        </ul> 
        <pre>  <a href="/File:Editor_1.png" class="image"><img alt="Editor 1.png" src="/images/a/ad/Editor_1.png" width="738" height="341"></a>
</pre> 
        <ul>
         <li> Enter your script after the question text:</li>
        </ul> 
        <pre>  <a href="/File:Editor_2.png" class="image"><img alt="Editor 2.png" src="/images/4/48/Editor_2.png" width="741" height="332"></a>
</pre> 
        <ul>
         <li> Save the question</li>
        </ul> 
        <p>A simple test to see if JavaScript is enabled is to echo an alert. Use this code: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>
   <span class="nx">alert</span><span class="p">(</span><span class="s2">"Test!"</span><span class="p">);</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p>It is a good practice to use the jQuery $(document).on('ready pjax:complete') event to prevent the code from executing until the page is fully loaded, it is especially needed when using the ajax-mode in the 3.0.0 and upper default templates: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>
   <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">'ready pjax:complete'</span><span class="p">,</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
       <span class="nx">alert</span><span class="p">(</span><span class="s2">"Test!"</span><span class="p">);</span>
   <span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <h3><span class="mw-headline" id="Usage_of_brackets_.28.7B_and_.7D.29">Usage of brackets ({ and })</span></h3> 
        <div class="boxed alert">
         <div class="floatleft">
          <a href="/File:Important.png" class="image"><img alt="Important.png" src="/images/thumb/f/ff/Important.png/20px-Important.png" width="20" height="20" srcset="/images/thumb/f/ff/Important.png/30px-Important.png 1.5x, /images/thumb/f/ff/Important.png/40px-Important.png 2x"></a>
         </div> 
         <strong class="error">Caution when using brackets ({ and }) in scripts&nbsp;: </strong> 
         <a href="/Expression_Manager#Syntax" title="Expression Manager">Expression manager</a> uses brackets ({ and }) to enclose expressions. If you have to use brackets in your JavaScript, you must add a space or line feed after the opening bracket ({) and before the closing bracket (})
        </div> 
        <h3><span class="mw-headline" id="Examples_of_usage_of_brackets">Examples of usage of brackets</span></h3> 
        <p>Expression Manager will try to parse this JavaScript: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>
   <span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'broken javascript'</span><span class="p">);});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p>Adding line feed prevents Expression Manager from parsing </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>
   <span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Adding a line feed for javascript'</span><span class="p">);</span>
   <span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p>Expression Manager will try to parse this JavaScript: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>
   <span class="k">if</span><span class="p">(</span><span class="nx">myvar</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'broken javascript'</span><span class="p">);};</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p>Adding spaces inside the brackets prevents Expression Manager from parsing </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>
   <span class="k">if</span><span class="p">(</span><span class="nx">myvar</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Adding a space for javascript'</span><span class="p">);</span> <span class="p">};</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Sum_up_input_values_using_Javascript">Sum up input values using Javascript</span></h1> 
        <p><i>Tested with: </i> </p> 
        <div class="simplebox">
         As of version 1.92, this is easier to do using the sum() function in 
         <a href="/Expression_Manager" title="Expression Manager">Expression Manager</a>. See this 
         <a href="/Expression_Manager_HowTos#Calculate_assessment_values_at_runtime_and_store_the_results_in_the_survey_data" class="mw-redirect" title="Expression Manager HowTos">HowTo example</a>.
        </div> 
        <div class="simplebox">
         Starting in Version 1.92, you also do no longer need to use SGQA (e.g. 45251X1X5) identifiers. Instead the code 
         <code>{SGQ}</code> will automatically replaced by the current questions SGQA-codes.
        </div> 
        <p>This is from a survey that is a invitation to a longer party, when the user clicks to the next page, the calculated results will be shown. </p>
        <p>If you wonder what the {INSERTANS:1X6X12} stuff is, look at <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://docs.limesurvey.org/tiki-index.php?page=SGQA+Identifier">SGQA identifier</a> and <a href="/index.php?title=Adding_a_question&amp;action=edit&amp;redlink=1" class="new" title="Adding a question (page does not exist)">Using information from previous answers</a>. </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="p">&lt;</span><span class="nt">div</span> <span class="na">style</span><span class="o">=</span><span class="s">"text-align: left"</span><span class="p">&gt;</span>These are your answers:<span class="p">&lt;</span><span class="nt">br</span> <span class="p">/&gt;</span>

<span class="p">&lt;</span><span class="nt">u</span><span class="p">&gt;&lt;/</span><span class="nt">u</span><span class="p">&gt;&lt;</span><span class="nt">u</span><span class="p">&gt;&lt;/</span><span class="nt">u</span><span class="p">&gt;&lt;</span><span class="nt">u</span><span class="p">&gt;&lt;/</span><span class="nt">u</span><span class="p">&gt;&lt;</span><span class="nt">u</span><span class="p">&gt;&lt;/</span><span class="nt">u</span><span class="p">&gt;&lt;</span><span class="nt">u</span><span class="p">&gt;</span>=

<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">script</span> <span class="na">LANGUAGE</span><span class="o">=</span><span class="s">"JavaScript"</span><span class="p">&gt;</span>

<span class="nx">partyprice</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>

<span class="nx">beadclothprice</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>

<span class="nx">breakfastprice</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>

<span class="nx">lunchprice</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>

<span class="nx">dinnerprice</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>

<span class="nx">foodtotal</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">isreallytrue</span> <span class="o">=</span> <span class="s2">"Yes"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">noanswer</span> <span class="o">=</span> <span class="s2">"No answer"</span><span class="p">;</span>

<span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span> <span class="s2">"Can you come? = {INSERTANS:45251X1X1}&lt;BR&gt;"</span> <span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="s2">"{INSERTANS:45251X1X1}"</span> <span class="o">==</span> <span class="nx">isreallytrue</span> <span class="p">)</span>

  <span class="p">{</span>

   <span class="k">if</span> <span class="p">(</span><span class="s2">"{INSERTANS:45251X1X3}"</span><span class="o">==</span> <span class="nx">noanswer</span><span class="p">)</span> <span class="p">{</span> <span class="nx">answer</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">}</span>

   <span class="k">else</span> <span class="p">{</span> <span class="nx">answer</span> <span class="o">=</span> <span class="s2">"{INSERTANS:45251X1X3}"</span><span class="p">;</span> <span class="p">}</span>

   <span class="nx">partypeople</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">answer</span><span class="p">);</span>

   <span class="nx">partytotal</span> <span class="o">=</span> <span class="nx">partyprice</span> <span class="o">*</span> <span class="nx">partypeople</span><span class="p">;</span>

   <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span> <span class="s2">"It's {INSERTANS:45251X1X3} persons who will come = "</span> <span class="o">+</span> <span class="nx">partytotal</span> <span class="o">+</span> <span class="s2">"&amp;euro;&lt;BR&gt;"</span> <span class="p">);</span>

   <span class="k">if</span> <span class="p">(</span><span class="s2">"{INSERTANS:45251X1X4}"</span><span class="o">==</span> <span class="nx">noanswer</span><span class="p">)</span> <span class="p">{</span> <span class="nx">answer</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">}</span>

   <span class="k">else</span> <span class="p">{</span> <span class="nx">answer</span> <span class="o">=</span> <span class="s2">"{INSERTANS:45251X1X4}"</span><span class="p">;}</span>

   <span class="nx">beadcloths</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">answer</span><span class="p">);</span>

   <span class="nx">beadclothtotal</span> <span class="o">=</span> <span class="nx">beadclothprice</span> <span class="o">*</span> <span class="nx">beadcloths</span><span class="p">;</span>

   <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span> <span class="s2">"You want to borrow {INSERTANS:45251X1X4} beadcloths = "</span> <span class="o">+</span> <span class="nx">beadclothtotal</span> <span class="o">+</span> <span class="s2">"&amp;euro;&lt;BR&gt;"</span> <span class="p">);</span>

   <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span> <span class="s2">"Will you be there thursday? = {INSERTANS:45251X1X5}&lt;BR&gt;"</span> <span class="p">);</span>

   <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span> <span class="s2">"On friday you will have these meals: &lt;BR&gt;"</span> <span class="p">);</span>

   <span class="k">if</span> <span class="p">(</span><span class="s2">"{INSERTANS:45251X1X71}"</span><span class="o">==</span> <span class="nx">noanswer</span><span class="p">)</span> <span class="p">{</span> <span class="nx">answer</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">}</span>

   <span class="k">else</span> <span class="p">{</span> <span class="nx">answer</span> <span class="o">=</span> <span class="s2">"{INSERTANS:45251X1X71}"</span><span class="p">;}</span>

   <span class="nx">breakfastfriday</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="o">*</span> <span class="nx">breakfastprice</span><span class="p">;</span>

   <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span> <span class="s2">"'''_ "</span> <span class="o">+</span> <span class="nx">answer</span> <span class="o">+</span> <span class="s2">" breakfeasts = "</span> <span class="o">+</span> <span class="nx">breakfastfriday</span> <span class="o">+</span> <span class="s2">"&amp;euro;&lt;BR&gt;"</span> <span class="p">);</span>

   <span class="k">if</span> <span class="p">(</span><span class="s2">"{INSERTANS:45251X1X72}"</span><span class="o">==</span> <span class="nx">noanswer</span><span class="p">)</span> <span class="p">{</span> <span class="nx">answer</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">}</span>

   <span class="k">else</span> <span class="p">{</span> <span class="nx">answer</span> <span class="o">=</span> <span class="s2">"{INSERTANS:45251X1X72}"</span><span class="p">;}</span>

   <span class="nx">lunchfriday</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="o">*</span> <span class="nx">lunchprice</span> <span class="p">;</span>

   <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span> <span class="s2">"'''_ "</span> <span class="o">+</span> <span class="nx">answer</span> <span class="o">+</span> <span class="s2">" lunches = "</span> <span class="o">+</span> <span class="nx">lunchfriday</span> <span class="o">+</span> <span class="s2">"&amp;euro;&lt;BR&gt;"</span> <span class="p">);</span>

   <span class="k">if</span> <span class="p">(</span><span class="s2">"{INSERTANS:45251X1X73}"</span><span class="o">==</span> <span class="nx">noanswer</span><span class="p">)</span> <span class="p">{</span> <span class="nx">answer</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">}</span>

   <span class="k">else</span> <span class="p">{</span> <span class="nx">answer</span> <span class="o">=</span> <span class="s2">"{INSERTANS:45251X1X73}"</span><span class="p">;}</span>

   <span class="nx">dinnerfriday</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">answer</span><span class="p">)</span><span class="o">*</span> <span class="nx">dinnerprice</span> <span class="p">;</span>

   <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span> <span class="s2">"'''_ "</span> <span class="o">+</span> <span class="nx">answer</span> <span class="o">+</span> <span class="s2">" dinners = "</span> <span class="o">+</span> <span class="nx">dinnerfriday</span> <span class="o">+</span> <span class="s2">"&amp;euro;&lt;BR&gt;"</span> <span class="p">);</span>

   <span class="nx">foodtotal</span> <span class="o">=</span> <span class="nx">breakfastfriday</span> <span class="o">+</span> <span class="nx">lunchfriday</span> <span class="o">+</span> <span class="nx">dinnerfriday</span><span class="p">;</span>

   <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span> <span class="s2">"Will you be there saturday? = {INSERTANS:45251X1X8}&lt;BR&gt;"</span> <span class="p">);</span>

   <span class="k">if</span> <span class="p">(</span><span class="s2">"{INSERTANS:45251X1X8}"</span> <span class="o">==</span> <span class="nx">isreallytrue</span> <span class="p">)</span>

      <span class="p">{</span>

       <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span> <span class="s2">"On saturday you will have these meals: &lt;BR&gt;"</span> <span class="p">);</span>

       <span class="k">if</span> <span class="p">(</span><span class="s2">"{INSERTANS:45251X1X91}"</span><span class="o">==</span> <span class="nx">noanswer</span><span class="p">)</span> <span class="p">{</span> <span class="nx">answer</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">}</span>

       <span class="k">else</span> <span class="p">{</span> <span class="nx">answer</span> <span class="o">=</span> <span class="s2">"{INSERTANS:45251X1X91}"</span><span class="p">;</span> <span class="p">}</span>

       <span class="nx">breakfastsaturday</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="o">*</span> <span class="nx">breakfastprice</span> <span class="p">;</span>

       <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s2">"'''_ "</span> <span class="o">+</span> <span class="nx">answer</span> <span class="o">+</span> <span class="s2">" breakfeasts = "</span> <span class="o">+</span> <span class="nx">breakfastsaturday</span> <span class="o">+</span> <span class="s2">"&amp;euro;&lt;BR&gt;"</span> <span class="p">);</span>

       <span class="k">if</span> <span class="p">(</span><span class="s2">"{INSERTANS:45251X1X92}"</span><span class="o">==</span> <span class="nx">noanswer</span><span class="p">)</span> <span class="p">{</span> <span class="nx">answer</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">}</span>

       <span class="k">else</span> <span class="p">{</span> <span class="nx">answer</span> <span class="o">=</span> <span class="s2">"{INSERTANS:45251X1X92}"</span><span class="p">;</span> <span class="p">}</span>

       <span class="nx">lunchsaturday</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="o">*</span> <span class="nx">lunchprice</span> <span class="p">;</span>

       <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span> <span class="s2">"'''_ "</span> <span class="o">+</span> <span class="nx">answer</span> <span class="o">+</span> <span class="s2">" lunches = "</span> <span class="o">+</span> <span class="nx">lunchsaturday</span> <span class="o">+</span> <span class="s2">"&amp;euro;&lt;BR&gt;"</span> <span class="p">);</span>

       <span class="k">if</span> <span class="p">(</span><span class="s2">"{INSERTANS:45251X1X93}"</span><span class="o">==</span> <span class="nx">noanswer</span><span class="p">)</span> <span class="p">{</span> <span class="nx">answer</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">}</span>

       <span class="k">else</span> <span class="p">{</span> <span class="nx">answer</span> <span class="o">=</span> <span class="s2">"{INSERTANS:45251X1X93}"</span><span class="p">;</span> <span class="p">}</span>

       <span class="nx">dinnersaturday</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="o">*</span> <span class="nx">dinnerprice</span> <span class="p">;</span>

       <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span> <span class="s2">"'''_ "</span> <span class="o">+</span> <span class="nx">answer</span> <span class="o">+</span> <span class="s2">" dinners = "</span> <span class="o">+</span> <span class="nx">dinnersaturday</span> <span class="o">+</span> <span class="s2">"&amp;euro;&lt;BR&gt;"</span> <span class="p">);</span>

       <span class="nx">foodtotal</span> <span class="o">=</span> <span class="nx">foodtotal</span> <span class="o">+</span> <span class="nx">breakfastsaturday</span> <span class="o">+</span> <span class="nx">lunchsaturday</span> <span class="o">+</span> <span class="nx">dinnersaturday</span><span class="p">;</span>

      <span class="p">}</span>

   <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span> <span class="s2">"Will you be there sunday? = {INSERTANS:45251X1X10}&lt;BR&gt;"</span> <span class="p">);</span>

   <span class="k">if</span> <span class="p">(</span><span class="s2">"{INSERTANS:45251X1X10}"</span> <span class="o">==</span> <span class="nx">isreallytrue</span> <span class="p">)</span>

      <span class="p">{</span>

       <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span> <span class="s2">"On sunday you will have these meals: &lt;br&gt;"</span> <span class="p">);</span>

       <span class="k">if</span> <span class="p">(</span><span class="s2">"{INSERTANS:45251X1X111}"</span><span class="o">==</span> <span class="nx">noanswer</span><span class="p">)</span> <span class="p">{</span> <span class="nx">answer</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">}</span>

       <span class="k">else</span> <span class="p">{</span> <span class="nx">answer</span> <span class="o">=</span> <span class="s2">"{INSERTANS:45251X1X111}"</span><span class="p">;</span> <span class="p">}</span>

       <span class="nx">breakfastsunday</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="o">*</span> <span class="nx">breakfastprice</span> <span class="p">;</span>

       <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span> <span class="s2">"'''_ "</span> <span class="o">+</span> <span class="nx">answer</span> <span class="o">+</span> <span class="s2">" breakfeasts = "</span> <span class="o">+</span> <span class="nx">breakfastsunday</span> <span class="o">+</span> <span class="s2">"&amp;euro;&lt;BR&gt;"</span>  <span class="p">);</span>

       <span class="k">if</span> <span class="p">(</span><span class="s2">"{INSERTANS:45251X1X112}"</span><span class="o">==</span> <span class="nx">noanswer</span><span class="p">)</span> <span class="p">{</span> <span class="nx">answer</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">}</span>

       <span class="k">else</span> <span class="p">{</span> <span class="nx">answer</span> <span class="o">=</span> <span class="s2">"{INSERTANS:45251X1X112}"</span><span class="p">;</span> <span class="p">}</span>

       <span class="nx">lunchsunday</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="o">*</span> <span class="nx">lunchprice</span> <span class="p">;</span>

       <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span> <span class="s2">"'''_ "</span> <span class="o">+</span> <span class="nx">answer</span> <span class="o">+</span> <span class="s2">" lunches = "</span> <span class="o">+</span> <span class="nx">lunchsunday</span> <span class="o">+</span> <span class="s2">"&amp;euro;&lt;BR&gt;"</span> <span class="p">);</span>

       <span class="k">if</span> <span class="p">(</span><span class="s2">"{INSERTANS:45251X1X113}"</span><span class="o">==</span> <span class="nx">noanswer</span><span class="p">)</span> <span class="p">{</span> <span class="nx">answer</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">}</span>

       <span class="k">else</span> <span class="p">{</span> <span class="nx">answer</span> <span class="o">=</span> <span class="s2">"{INSERTANS:45251X1X113}"</span><span class="p">;</span> <span class="p">}</span>

       <span class="nx">dinnersunday</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">answer</span><span class="p">)</span> <span class="o">*</span> <span class="nx">dinnerprice</span> <span class="p">;</span>

       <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span> <span class="s2">"'''_ "</span> <span class="o">+</span> <span class="nx">answer</span> <span class="o">+</span> <span class="s2">" dinners = "</span> <span class="o">+</span> <span class="nx">dinnersunday</span> <span class="o">+</span> <span class="s2">"&amp;euro;&lt;p&gt;"</span> <span class="p">);</span>

       <span class="nx">foodtotal</span> <span class="o">=</span> <span class="nx">foodtotal</span> <span class="o">+</span> <span class="nx">breakfastsunday</span> <span class="o">+</span> <span class="nx">lunchsunday</span> <span class="o">+</span> <span class="nx">dinnersunday</span><span class="p">;</span>

      <span class="p">}</span>

   <span class="nx">total</span> <span class="o">=</span> <span class="nx">partytotal</span> <span class="o">+</span> <span class="nx">beadclothtotal</span> <span class="o">+</span> <span class="nx">foodtotal</span><span class="p">;</span>

   <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span> <span class="s2">"&lt;h3&gt;In total it will cost you "</span> <span class="o">+</span> <span class="nx">total</span> <span class="o">+</span> <span class="s2">"&amp;euro;&lt;/h3&gt;&lt;BR&gt;</span>

<span class="s2">   Put that sum in this bank account 1234 5678 9012"</span> <span class="p">);</span>

  <span class="p">}</span>

<span class="p">&lt;/</span><span class="nt">SCRIPT</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>

<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Multiple_Question_Validation">Multiple Question Validation</span></h1> 
        <p><i>Tested with: </i> </p> 
        <div class="simplebox">
         As of version 1.92, this is easier to do using the min/max/equals_num_value attributes (to validate sums), or the em_validation_q function, which lets you refer to other variables when you validate the current question 
         <a href="/Expression_Manager" title="Expression Manager">Expression Manager</a>. Such validations also work on the current page, and properly handle array_filter and cascading relevance.
        </div> 
        <p>This workaround is in case you need to do some validation involving more than one question, it implies a very little JavaScript programming and the use of SGQA Identifiers; this should work on almost any version of LimeSurvey. </p>
        <p>Is easy to explain with an example, we need to do a survey of the percentage of males and females and we want to be sure that the sum is 100, to do this follow this steps (the necessary data that is not indicated in these instructions are not important i.e. question codes, etc.): </p> 
        <ol>
         <li>Create a new survey of type "group by group", set the "Show |&lt;&lt; Prev| button" to yes and note the SID.</li> 
         <li>Add a new group called "Group 1" and note the GID.</li> 
         <li>Add a new question "Percent of males" of type "numeric", make it mandatory and note the QID (we will refer to this as QID1).</li> 
         <li>Add a new question "Percent of females" of type "numeric", make it mandatory and note the QID (we will refer to this as QID2).</li> 
         <li>Add a new group called "Group 2"</li> 
         <li>Add a new non mandatory question, here is the trick the question text has to be (be sure to replace the SID, GID, QID1 and QID2</li>
        </ol> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>

<span class="kd">function</span> <span class="nx">validation</span><span class="p">()</span>

<span class="p">{</span>

   <span class="k">if</span> <span class="p">[[{</span><span class="nx">INSERTANS</span><span class="o">:</span><span class="nx">SIDXGIDXQID1</span><span class="p">}</span><span class="o">+</span><span class="p">{</span><span class="nx">INSERTANS</span><span class="o">:</span><span class="nx">SIDXGIDXQID2</span><span class="p">})</span> <span class="o">!=</span> <span class="mi">100</span><span class="p">)</span>

   <span class="p">{</span>

     <span class="nx">alert</span><span class="p">(</span><span class="s2">"Your responses don't sum 100! Check them"</span><span class="p">);</span>

     <span class="nb">document</span><span class="p">.</span><span class="nx">limesurvey</span><span class="p">.</span><span class="nx">move</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="s1">'moveprev'</span><span class="p">;</span>

     <span class="nb">document</span><span class="p">.</span><span class="nx">limesurvey</span><span class="p">.</span><span class="nx">submit</span><span class="p">();</span>

   <span class="p">}</span>

   <span class="k">else</span>

   <span class="p">{</span>

     <span class="nb">document</span><span class="p">.</span><span class="nx">limesurvey</span><span class="p">.</span><span class="nx">move</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="s1">'movelast'</span><span class="p">;</span>

     <span class="nb">document</span><span class="p">.</span><span class="nx">limesurvey</span><span class="p">.</span><span class="nx">submit</span><span class="p">();</span>

   <span class="p">}</span>

 <span class="p">}</span>

 <span class="nx">setTimeout</span><span class="p">(</span><span class="s2">"validation()"</span><span class="p">,</span><span class="mi">250</span><span class="p">);</span>

 <span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p>But this will show shortly the question and will jump to the end page, a little weird for the survey taker but works. </p>
        <p>This is a proof of concept, and may have some problems, please if you notice something or improve it send me an e-mail to leochaton-limesurvey at yahoo dot com. </p>
        <p>This will work for 2 questions that you want to be the same. Works well for email and confirm email questions </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre> <span class="k">function</span> <span class="nf">validation</span><span class="p">()</span> <span class="p">{</span>

 <span class="k">if</span> <span class="p">(</span><span class="s2">"{INSERTANS:SIDXGIDXQID}"</span> <span class="o">!=</span> <span class="s2">"{INSERTANS:SIDXGIDXQID}"</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">alert</span><span class="p">(</span><span class="s2">"Your responses don't match Check them"</span><span class="p">);</span> <span class="nx">document</span><span class="o">.</span><span class="nx">limesurvey</span><span class="o">.</span><span class="nx">move</span><span class="o">.</span><span class="nx">value</span> <span class="o">=</span> <span class="s1">'moveprev'</span><span class="p">;</span>

    <span class="nx">document</span><span class="o">.</span><span class="nx">limesurvey</span><span class="o">.</span><span class="nx">submit</span><span class="p">();</span>

   <span class="p">}</span>

 <span class="p">}</span>

 <span class="nx">setTimeout</span><span class="p">(</span><span class="s2">"validation()"</span><span class="p">,</span><span class="mi">250</span><span class="p">);</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Alternate_exit">Alternate exit</span></h1> 
        <p><i>Tested with: </i> </p>
        <p>Using the same idea of the previous post, you can implement an alternate exit of your survey. </p>
        <p>This script should be in the first question to be displayed in a next page after the question that should trigger the alternate exit. In this example the question that trigger the alternate exit is a Yes/No question, if the user chooses no, he is redirected to another page. </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>

<span class="k">if</span> <span class="p">(</span><span class="s2">"{INSERTANS:SIDXGIDXQID}"</span> <span class="o">==</span> <span class="s2">"No"</span><span class="p">)</span>

<span class="p">{</span>

  <span class="nx">window</span><span class="o">.</span><span class="nx">location</span><span class="o">=</span><span class="s2">"http://www.limesurvey.org"</span><span class="p">;</span>

<span class="p">}</span>

<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Custom_onload_function">Custom onload function</span></h1> 
        <p><i>Tested with: 'All browsers', LimeSurvey 1.70 and up</i> </p> 
        <h2><span class="mw-headline" id="General">General</span></h2> 
        <p>This simple workaround describes how to <b>add a custom Javascript code</b> that is triggered right after the page is loaded. It may have numerous applications, especially when you deal with a custom JS/HTML code. It may be used to hide form elements (&lt;input&gt; tags), make them read-only, display alert messages, etc. </p>
        <p>To run any Javascript code right after page load use the Query ready() function. It will be executed when the page is being loaded. For example when you add the following code to one of your question definitions...: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>

<span class="nx">jQuery</span><span class="p">(</span><span class="nx">document</span><span class="p">)</span><span class="o">.</span><span class="nx">ready</span><span class="p">(</span>

   <span class="k">function</span><span class="p">(){</span>

       <span class="nx">alert</span><span class="p">(</span><span class="s1">'onload alert!'</span><span class="p">);</span>

   <span class="p">}</span>

<span class="p">);</span>

<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <p>...it will display a pop-up message immediately after the page has been loaded. </p>
        <p>Some of the applications of this trick I've explored are: </p>
        <p>a) Hiding the form elements by calling in your Custom_On_Load: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="nx">document</span><span class="o">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"answer73166X16X54"</span><span class="p">)</span><span class="o">.</span><span class="nx">style</span><span class="o">.</span><span class="nx">display</span><span class="o">=</span><span class="s1">'none'</span><span class="p">;</span>
</pre>
        </div> 
        <p>Note: As of svn build 9755, you can now dynamically reference the questions input fields by using the {SGQ} keyword. You can rewrite the previous example like this: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="nx">document</span><span class="o">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"answer{SGQ}"</span><span class="p">)</span><span class="o">.</span><span class="nx">style</span><span class="o">.</span><span class="nx">display</span><span class="o">=</span><span class="s1">'none'</span><span class="p">;</span>
</pre>
        </div> 
        <p>this makes it a little easier when exporting surveys, so you don't have to worry about manually entering each questions SurveyGroupQuestion ID. </p>
        <p>b) Making the elements read only: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="nx">document</span><span class="o">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"answer73166X16X54"</span><span class="p">)</span><span class="o">.</span><span class="nx">readOnly</span><span class="o">=</span><span class="k">true</span><span class="p">;</span>
</pre>
        </div> where the "answer73166X16X54" structure has been described in one of other workarounds above. 
        <p>c) For Hiding by a lot of elements by calling in your Customer_On_Load </p>
        <p>jQuery searchs in html document for input-fields with radio type, if his answer text empty then do the display css set to none. </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="nx">jQuery</span><span class="p">(</span><span class="nx">document</span><span class="p">)</span><span class="o">.</span><span class="nx">ready</span><span class="p">(</span>

           <span class="k">function</span><span class="p">()</span> <span class="p">{</span>

             <span class="nx">jQuery</span><span class="p">(</span><span class="s1">'input:radio'</span><span class="p">)</span><span class="o">.</span><span class="nb">each</span><span class="p">(</span>

               <span class="k">function</span><span class="p">()</span> <span class="p">{</span>

                 <span class="k">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>

                 <span class="k">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">s</span><span class="o">.</span><span class="k">parent</span><span class="p">()</span><span class="o">.</span><span class="nx">children</span><span class="p">(</span><span class="s1">'.answertext'</span><span class="p">);</span>

                 <span class="k">for</span><span class="p">(</span><span class="k">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">c</span><span class="o">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>

                   <span class="k">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="nx">i</span><span class="p">]]);</span>

                   <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="o">.</span><span class="nx">id</span> <span class="o">&lt;/</span><span class="nx">u</span><span class="o">&gt;</span> <span class="nx">a</span><span class="o">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'for'</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">a</span><span class="o">.</span><span class="nx">text</span><span class="p">()</span> <span class="o">==</span> <span class="s1">''</span><span class="p">)</span> <span class="p">{</span>

                     <span class="nx">s</span><span class="o">.</span><span class="nx">css</span><span class="p">({</span> <span class="s1">'display'</span> <span class="o">:</span> <span class="s1">'none'</span> <span class="p">});</span>

                     <span class="nx">a</span><span class="o">.</span><span class="nx">css</span><span class="p">({</span> <span class="s1">'display'</span> <span class="o">:</span> <span class="s1">'none'</span> <span class="p">});</span>

                     <span class="k">break</span><span class="p">;</span>

                   <span class="p">}</span>

                 <span class="p">}</span>

               <span class="p">}</span>

             <span class="p">)</span>

           <span class="p">}</span>

         <span class="p">);</span>
</pre>
        </div> 
        <h2><span class="mw-headline" id="Advanced_usage">Advanced usage</span></h2> 
        <p>If you want to place global Javascript code using the above jQuery(document).ready function then the best place to do this is the template javascript file template.js. You can edit this file using the template editor. Please be aware that placing it in the template javascript file will make the function available to all surveys using that template. If needed just create a new template copy for your survey. </p>
        <p>Alternatively you can place the jQuery(document).ready function in the group description to make a Javascript function only available to a certain question group. </p> 
        <h2><span class="mw-headline" id="Language-specific_Javascript_code">Language-specific Javascript code</span></h2> 
        <p>There is an easy way to find out the current language and execute according Javascript using jQuery: The &lt;html&gt; tag of any survey pages contains an 'lang' attribute which holds the current language code. You can read that language code by using the followin code </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="nx">jQuery</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span>

   <span class="kd">function</span><span class="p">(){</span>

       <span class="nx">languagecode</span><span class="o">=</span><span class="nx">$</span><span class="p">(</span><span class="s1">'html'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'lang'</span><span class="p">);</span>

       <span class="nx">alert</span><span class="p">(</span><span class="s1">'This is the current language code: '</span><span class="o">+</span><span class="nx">languagecode</span><span class="p">);</span>

   <span class="p">}</span>

<span class="p">);</span>
</pre>
        </div> 
        <p>For an English survey the above code would show a messagebox with "This is the current language code: en" </p> 
        <h1><span class="mw-headline" id="Custom_onload_function_in_multi-language_survey">Custom onload function in multi-language survey</span></h1> 
        <p><i>Tested with: 1.85+ (7253), IE 6/7, FireFox 3.0, Safari 3.2,</i> </p>
        <p>To use custom onload functions, as above, in multi-language surveys you must define the functions in the question source for <b>all</b> languages. </p>
        <p>While this initially seems to be a bit tedious, it actually can be useful - you can alter your onload functions depending on the language in use. For example, you can dynamically display alerts or element contents in the current language. </p> 
        <h1><span class="mw-headline" id="Skipping_the_welcome_page">Skipping the welcome page</span></h1> 
        <p><i>Tested with: 1.85 (second code snippet)</i> </p> 
        <div class="simplebox">
         Note: As of version 1.91, there is a survey option letting you skip the welcome page, so this workaround is not needed.
        </div> 
        <p><b>Solution 1:</b> Include this Javascript in your welcome template, in the file welcome.pstpl for all welcome page, or in the source of the welcome text for one survey: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>

<span class="nx">jQuery</span><span class="p">(</span><span class="nx">document</span><span class="p">)</span><span class="o">.</span><span class="nx">ready</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="err">$</span><span class="p">)</span> <span class="p">{</span>

<span class="nx">document</span><span class="o">.</span><span class="nx">limesurvey</span><span class="o">.</span><span class="nx">move</span><span class="o">.</span><span class="nx">value</span> <span class="o">=</span> <span class="s1">'movenext'</span><span class="p">;</span>

<span class="nx">document</span><span class="o">.</span><span class="nx">limesurvey</span><span class="o">.</span><span class="nx">submit</span><span class="p">();</span> <span class="p">});</span>

<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <p>It will reproduce the onclick event of the submit button and submit the form. </p>
        <p>Drawback of course is that users will see the page flashing up. </p>
        <p>Therefore, you may want to announce "... loading survey ..." as a description of your welcome page (in the admin interface when creating the survey), to pretend loading something big. </p>
        <p><b>Solution 2:</b> </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>

<span class="k">function</span> <span class="nf">custom_on_load</span><span class="p">(){</span>

  <span class="nx">document</span><span class="o">.</span><span class="nx">limesurvey</span><span class="o">.</span><span class="nx">move</span><span class="o">.</span><span class="nx">value</span> <span class="o">=</span> <span class="s1">'movenext'</span><span class="p">;</span>

  <span class="nx">document</span><span class="o">.</span><span class="nx">limesurvey</span><span class="o">.</span><span class="nx">submit</span><span class="p">();</span>

<span class="p">}</span>

<span class="nx">window</span><span class="o">.</span><span class="nx">setTimeout</span><span class="p">(</span> <span class="s1">'custom_on_load()'</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>

<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Filter_answers_of_a_question_with_the_answer_of_another">Filter answers of a question with the answer of another</span></h1> 
        <h3><span class="mw-headline" id="Method_1">Method 1</span></h3> 
        <p><i>Tested with: 1.70 - 1.72</i> </p> 
        <div class="simplebox">
         As of version 1.92, this is easier to do using the the array_filter attribute, or relevance equations in general.
        </div> 
        <p>If you want to filter the answer of a question with another answer, you can use this workaround. </p>
        <p>First, use answer code like that: XX for the first question, and XXYYY for the second one. </p>
        <p>Answer of the second question filter if the 2 first letters are the answer of the first question. </p>
        <p>We use 1000X1X1 and 1000X1X2 for the example, question had to be on separate page (question by question for example).The second question had to be a dropdown list (we can do similar workaround, but droplis is the best). You can do this using JQuery. It leaves the answer in the select box, but disables it. You could also replace "disable" with "remove" to get rid of it altogether. </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="k">var</span> <span class="nx">previousQuestionAnswer</span> <span class="o">=</span> <span class="s2">"{INSERTANS:1000X1X1}"</span><span class="p">;</span>

<span class="k">var</span> <span class="nx">currentQuestionID</span> <span class="o">=</span> <span class="s2">"#answer1000X1X1"</span>

<span class="err">$</span><span class="p">(</span><span class="nx">document</span><span class="p">)</span><span class="o">.</span><span class="nx">ready</span><span class="p">(</span><span class="k">function</span><span class="p">()</span> <span class="p">{</span>

   <span class="c1">// See if the answer for the previous question matches an answer in the current question</span>

   <span class="c1">// (other than 'No Answer')</span>

   <span class="c1">// If so, disable it.</span>

   <span class="k">if</span> <span class="p">(</span><span class="nx">previousQuestionAnswer</span><span class="o">!=</span><span class="s1">'No Answer'</span><span class="p">)</span> <span class="p">{</span>

       <span class="err">$</span><span class="p">(</span><span class="nx">currentQuestionID</span><span class="p">)</span><span class="o">.</span><span class="nx">children</span><span class="p">()</span><span class="o">.</span><span class="nb">each</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="nx">Element</span><span class="p">)</span>

       <span class="p">{</span>

           <span class="k">if</span> <span class="p">(</span><span class="err">$</span><span class="p">(</span><span class="k">this</span><span class="p">)</span><span class="o">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'text'</span><span class="p">)</span> <span class="o">==</span> <span class="nx">previousQuestionAnswer</span><span class="p">)</span>

               <span class="p">{</span> <span class="err">$</span><span class="p">(</span><span class="k">this</span><span class="p">)</span><span class="o">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'disabled'</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span> <span class="p">}</span>

           <span class="p">}</span>

       <span class="p">);}</span>

<span class="p">});</span> <span class="c1">// End of JQuery ready function</span>
</pre>
        </div> 
        <h3><span class="mw-headline" id="Method_2">Method 2</span></h3> 
        <p><i>Tested with 1.92 + Firefox 9.0</i> </p>
        <p>If you have a country, state, and city set of questions (or similar), you could code answer options as: </p>
        <p><b>Q1 Country</b> <i>Single choice list (ratio, dropdown)</i> </p>
        <p>X country# </p>
        <p><b>Q2 State</b> <i>Single choice list (dropdown)</i> </p>
        <p>XY state# </p>
        <p><b>Q3 City</b> <i>Single choice list (dropdown)</i> </p>
        <p>XYZZ city# </p>
        <p>Now you must put the following Javascript code in the source of question 2 (State): </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

   <span class="err">$</span><span class="p">(</span><span class="nx">document</span><span class="p">)</span><span class="o">.</span><span class="nx">ready</span><span class="p">(</span><span class="k">function</span><span class="p">()</span> <span class="p">{</span>

       <span class="c1">// Get the countryCode (first character of the country)</span>
       <span class="k">var</span> <span class="nx">countryCode</span> <span class="o">=</span> <span class="s1">'{INSERTANS:1000X1X1}'</span><span class="o">.</span><span class="nb">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="nx">toUpperCase</span><span class="p">();</span>

       <span class="c1">// Loop through all dropdown options and remove those with codes not starting with the countryCode</span>
       <span class="err">$</span><span class="p">(</span><span class="s1">'select[id^="answer"] option'</span><span class="p">)</span><span class="o">.</span><span class="nb">each</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>

           <span class="k">if</span><span class="p">(</span><span class="err">$</span><span class="p">(</span><span class="k">this</span><span class="p">)</span><span class="o">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'value'</span><span class="p">)</span>  <span class="o">&amp;&amp;</span> <span class="err">$</span><span class="p">(</span><span class="k">this</span><span class="p">)</span><span class="o">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'value'</span><span class="p">)</span><span class="o">.</span><span class="nb">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="o">!=</span> <span class="nx">countryCode</span><span class="p">)</span> <span class="p">{</span>
               <span class="err">$</span><span class="p">(</span><span class="k">this</span><span class="p">)</span><span class="o">.</span><span class="nx">remove</span><span class="p">();</span>
           <span class="p">}</span>
       <span class="p">});</span>
   <span class="p">});</span>

<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <p>And the following code in the source of question 3 (City): </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

   <span class="err">$</span><span class="p">(</span><span class="nx">document</span><span class="p">)</span><span class="o">.</span><span class="nx">ready</span><span class="p">(</span><span class="k">function</span><span class="p">()</span> <span class="p">{</span>

       <span class="c1">// Get the stateCode (two first characters of the state)</span>

       <span class="k">var</span> <span class="nx">stateCode</span> <span class="o">=</span> <span class="s1">'{INSERTANS:1000X1X2}'</span><span class="o">.</span><span class="nb">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="nx">toUpperCase</span><span class="p">();</span>

       <span class="c1">// Loop through all dropdown options and remove those with codes not starting with the stateCode</span>

       <span class="err">$</span><span class="p">(</span><span class="s1">'select[id^="answer"] option'</span><span class="p">)</span><span class="o">.</span><span class="nb">each</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>

           <span class="k">if</span><span class="p">(</span><span class="err">$</span><span class="p">(</span><span class="k">this</span><span class="p">)</span><span class="o">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'value'</span><span class="p">)</span>  <span class="o">&amp;&amp;</span> <span class="err">$</span><span class="p">(</span><span class="k">this</span><span class="p">)</span><span class="o">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'value'</span><span class="p">)</span><span class="o">.</span><span class="nb">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="o">!=</span> <span class="nx">stateCode</span><span class="p">)</span> <span class="p">{</span>

               <span class="err">$</span><span class="p">(</span><span class="k">this</span><span class="p">)</span><span class="o">.</span><span class="nx">remove</span><span class="p">();</span>

           <span class="p">}</span>

       <span class="p">});</span>

   <span class="p">});</span>

<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <p>Each question must be in different pages of survey to work, i.e. in a question by question survey, or in diferent groups in a group by group survey. </p>
        <p>Note that if you choose a two characters answer option code in the State question, i.e. a XYY answer option code, you must change the <i>substr(0, 2)</i> part of code in question 3 to <i>substr(0, 3)</i>. </p> 
        <h1><span class="mw-headline" id="Filter_answers_of_a_multiple_numeric_type_question">Filter answers of a multiple numeric type question</span></h1> 
        <p><i>Tested with: 1.90+</i> </p> 
        <div class="simplebox">
         As of version 1.92, this is easier to do using the the array_filter attribute, or relevance equations in general. In 1.92, array_filter works with all questions that have sub-questions (e.g. also works for multiple numeric and multiple short text).
        </div> 
        <p>If you want to filter a question of type "multiple numeric", you have to modify the workaround. </p>
        <p>Note that this workaround assumes that the code for each of the subquestions are a numeric sequence 1,2,3... </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

 <span class="err">$</span><span class="p">(</span><span class="nx">document</span><span class="p">)</span><span class="o">.</span><span class="nx">ready</span><span class="p">(</span><span class="k">function</span><span class="p">(){</span>

   <span class="c1">// Match elements with labels using htmlFor and a loop</span>

   <span class="k">var</span> <span class="nx">labels</span> <span class="o">=</span> <span class="nx">document</span><span class="o">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'LABEL'</span><span class="p">);</span>

   <span class="k">for</span> <span class="p">(</span><span class="k">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">labels</span><span class="o">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>

       <span class="k">if</span> <span class="p">(</span><span class="nx">labels</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">.</span><span class="nx">htmlFor</span> <span class="o">!=</span> <span class="s1">''</span><span class="p">)</span> <span class="p">{</span>

            <span class="k">var</span> <span class="nx">elem</span> <span class="o">=</span> <span class="nx">document</span><span class="o">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">labels</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">.</span><span class="nx">htmlFor</span><span class="p">);</span>

            <span class="k">if</span> <span class="p">(</span><span class="nx">elem</span><span class="p">)</span>

               <span class="nx">elem</span><span class="o">.</span><span class="nx">label</span> <span class="o">=</span> <span class="nx">labels</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>

       <span class="p">}</span>

   <span class="p">}</span>

   <span class="k">var</span> <span class="nx">answerFilter</span><span class="o">=</span><span class="s2">"{INSERTANS:96553X63X759}"</span><span class="p">;</span>

   <span class="k">for</span> <span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="mi">30</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>

     <span class="k">var</span> <span class="nx">iLabel</span> <span class="o">=</span> <span class="nx">document</span><span class="o">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'answer96553X63X760'</span><span class="o">+</span><span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]]</span><span class="o">.</span><span class="nx">label</span><span class="o">.</span><span class="nx">innerHTML</span><span class="p">;</span>

     <span class="k">if</span> <span class="p">(</span><span class="nx">answerFilter</span><span class="o">.</span><span class="nx">search</span><span class="p">(</span><span class="nx">iLabel</span><span class="p">)</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">){</span>

       <span class="c1">// Hide element</span>

       <span class="err">$</span><span class="p">(</span><span class="s1">'#question760'</span><span class="p">)</span><span class="o">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'li'</span><span class="p">)</span><span class="o">.</span><span class="nx">eq</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="o">.</span><span class="nx">hide</span><span class="p">();</span>

       <span class="c1">// Set value of hidden elements to zero</span>

       <span class="nx">document</span><span class="o">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'answer96553X63X760'</span><span class="o">+</span><span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="nx">value</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

     <span class="p">}</span>

   <span class="p">}</span>

 <span class="p">});</span><span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Use_an_answer_to_prefill_another_question_.28default_value.29">Use an answer to prefill another question (default value)</span></h1> 
        <p><i>Tested with: 1.72</i> </p>
        <p><i>And tested with: 1.91+</i> </p> 
        <div class="simplebox">
         As of version 1.92, this is easier to do using the enhanced defaults feature, which lets you pre-fill most question types with default values. In 1.91, you could set defaults for list and multiple choice questions. In 1.92, you can set defaults for any text-entry question too. Moreover, the defaults can be 
         <a href="/Expression_Manager" title="Expression Manager">Expression Manager</a> compatible equations or tailored text. Finally, with 1.92, defaults are properly managed even when set on the same page.
        </div> 
        <p>This workaround gives you the ablility to use an answer to fill the default value for another question. It's explained for free text question type but can be adapted for another question type. </p>
        <p>We use SGQA identifier. For example, we use SGQA 1000X10X20 and 1000X10X21 to prefill 1000X11X30 and 1000X11X31. For the script to work, the question has to be on a different page. </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

<span class="err">$</span><span class="p">(</span><span class="nx">document</span><span class="p">)</span><span class="o">.</span><span class="nx">ready</span><span class="p">(</span><span class="k">function</span><span class="p">()</span> <span class="p">{</span>

 <span class="err">$</span><span class="p">(</span><span class="s1">'#answer1000X11X30'</span><span class="p">)</span><span class="o">.</span><span class="nx">val</span><span class="p">(</span><span class="s1">'{INSERTANS:1000X10X20}'</span><span class="p">);</span>

 <span class="err">$</span><span class="p">(</span><span class="s1">'#answer1000X11X31'</span><span class="p">)</span><span class="o">.</span><span class="nx">val</span><span class="p">(</span><span class="s1">'{INSERTANS:1000X10X21}'</span><span class="p">);</span>

<span class="p">});</span>

<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <p>If you want use two times the value of an integer input, you can also use this to prefill a question that you hide via CSS. </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

<span class="err">$</span><span class="p">(</span><span class="nx">document</span><span class="p">)</span><span class="o">.</span><span class="nx">ready</span><span class="p">(</span><span class="k">function</span><span class="p">()</span> <span class="p">{</span>

 <span class="err">$</span><span class="p">(</span><span class="s1">'#answer1000X2X2'</span><span class="p">)</span><span class="o">.</span><span class="nx">val</span><span class="p">(</span><span class="nx">parseInt</span><span class="p">(</span><span class="s1">'{INSERTANS:1000X1X1}'</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span><span class="p">);</span>

 <span class="err">$</span><span class="p">(</span><span class="s2">"#question2"</span><span class="p">)</span><span class="o">.</span><span class="nx">hide</span><span class="p">();</span>

<span class="p">});</span>

<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <p>Now you can use {INSERTANS:1000X2X2} for giving you twice the value of the user input from question 1. </p> 
        <h1><span class="mw-headline" id="Dynamic_Sum">Dynamic Sum</span></h1> 
        <div class="simplebox">
         As of version 1.92, this is easier to do with 
         <a href="/Expression_Manager" title="Expression Manager">Expression Manager</a> using the sum() function. Not only will sums be dynamic, but they wille exclude irrelevant values, so you can array_filter a multiple numeric question and get the sum of just the answers that are visible. This 
         <a href="/Expression_Manager_HowTos#Calculate_assessment_values_at_runtime_and_store_the_results_in_the_survey_data" class="mw-redirect" title="Expression Manager HowTos">HowTo example</a> demonstrates the dynamic sum feature.
        </div> 
        <div class="simplebox">
         Also note, as of version 1.92, the following workaround will fail, since it includes a a regular expression containing curly braces.
        </div> 
        <p>This script is used with a "Multiple Options" type question calculate a total price based on how which checkboxes are selected. The prices are listed as part of the answer. The answers are set up like this: "USB Mouse ($20)". The script uses the number between the "($" and the ")" as the price for that item. You can adapt the script to if you need to change the currency or need to sum something other than money. </p>
        <p>This script works when used in a question-by-question format. It does not work when there are more than one question on a page. I think it can be adapted to work, but I haven't done the coding yet. </p>
        <p>Put the following code into body of your question: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">language</span><span class="o">=</span><span class="nx">Javascript</span><span class="o">&gt;</span>

<span class="c1">// General definitions</span>

<span class="c1">// Define a regular expression to match the labels containing information about an answer</span>

<span class="c1">// In LimeSurvey, these labels start with "answer..."</span>

<span class="k">var</span> <span class="nx">answerRegex</span> <span class="o">=</span> <span class="o">/^</span><span class="nx">answer</span><span class="o">/</span><span class="p">;</span>

<span class="c1">// Find all answer checkboxes in the document and set their</span>

<span class="c1">// onchange events to updatePrice</span>

<span class="k">function</span> <span class="nf">Custom_On_Load</span><span class="p">()</span>

<span class="p">{</span>

   <span class="c1">// Find all input elements</span>

   <span class="k">var</span> <span class="nx">inputList</span><span class="o">=</span><span class="nx">document</span><span class="o">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">"input"</span><span class="p">);</span>

   <span class="c1">// Loop through each, looking for checkboxes</span>

   <span class="k">var</span> <span class="nx">i</span><span class="p">;</span>

   <span class="k">for</span><span class="p">(</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span> <span class="nx">inputList</span><span class="o">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span> <span class="p">)</span>

   <span class="p">{</span>

       <span class="c1">// If input item does not have an ID, skip</span>

       <span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="p">(</span><span class="nx">inputList</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">.</span><span class="nx">id</span><span class="p">))</span> <span class="p">{</span> <span class="k">continue</span><span class="p">;</span> <span class="p">}</span>

       <span class="c1">// Skip to next if ID doesn't start with "answer"</span>

       <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">answerRegex</span><span class="o">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">inputList</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">.</span><span class="nx">id</span><span class="p">))</span> <span class="p">{</span> <span class="k">continue</span><span class="p">;</span> <span class="p">}</span>

       <span class="c1">// Skip to next if not a checkbox</span>

       <span class="k">if</span> <span class="p">(</span><span class="nx">inputList</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">.</span><span class="nx">type</span><span class="o">.</span><span class="nx">toUpperCase</span><span class="p">()</span><span class="o">!=</span><span class="s1">'CHECKBOX'</span><span class="p">)</span>  <span class="p">{</span> <span class="k">continue</span><span class="p">;</span> <span class="p">}</span>

       <span class="c1">// This is an answer checkbox!</span>

       <span class="c1">// Setup onchange event</span>

       <span class="nx">inputList</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">updatePrice</span><span class="p">;</span>

   <span class="p">}</span>

       <span class="c1">// Load initial sum</span>

   <span class="nx">updatePrice</span><span class="p">();</span>

<span class="p">}</span>

<span class="k">function</span> <span class="nf">updatePrice</span><span class="p">()</span>

<span class="p">{</span>

<span class="k">var</span> <span class="nx">labels</span><span class="o">=</span><span class="nx">document</span><span class="o">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">"LABEL"</span><span class="p">);</span>

<span class="c1">// Define a regular expression to match a price inside parenthesis</span>

<span class="c1">// For example: ($29) or ($29.54).</span>

<span class="c1">// Set up</span>

<span class="nx">priceRegex</span> <span class="o">=</span> <span class="o">/</span><span class="nx">\</span><span class="p">(</span><span class="nx">\</span><span class="err">$</span><span class="p">(</span><span class="nx">\d</span><span class="o">*</span><span class="nx">\</span><span class="o">.</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">}</span><span class="nx">\d</span><span class="o">+</span><span class="p">)</span><span class="nx">\</span><span class="p">)</span><span class="o">/</span><span class="p">;</span>

<span class="c1">// Loop through all the labels, looking for labels corresponding to</span>

<span class="c1">// answers that have a price in them.</span>

<span class="k">var</span> <span class="nx">i</span><span class="p">;</span>

<span class="k">var</span> <span class="nx">total</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="k">for</span><span class="p">(</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">labels</span><span class="o">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span> <span class="p">)</span>

<span class="p">{</span>

   <span class="k">var</span> <span class="nx">myArray</span><span class="p">;</span>    <span class="c1">// Define array used for regex matching</span>

   <span class="k">var</span> <span class="nx">inputID</span><span class="p">;</span>    <span class="c1">// Define field element</span>

   <span class="c1">// Get the ID of the field corresponding to the label using the</span>

   <span class="c1">// "htmlFor" attribute</span>

   <span class="c1">// (FYI, there are some labels that will have to be screened out</span>

   <span class="c1">// because they don't correspond to an answer)</span>

   <span class="c1">// Does the label start with "answer"?</span>

   <span class="c1">// If not: exit.</span>

   <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">answerRegex</span><span class="o">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">labels</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">.</span><span class="nx">htmlFor</span><span class="p">))</span> <span class="p">{</span> <span class="k">continue</span><span class="p">;</span> <span class="p">}</span>

   <span class="c1">// First make sure this element exists</span>

   <span class="c1">// If it doesn't, go to the next element</span>

   <span class="c1">// If it does, it will be defined in inputID</span>

   <span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="p">(</span><span class="nx">inputID</span> <span class="o">=</span> <span class="nx">document</span><span class="o">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">labels</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">.</span><span class="nx">htmlFor</span><span class="p">))</span> <span class="p">)</span> <span class="p">{</span> <span class="k">continue</span><span class="p">;</span> <span class="p">}</span>

   <span class="c1">// See if the corresponding answer is a checkbox that is checked.</span>

   <span class="c1">// If not, go to next label</span>

   <span class="k">if</span> <span class="p">(</span><span class="nx">inputID</span><span class="o">.</span><span class="nx">type</span><span class="o">.</span><span class="nx">toUpperCase</span><span class="p">()</span><span class="o">!=</span><span class="s1">'CHECKBOX'</span><span class="p">)</span>  <span class="p">{</span> <span class="k">continue</span><span class="p">;</span> <span class="p">}</span>

   <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">inputID</span><span class="o">.</span><span class="nx">checked</span><span class="p">)</span> <span class="p">{</span> <span class="k">continue</span><span class="p">;</span> <span class="p">}</span>

   <span class="c1">// This is label for an answer.</span>

   <span class="c1">// The innerHTML will give us the text of the label</span>

   <span class="c1">// The price information will be in the form ($XX.XX)</span>

   <span class="c1">// which in contained in the label text.</span>

   <span class="c1">// Find a match for a decimal number inside the pattern "($" and ")"</span>

   <span class="k">if</span> <span class="p">[[</span><span class="nx">myArray</span> <span class="o">=</span> <span class="nx">priceRegex</span><span class="o">.</span><span class="nb">exec</span><span class="p">(</span><span class="nx">labels</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">.</span><span class="nx">innerHTML</span><span class="p">]]</span> <span class="o">!=</span> <span class="k">null</span><span class="p">)</span>

   <span class="p">{</span>

       <span class="c1">// Keep a running tally</span>

       <span class="nx">total</span> <span class="o">+=</span> <span class="nx">parseFloat</span><span class="p">(</span><span class="nx">myArray</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>

   <span class="p">}</span>

<span class="p">}</span>

  <span class="c1">// Update total price on form</span>

  <span class="nx">document</span><span class="o">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"totalPrice"</span><span class="p">)</span><span class="o">.</span><span class="nx">value</span> <span class="o">=</span> <span class="s2">"$"</span> <span class="o">+</span> <span class="nx">formatCurrency</span><span class="p">(</span><span class="nx">total</span><span class="p">);</span>

<span class="p">}</span>

<span class="k">function</span> <span class="nf">formatCurrency</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span> <span class="p">{</span>

  <span class="nx">num</span> <span class="o">=</span> <span class="nx">isNaN</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span> <span class="o">||</span> <span class="nx">num</span> <span class="o">&lt;</span><span class="nx">u</span><span class="o">&gt;</span> <span class="s1">''</span> <span class="o">||</span> <span class="nx">num</span> <span class="o">&lt;/</span><span class="nx">u</span><span class="o">&gt;</span> <span class="k">null</span> <span class="o">?</span> <span class="mf">0.00</span> <span class="o">:</span> <span class="nx">num</span><span class="p">;</span>

  <span class="k">return</span> <span class="nx">parseFloat</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span><span class="o">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>

<span class="p">}</span>

<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <p>Put the following code in the help section (or wherever you want the sum to appear): </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="nx">Total</span> <span class="nx">Cost</span> <span class="k">for</span> <span class="nx">selected</span> <span class="nx">accessories</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"readonly"</span> <span class="nx">value</span><span class="o">=</span><span class="s2">""</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"totalPrice"</span> <span class="o">/&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Focus_on_the_first_Input_field">Focus on the first Input field</span></h1> 
        <p>(<i>Tested with: LimeSurvey 1.80 / IE6/7, Firefox 3, Safari, Opera, chrome</i>) </p> 
        <div class="simplebox">
         As of version 1.91, there is a built-in JavaScript function called focusFirst() to focus on the first visible element. It uses jQuery, so is more robust than this example.
        </div> 
        <p>Again an onload Function is needed for this tasks. I have done it the DOM way with compatibility to IE6/7. </p>
        <p>Put the following code into the startpage.pstpl of your template, right before the &lt;/head&gt; closing tag: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>

   <span class="k">function</span> <span class="nf">focusFirst</span><span class="p">(</span><span class="nx">Event</span><span class="p">)</span>

   <span class="p">{</span>

       <span class="k">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>

       <span class="k">while</span><span class="p">(</span><span class="nx">document</span><span class="o">.</span><span class="nx">forms</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">.</span><span class="nx">type</span> <span class="o">==</span> <span class="s2">"hidden"</span><span class="p">)</span>

       <span class="p">{</span>

           <span class="nx">i</span><span class="o">++</span><span class="p">;</span>

       <span class="p">}</span>

       <span class="nx">document</span><span class="o">.</span><span class="nx">forms</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">.</span><span class="nx">focus</span><span class="p">();</span>

       <span class="k">return</span><span class="p">;</span>

   <span class="p">}</span>

   <span class="k">if</span><span class="p">(</span><span class="nx">ie</span><span class="p">)</span>

   <span class="p">{</span> <span class="nx">window</span><span class="o">.</span><span class="nx">attachEvent</span><span class="p">(</span><span class="s2">"onload"</span><span class="p">,</span> <span class="nx">focusFirst</span><span class="p">);</span> <span class="p">}</span>

   <span class="k">else</span>

   <span class="p">{</span> <span class="nx">document</span><span class="o">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"load"</span><span class="p">,</span> <span class="nx">focusFirst</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span> <span class="p">}</span>

<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <p><b>Note:</b> I am using this with version 1.80. As changes happened to the templates in the last release, you might need to add the following before the code, if your template is older than 1.80 stable and does not include this: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>

   <span class="k">var</span> <span class="nx">ie</span> <span class="o">=</span> <span class="k">false</span><span class="p">;</span>

<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <p>You will need this for the var ie to be set. Without this var, the function will not work with ie. </p> 
        <h1><span class="mw-headline" id="Answer_questions_by_keypress">Answer questions by keypress</span></h1> 
        <p>(<i>Tested with: IE7, Firefox 3</i>) </p>
        <p>This workaround allow to answer the question on key 0-9 (0 is for the 10 answer). </p>
        <p>Follow issues are supported at the moment: </p> 
        <ul>
         <li>Yes-No Questions</li> 
         <li>List Questions (radio)</li> 
         <li>other radio questions</li>
        </ul> 
        <p>In lists the answer limit is ten. </p>
        <p>You supply the template "endpage" of your template with the following script. </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>

<span class="nx">jQuery</span><span class="p">(</span><span class="nx">document</span><span class="p">)</span><span class="o">.</span><span class="nx">ready</span><span class="p">(</span><span class="k">function</span><span class="p">()</span> <span class="p">{</span>

   <span class="nx">jQuery</span><span class="p">(</span><span class="nx">document</span><span class="p">)</span><span class="o">.</span><span class="nx">bind</span><span class="p">(</span><span class="s1">'keypress'</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>

       <span class="k">if</span> <span class="p">(</span><span class="mi">48</span> <span class="o">&lt;=</span> <span class="nx">e</span><span class="o">.</span><span class="nx">which</span> <span class="o">&amp;&amp;</span> <span class="nx">e</span><span class="o">.</span><span class="nx">which</span> <span class="o">&lt;=</span> <span class="mi">57</span><span class="p">)</span> <span class="p">{</span>

           <span class="nx">jQuery</span><span class="p">(</span><span class="s1">'input:radio'</span><span class="p">)</span><span class="o">.</span><span class="nb">each</span><span class="p">(</span><span class="k">function</span><span class="p">()</span> <span class="p">{</span>

               <span class="k">var</span> <span class="nx">v</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">)</span><span class="o">.</span><span class="nx">val</span><span class="p">();</span>

               <span class="k">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">(</span><span class="nx">e</span><span class="o">.</span><span class="nx">which</span> <span class="o">&lt;</span><span class="nx">u</span><span class="o">&gt;</span> <span class="mi">48</span><span class="p">)</span> <span class="o">?</span> <span class="mi">10</span> <span class="o">:</span> <span class="nx">e</span><span class="o">.</span><span class="nx">which</span> <span class="o">-</span> <span class="mi">48</span><span class="p">;</span>

               <span class="k">if</span><span class="p">(</span><span class="nx">v</span> <span class="o">&lt;/</span><span class="nx">u</span><span class="o">&gt;</span> <span class="s1">'Y'</span> <span class="o">||</span> <span class="nx">v</span> <span class="o">&lt;</span><span class="nx">u</span><span class="o">&gt;</span> <span class="s1">'N'</span><span class="p">)</span> <span class="p">{</span>

                   <span class="nx">v</span> <span class="o">=</span> <span class="p">(</span><span class="nx">v</span> <span class="o">&lt;/</span><span class="nx">u</span><span class="o">&gt;</span> <span class="s1">'Y'</span><span class="p">)</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">2</span><span class="p">;</span>

               <span class="p">}</span>

               <span class="k">if</span><span class="p">(</span><span class="nx">v</span> <span class="o">==</span> <span class="nx">c</span><span class="p">)</span> <span class="p">{</span>

                   <span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">)</span><span class="o">.</span><span class="nx">click</span><span class="p">();</span>

                   <span class="nx">jQuery</span><span class="p">(</span><span class="s1">'#limesurvey input:submit'</span><span class="p">)</span><span class="o">.</span><span class="nx">click</span><span class="p">();</span>

               <span class="p">}</span>

           <span class="p">});</span>

       <span class="p">}</span>

   <span class="p">})</span>

<span class="p">});</span>

<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Math_notation_in_LimeSurvey">Math notation in LimeSurvey</span></h1> 
        <ol>
         <li>download the js file from <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://mathcs.chapman.edu/~jipsen/mathml/asciimathdownload.html">AsciiMath script</a></li> 
         <li>copy it in the /scripts/ folder in your installation</li> 
         <li>modify the startpage.psptl of the template you want to use adding the reference to the script (if you use an older version make sure that you copy the template folder first!) for example:</li>
        </ol> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">src</span><span class="o">=</span><span class="s2">"ASCIIMathML.js"</span><span class="o">&gt;</span>
</pre>
        </div> 
        <p>Use the notation where you need it! </p>
        <p><b>Note:</b> If you use internet explorer or safari you will need to download the plugin as well, but firefox does the lot for you. </p>
        <p>Finally, if you are confident with the limesurvey structure you could add the editor which support math notation and change the reference to the editor you want to use in the configuration file. here is the <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://www.imathas.com/editordemo/demo.html">link for a TinyMCE with math support</a>. </p> 
        <h1><span class="mw-headline" id="Reverse_array_filter_.28for_pre-1.90.29">Reverse array_filter (for pre-1.90)</span></h1> 
        <p><i>Tested with: 1.85+ (7253), IE 6/7, FireFox 3.0, Safari 3.2, Chrome 2.0</i> </p> 
        <div class="simplebox">
         Note: Version 1.91 natively supports this functionality via the array_filter_exclude advanced quation option.
        </div> 
        <p>This can be used to filter the answers of an array question to be displayed based on the answers of a multi option question that were <b>NOT</b> selected. A possible application would be to have a multi-option question asking which products were purchased, followed by 2 array questions - one asking to rate the purchased products and another asking why the remaining products were not purchased. Another would be to ask about sessions attended at a conference as in <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://www.limesurvey.org/en/forum/5-can-i-do-this-with-limesurvey/27970-reverse-of-arrayfilter.html">this forum thread</a> and pictured below. There is a live <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://www.partnersinc.biz/surveys//index.php?sid=43358&amp;newtest=Y&amp;lang=en">demo here</a> </p>
        <p><a href="/File:Sessions_645x344.gif" class="image"><img alt="Sessions 645x344.gif" src="/images/2/23/Sessions_645x344.gif" width="645" height="344"></a> </p>
        <p>We'll use the above example to explain the process as follows: </p> 
        <ol>
         <li>In group 1 - Create a <i>SessionsAttended</i> multi-options question</li> 
         <li>In group 1 - Create a <i>SessionsNotAttended</i> multi-options question with identical answers as <i>SessionsAttended</i> and hide it with styles or conditions</li> 
         <li>In group 2 - Create a <i>RateSessionsAttended</i> array question with an <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://docs.limesurvey.org/tiki-index.php?page=Question+attributes&amp;structure;=English+Instructions+for+LimeSurvey#array_filter">array_filter</a> based on <i>SessionsAttended</i></li> 
         <li>In group 2 - Create a <i>ReasonNotAttended</i> array question with an <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://docs.limesurvey.org/tiki-index.php?page=Question+attributes&amp;structure;=English+Instructions+for+LimeSurvey#array_filter">array_filter</a> based on <i>SessionsNotAttended</i></li> 
         <li>In group 1 - Place JavaScript/jQeury listeners on each of the checkboxes in <i>SessionsAttended</i> that would toggle the corresponding checkbox in <i>SessionsNotAttended</i> to the opposite state</li>
        </ol> 
        <p>The JavaScript/jQuery code used would be: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre>       <span class="c1">// The toggle function</span>

   <span class="k">function</span> <span class="nf">toggle</span><span class="p">(</span><span class="nx">q1</span><span class="p">,</span> <span class="nx">q2</span><span class="p">)</span> <span class="p">{</span>

       <span class="k">if</span> <span class="p">(</span><span class="err">$</span><span class="p">(</span><span class="nx">q1</span><span class="p">)</span><span class="o">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">)</span> <span class="o">==</span> <span class="k">false</span> <span class="p">)</span> <span class="p">{</span>

           <span class="err">$</span><span class="p">(</span><span class="nx">q2</span><span class="p">)</span><span class="o">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>

       <span class="p">}</span>

       <span class="k">else</span> <span class="p">{</span>

           <span class="err">$</span><span class="p">(</span><span class="nx">q2</span><span class="p">)</span><span class="o">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>

       <span class="p">}</span>

   <span class="p">}</span>

   <span class="c1">// Initialize the SessionNotAttended checkboxes to "checked"</span>

   <span class="nx">toggle</span> <span class="p">(</span><span class="s1">'#answer11111X22X331'</span><span class="p">,</span> <span class="s1">'#answer11111X22X441'</span><span class="p">);</span>

   <span class="nx">toggle</span> <span class="p">(</span><span class="s1">'#answer11111X22X332'</span><span class="p">,</span> <span class="s1">'#answer11111X22X442'</span><span class="p">);</span>

   <span class="nx">toggle</span> <span class="p">(</span><span class="s1">'#answer11111X22X333'</span><span class="p">,</span> <span class="s1">'#answer11111X22X443'</span><span class="p">);</span>

   <span class="nx">toggle</span> <span class="p">(</span><span class="s1">'#answer11111X22X334'</span><span class="p">,</span> <span class="s1">'#answer11111X22X444'</span><span class="p">);</span>

   <span class="c1">// The jQuery listeners on the SessionAttended checkboxes</span>

   <span class="c1">// that toggle the SessionNotAttended checkboxes</span>

   <span class="err">$</span><span class="p">(</span><span class="s1">'#answer11111X22X331'</span><span class="p">)</span><span class="o">.</span><span class="nx">change</span><span class="p">(</span><span class="k">function</span><span class="p">()</span> <span class="p">{</span>

       <span class="nx">toggle</span> <span class="p">(</span><span class="s1">'#answer11111X22X331'</span><span class="p">,</span> <span class="s1">'#answer11111X22X441'</span><span class="p">);</span>

   <span class="p">});</span>

   <span class="err">$</span><span class="p">(</span><span class="s1">'#answer11111X22X332'</span><span class="p">)</span><span class="o">.</span><span class="nx">change</span><span class="p">(</span><span class="k">function</span><span class="p">()</span> <span class="p">{</span>

       <span class="nx">toggle</span> <span class="p">(</span><span class="s1">'#answer11111X22X332'</span><span class="p">,</span> <span class="s1">'#answer11111X22X442'</span><span class="p">);</span>

   <span class="p">});</span>

   <span class="err">$</span><span class="p">(</span><span class="s1">'#answer11111X22X333'</span><span class="p">)</span><span class="o">.</span><span class="nx">change</span><span class="p">(</span><span class="k">function</span><span class="p">()</span> <span class="p">{</span>

       <span class="nx">toggle</span> <span class="p">(</span><span class="s1">'#answer11111X22X333'</span><span class="p">,</span> <span class="s1">'#answer11111X22X443'</span><span class="p">);</span>

   <span class="p">});</span>

   <span class="err">$</span><span class="p">(</span><span class="s1">'#answer11111X22X334'</span><span class="p">)</span><span class="o">.</span><span class="nx">change</span><span class="p">(</span><span class="k">function</span><span class="p">()</span> <span class="p">{</span>

       <span class="nx">toggle</span> <span class="p">(</span><span class="s1">'#answer11111X22X334'</span><span class="p">,</span> <span class="s1">'#answer11111X22X444'</span><span class="p">);</span>

   <span class="p">});</span>
</pre>
        </div> 
        <p>Some notes about the code: </p> 
        <ul>
         <li>The code is in an onload function defined in the first question of group 1 - see <a href="/Workarounds#Custom_onload_function" title="Workarounds">here</a></li> 
         <li>Both <i>SessionsAttended</i> and <i>SessionsNotAttended</i> must be in the same group for the toggling to work</li> 
         <li>This case only uses 4 checkboxes but could be expanded as required</li> 
         <li>In this case the survey ID is 11111, the group ID is 22, <i>SessionsAttended</i> ID is 33 and SessionsNotAttended ID is 44 - these would need to be modified for your survey</li> 
         <li>The toggle function looks for the state of a checkbox in <i>SessionsAttended</i> and sets the corresponding checkbox in <i>SessionsNotAttended</i> to the opposite state</li> 
         <li>The "Initialize" section sets the state of <i>SessionsNotAttended</i> checkboxes whenever we navigate to the group</li> 
         <li>The "Listener" section uses jQuery listeners to detect any change in the <i>SessionsAttended</i> checkboxes and then toggle the corresponding <i>SessionsNotAttended</i> checkbox</li>
        </ul> 
        <p>Some general notes about the questions: </p> 
        <ul>
         <li>CSS can be used to hide <i>SessionsNotAttended</i> (div#question44 { display: none; }) if you don't want to use conditions (because maybe you've got <a href="/Optional_settings#Survey_Behavior" title="Optional settings">$deletenonvalues set to 1</a>)</li> 
         <li><i>RateSessionsAttended</i> and <i>ReasonNotAttended</i> are another group to avoid things popping in and out of existence as <i>SessionsAttended</i> is answered</li> 
         <li><a href="/Setting_conditions" title="Setting conditions">Conditions</a> are used to ensure that <i>RateSessionsAttended</i> only appears if some sessions are selected and <i>ReasonNotAttended</i> only appears if no sessions are selected</li>
        </ul> 
        <h1><span class="mw-headline" id="Filter_Ranking_Question_With_Multiple-Options_.28pre_1.92.29">Filter Ranking Question With Multiple-Options (pre 1.92)</span></h1> 
        <p><i>Tested with: 1.90, IE 7/8, FireFox 3/4, Safari 5.0, Chrome 10.0</i> </p> 
        <div class="simplebox">
         As of version 1.92, most of this is easier to do using the the array_filter attribute, or relevance equations in general. They all work on the same page, and fully support cascading relevance.
        </div> 
        <p>This workaround applies a filter to a ranking question based on the checked boxes of a previous multiple-options question. There are two methods - one for filter and ranking questions being on the same page and a slightly different one for the filter question being on a page before the ranking question. </p>
        <p>There is a <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://www.partnersinc.biz/surveys//index.php?sid=96314&amp;newtest=Y&amp;lang=en">demo of both methods here</a>. </p>
        <p>Implementation is as follows. </p>
        <p><b>FOR BOTH METHODS:</b> </p> 
        <ul>
         <li><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use JavaScript</a>.</li> 
         <li>Place the following script in your template.js file. This function will be accessed by either method.
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="c1">// A function to filter choices in a ranking question</span>
<span class="kd">function</span> <span class="nx">rankFilter</span><span class="p">(</span><span class="nx">q1ID</span><span class="p">,</span> <span class="nx">q2ID</span><span class="p">,</span> <span class="nx">prevPage</span><span class="p">)</span> <span class="p">{</span>

	<span class="c1">// If filter question is on a previous page, hide Q1 and check all "visible" boxes</span>
	<span class="k">if</span><span class="p">(</span><span class="nx">prevPage</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q1ID</span><span class="o">+</span><span class="s1">' li[id^="javatbd"]:visible input.checkbox'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q1ID</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
	<span class="p">}</span>
	
	<span class="nx">handleChecked</span><span class="p">(</span><span class="nx">q1ID</span><span class="p">,</span> <span class="nx">q2ID</span><span class="p">);</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q1ID</span><span class="o">+</span><span class="s1">' input.checkbox'</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="nx">handleChecked</span><span class="p">(</span><span class="nx">q1ID</span><span class="p">,</span> <span class="nx">q2ID</span><span class="p">);</span>
	<span class="p">});</span>
	
	<span class="kd">function</span> <span class="nx">handleChecked</span><span class="p">(</span><span class="nx">q1ID</span><span class="p">,</span> <span class="nx">q2ID</span><span class="p">)</span> <span class="p">{</span>
	
		<span class="c1">// Find the survey and group IDs</span>
		<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span> <span class="s1">'input#fieldnames'</span> <span class="p">).</span><span class="nx">length</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">fieldNames</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span> <span class="s1">'input#fieldnames'</span> <span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'value'</span><span class="p">);</span>
			<span class="kd">var</span> <span class="nx">tmp</span> <span class="o">=</span> <span class="nx">fieldNames</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">'X'</span><span class="p">);</span>
			<span class="kd">var</span> <span class="nx">sID</span> <span class="o">=</span> <span class="nx">tmp</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
			<span class="kd">var</span> <span class="nx">gID</span> <span class="o">=</span> <span class="nx">tmp</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
		<span class="p">}</span>
		
		<span class="c1">// Loop through all Q1 options</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q1ID</span><span class="o">+</span><span class="s1">' input.checkbox'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
		
			<span class="c1">// Find the answer code and value</span>
			<span class="kd">var</span> <span class="nx">tmp2</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'id'</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s1">'X'</span><span class="o">+</span><span class="nx">gID</span><span class="o">+</span><span class="s1">'X'</span><span class="o">+</span><span class="nx">q1ID</span><span class="o">+</span><span class="s1">''</span><span class="p">);</span>
			<span class="kd">var</span> <span class="nx">ansCode</span> <span class="o">=</span> <span class="nx">tmp2</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
			<span class="kd">var</span> <span class="nx">ansTxt</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">next</span><span class="p">(</span><span class="s1">'label'</span><span class="p">).</span><span class="nx">text</span><span class="p">();</span>
			
			<span class="c1">// If option is checked and not in rank choices or output, add it to the rank choices</span>
			<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">)</span> <span class="o">==</span> <span class="kc">true</span>
						  <span class="o">&amp;&amp;</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q2ID</span><span class="o">+</span><span class="s1">' select.select option[value="'</span><span class="o">+</span><span class="nx">ansCode</span><span class="o">+</span><span class="s1">'"]'</span><span class="p">).</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">0</span>
						  <span class="o">&amp;&amp;</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q2ID</span><span class="o">+</span><span class="s1">' .output input[id^="fvalue_"][value="'</span><span class="o">+</span><span class="nx">ansCode</span><span class="o">+</span><span class="s1">'"]'</span><span class="p">).</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'&lt;option value="'</span><span class="o">+</span><span class="nx">ansCode</span><span class="o">+</span><span class="s1">'"&gt;'</span><span class="o">+</span><span class="nx">ansTxt</span><span class="o">+</span><span class="s1">'&lt;/option&gt;'</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q2ID</span><span class="o">+</span><span class="s1">' select.select'</span><span class="p">);</span>
			<span class="p">}</span>
			
			<span class="c1">// If option is unchecked...</span>
			<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">)</span> <span class="o">==</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
				<span class="c1">// Remove it from the rank choices</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q2ID</span><span class="o">+</span><span class="s1">' select.select option[value="'</span><span class="o">+</span><span class="nx">ansCode</span><span class="o">+</span><span class="s1">'"]'</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
				<span class="c1">// Remove it from the rank output and reset hidden values</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q2ID</span><span class="o">+</span><span class="s1">' .output input[id^="fvalue_"][value="'</span><span class="o">+</span><span class="nx">ansCode</span><span class="o">+</span><span class="s1">'"]'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'value'</span><span class="p">,</span> <span class="s1">''</span><span class="p">).</span><span class="nx">siblings</span><span class="p">(</span><span class="s1">'input.text'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="s1">''</span><span class="p">).</span><span class="nx">siblings</span><span class="p">(</span><span class="s1">'img'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
			<span class="p">}</span>
		<span class="p">});</span>
		
		<span class="c1">// Clean up empty inputs in the rank output table</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q2ID</span><span class="o">+</span><span class="s1">' .output table tr'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">nextRow</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">next</span><span class="p">(</span><span class="s1">'tr'</span><span class="p">);</span>
			<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'input.text'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span> <span class="o">==</span> <span class="s1">''</span> <span class="o">&amp;&amp;</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'input.text'</span><span class="p">,</span> <span class="nx">nextRow</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">''</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'input.text'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'input.text'</span><span class="p">,</span> <span class="nx">nextRow</span><span class="p">).</span><span class="nx">val</span><span class="p">());</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'input.text'</span><span class="p">,</span> <span class="nx">nextRow</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'input[id^="fvalue_"]'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'value'</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'input[id^="fvalue_"]'</span><span class="p">,</span> <span class="nx">nextRow</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'value'</span><span class="p">));</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'input[id^="fvalue_"]'</span><span class="p">,</span> <span class="nx">nextRow</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'value'</span><span class="p">,</span> <span class="s1">''</span><span class="p">);</span>
			<span class="p">}</span>
		<span class="p">});</span>
		
		<span class="c1">// Show the scissors for the last populated rank output row</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q2ID</span><span class="o">+</span><span class="s1">' .output table img[id^="cut_"]'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q2ID</span><span class="o">+</span><span class="s1">' .output table input.text[value!=""]:last'</span><span class="p">).</span><span class="nx">siblings</span><span class="p">(</span><span class="s1">'img[id^="cut_"]'</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
		
		<span class="c1">// Hide extra rank output rows</span>
		<span class="kd">var</span> <span class="nx">optNum</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q1ID</span><span class="o">+</span><span class="s1">' input.checkbox:checked'</span><span class="p">).</span><span class="nx">length</span><span class="p">;</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q2ID</span><span class="o">+</span><span class="s1">' .output table tr'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q2ID</span><span class="o">+</span><span class="s1">' .output table tr:lt('</span><span class="o">+</span><span class="p">(</span><span class="nx">optNum</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s1">')'</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
		
		<span class="c1">// Hide and clear the ranking question if there are less than 2 checked options in Q1</span>
		<span class="k">if</span><span class="p">(</span><span class="nx">optNum</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q2ID</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q2ID</span><span class="o">+</span><span class="s1">' input.text'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q2ID</span><span class="o">+</span><span class="s1">' input[id^="fvalue_"]'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'value'</span><span class="p">,</span> <span class="s1">''</span><span class="p">);</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q2ID</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
		<span class="p">}</span>
		
		<span class="c1">// A workaround for the built in max-answers function</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q2ID</span><span class="o">+</span><span class="s1">' select.select'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'disabled'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q2ID</span><span class="o">+</span><span class="s1">' td.output tr:visible'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'input.text'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span> <span class="o">==</span> <span class="s1">''</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q2ID</span><span class="o">+</span><span class="s1">' select.select'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'disabled'</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
			<span class="p">}</span>
		<span class="p">});</span>
	<span class="p">}</span>
	
	<span class="c1">// A listener to work around the built in max-answers function</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q2ID</span><span class="o">+</span><span class="s1">' td.rank'</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q2ID</span><span class="o">+</span><span class="s1">' select.select'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'disabled'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q2ID</span><span class="o">+</span><span class="s1">' td.item input.text'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span> <span class="o">==</span> <span class="s1">''</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q2ID</span><span class="o">+</span><span class="s1">' select.select'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'disabled'</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
			<span class="p">}</span>
		<span class="p">});</span>
	<span class="p">});</span>
<span class="p">}</span>
</pre>
          </div></li>
        </ul> 
        <p><b>FOR BOTH FILTER AND RANKING QUESTIONS ON SAME PAGE:</b> </p> 
        <ul>
         <li>Create a multiple options question and a ranking question on the same page (in the same group).</li> 
         <li>Both questions <b>MUST</b> have identical sub-questions and sub-question codes.</li> 
         <li>Place the following script in the source of one of the questions.</li> 
         <li>Replace "MM" with the ID of the multiple options question and "RR" with the ID of the ranking question.</li> 
         <li>The function will hide the ranking question unless at least two options are selected in the multiple options question, in which case, it will only show the options selected.
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="nx">rankFilter</span><span class="p">(</span><span class="nx">MM</span><span class="p">,</span> <span class="nx">RR</span><span class="p">);</span>
	<span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
          </div></li>
        </ul> 
        <p><b>FOR FILTER AND RANKING QUESTIONS ON SEPARATE PAGES:</b> </p> 
        <ul>
         <li>Create a multiple options question on page 1.</li> 
         <li>Create a multiple options question and a ranking question on page 2.</li> 
         <li>All three questions <b>MUST</b> have identical sub-questions and sub-question codes.</li> 
         <li>Set the multiple options on page 2 to be filtered by the multiple options on page 1.</li> 
         <li>Place the following script in the source of one of the questions on page 2.</li> 
         <li>Replace "MM" with the ID of the multiple options question and "RR" with the ID of the ranking question. Do not modify the "1".</li> 
         <li>The function will hide the multiple options question. If at least 2 options were selected in the multiple options on page 1, the corresponding options will be checked in the hidden multiple options question which will then be used to control the display of the ranking question.
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="nx">rankFilter</span><span class="p">(</span><span class="nx">MM</span><span class="p">,</span> <span class="nx">RR</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
	<span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
          </div></li>
        </ul> 
        <h1><span class="mw-headline" id="Filter_.22Array_by_Column.22_Question_With_.22Multiple-Options.22">Filter "Array by Column" Question With "Multiple-Options"</span></h1> 
        <div class="simplebox">
         As of version 2.06 this workaround is not required. It can be handled with sub-question relevance.
        </div> 
        <p><i>Tested with: 2.05</i> </p>
        <p>This workaround applies a filter to an "Array by Column" question based on the checked boxes of a previous multiple-options question. There are two methods - one for filter and array questions being on the same page and a slightly different one for the filter question being on a page before the array question. </p>
        <p>Implementation is as follows. </p>
        <p><b>FOR BOTH METHODS:</b> </p> 
        <ul>
         <li><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use JavaScript</a>.</li> 
         <li>If using LimeSurvey version 2.05 or newer, place the following functions in your template.js file. These will be accessed by either method.
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="kd">function</span> <span class="nx">filterArrByCol</span><span class="p">(</span><span class="nx">qMultiOpt</span><span class="p">,</span> <span class="nx">qArray</span><span class="p">,</span> <span class="nx">prevPage</span><span class="p">)</span> <span class="p">{</span>

	<span class="c1">// If filter question is on a previous page, hide Q1 and check all "visible" boxes</span>
	<span class="k">if</span><span class="p">(</span><span class="nx">prevPage</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qMultiOpt</span><span class="o">+</span><span class="s1">' li[id^="javatbd"]:visible input.checkbox'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qMultiOpt</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
	<span class="p">}</span>
	   
	<span class="c1">// Assign classes to the answer cells</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qArray</span><span class="o">+</span><span class="s1">' td.answer-item'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>
		<span class="kd">var</span> <span class="nx">classArr</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'class'</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s1">'answer_cell_00'</span><span class="p">);</span>
		<span class="nx">classArr</span> <span class="o">=</span> <span class="nx">classArr</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="s1">' '</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">ansCode</span> <span class="o">=</span> <span class="nx">classArr</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
		<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'ans-'</span><span class="o">+</span><span class="nx">ansCode</span><span class="o">+</span><span class="s1">' filtered'</span><span class="p">);</span>
	<span class="p">});</span>
	   
	<span class="c1">// Assign classes to the answer label cells</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qArray</span><span class="o">+</span><span class="s1">' table.subquestions-list tbody tr:eq(0) td.answer-item'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>
		<span class="kd">var</span> <span class="nx">classArr2</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'class'</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s1">' ans-'</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">ansCode2</span> <span class="o">=</span> <span class="nx">classArr2</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qArray</span><span class="o">+</span><span class="s1">' table.subquestions-list thead tr:eq(0) th:eq('</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="s1">')'</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'ans-'</span><span class="o">+</span><span class="nx">ansCode2</span><span class="o">+</span><span class="s1">''</span><span class="p">);</span>
	<span class="p">});</span>
	   
	<span class="c1">// Fire the filter function on page load</span>
	<span class="nx">filterArr</span><span class="p">(</span><span class="nx">qMultiOpt</span><span class="p">,</span> <span class="nx">qArray</span><span class="p">);</span>

	<span class="c1">// Listener on multi-opt checkboxes to fire the filter function</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qMultiOpt</span><span class="o">+</span><span class="s1">' input.checkbox'</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
		<span class="nx">filterArr</span><span class="p">(</span><span class="nx">qMultiOpt</span><span class="p">,</span> <span class="nx">qArray</span><span class="p">);</span>
	<span class="p">});</span>
	   
	<span class="c1">// On submit, clear all hidden radios of array</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#movenextbtn, #movesubmitbtn'</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qArray</span><span class="o">+</span><span class="s1">' td.filtered:hidden'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'input.radio'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">prop</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
		<span class="p">});</span>
		<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
	<span class="p">});</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">filterArr</span><span class="p">(</span><span class="nx">qMultiOpt</span><span class="p">,</span> <span class="nx">qArray</span><span class="p">)</span> <span class="p">{</span>

	<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qMultiOpt</span><span class="o">+</span><span class="s1">' input.checkbox:checked'</span><span class="p">).</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
		<span class="c1">// Hide the array if no multi-opt options are checked</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qArray</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="p">{</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qArray</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
	   
		<span class="c1">// Hide all columns of array</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qArray</span><span class="o">+</span><span class="s1">' table.subquestions-list tbody td.answer-item, #question'</span><span class="o">+</span><span class="nx">qArray</span><span class="o">+</span><span class="s1">' table.question thead th'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
	   
		<span class="c1">// Loop through multi-opt checkboxes and, if checked, show corresponding column of array</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qMultiOpt</span><span class="o">+</span><span class="s1">' input.checkbox'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>
			<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">prop</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">)</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">classArr3</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'id'</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s1">'X'</span><span class="o">+</span><span class="nx">qMultiOpt</span><span class="p">);</span>
				<span class="kd">var</span> <span class="nx">ansCode3</span> <span class="o">=</span> <span class="nx">classArr3</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qArray</span><span class="o">+</span><span class="s1">' .ans-'</span><span class="o">+</span><span class="nx">ansCode3</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
			<span class="p">}</span>
		<span class="p">});</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre>
          </div></li>
        </ul> 
        <ul>
         <li>If using LimeSurvey version 2.0 or older, place the following functions in your template.js file. These will be accessed by either method.
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

	<span class="kd">function</span> <span class="nx">filterArrByCol</span><span class="p">(</span><span class="nx">qMultiOpt</span><span class="p">,</span> <span class="nx">qArray</span><span class="p">,</span> <span class="nx">prevPage</span><span class="p">)</span> <span class="p">{</span>
	
		<span class="c1">// If filter question is on a previous page, hide Q1 and check all "visible" boxes</span>
		<span class="k">if</span><span class="p">(</span><span class="nx">prevPage</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qMultiOpt</span><span class="o">+</span><span class="s1">' li[id^="javatbd"]:visible input.checkbox'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qMultiOpt</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
		<span class="p">}</span>
		
		<span class="c1">// Assign classes to the answer cells</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qArray</span><span class="o">+</span><span class="s1">' table.question tbody td'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>
			<span class="kd">var</span> <span class="nx">classArr</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'class'</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s1">'answer_cell_00'</span><span class="p">);</span>
			<span class="kd">var</span> <span class="nx">ansCode</span> <span class="o">=</span> <span class="nx">classArr</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
			<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'ans-'</span><span class="o">+</span><span class="nx">ansCode</span><span class="o">+</span><span class="s1">' filtered'</span><span class="p">);</span>
		<span class="p">});</span>
		
		<span class="c1">// Assign classes to the answer label cells</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qArray</span><span class="o">+</span><span class="s1">' table.question tbody tr:eq(0) td'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>
			<span class="kd">var</span> <span class="nx">classArr2</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'class'</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s1">' ans-'</span><span class="p">);</span>
			<span class="kd">var</span> <span class="nx">ansCode2</span> <span class="o">=</span> <span class="nx">classArr2</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qArray</span><span class="o">+</span><span class="s1">' table.question thead tr:eq(0) th:eq('</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="s1">')'</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'ans-'</span><span class="o">+</span><span class="nx">ansCode2</span><span class="o">+</span><span class="s1">''</span><span class="p">);</span>
		<span class="p">});</span>
		
		<span class="c1">// Fire the filter function on page load</span>
		<span class="nx">filterArr</span><span class="p">(</span><span class="nx">qMultiOpt</span><span class="p">,</span> <span class="nx">qArray</span><span class="p">);</span>

		<span class="c1">// Listener on multi-opt checkboxes to fire the filter function</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qMultiOpt</span><span class="o">+</span><span class="s1">' input.checkbox'</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
			<span class="nx">filterArr</span><span class="p">(</span><span class="nx">qMultiOpt</span><span class="p">,</span> <span class="nx">qArray</span><span class="p">);</span>
		<span class="p">});</span>
		
		<span class="c1">// On submit, clear all hidden radios of array</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#movenextbtn, #movesubmitbtn'</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qArray</span><span class="o">+</span><span class="s1">' td.filtered:hidden'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'input.radio'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
			<span class="p">});</span>
			<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
		<span class="p">});</span>
	<span class="p">}</span>
	
	<span class="kd">function</span> <span class="nx">filterArr</span><span class="p">(</span><span class="nx">qMultiOpt</span><span class="p">,</span> <span class="nx">qArray</span><span class="p">)</span> <span class="p">{</span>
	
		<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qMultiOpt</span><span class="o">+</span><span class="s1">' input.checkbox:checked'</span><span class="p">).</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
			<span class="c1">// Hide the array if no multi-opt options are checked</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qArray</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qArray</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
			
			<span class="c1">// Hide all columns of array</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qArray</span><span class="o">+</span><span class="s1">' table.question tbody td, #question'</span><span class="o">+</span><span class="nx">qArray</span><span class="o">+</span><span class="s1">' table.question thead th'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
			
			<span class="c1">// Loop through multi-opt checkboxes and, if checked, show corresponding column of array</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qMultiOpt</span><span class="o">+</span><span class="s1">' input.checkbox'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>
				<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">)</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
					<span class="kd">var</span> <span class="nx">classArr3</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'id'</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s1">'X'</span><span class="o">+</span><span class="nx">qMultiOpt</span><span class="p">);</span>
					<span class="kd">var</span> <span class="nx">ansCode3</span> <span class="o">=</span> <span class="nx">classArr3</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
					<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qArray</span><span class="o">+</span><span class="s1">' .ans-'</span><span class="o">+</span><span class="nx">ansCode3</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
				<span class="p">}</span>
			<span class="p">});</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">});</span>
</pre>
          </div></li>
        </ul> 
        <p><b>FOR BOTH FILTER AND ARRAY QUESTIONS ON SAME PAGE:</b> </p> 
        <ul>
         <li>Create a multiple options question and an array-by-column question on the same page (in the same group).</li> 
         <li>Both questions <b>MUST</b> have identical sub-questions and sub-question codes.</li> 
         <li>Place the following script in the source of one of the questions.</li> 
         <li>Replace "MM" with the ID of the multiple options question and "AA" with the ID of the ranking question.</li> 
         <li>The function will hide the array question unless at least one option is selected in the multiple-options question, in which case, it will only show the corresponding array column(s).
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="nx">filterArrByCol</span><span class="p">(</span><span class="nx">MM</span><span class="p">,</span> <span class="nx">AA</span><span class="p">);</span>
	<span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
          </div></li>
        </ul> 
        <p><b>FOR FILTER AND ARRAY QUESTIONS ON SEPARATE PAGES:</b> </p> 
        <ul>
         <li>Create a multiple options question on page 1.</li> 
         <li>Create a multiple options question and an array-by-column question on page 2.</li> 
         <li>All three questions <b>MUST</b> have identical sub-questions and sub-question codes.</li> 
         <li>Set the multiple options on page 2 to be filtered by the multiple options on page 1.</li> 
         <li>Place the following script in the source of one of the questions on page 2.</li> 
         <li>Replace "MM" with the ID of the multiple options question and "AA" with the ID of the array question. Do not modify the "1".</li> 
         <li>The function will hide the multiple options question. If options were selected in the multiple options on page 1, the corresponding options will be checked in the hidden multiple options question which will then be used to control the display of the array columns.
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="nx">filterArrByCol</span><span class="p">(</span><span class="nx">MM</span><span class="p">,</span> <span class="nx">AA</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
	<span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
          </div></li>
        </ul> 
        <h1><span class="mw-headline" id="Auto-tabbing_between_text_input_fields">Auto-tabbing between text input fields</span></h1> 
        <p><i>Tested with: 1.90+, IE 6/7, FireFox 3.0, Safari 3.2, Chrome 2.0</i> </p>
        <p>This is a workaround to facilitate auto-tabbing between text input questions in a single group using a <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://plugins.jquery.com/project/autotab">jQuery plugin by Mathachew</a> and the Maximum characters attribute of questions. </p>
        <p>The behaviour will be: When the maximum number of characters has been entered into an input field, the focus (cursor) will be automatically moved to the next input field. When the backspace key is used to remove all characters from a field, the focus will be moved to the previous field. It's very useful in surveys having many text input questions to avoid having to manually tab or click between fields. </p>
        <p>You can view a small demo survey <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://www.partnersinc.biz/surveys//index.php?sid=11327&amp;newtest=Y&amp;lang=en">here</a>. </p>
        <p>Implementation is as follows: </p> 
        <ol>
         <li>Visit <a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="http://plugins.jquery.com/autotabs">http://plugins.jquery.com/autotabs</a>, download the plugin script and save it as <i>jquery.autotab-1.1b.js</i> in the template folder.</li> 
         <li>Link to the script by placing <i>&lt;script type="text/javascript" src="{TEMPLATEURL}jquery.autotab-1.1b.js"&gt;&lt;/script&gt;</i> within the <i>&lt;head&gt;</i> tag of startpage.pstpl.</li> 
         <li><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use JavaScript</a>.</li> 
         <li>Create the text based questions that auto-tabbing is to be applied to. (All must be in the same group if you're using group by group presentation)</li> 
         <li>Define a Maximum characters attribute for all questions that the autotab is applied to.</li>
        </ol> 
        <p><br> </p> 
        <h3><span class="mw-headline" id="Maximum_characters_.28maximum_chars.29">Maximum characters (maximum_chars)</span></h3> 
        <p><b>Description</b> </p>
        <p>This allows you to set the maximum number of characters that can be entered for a text based question. Entering a value of, say, 20 will mean that the participant cannot enter any more than 20 characters. </p>
        <p><b>Valid values</b> </p> 
        <ul>
         <li>Any integer value above 0</li>
        </ul> 
        <p><br> </p> 
        <ol>
         <li>In the source of the first question of the group that contains the auto-tabbed questions, add the following code.</li>
        </ol> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

   <span class="err">$</span><span class="p">(</span><span class="nx">document</span><span class="p">)</span><span class="o">.</span><span class="nx">ready</span><span class="p">(</span><span class="k">function</span><span class="p">()</span> <span class="p">{</span>

       <span class="err">$</span><span class="p">(</span><span class="s1">'#answerSSSSSXGGXAA'</span><span class="p">)</span><span class="o">.</span><span class="nx">focus</span><span class="p">();</span> <span class="c1">//initially focus on the first input</span>

       <span class="err">$</span><span class="p">(</span><span class="s1">'#answerSSSSSXGGXAA'</span><span class="p">)</span><span class="o">.</span><span class="nx">autotab</span><span class="p">({</span> <span class="nx">target</span><span class="o">:</span> <span class="s1">'answerSSSSSXGGXBB'</span> <span class="p">});</span>

       <span class="err">$</span><span class="p">(</span><span class="s1">'#answerSSSSSXGGXBB'</span><span class="p">)</span><span class="o">.</span><span class="nx">autotab</span><span class="p">({</span> <span class="nx">previous</span><span class="o">:</span> <span class="s1">'answerSSSSSXGGXAA'</span><span class="p">,</span> <span class="nx">target</span><span class="o">:</span> <span class="s1">'answerSSSSSXGGXCC'</span> <span class="p">});</span>

       <span class="err">$</span><span class="p">(</span><span class="s1">'#answerSSSSSXGGXCC'</span><span class="p">)</span><span class="o">.</span><span class="nx">autotab</span><span class="p">({</span> <span class="nx">previous</span><span class="o">:</span> <span class="s1">'answerSSSSSXGGXBB'</span><span class="p">,</span> <span class="nx">target</span><span class="o">:</span> <span class="s1">'answerSSSSSXGGXDD'</span> <span class="p">});</span>

       <span class="err">$</span><span class="p">(</span><span class="s1">'#answerSSSSSXGGXDD'</span><span class="p">)</span><span class="o">.</span><span class="nx">autotab</span><span class="p">({</span> <span class="nx">previous</span><span class="o">:</span> <span class="s1">'answerSSSSSXGGXCC'</span> <span class="p">});</span>

   <span class="p">});</span>

<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <p>This example has 4 fields to be auto-tabbed between - all instances of the following must be replaced to be compatible with your survey (See image below): </p> 
        <ul>
         <li>SSSSS -&gt; Survey ID</li> 
         <li>GG -&gt; Group ID</li> 
         <li>AA -&gt; First question</li> 
         <li>BB -&gt; Second question</li> 
         <li>CC -&gt; Third question</li> 
         <li>DD -&gt; Last question</li>
        </ul> 
        <p><a href="/File:Ids_343x252.gif" class="image"><img alt="Ids 343x252.gif" src="/images/3/39/Ids_343x252.gif" width="343" height="252"></a> </p>
        <p>The <i>target</i> parameter defines where the next input is and the <i>previous</i> parameter defines (you guessed it) the previous input. </p>
        <p>This plugin also has limited capability of formatting the input text - see comments in the plugin script. </p> 
        <h1><span class="mw-headline" id="Custom_response_listeners">Custom response listeners</span></h1> 
        <p><i>Tested with: 1.85+ (7253), IE 6/7, FireFox 3.0, Safari 3.2, Chrome 2.0</i> </p>
        <p>Listeners can be used to perform functions when a change in an input is detected. There are many uses such as the <a href="/Workarounds#Reverse_array_filter" title="Workarounds">Reverse array_filter</a> but a simple one would be to warn a respondent if they enter a value that may be too high. </p>
        <p>We can use the <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://docs.jquery.com/Events/change">jQuery change( ) event</a> to fire a function whenever there is a change to the input. The function will look for an input value higher than 10 and, if found, will warn the respondent. </p> 
        <ol>
         <li><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use JavaScript</a>.</li> 
         <li>Place the script below in the source of one of the questions on the page where:</li>
        </ol> 
        <ul>
         <li>
          <ul>
           <li>11111 is the survey ID</li> 
           <li>22 is the group ID</li> 
           <li>33 is the question ID</li>
          </ul></li>
        </ul> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

		<span class="nx">$</span><span class="p">(</span><span class="s1">'#answer11111X22X33'</span><span class="p">).</span><span class="nx">change</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

			<span class="k">if</span> <span class="p">(</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#answer11111X22X33'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">10</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">alert</span> <span class="p">(</span><span class="s2">"That's an awful lot. Are you sure?"</span><span class="p">);</span>
			<span class="p">}</span>
		<span class="p">});</span>
	<span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Text_input_masks">Text input masks</span></h1> 
        <p><i>Tested with: 1.90+, IE 7, FireFox 3.0, Safari 3.2, Chrome 2.0</i> </p>
        <p>There may be instances where you would like to place a mask on a text input - for example only allowing respondents to enter the correct characters for a North American phone number ((###) ###-####) or a Canadian postal code (A1A 1A1) The <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://plugins.jquery.com/project/meioMask">jQuery meioMask plugin by fabiomcosta</a> can be used to do this. </p>
        <p>The plugin has several pre-defined masks and supports custom masks. It also allows for pasting of input, allows default values and can auto-focus the next form element when the current input is completely filled. See <a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="http://www.meiocodigo.com/projects/meiomask/">http://www.meiocodigo.com/projects/meiomask/</a> for more details on features and options. </p>
        <p>There is a small demo <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://www.partnersinc.biz/surveys//index.php?sid=36146&amp;newtest=Y&amp;lang=en">here</a>. </p>
        <p>Implementation for this demo was as follows: </p> 
        <ol>
         <li>Visit <a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="http://www.meiocodigo.com/projects/meiomask/">http://www.meiocodigo.com/projects/meiomask/</a>, download the latest plugin script and save it as jquery.meiomask.js in the template folder.</li> 
         <li>Link to the script by placing &lt;script type="text/javascript" src="{TEMPLATEURL}jquery.meiomask.js" charset="utf-8"&gt;&lt;/script&gt; within the &lt;head&gt; tag of startpage.pstpl.</li> 
         <li>Turn off $filterxsshtml to allow insertion of JavaScript in the questions. (<a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://docs.limesurvey.org/tiki-index.php?page=Optional+settings&amp;structure=English+Instructions+for+LimeSurvey#Filtering_dangerous_HTML_tags_in_survey_objects">See documentation here</a>)</li> 
         <li>Create the text input questions that the masks are to be applied to</li> 
         <li>In the source of the help section of the first question of the group that contains the masked inputs, add the following code. (<a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://docs.limesurvey.org/tiki-index.php?page=Workarounds&amp;structure=English+Instructions+for+LimeSurvey#How_to_use_Script_eg._JavaScript_etc._">See How to use script here</a>) </li>
        </ol> 
        <p><br> </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>	
						   
	<span class="c1">// Define custom masks</span>
	<span class="nx">$</span><span class="p">.</span><span class="nx">mask</span><span class="p">.</span><span class="nx">masks</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">mask</span><span class="p">.</span><span class="nx">masks</span><span class="p">,{</span>
		<span class="nx">customMask1</span><span class="o">:</span><span class="p">{</span> <span class="nx">mask</span><span class="o">:</span> <span class="s1">'a9a 9a9'</span> <span class="p">},</span> <span class="c1">// Canadian postal code</span>
		<span class="c1">// Maximum input of 9,999.99, reverse input, default value of 0.00		</span>
		<span class="nx">customMask2</span><span class="o">:</span><span class="p">{</span> <span class="nx">mask</span><span class="o">:</span> <span class="s1">'99.999,9'</span><span class="p">,</span> <span class="nx">type</span> <span class="o">:</span> <span class="s1">'reverse'</span><span class="p">,</span> <span class="nx">defaultValue</span> <span class="o">:</span> <span class="s1">'000'</span> <span class="p">}</span> 
	<span class="p">});</span>
	
	<span class="c1">// Set the 'alt' attributes of the inputs</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#answer111111X22XAA'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'alt'</span><span class="p">,</span> <span class="s1">'phone-us'</span><span class="p">);</span> <span class="c1">// a pre-defined mask					   </span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#answer111111X22XBB'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'alt'</span><span class="p">,</span> <span class="s1">'customMask1'</span><span class="p">);</span> <span class="c1">// a custom mask					   </span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#answer111111X22XCC'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'alt'</span><span class="p">,</span> <span class="s1">'customMask2'</span><span class="p">);</span> <span class="c1">// a custom mask					   </span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#answer111111X22XDD'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'alt'</span><span class="p">,</span> <span class="s1">'cc'</span><span class="p">);</span> <span class="c1">// a pre-defined mask for credit card</span>
	
	<span class="c1">// Tell the plugin to apply masks to these inputs</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'input:#answer111111X22XAA'</span><span class="p">).</span><span class="nx">setMask</span><span class="p">();</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'input:#answer111111X22XBB'</span><span class="p">).</span><span class="nx">setMask</span><span class="p">();</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'input:#answer111111X22XCC'</span><span class="p">).</span><span class="nx">setMask</span><span class="p">();</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'input:#answer111111X22XDD'</span><span class="p">).</span><span class="nx">setMask</span><span class="p">();</span>	
<span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p><br> The first section defines two custom masks to be used - one for Canadian postal code with a format of A#A #A# and a second for a maximum amount of 9999.99 with reverse input (useful for cost inputs) and a default value of 0.00. </p>
        <p>The next section sets the "alt" attributes for the text inputs. This will tell meioMask which mask we will be applying to each input. By default meioMask looks at the alt attribute to find which mask to apply however this can be changed using the <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://www.meiocodigo.com/projects/meiomask/#mm_options">mask options</a>. </p>
        <p>In the final section we apply the masks to the inputs. </p>
        <p>This example has 4 inputs with masks on them - all instances of the following must be replaced to be compatible with your survey (See image below): </p> 
        <ul>
         <li>11111 -&gt; Survey ID</li> 
         <li>22 -&gt; Group ID</li> 
         <li>AA -&gt; First question</li> 
         <li>BB -&gt; Second question</li> 
         <li>CC -&gt; Third question</li> 
         <li>DD -&gt; Fourth question</li>
        </ul> 
        <p><a href="/File:Ids_343x252.gif" class="image"><img alt="Ids 343x252.gif" src="/images/3/39/Ids_343x252.gif" width="343" height="252"></a> </p> 
        <h1><span class="mw-headline" id="Text_input_masks_-_second_method">Text input masks - second method</span></h1> 
        <p><i>Tested with: 1.91RC6+, FireFox 4.0</i> <i>Tested with: 2.05, Chrome 40.0.2214.115 m (64-bit)</i> </p>
        <p>There may be instances where you would like to place a mask on a text input - for example only allowing respondents to enter the correct characters for a North American phone number ((###) ###-####) or a US social security number (###-##-####). The jQuery meioMask plugin by fabiomcosta is no longer supported but an alternative exists. The DigitalBush Masked Input Plugin is updated and simple to implement in LimeSurvey. See <a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="http://digitalbush.com/projects/masked-input-plugin/">http://digitalbush.com/projects/masked-input-plugin/</a> for more details on features and options. </p>
        <p>Implementation as follows: </p> 
        <ol>
         <li>Visit <a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="http://digitalbush.com/projects/masked-input-plugin/">http://digitalbush.com/projects/masked-input-plugin/</a>, download the latest plugin script and save it as jquery.maskedinput.js in the template folder.</li> 
         <li>Link to the script by placing &lt;script type="text/javascript" src="{TEMPLATEURL}jquery.maskedinput.js" charset="utf-8"&gt;&lt;/script&gt; within the &lt;head&gt; tag of startpage.pstpl.</li> 
         <li>Turn off $filterxsshtml to allow insertion of JavaScript in the questions. (<a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://docs.limesurvey.org/tiki-index.php?page=Optional+settings&amp;structure=English+Instructions+for+LimeSurvey#Filtering_dangerous_HTML_tags_in_survey_objects">See documentation here</a>)</li> 
         <li>Create the text input questions that the masks are to be applied to</li> 
         <li>In the source of the help section of the first question of the group that contains the masked inputs, add the following code. (<a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://docs.limesurvey.org/tiki-index.php?page=Workarounds&amp;structure=English+Instructions+for+LimeSurvey#How_to_use_Script_eg._JavaScript_etc._">See How to use script here</a>) </li>
        </ol> 
        <p><br> </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">$</span><span class="p">)</span> <span class="p">{</span>	 
		<span class="nx">$</span><span class="p">(</span><span class="s2">"#answer55431X1X5"</span><span class="p">).</span><span class="nx">mask</span><span class="p">(</span><span class="s2">"999-99-9999"</span><span class="p">,{</span> <span class="nx">placeholder</span><span class="o">:</span><span class="s2">"#"</span> <span class="p">});</span>
	<span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p><br> Replace the "#answer55431X1X5" with your survey ID, group ID, and question ID. You can change the mask format and change or eliminate the placeholder if you wish. If you have multiple questions in the same group, simply copy and paste the line that begins with "$" and change the code to what is needed for your application. </p> 
        <h1><span class="mw-headline" id="Select_a_random_response_to_a_.22Multiple_options.22_question_for_later_use">Select a random response to a "Multiple options" question for later use</span></h1> 
        <p><i>Tested with: LimeSurvey versions 2.06 and 2.5, IE 7-11, Firefox, Chrome</i> </p>
        <p>This workaround allows you to randomly select one of the checked boxes in a "Multiple options" question and store it's label for later use in the survey. A possible use-case would be to have a question asking what products were purchased and then randomly selecting one of the products to ask further questions about. </p>
        <p>The workaround puts a listener on the checkboxes that loops through all of the checked boxes and adds their labels to an array. A random item is pulled from the array and loaded into the hidden question. This hidden question can then be used in Expression Manager equations, relevance or conditions. <br><br> <b>DOWNLOAD:</b><br> - <a href="/images/f/f9/Demo_Random_Option_From_Multi-Choice_v206.1.zip" class="internal" title="Demo Random Option From Multi-Choice v206.1.zip">Demo survey for LS 2.06</a><br> - <a href="/images/e/ec/Demo_Random_Option_From_Multi-Choice_v25.1.zip" class="internal" title="Demo Random Option From Multi-Choice v25.1.zip">Demo survey for LS 2.5</a><br> <br> <b>IMPLEMENTATION</b> (LimeSurvey version 2.06)<br> </p> 
        <ol>
         <li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="https://manual.limesurvey.org/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F">Set up your survey to use JavaScript</a>.</li> 
         <li>Create a "Multiple options" question</li> 
         <li>Immediately following that question, create a short-text question to store the label of the checked box in (we'll hide this with JavaScript)</li> 
         <li>Place the script below in the source of the multiple options question. 
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>		
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>	
 
		<span class="c1">// Identify the questions</span>
		<span class="kd">var</span> <span class="nx">thisQuestion</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#question{QID}'</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">qHidden</span> <span class="o">=</span> <span class="nx">thisQuestion</span><span class="p">.</span><span class="nx">nextAll</span><span class="p">(</span><span class="s1">'.text-short:eq(0)'</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">hiddenInput</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'input.text'</span><span class="p">,</span> <span class="nx">qHidden</span><span class="p">);</span>
		
		<span class="c1">// Hide qHidden</span>
		<span class="nx">qHidden</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>
		
		<span class="c1">// Listener on the checkboxes</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'input.checkbox'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">'change'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">handleChecked</span><span class="p">();</span>
		<span class="p">});</span>
		
		<span class="c1">// Listener on the "Other" input</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'input.text'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">'keyup change'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="nx">handleChecked</span><span class="p">();</span>
			<span class="p">},</span> <span class="mi">250</span><span class="p">);</span>
		<span class="p">});</span>
		
		<span class="kd">function</span> <span class="nx">handleChecked</span><span class="p">()</span> <span class="p">{</span>
			<span class="c1">// Build an array of checked answers</span>
			<span class="kd">var</span> <span class="nx">checkedAnswers</span> <span class="o">=</span> <span class="p">[];</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'input.checkbox:checked'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'.answer-item'</span><span class="p">).</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">'other-item'</span><span class="p">))</span> <span class="p">{</span>
					<span class="nx">checkedAnswers</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'.other-item'</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">'input.text'</span><span class="p">).</span><span class="nx">val</span><span class="p">());</span>
				<span class="p">}</span>
				<span class="k">else</span> <span class="p">{</span>
					<span class="nx">checkedAnswers</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">nextAll</span><span class="p">(</span><span class="s1">'label:eq(0)'</span><span class="p">).</span><span class="nx">text</span><span class="p">());</span>
				<span class="p">}</span>				
			<span class="p">});</span>
			
			<span class="c1">// Load the hidden question with a random item from the array</span>
			<span class="kd">var</span> <span class="nx">checkedLength</span> <span class="o">=</span> <span class="nx">checkedAnswers</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
			<span class="nx">$</span><span class="p">(</span><span class="nx">hiddenInput</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">checkedAnswers</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="nx">checkedLength</span><span class="p">)]);</span>
			
			<span class="c1">// Fire Expression Manager</span>
			<span class="nx">checkconditions</span><span class="p">(</span><span class="nx">hiddenInput</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span> <span class="nx">hiddenInput</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="nx">hiddenInput</span><span class="p">.</span><span class="nx">type</span><span class="p">);</span>
		<span class="p">}</span>
    <span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
          </div></li>
        </ol> 
        <p><br> <b>IMPLEMENTATION</b> (LimeSurvey version 2.5) </p> 
        <ol>
         <li>Follow the first 3 implementation steps above</li> 
         <li>Place the script below in the source of the multiple options question.
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>		
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>	
 
		<span class="c1">// Identify the questions</span>
		<span class="kd">var</span> <span class="nx">thisQuestion</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#question{QID}'</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">qHidden</span> <span class="o">=</span> <span class="nx">thisQuestion</span><span class="p">.</span><span class="nx">nextAll</span><span class="p">(</span><span class="s1">'.text-short:eq(0)'</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">hiddenInput</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'input.text'</span><span class="p">,</span> <span class="nx">qHidden</span><span class="p">);</span>
		
		<span class="c1">// Hide qHidden</span>
		<span class="nx">qHidden</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>
		
		<span class="c1">// Class for "Other</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'input.text'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'.answer-item'</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'other-item'</span><span class="p">);</span>
		
		<span class="c1">// Listener on the checkboxes</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'input.checkbox'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">'change'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">handleChecked</span><span class="p">();</span>
		<span class="p">});</span>
		
		<span class="c1">// Listener on the "Other" input</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'input.text'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">'keyup change'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="nx">handleChecked</span><span class="p">();</span>
			<span class="p">},</span> <span class="mi">250</span><span class="p">);</span>
		<span class="p">});</span>
		
		<span class="kd">function</span> <span class="nx">handleChecked</span><span class="p">()</span> <span class="p">{</span>
			<span class="c1">// Build an array of checked answers</span>
			<span class="kd">var</span> <span class="nx">checkedAnswers</span> <span class="o">=</span> <span class="p">[];</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'input.checkbox:checked'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'.answer-item'</span><span class="p">).</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">'other-item'</span><span class="p">))</span> <span class="p">{</span>
					<span class="nx">checkedAnswers</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'.answer-item'</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">'input.text'</span><span class="p">).</span><span class="nx">val</span><span class="p">());</span>
				<span class="p">}</span>
				<span class="k">else</span> <span class="p">{</span>
					<span class="nx">checkedAnswers</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">nextAll</span><span class="p">(</span><span class="s1">'.label-text:eq(0)'</span><span class="p">).</span><span class="nx">text</span><span class="p">()));</span>
				<span class="p">}</span>				
			<span class="p">});</span>
			
			<span class="c1">// Load the hidden question with a random item from the array</span>
			<span class="kd">var</span> <span class="nx">checkedLength</span> <span class="o">=</span> <span class="nx">checkedAnswers</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
			<span class="nx">$</span><span class="p">(</span><span class="nx">hiddenInput</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">checkedAnswers</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="nx">checkedLength</span><span class="p">)]);</span>
			
			<span class="c1">// Fire Expression Manager</span>
			<span class="nx">checkconditions</span><span class="p">(</span><span class="nx">hiddenInput</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span> <span class="nx">hiddenInput</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="nx">hiddenInput</span><span class="p">.</span><span class="nx">type</span><span class="p">);</span>
		<span class="p">}</span>
    <span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
          </div></li>
        </ol> 
        <h1><span class="mw-headline" id="Display_secondary_options_in_a_.22Multiple_options.22_question">Display secondary options in a "Multiple options" question</span></h1> 
        <p><i>Tested with: LimeSurvey versions 2.06 and 2.5, IE 7-11, Firefox, Chrome</i> </p>
        <p>This workaround allows you to display secondary options in a "Multiple options" question if a primary option is checked as in the images below. </p>
        <p>Primary option not selected:<br> <a href="/File:Secondary_options_1.png" class="image"><img alt="Secondary options 1.png" src="/images/c/cb/Secondary_options_1.png" width="454" height="339"></a> </p>
        <p><br> Primary option selected:<br> <a href="/File:Secondary_options_2.png" class="image"><img alt="Secondary options 2.png" src="/images/c/ce/Secondary_options_2.png" width="469" height="411"></a><br><br> </p>
        <p><b>DOWNLOADS:</b><br> - <a href="/images/f/f5/Demo_Secondary_Checkboxes.zip" class="internal" title="Demo Secondary Checkboxes.zip">Demo template for LS version 2.06</a><br> - <a href="/images/a/a4/Demo_Secondary_Checkboxes.lss" class="internal" title="Demo Secondary Checkboxes.lss">Demo survey for LS version 2.06</a>.<br> - <a href="/images/f/f1/Template_Demo_Secondary_Checkboxes_For_2.5.zip" class="internal" title="Template Demo Secondary Checkboxes For 2.5.zip">Demo template for LS version 2.5</a><br> - <a href="/images/c/c8/Survey_Demo_Secondary_Multiple_Options_For_LS_25.zip" class="internal" title="Survey Demo Secondary Multiple Options For LS 25.zip">Demo survey for LS version 2.5</a>.<br><br> </p>
        <p><b>IMPLEMENTATION:</b> (LimeSurvey version 2.06) </p> 
        <ol>
         <li><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use JavaScript</a>.</li> 
         <li>Create a "Multiple options" question including both the primary and secondary sub-questions (in the order that you would like them displayed if all shown).</li> 
         <li>Add the following function to the end of template.js:
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="c1">// A function to handle "secondary" checkboxes</span>
<span class="kd">function</span> <span class="nx">secondaryCheckboxes</span><span class="p">(</span><span class="nx">qID</span><span class="p">,</span> <span class="nx">primaryPosition</span><span class="p">,</span> <span class="nx">secondaryCount</span><span class="p">)</span> <span class="p">{</span>
	<span class="c1">// Identify the elements</span>
	<span class="kd">var</span> <span class="nx">thisQuestion</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="p">);</span>
	<span class="kd">var</span> <span class="nx">primaryRow</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'li.question-item:eq('</span><span class="o">+</span><span class="p">(</span><span class="nx">primaryPosition</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s1">')'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">);</span>
	<span class="kd">var</span> <span class="nx">primaryInput</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'input.checkbox'</span><span class="p">,</span> <span class="nx">primaryRow</span><span class="p">);</span>
	<span class="kd">var</span> <span class="nx">secondaryRows</span> <span class="o">=</span> <span class="nx">primaryRow</span><span class="p">.</span><span class="nx">nextAll</span><span class="p">(</span><span class="s1">'li.question-item:lt('</span><span class="o">+</span><span class="p">(</span><span class="nx">secondaryCount</span><span class="p">)</span><span class="o">+</span><span class="s1">')'</span><span class="p">);</span>
	<span class="kd">var</span> <span class="nx">secondaryInputs</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'input.checkbox'</span><span class="p">,</span> <span class="nx">secondaryRows</span><span class="p">);</span>
	
	<span class="c1">// Indent the secondaries</span>
	<span class="nx">secondaryRows</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span> <span class="s1">'margin-left'</span><span class="o">:</span><span class="s1">'2.5em'</span> <span class="p">});</span>
	
	<span class="c1">// Initial states of the secondary answers</span>
	<span class="k">if</span> <span class="p">(</span><span class="nx">primaryInput</span><span class="p">.</span><span class="nx">prop</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">)</span> <span class="o">==</span> <span class="kc">false</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">secondaryRows</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span> 
	<span class="p">}</span> 
	
	<span class="c1">// A listener on the primary answer to show or hide secondary answers </span>
	<span class="nx">primaryInput</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span> 
		
		<span class="c1">// Hide/show the secondary answers accordingly</span>
		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="s1">':checked'</span><span class="p">))</span> <span class="p">{</span>
			<span class="nx">secondaryRows</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>				
			<span class="nx">secondaryInputs</span><span class="p">.</span><span class="nx">prop</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
			<span class="nx">secondaryInputs</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">checkconditions</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="p">);</span>
			<span class="p">});</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="p">{</span>
			<span class="nx">secondaryRows</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span> 
		<span class="p">}</span>
	<span class="p">});</span>
<span class="p">}</span>
</pre>
          </div></li> 
         <li>Call the function in the source of the question with the question ID (no editing necessary), the start position of the primary sub-question and the number of secondaries to follow. <br>So, in this example, sub-question 1 is a primary followed by 2 secondaries and subquestion 6 is a primary followed by 3 secondaries.
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>	
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="c1">// Sub-question 1 is primary followed by 2 secondaries</span>
		<span class="nx">secondaryCheckboxes</span><span class="p">({</span><span class="nx">QID</span><span class="p">},</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
		<span class="c1">// Sub-question 6 is primary followed by 3 secondaries		</span>
		<span class="nx">secondaryCheckboxes</span><span class="p">({</span><span class="nx">QID</span><span class="p">},</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
    <span class="p">});</span>	
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
          </div></li>
        </ol> 
        <p><b>IMPLEMENTATION:</b> (LimeSurvey version 2.5) </p> 
        <ol>
         <li>Follow the first 2 implementation steps above</li> 
         <li>Add the following function to the end of template.js:
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="c1">// A function to handle "secondary" checkboxes</span>
<span class="kd">function</span> <span class="nx">secondaryCheckboxes</span><span class="p">(</span><span class="nx">qID</span><span class="p">,</span> <span class="nx">primaryPosition</span><span class="p">,</span> <span class="nx">secondaryCount</span><span class="p">)</span> <span class="p">{</span>
	<span class="c1">// Identify the elements</span>
	<span class="kd">var</span> <span class="nx">thisQuestion</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="p">);</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'div.question-item'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">parent</span><span class="p">().</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'answer-row'</span><span class="p">);</span>
	<span class="kd">var</span> <span class="nx">primaryRow</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'div.question-item:eq('</span><span class="o">+</span><span class="p">(</span><span class="nx">primaryPosition</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s1">')'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'.answer-row'</span><span class="p">);</span>
	<span class="kd">var</span> <span class="nx">primaryInput</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'input.checkbox'</span><span class="p">,</span> <span class="nx">primaryRow</span><span class="p">);</span>
	<span class="kd">var</span> <span class="nx">secondaryRows</span> <span class="o">=</span> <span class="nx">primaryRow</span><span class="p">.</span><span class="nx">nextAll</span><span class="p">(</span><span class="s1">'div.answer-row:lt('</span><span class="o">+</span><span class="p">(</span><span class="nx">secondaryCount</span><span class="p">)</span><span class="o">+</span><span class="s1">')'</span><span class="p">);</span>
	<span class="kd">var</span> <span class="nx">secondaryInputs</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'input.checkbox'</span><span class="p">,</span> <span class="nx">secondaryRows</span><span class="p">);</span>
	
	<span class="c1">// Indent the secondaries</span>
	<span class="nx">secondaryRows</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span> <span class="s1">'margin-left'</span><span class="o">:</span><span class="s1">'2.5em'</span> <span class="p">});</span>
	
	<span class="c1">// Initial states of the secondary answers</span>
	<span class="k">if</span> <span class="p">(</span><span class="nx">primaryInput</span><span class="p">.</span><span class="nx">prop</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">)</span> <span class="o">==</span> <span class="kc">false</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">secondaryRows</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span> 
	<span class="p">}</span> 
	
	<span class="c1">// A listener on the primary answer to show or hide secondary answers </span>
	<span class="nx">primaryInput</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span> 
		
		<span class="c1">// Hide/show the secondary answers accordingly</span>
		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="s1">':checked'</span><span class="p">))</span> <span class="p">{</span>
			<span class="nx">secondaryRows</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>				
			<span class="nx">secondaryInputs</span><span class="p">.</span><span class="nx">prop</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
			<span class="nx">secondaryInputs</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">checkconditions</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="p">);</span>
			<span class="p">});</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="p">{</span>
			<span class="nx">secondaryRows</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span> 
		<span class="p">}</span>
	<span class="p">});</span>
<span class="p">}</span>
</pre>
          </div></li> 
         <li>Call the function in the source of the question with the question ID (no editing necessary), the start position of the primary sub-question and the number of secondaries to follow. <br>So, in this example, sub-question 1 is a primary followed by 2 secondaries and subquestion 6 is a primary followed by 3 secondaries.
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>	
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="c1">// Sub-question 1 is primary followed by 2 secondaries</span>
		<span class="nx">secondaryCheckboxes</span><span class="p">({</span><span class="nx">QID</span><span class="p">},</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
		<span class="c1">// Sub-question 6 is primary followed by 3 secondaries		</span>
		<span class="nx">secondaryCheckboxes</span><span class="p">({</span><span class="nx">QID</span><span class="p">},</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
    <span class="p">});</span>	
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
          </div></li>
        </ol> 
        <h1><span class="mw-headline" id="Minimum_number_of_required_answers_in_an_array_.28pre_1.92.29">Minimum number of required answers in an array (pre 1.92)</span></h1> 
        <p><i>Tested with: 1.90+, IE 6/7, FireFox 3.0, Safari 3.2,</i> </p> 
        <div class="simplebox">
         As of version 1.92 all array style questions have the min_answers and max_answers options, so this script is obsolete.
        </div> 
        <p>This workaround allows you to specify a <b>minimum number</b> of answers required in an array question. It is an alternative to the "Mandatory" parameter which specifies that <b>all</b> answers are required. It could also be easily modified to specify a maximum number of answers. </p>
        <p>We accomplish this by placing an onload function in the source of the array question. This function hides the Next/Submit button and displays a warning element until it detects a minimum number of responses. It then hides the warning and shows the Next/Submit button. </p>
        <p>There is a demo <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://www.partnersinc.biz/surveys//index.php?sid=97166&amp;newtest=Y&amp;lang=en">here</a>. </p>
        <p>Implementation is as follows: </p> 
        <ol>
         <li>Turn off <i>$filterxsshtml</i> to allow insertion of JavaScript in the questions. (See <a href="/Optional_settings#Security" title="Optional settings">documentation here</a>)</li> 
         <li>Set up the template to use custom onload functions. (See the <a href="/Workarounds#Custom_onload_function" title="Workarounds">workaround here</a>)</li> 
         <li>In the source of the array question add the following onload function. (See <a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">How to use script here</a>)</li> 
         <li>Modify the <i>SETTINGS</i> section of the code as required.</li>
        </ol> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

	<span class="c1">// Wait until the document is fully loaded</span>
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	
		<span class="cm">/********************** SETTINGS **********************/</span>
		<span class="c1">// The text to appear in the warning element</span>
		<span class="kd">var</span> <span class="nx">warningText</span> <span class="o">=</span> <span class="s1">'Please answer at least 4 to continue'</span><span class="p">;</span>
		<span class="c1">// The question ID</span>
		<span class="kd">var</span> <span class="nx">questionId</span> <span class="o">=</span> <span class="mi">137</span><span class="p">;</span>
		<span class="c1">// The minimum number of answers required</span>
		<span class="kd">var</span> <span class="nx">minNumber</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
		<span class="cm">/******************************************************/</span>
		
		<span class="c1">// Create the warning element and place it after the submit button</span>
		<span class="kd">var</span> <span class="nx">el</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'div'</span><span class="p">);</span>
		<span class="nx">el</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">'id'</span><span class="p">,</span><span class="s1">'warning'</span><span class="p">);</span>
		<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">el</span><span class="p">);</span>
		<span class="nx">$</span><span class="p">(</span> <span class="s1">'#warning'</span> <span class="p">).</span><span class="nx">css</span><span class="p">({</span>
			<span class="s1">'border'</span><span class="o">:</span><span class="s1">'1px solid #333333'</span><span class="p">,</span>
			<span class="s1">'width'</span><span class="o">:</span><span class="s1">'200px'</span><span class="p">,</span>
			<span class="s1">'padding'</span><span class="o">:</span><span class="s1">'3px'</span><span class="p">,</span>
			<span class="s1">'color'</span><span class="o">:</span><span class="s1">'red'</span>
		<span class="p">});</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#warning'</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">warningText</span><span class="p">);</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="submit"]'</span><span class="p">).</span><span class="nx">after</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'#warning'</span><span class="p">));</span>
		
		<span class="c1">// Detect the initial number of checked answers &amp; display Next/Submit button accordingly</span>
		<span class="kd">var</span> <span class="nx">inputInitCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span> <span class="o">+</span> <span class="nx">questionId</span> <span class="o">+</span> <span class="s1">' input'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span> <span class="k">this</span> <span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">)</span> <span class="o">==</span> <span class="kc">true</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">inputInitCount</span><span class="o">++</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">});</span>
		<span class="k">if</span> <span class="p">(</span><span class="nx">inputInitCount</span> <span class="o">&gt;</span> <span class="p">(</span><span class="nx">minNumber</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="submit"]'</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'#warning'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'#warning'</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="submit"]'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
		<span class="p">}</span>
		
		<span class="c1">// Listener to detect number of checked answers &amp; display Next/Submit button accordingly</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span> <span class="o">+</span> <span class="nx">questionId</span> <span class="o">+</span> <span class="s1">' input.radio, #question'</span><span class="o">+</span><span class="nx">questionId</span><span class="o">+</span><span class="s1">' tbody[id^="javatbd"] td'</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">inputCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span> <span class="o">+</span> <span class="nx">questionId</span> <span class="o">+</span> <span class="s1">' input.radio'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span> <span class="k">this</span> <span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">)</span> <span class="o">==</span> <span class="kc">true</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">inputCount</span><span class="o">++</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">});</span>
			<span class="k">if</span> <span class="p">(</span><span class="nx">inputCount</span> <span class="o">&gt;</span> <span class="p">(</span><span class="nx">minNumber</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span> <span class="p">{</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="submit"]'</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'#warning'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
			<span class="p">}</span>
			<span class="k">else</span> <span class="p">{</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'#warning'</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="submit"]'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
			<span class="p">}</span>
			
			<span class="c1">// The original functions of the click event</span>
			<span class="nx">checkconditions</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="p">);</span>
		<span class="p">});</span>
<span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Minimum_elapsed_time_before_moving_forward_in_survey">Minimum elapsed time before moving forward in survey</span></h1> 
        <p><i>Tested with: 1.91, IE 7/8, Firefox 7.0, Safari 3.2</i> </p>
        <p>This workaround interrupts the Next/Submit function and checks the amount of time elapsed since the page loaded. If the time is less than the minimum dictated, the respondent is alerted and not allowed to proceed. It is useful if you want to enforce a minimum amount of time spent viewing a page. </p> 
        <ol>
         <li><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use JavaScript</a>.</li> 
         <li>Place the script below in the source of one of the questions on the page, replacing "TT" with the minimum number of seconds required before advancing is allowed.</li>
        </ol> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

		<span class="nx">minTime</span><span class="p">(</span><span class="nx">TT</span><span class="p">);</span>

		<span class="kd">function</span> <span class="nx">minTime</span><span class="p">(</span><span class="nx">minTime</span><span class="p">)</span> <span class="p">{</span>

			<span class="kd">var</span> <span class="nx">startTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>

			<span class="nx">$</span><span class="p">(</span><span class="s1">'#movenextbtn, #movesubmitbtn'</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>

				<span class="kd">var</span> <span class="nx">endTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>

				<span class="k">if</span><span class="p">((</span><span class="nx">endTime</span> <span class="o">-</span> <span class="nx">startTime</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span> <span class="o">&lt;=</span> <span class="nx">minTime</span><span class="p">)</span> <span class="p">{</span>
					<span class="nx">alert</span> <span class="p">(</span><span class="s1">'You must spend at least '</span><span class="o">+</span><span class="nx">minTime</span><span class="o">+</span><span class="s1">' seconds on the question.'</span><span class="p">);</span>
					<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
				<span class="p">}</span>
				<span class="k">else</span> <span class="p">{</span>
					<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">});</span>
		<span class="p">}</span>
	<span class="p">});</span>
 <span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Minimum_number_of_characters_in_Long_free_text_or_Huge_free_text_questions">Minimum number of characters in Long free text or Huge free text questions</span></h1> 
        <p><i>Tested with: 1.91, IE 7/8, Firefox 7.0, Safari 3.2</i> </p> 
        <div class="simplebox">
         As of version 1.91, you can use regular expression masks (validation) to specify the minimum number of required characters. However, even if the question is mandatory, it can still be blank.
        </div> 
        <div class="simplebox">
         As of version 1.92, if you make the question mandatory and use a validation mask to specify the minimum number of characters, then the user will be forced to answer the question. Note that unlike 1.91, they can submit their current answers, even if partially invalid (so they are stored in the database), but they will not ber able to proceed to the next page until they have passed all mandatory and validity checks.
        </div> 
        <p>This workaround interrupts the Next/Submit function and checks the number of characters entered in a Long free text or Huge free text question. If the number is less than the minimum dictated, the respondent is alerted and not allowed to proceed. </p> 
        <ol>
         <li><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use JavaScript</a>.</li>
        </ol> 
        <ol>
         <li>Place the script below in the source of one of the questions on the page, replace "QQ" with the question ID and "CC" with the minimum number of characters required before advancing is allowed.</li>
        </ol> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

   <span class="err">$</span><span class="p">(</span><span class="nx">document</span><span class="p">)</span><span class="o">.</span><span class="nx">ready</span><span class="p">(</span><span class="k">function</span><span class="p">()</span> <span class="p">{</span>

       <span class="nx">minChar</span><span class="p">(</span><span class="nx">QQ</span><span class="p">,</span> <span class="nx">CC</span><span class="p">);</span>

       <span class="k">function</span> <span class="nf">minChar</span><span class="p">(</span><span class="nx">qID</span><span class="p">,</span> <span class="nx">minChars</span><span class="p">)</span> <span class="p">{</span>

           <span class="err">$</span><span class="p">(</span><span class="s1">'#movenextbtn, #movesubmitbtn'</span><span class="p">)</span><span class="o">.</span><span class="nx">click</span><span class="p">(</span><span class="k">function</span><span class="p">(){</span>

               <span class="k">if</span><span class="p">(</span><span class="err">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' textarea'</span><span class="p">)</span><span class="o">.</span><span class="nx">val</span><span class="p">()</span><span class="o">.</span><span class="nx">replace</span><span class="p">(</span><span class="o">/</span> <span class="o">/</span><span class="nx">g</span><span class="p">,</span><span class="s1">''</span><span class="p">)</span><span class="o">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="nx">minChars</span><span class="p">)</span> <span class="p">{</span>

                   <span class="nx">alert</span> <span class="p">(</span><span class="s1">'You must enter at least '</span><span class="o">+</span><span class="nx">minChars</span><span class="o">+</span><span class="s1">' characters.'</span><span class="p">);</span>

                   <span class="k">return</span> <span class="k">false</span><span class="p">;</span>

               <span class="p">}</span>

               <span class="k">else</span> <span class="p">{</span>

                   <span class="k">return</span> <span class="k">true</span><span class="p">;</span>

               <span class="p">}</span>

           <span class="p">});</span>

       <span class="p">}</span>

   <span class="p">});</span>

<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Variable_Length_Array_.28Multi_Flexible_Text.29_question">Variable Length Array (Multi Flexible Text) question</span></h1> 
        <p><i>Tested with: 1.90+, IE 6/7/8, FireFox 3.0, Safari 3.2</i> </p>
        <p>This workaround allows a respondent to add or remove rows of an Array (Multi Flexible Text) question. It's useful to avoid the page being cluttered with unnecessary array rows. </p>
        <p>A function is placed in the template.js file of your template (use template editor). This function hides all of the array rows except the first and inserts two elements that when clicked show or hide rows accordingly. </p>
        <p>There is a demo <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://www.partnersinc.biz/surveys//index.php?sid=53132&amp;newtest=Y&amp;lang=en">here</a>. </p>
        <p>It must be noted that you can not make this question Mandatory as the respondent will have no way to complete hidden fields. If you want the displayed fields to be mandatory you will need to validate them in another function or modify this function to only allow the addition of rows if all fields in the last row are completed and then disable those fields - that, however, is a little over the top for this example. </p>
        <p>Implementation is as follows: </p> 
        <ol>
         <li>Set up your survey to use JavaScript (See instructions <a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">here</a>)</li>
        </ol> 
        <ol>
         <li>Add the following script to your <i>template.js</i> file.</li>
        </ol> 
        <ol>
         <li>Replace "QQ" in the function call at the end with the question ID.</li>
        </ol> 
        <ol>
         <li>Create one or more Array (Multi Flexible Text) questions</li>
        </ol> 
        <ol>
         <li>If you want to apply it to more arrays on the same page simply add more calls with the appropriate question IDs. (eg. varLengthArray(1); varLengthArray(2);...)</li>
        </ol> 
        <p><br> </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

   <span class="c1">// A function to add or remove rows of an Array (Multi Flexible)(Text) question</span>
	<span class="kd">function</span> <span class="nx">varLengthArray</span><span class="p">(</span><span class="nx">qID</span><span class="p">)</span> <span class="p">{</span>

		<span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>

			<span class="c1">// The HTML content of the Add/Remove elements - modify as you wish</span>
			<span class="kd">var</span> <span class="nx">addContent</span> <span class="o">=</span> <span class="s1">'[+]'</span><span class="p">;</span>
			<span class="kd">var</span> <span class="nx">removeContent</span> <span class="o">=</span> <span class="s1">'[-]'</span><span class="p">;</span>

			<span class="c1">// Create the Add and Remove elements &amp; insert them</span>
			<span class="kd">var</span> <span class="nx">el1</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'div'</span><span class="p">);</span>
			<span class="nx">el1</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">'id'</span><span class="p">,</span><span class="s1">'addButton'</span><span class="o">+</span><span class="nx">qID</span><span class="p">);</span>
			<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">el1</span><span class="p">);</span>
			<span class="kd">var</span> <span class="nx">el2</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'div'</span><span class="p">);</span>
			<span class="nx">el2</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">'id'</span><span class="p">,</span><span class="s1">'removeButton'</span><span class="o">+</span><span class="nx">qID</span><span class="p">);</span>
			<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">el2</span><span class="p">);</span>

			<span class="c1">// Move them to after the array</span>
			<span class="nx">$</span><span class="p">(</span> <span class="s1">'div#addButton'</span><span class="o">+</span><span class="nx">qID</span> <span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span> <span class="s1">'#question'</span> <span class="o">+</span> <span class="nx">qID</span> <span class="o">+</span> <span class="s1">' table.question'</span> <span class="p">).</span><span class="nx">parent</span><span class="p">());</span>
			<span class="nx">$</span><span class="p">(</span> <span class="s1">'div#removeButton'</span><span class="o">+</span><span class="nx">qID</span> <span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span> <span class="s1">'#question'</span> <span class="o">+</span> <span class="nx">qID</span> <span class="o">+</span> <span class="s1">' table.question'</span> <span class="p">).</span><span class="nx">parent</span><span class="p">());</span>

			<span class="c1">// Insert their HTML</span>
			<span class="nx">$</span><span class="p">(</span> <span class="s1">'div#addButton'</span><span class="o">+</span><span class="nx">qID</span> <span class="p">).</span><span class="nx">html</span><span class="p">(</span> <span class="nx">addContent</span> <span class="p">);</span>
			<span class="nx">$</span><span class="p">(</span> <span class="s1">'div#removeButton'</span><span class="o">+</span><span class="nx">qID</span> <span class="p">).</span><span class="nx">html</span><span class="p">(</span> <span class="nx">removeContent</span> <span class="p">);</span>

			<span class="c1">// Style the elements - you can modify here if you wish</span>
			<span class="nx">$</span><span class="p">(</span> <span class="s1">'div#addButton'</span><span class="o">+</span><span class="nx">qID</span> <span class="p">).</span><span class="nx">css</span><span class="p">({</span>
				<span class="s1">'margin'</span><span class="o">:</span><span class="s1">'10px 0 0 10px'</span><span class="p">,</span>
				<span class="s1">'padding'</span><span class="o">:</span><span class="s1">'1px'</span><span class="p">,</span>
				<span class="s1">'text-align'</span><span class="o">:</span><span class="s1">'center'</span><span class="p">,</span>
				<span class="s1">'font-weight'</span><span class="o">:</span><span class="s1">'bold'</span><span class="p">,</span>
				<span class="s1">'width'</span><span class="o">:</span><span class="s1">'auto'</span><span class="p">,</span>
				<span class="s1">'cursor'</span><span class="o">:</span><span class="s1">'pointer'</span><span class="p">,</span>
				<span class="s1">'float'</span><span class="o">:</span><span class="s1">'left'</span>
			<span class="p">});</span>

			<span class="nx">$</span><span class="p">(</span> <span class="s1">'div#removeButton'</span><span class="o">+</span><span class="nx">qID</span> <span class="p">).</span><span class="nx">css</span><span class="p">({</span>
				<span class="s1">'margin'</span><span class="o">:</span><span class="s1">'10px 0 0 10px'</span><span class="p">,</span>
				<span class="s1">'padding'</span><span class="o">:</span><span class="s1">'1px'</span><span class="p">,</span>
				<span class="s1">'text-align'</span><span class="o">:</span><span class="s1">'center'</span><span class="p">,</span>
				<span class="s1">'font-weight'</span><span class="o">:</span><span class="s1">'bold'</span><span class="p">,</span>
				<span class="s1">'width'</span><span class="o">:</span><span class="s1">'auto'</span><span class="p">,</span>
				<span class="s1">'cursor'</span><span class="o">:</span><span class="s1">'pointer'</span><span class="p">,</span>
				<span class="s1">'float'</span><span class="o">:</span><span class="s1">'left'</span>
			<span class="p">});</span>

			<span class="c1">// Initially hide the Remove element</span>
			<span class="nx">$</span><span class="p">(</span> <span class="s1">'div#removeButton'</span><span class="o">+</span><span class="nx">qID</span> <span class="p">).</span><span class="nx">hide</span><span class="p">();</span>

			<span class="c1">// Call the functions below when clicked</span>
			<span class="nx">$</span><span class="p">(</span> <span class="s1">'div#addButton'</span><span class="o">+</span><span class="nx">qID</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">addRow</span><span class="p">(</span><span class="nx">qID</span><span class="p">);</span>
			<span class="p">});</span>
			<span class="nx">$</span><span class="p">(</span> <span class="s1">'div#removeButton'</span><span class="o">+</span><span class="nx">qID</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">removeRow</span><span class="p">(</span><span class="nx">qID</span><span class="p">);</span>
			<span class="p">});</span>

			<span class="c1">// Function to add a row, also shows the Remove element and hides the</span>
			<span class="c1">//Add element if all rows are shown</span>
			<span class="kd">function</span> <span class="nx">addRow</span><span class="p">(</span><span class="nx">qID</span><span class="p">)</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">arrayRow</span> <span class="o">=</span> <span class="s1">'#question'</span> <span class="o">+</span> <span class="nx">qID</span> <span class="o">+</span> <span class="s1">' table.question tbody'</span><span class="p">;</span>
				<span class="kd">var</span> <span class="nx">rowCount</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span> <span class="nx">arrayRow</span> <span class="p">).</span><span class="nx">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
				<span class="nx">$</span><span class="p">(</span> <span class="nx">arrayRow</span> <span class="o">+</span> <span class="s1">'[name="hidden"]:first'</span> <span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'visible'</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
				<span class="nx">$</span><span class="p">(</span> <span class="s1">'div#removeButton'</span><span class="o">+</span><span class="nx">qID</span> <span class="p">).</span><span class="nx">show</span><span class="p">();</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">$</span><span class="p">(</span> <span class="nx">arrayRow</span> <span class="o">+</span> <span class="s1">':eq('</span> <span class="o">+</span> <span class="nx">rowCount</span> <span class="o">+</span> <span class="s1">')'</span> <span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span> <span class="o">==</span> <span class="s1">'visible'</span> <span class="p">)</span>  <span class="p">{</span>
					<span class="nx">$</span><span class="p">(</span> <span class="s1">'div#addButton'</span><span class="o">+</span><span class="nx">qID</span> <span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
				<span class="p">}</span>
			<span class="p">}</span>

			<span class="c1">// Function to remove a row, also clears the contents of the removed row,</span>
			<span class="c1">// shows the Add element if the last row is hidden and hides the Remove</span>
			<span class="c1">// element if only the first row is shown</span>
			<span class="kd">function</span> <span class="nx">removeRow</span><span class="p">(</span><span class="nx">qID</span><span class="p">)</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">arrayRow</span> <span class="o">=</span> <span class="s1">'#question'</span> <span class="o">+</span> <span class="nx">qID</span> <span class="o">+</span> <span class="s1">' table.question tbody'</span><span class="p">;</span>
				<span class="kd">var</span> <span class="nx">rowCount</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span> <span class="nx">arrayRow</span> <span class="p">).</span><span class="nx">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
				<span class="nx">$</span><span class="p">(</span> <span class="nx">arrayRow</span> <span class="o">+</span> <span class="s1">'[name="visible"]:last input[type="text"]'</span> <span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span>
				<span class="nx">$</span><span class="p">(</span> <span class="nx">arrayRow</span> <span class="o">+</span> <span class="s1">'[name="visible"]:last'</span> <span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'hidden'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
				<span class="nx">$</span><span class="p">(</span> <span class="s1">'div#addButton'</span><span class="o">+</span><span class="nx">qID</span> <span class="p">).</span><span class="nx">show</span><span class="p">();</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">$</span><span class="p">(</span> <span class="nx">arrayRow</span> <span class="o">+</span> <span class="s1">':eq(1)'</span> <span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span> <span class="o">==</span> <span class="s1">'hidden'</span> <span class="p">)</span>  <span class="p">{</span>
					<span class="nx">$</span><span class="p">(</span> <span class="s1">'div#removeButton'</span><span class="o">+</span><span class="nx">qID</span> <span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
				<span class="p">}</span>
			<span class="p">}</span>

			<span class="c1">// Just some initialization stuff</span>
			<span class="kd">var</span> <span class="nx">arrayRow</span> <span class="o">=</span> <span class="s1">'#question'</span> <span class="o">+</span> <span class="nx">qID</span> <span class="o">+</span> <span class="s1">' table.question tbody'</span><span class="p">;</span>
			<span class="kd">var</span> <span class="nx">rowCount</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>

			<span class="c1">// Initially hide all except first row or any rows with populated inputs</span>
			<span class="nx">$</span><span class="p">(</span> <span class="nx">arrayRow</span> <span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
					<span class="c1">// We also need to give the hidden rows a name cause IE doesn't</span>
					<span class="c1">// recognize jQuery :visible selector consistently</span>
					<span class="nx">$</span><span class="p">(</span> <span class="k">this</span> <span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'hidden'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>

					<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type=text]'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
						<span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'value'</span><span class="p">)</span> <span class="o">!=</span> <span class="s1">''</span><span class="p">)</span> <span class="p">{</span>
							<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">parents</span><span class="p">(</span><span class="s1">'tbody:eq(0)'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'visible'</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
							<span class="nx">$</span><span class="p">(</span> <span class="s1">'div#removeButton'</span><span class="o">+</span><span class="nx">qID</span> <span class="p">).</span><span class="nx">show</span><span class="p">();</span>
						<span class="p">}</span>
					<span class="p">});</span>
					<span class="nx">rowCount</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">});</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="c1">// Call the function with a question ID</span>
	<span class="nx">varLengthArray</span><span class="p">(</span><span class="nx">QQ</span><span class="p">);</span>

<span class="p">});</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Expandable_Array">Expandable Array</span></h1> 
        <p><i>Tested with: 1.90+, IE 6/7, FireFox 3.5, Safari 3.2</i> </p>
        <p>This workaround allows you to present an array question incrementally. That is to say that initially only the first option (row) in the array is shown. When that option is answered the next is shown and so-on. </p>
        <p>A JavaScript function is placed in the source of the array question. This function hides all of the array rows except the first and then displays them as options are answered. </p>
        <p>There is a demo <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://www.partnersinc.biz/surveys//index.php?sid=94958&amp;newtest=Y&amp;lang=en">here</a>. </p>
        <p>The workaround supports following question types: </p> 
        <ul>
         <li>Array (flexible labels)</li> 
         <li>Array (flexible labels) by column</li> 
         <li>Array (Yes/No/Uncertain)</li> 
         <li>Array (Increase, Same, Decrease)</li> 
         <li>Array (Flexible Labels) dual scale</li> 
         <li>Array (10 point choice)</li>
        </ul> 
        <p>Implementation is as follows: </p> 
        <ol>
         <li>Set up your survey to use JavaScript. (See <a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">documentation here</a>)</li> 
         <li>Create one or more Array questions</li> 
         <li>In the source of the first array question add the following script.</li> 
         <li>Replace "QQ" in the function call at the end of the script with the question ID of the array you would like to manipulate.</li> 
         <li>If you want to apply it to more arrays on the same page, simply add more calls with the appropriate question IDs. (eg. expandingArray(1); expandingArray(2);...)</li>
        </ol> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>

	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

		<span class="c1">// A function to show subsequent rows of an array as options are checked</span>
		<span class="kd">function</span> <span class="nx">expandingArray</span><span class="p">(</span><span class="nx">qID</span><span class="p">)</span> <span class="p">{</span>

			<span class="c1">// Build an array of the question rows</span>
			<span class="kd">var</span> <span class="nx">arrayRow</span> <span class="o">=</span> <span class="s1">'#question'</span> <span class="o">+</span> <span class="nx">qID</span> <span class="o">+</span> <span class="s1">' table.question tbody tr'</span><span class="p">;</span>

			<span class="c1">// Initially hide all rows unless an input was previously checked</span>
			<span class="nx">$</span><span class="p">(</span> <span class="nx">arrayRow</span> <span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>

				<span class="k">if</span> <span class="p">(</span> <span class="nx">$</span><span class="p">(</span> <span class="nx">arrayRow</span>  <span class="o">+</span> <span class="s1">':eq('</span> <span class="o">+</span> <span class="nx">i</span> <span class="o">+</span> <span class="s1">') input.radio:checked'</span> <span class="p">).</span><span class="nx">length</span> <span class="o">!=</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
					<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'clickedRow'</span><span class="p">);</span>
				<span class="p">}</span>
				<span class="k">else</span> <span class="p">{</span>
					<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'hidden'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
				<span class="p">}</span>
			<span class="p">});</span>

			<span class="c1">// Now show the first hidden row</span>
			<span class="nx">addRow</span><span class="p">();</span>

			<span class="c1">// Add another row when an option is checked for the first time</span>
			<span class="nx">$</span><span class="p">(</span> <span class="s1">'#question'</span> <span class="o">+</span> <span class="nx">qID</span> <span class="o">+</span> <span class="s1">' td.answer input.radio'</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>

				<span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">parents</span><span class="p">(</span><span class="s1">'tr:eq(0)'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span> <span class="o">!=</span> <span class="s1">'clickedRow'</span><span class="p">)</span> <span class="p">{</span>
					<span class="nx">addRow</span><span class="p">();</span>
					<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">parents</span><span class="p">(</span><span class="s1">'tr:eq(0)'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'clickedRow'</span><span class="p">);</span>
				<span class="p">}</span>

				<span class="c1">// The original function of the click event</span>
				<span class="nx">checkconditions</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="p">);</span>
			<span class="p">});</span>

			<span class="c1">// Add another row when an table cell is clicked for the first time</span>
			<span class="nx">$</span><span class="p">(</span> <span class="s1">'#question'</span> <span class="o">+</span> <span class="nx">qID</span> <span class="o">+</span> <span class="s1">' table.question tbody td'</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>

				<span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">parents</span><span class="p">(</span><span class="s1">'tr:eq(0)'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span> <span class="o">!=</span> <span class="s1">'clickedRow'</span><span class="p">)</span> <span class="p">{</span>
					<span class="nx">addRow</span><span class="p">();</span>
					<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">parents</span><span class="p">(</span><span class="s1">'tr:eq(0)'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'clickedRow'</span><span class="p">);</span>
				<span class="p">}</span>
			<span class="p">});</span>

			<span class="c1">// Function to add a row</span>
			<span class="kd">function</span> <span class="nx">addRow</span><span class="p">()</span> <span class="p">{</span>
				<span class="nx">$</span><span class="p">(</span> <span class="nx">arrayRow</span> <span class="o">+</span> <span class="s1">'[name="hidden"]:first'</span> <span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'visible'</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="c1">// Call the function with a question ID</span>
		<span class="nx">expandingArray</span><span class="p">(</span><span class="nx">QQ</span><span class="p">);</span>

	<span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Partially_Randomized_Answers_-_Array_questions">Partially Randomized Answers - Array questions</span></h1> 
        <p><i>Tested with: 2.05</i> </p>
        <p>This workaround allows the answers of Array questions to be randomized while always keeping one sub-question at the end of the list. </p>
        <p>After the LimeSurvey randomizing has occurred a function in the source of a question moves the sub-question with a defined code to the bottom of the array. </p>
        <p>Implementation is as follows: </p> 
        <ol>
         <li><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use JavaScript</a></li> 
         <li>Create an Array type question. </li> 
         <li>Set the "Random order" question setting to "Randomize on each page load".</li> 
         <li>Place the following script in the source of the question.</li> 
         <li>Modify the "fixedCode" value as required.</li>
        </ol> 
        <p><br> </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>	
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
 
		<span class="c1">// The sub-question code to place in the last position</span>
		<span class="kd">var</span> <span class="nx">fixedCode</span> <span class="o">=</span> <span class="s1">'A1'</span><span class="p">;</span>
 
		<span class="c1">// Identify this question</span>
		<span class="kd">var</span> <span class="nx">q1ID</span> <span class="o">=</span> <span class="p">{</span><span class="nx">QID</span><span class="p">};</span>
		<span class="kd">var</span> <span class="nx">thisQuestion</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q1ID</span><span class="p">);</span>
 
		<span class="c1">// Move the "fixed" row to the end</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'table.subquestion-list tbody'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'tr[id$="X'</span><span class="o">+</span><span class="nx">q1ID</span><span class="o">+</span><span class="nx">fixedCode</span><span class="o">+</span><span class="s1">'"]'</span><span class="p">));</span>
			
		<span class="c1">// Fix up the array row background colours</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'tr.answers-list'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>
			<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">'array1 array2'</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'array'</span><span class="o">+</span><span class="p">(</span><span class="mi">2</span><span class="o">-</span><span class="p">(</span><span class="nx">i</span><span class="o">%</span><span class="mi">2</span><span class="p">)));</span>
		<span class="p">});</span>
 
    <span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p><b>Download sample survey:</b><br> <a href="/images/b/b1/Partially_randomized_array.lss" class="internal" title="Partially randomized array.lss">Partially_randomized_array.lss</a> </p> 
        <h1><span class="mw-headline" id="Partially_Randomized_Answers_-_Multiple_Options_.26_List_.28radio.29_questions">Partially Randomized Answers - Multiple Options &amp; List (radio) questions</span></h1> 
        <p><i>Tested with: 2.05</i> </p>
        <p>This workaround allows the answers of Multiple Options &amp; List (radio) questions to be randomized while always keeping one answer at the end of the list. It's useful if you want to randomize, say, the first 4 of your answers but always have the fifth displayed last as in the image below: </p>
        <p><a href="/File:Random_336x179gif.gif" class="image"><img alt="Random 336x179gif.gif" src="/images/2/28/Random_336x179gif.gif" width="336" height="179"></a> </p>
        <p>After the LimeSurvey randomizing has occurred a function in the source of a question moves the answer with the highest answer code to the end of the list. </p>
        <p>Some conditions on the use of this are: </p> 
        <ul>
         <li>The "Show No answer" survey setting must be set to "No" </li> 
         <li>You must use sequential numbers, starting at 1 as response codes. (See image below)</li>
        </ul> 
        <p><a href="/File:Partially_Randomized_Answers_1.png" class="image"><img alt="Partially Randomized Answers 1.png" src="/images/d/dd/Partially_Randomized_Answers_1.png" width="941" height="201"></a> </p>
        <p>Implementation is as follows: </p> 
        <ol>
         <li><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use JavaScript</a></li> 
         <li>Create a Multiple Options or List (radio) question with sequential response codes. </li> 
         <li>Set the "Random order" question setting to "Randomize on each page load".</li> 
         <li>Place the following script in the source of the question</li>
        </ol> 
        <p><br> </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>	
 
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
 
		<span class="c1">// Identify this question</span>
		<span class="kd">var</span> <span class="nx">qID</span> <span class="o">=</span> <span class="p">{</span><span class="nx">QID</span><span class="p">};</span> 
 
		<span class="c1">// Find the number of answers</span>
		<span class="kd">var</span> <span class="nx">ansCount</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' li.answer-item'</span><span class="p">).</span><span class="nx">length</span><span class="p">;</span>
 
		<span class="c1">// Place the last answer created at the end of the list</span>
		<span class="kd">var</span> <span class="nx">answer</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span> <span class="s1">'input[id$="X'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="nx">ansCount</span><span class="o">+</span><span class="s1">'"]'</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">answerItem</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">answer</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'li'</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">answersList</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">answer</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'ul'</span><span class="p">);</span>
		<span class="nx">$</span><span class="p">(</span><span class="nx">answersList</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">answerItem</span><span class="p">);</span>
 
	<span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p><b>Download sample survey:</b><br> <a href="/images/9/97/Partially_Ranomized_Answers.lss" class="internal" title="Partially Ranomized Answers.lss">Partially_Ranomized_Answers.lss</a> </p> 
        <h1><span class="mw-headline" id="Partially_Randomized_Answers_-_Multiple_Options_.26_List_.28radio.29_questions_.28Enhanced.29">Partially Randomized Answers - Multiple Options &amp; List (radio) questions (Enhanced)</span></h1> 
        <p><i>Tested with LimeSurvey versions 2.06 and 2.50</i> </p>
        <p>This workaround allows the answers of Multiple Options &amp; List (radio) questions to be randomized while always keeping a specified number of answers fixed at the end of the list. It's useful if you want to randomize, say, the first 4 of your answers but always have the fifth and sixth displayed last as in the image below: </p>
        <p><a href="/File:Random_v2.50.png" class="image"><img alt="Random v2.50.png" src="/images/4/4c/Random_v2.50.png" width="321" height="366"></a> </p>
        <p>After the LimeSurvey randomizing has occurred, a function in the source of a question moves the answers with the highest answer codes to the end of the list. </p>
        <p>Some conditions on the use of this are: </p> 
        <ul>
         <li>The "Show No answer" survey setting must be set to "No" </li> 
         <li>You must use sequential numbers, starting at 1 as response codes. (See image below)</li>
        </ul> 
        <p><a href="/File:Random_answers_v2.50.png" class="image"><img alt="Random answers v2.50.png" src="/images/4/4f/Random_answers_v2.50.png" width="552" height="535"></a> </p>
        <p><b>Implementation for LimeSurvey version 2.06:</b> </p> 
        <ol>
         <li><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use JavaScript</a></li> 
         <li>Create a Multiple Options or List (radio) question with sequential response codes. </li> 
         <li>Set the "Random order" question setting to "Randomize on each page load".</li> 
         <li>Place the following script in the source of the question.</li> 
         <li>Modify the "fixedAnswers" variable as required.</li>
        </ol> 
        <p><br> </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>	
	
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	
		<span class="c1">// The number of answers to be fixed at the end of the list</span>
		<span class="kd">var</span> <span class="nx">fixedAnswers</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
		
		<span class="c1">// Identify this question</span>
		<span class="kd">var</span> <span class="nx">qID</span> <span class="o">=</span> <span class="p">{</span><span class="nx">QID</span><span class="p">};</span> 
		
		<span class="c1">// Find the number of answers</span>
		<span class="kd">var</span> <span class="nx">ansCount</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' li.answer-item'</span><span class="p">).</span><span class="nx">length</span><span class="p">;</span>
		
		<span class="c1">// Place the last n answers created at the end of the list</span>
		<span class="kd">var</span> <span class="nx">fixedIndex</span> <span class="o">=</span> <span class="nx">fixedAnswers</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
		<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">fixedAnswers</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">answer</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span> <span class="s1">'input[id$="X'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="p">(</span><span class="nx">ansCount</span><span class="o">-</span><span class="nx">fixedIndex</span><span class="p">)</span><span class="o">+</span><span class="s1">'"]'</span><span class="p">);</span>
			<span class="kd">var</span> <span class="nx">answerItem</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">answer</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'li'</span><span class="p">);</span>
			<span class="kd">var</span> <span class="nx">answersList</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">answer</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'ul'</span><span class="p">);</span>
			<span class="nx">$</span><span class="p">(</span><span class="nx">answersList</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">answerItem</span><span class="p">);</span>
			<span class="nx">fixedIndex</span><span class="o">--</span><span class="p">;</span>
		<span class="p">}</span>		
	<span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p><b>Download sample survey for LS 2.06:</b><br> <a href="/images/6/67/Partially_Randomized_Answers_Enhanced.lss" class="internal" title="Partially Randomized Answers Enhanced.lss">Partially_Randomized_Answers_Enhanced.lss</a> <br><br> <b>Implementation for LimeSurvey version 2.50:</b> </p> 
        <ol>
         <li><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use JavaScript</a></li> 
         <li>Create a Multiple Options or List (radio) question with sequential response codes. </li> 
         <li>Set the "Random order" question setting to "Randomize on each page load".</li> 
         <li>Place the following script in the source of the question.</li> 
         <li>Modify the "fixedAnswers" variable as required.</li>
        </ol> 
        <p><br> </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>	
	
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	
		<span class="c1">// The number of answers to be fixed at the end of the list</span>
		<span class="kd">var</span> <span class="nx">fixedAnswers</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
		
		<span class="c1">// Identify this question</span>
		<span class="kd">var</span> <span class="nx">qID</span> <span class="o">=</span> <span class="p">{</span><span class="nx">QID</span><span class="p">};</span> 
		
		<span class="c1">// Find the number of answers</span>
		<span class="kd">var</span> <span class="nx">ansCount</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' .answer-item'</span><span class="p">).</span><span class="nx">length</span><span class="p">;</span>
		
		<span class="c1">// Place the last n answers created at the end of the list</span>
		<span class="kd">var</span> <span class="nx">fixedIndex</span> <span class="o">=</span> <span class="nx">fixedAnswers</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
		<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">fixedAnswers</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">answer</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'input[id^="answer"][id$="X'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="p">(</span><span class="nx">ansCount</span><span class="o">-</span><span class="nx">fixedIndex</span><span class="p">)</span><span class="o">+</span><span class="s1">'"]'</span><span class="p">);</span>
			<span class="kd">var</span> <span class="nx">answerItem</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">answer</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'.answer-item'</span><span class="p">);</span>
			<span class="kd">var</span> <span class="nx">answersList</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">answer</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'.answers-list'</span><span class="p">);</span>
			<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="p">).</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">'multiple-opt'</span><span class="p">))</span> <span class="p">{</span>
				<span class="nx">answerItem</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">answer</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'.answer-item'</span><span class="p">).</span><span class="nx">parent</span><span class="p">();</span>
				<span class="nx">answersList</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">answer</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'.subquestion-list'</span><span class="p">);</span>
			<span class="p">}</span>
			<span class="nx">$</span><span class="p">(</span><span class="nx">answersList</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">answerItem</span><span class="p">);</span>
			<span class="nx">fixedIndex</span><span class="o">--</span><span class="p">;</span>
		<span class="p">}</span>		
	<span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p><b>Download sample survey for LS 2.50:</b><br> <a href="/images/f/f5/Partially_Randomized_Answers_Enhanced_v2.50.zip" class="internal" title="Partially Randomized Answers Enhanced v2.50.zip">Partially_Randomized_Answers_Enhanced_v2.50.zip</a> </p> 
        <h1><span class="mw-headline" id="Partially_Randomized_Answers_-_List_.28dropdown.29_questions">Partially Randomized Answers - List (dropdown) questions</span></h1> 
        <p><i>Tested with: 1.90+, IE 6/7, FireFox 3.0, Safari 3.2</i> </p>
        <p>This workaround, similar to the one above, allows the answers of List (dropdown) questions to be randomized while always keeping one answer at the end of the list. It's useful if you want to randomize, say, the first 4 of your answers but always have the fifth displayed last. </p>
        <p>A script is placed in the source of a question. After the randomizing has occurred this script moves the answer with the highest answer code to the end of the list. </p>
        <p>There is a demo <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://www.partnersinc.biz/surveys//index.php?sid=89344&amp;newtest=Y&amp;lang=en">here</a>. </p>
        <p>A condition is that you must use sequential numbers, starting at 1 as response codes. (See image below) </p>
        <p><a href="/File:Random_700x154.png" class="image"><img alt="Random 700x154.png" src="/images/a/ae/Random_700x154.png" width="700" height="154"></a> </p>
        <p>Implementation is as follows: </p> 
        <ol>
         <li>Turn off <i>$filterxsshtml</i> to allow insertion of JavaScript in the questions. (See <a href="/Optional_settings#Security" title="Optional settings">documentation here</a>)</li> 
         <li>Create one or more List (dropdown) questions with sequential response codes. Set the <a href="/index.php?title=Advanced_question_settings&amp;action=edit&amp;redlink=1" class="new" title="Advanced question settings (page does not exist)">random_order question attribute</a> to 1.</li> 
         <li>In the source of the first question add the following onload function. (See <a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">How to use script here</a>)</li> 
         <li>Replace "SSSSS", "GG", "QQ" in the function call at the end with the survey ID, group ID and question ID respectively.</li> 
         <li>If you want to apply it to more questions on the same page simply add more calls with the appropriate IDs. (eg. partRandDD(11111, 22, 1); partRandDD(11111, 22, 2); ...)</li>
        </ol> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

		<span class="c1">// Function to allow randomization of all answers</span>
		<span class="c1">//except the last one in List/dropdown questions</span>
		<span class="kd">function</span> <span class="nx">partRandDD</span><span class="p">(</span><span class="nx">sID</span><span class="p">,</span> <span class="nx">gID</span><span class="p">,</span> <span class="nx">qID</span><span class="p">)</span> <span class="p">{</span>

			<span class="c1">// Find the number of answers</span>
			<span class="kd">var</span> <span class="nx">ansCount</span> <span class="o">=</span> <span class="s1">''</span>
			<span class="nx">$</span><span class="p">(</span> <span class="s1">'div#question'</span> <span class="o">+</span> <span class="nx">qID</span> <span class="o">+</span> <span class="s1">' select option'</span> <span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">ansCount</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span>
			<span class="p">});</span>

			<span class="c1">// Place the last answer created at the end of the list</span>
			<span class="nx">$</span><span class="p">(</span> <span class="s1">'option[value="'</span> <span class="o">+</span> <span class="nx">ansCount</span> <span class="o">+</span> <span class="s1">'"]'</span> <span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span> <span class="s1">'div#question'</span> <span class="o">+</span> <span class="nx">qID</span> <span class="o">+</span> <span class="s1">' select'</span> <span class="p">));</span>
		<span class="p">}</span>

		<span class="c1">// Call the function with the SID, GID and QID</span>
		<span class="nx">partRandDD</span><span class="p">(</span><span class="mi">89344</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span> <span class="mi">244</span><span class="p">);</span>

	<span class="p">});</span>

<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Partially_Randomized_Answers_-_Multiple_numerical_input">Partially Randomized Answers - Multiple numerical input</span></h1> 
        <p><i>Tested with: 1.90+, Safari 5.1</i> </p>
        <p>This workaround, similar to the ones above, allows the answers of Multiple numerical input questions to be randomized while always keeping one answer at the end of the list. It's useful if you want to randomize, say, the first 4 of your answers but always have the fifth displayed last. </p>
        <p>An onload function is placed in the source of a question. After the randomizing has occurred this function moves the answer with the highest answer code to the end of the list. </p>
        <p>A condition is that you must use sequential numbers, starting at 1 as response codes. (See image below) </p>
        <p><a href="/File:Random_700x154.png" class="image"><img alt="Random 700x154.png" src="/images/a/ae/Random_700x154.png" width="700" height="154"></a> </p>
        <p>Implementation is as follows: </p> 
        <ol>
         <li>Turn off <i>$filterxsshtml</i> to allow insertion of JavaScript in the questions. (See <a href="/Optional_settings#Security" title="Optional settings">documentation here</a>)</li> 
         <li>Create one or more Multiple numerical input question with sequential response codes. Set the <a href="/index.php?title=Advanced_question_settings&amp;action=edit&amp;redlink=1" class="new" title="Advanced question settings (page does not exist)">random_order question attribute</a> to 1.</li> 
         <li>In the source of the first question add the following onload function. (See <a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">How to use script here</a>)</li> 
         <li>Replace "SSSSS", "GG", "QQ" in the function call at the end with the survey ID, group ID and question ID respectively.</li> 
         <li>If you want to apply it to more questions on the same page simply add more calls with the appropriate IDs. (eg. partRandDD(11111, 22, 1); partRandDD(11111, 22, 2); ...)</li>
        </ol> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

		<span class="c1">// Function to allow randomization of all answers except the last one in multiple numeric input questions</span>
		<span class="kd">function</span> <span class="nx">partRand</span><span class="p">(</span><span class="nx">sID</span><span class="p">,</span> <span class="nx">gID</span><span class="p">,</span> <span class="nx">qID</span><span class="p">)</span> <span class="p">{</span>

			<span class="c1">// Find the number of answers</span>
			<span class="kd">var</span> <span class="nx">ansCount</span> <span class="o">=</span> <span class="s1">''</span>
			<span class="nx">$</span><span class="p">(</span> <span class="s1">'div#question'</span> <span class="o">+</span> <span class="nx">qID</span> <span class="o">+</span> <span class="s1">' div.answers li'</span> <span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">ansCount</span> <span class="o">=</span> <span class="p">(</span><span class="nx">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
			<span class="p">});</span>

			<span class="c1">// Place the last answer created at the end of the list - but before the first helping sum</span>
			<span class="nx">$</span><span class="p">(</span> <span class="s1">'li#javatbd'</span> <span class="o">+</span> <span class="nx">sID</span> <span class="o">+</span> <span class="s1">'X'</span> <span class="o">+</span> <span class="nx">gID</span> <span class="o">+</span> <span class="s1">'X'</span> <span class="o">+</span> <span class="nx">qID</span> <span class="o">+</span> <span class="nx">ansCount</span> <span class="o">+</span> <span class="s1">''</span> <span class="p">).</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span> <span class="s1">'div#question'</span> <span class="o">+</span> <span class="nx">qID</span> <span class="o">+</span> <span class="s1">' div.answers li.multiplenumerichelp'</span> <span class="p">).</span><span class="nx">first</span><span class="p">());</span>

		<span class="p">}</span>

		<span class="c1">// Call the function with the SID, GID and QID</span>
		<span class="nx">partRand</span><span class="p">(</span><span class="nx">SID</span><span class="p">,</span> <span class="nx">GID</span><span class="p">,</span> <span class="nx">QID</span><span class="p">);</span>

	<span class="p">});</span>

<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p>Using this solution for Multiple numerical input questions might be a bit more complicated than for other question types. All answers are organized in an unordered list (&lt;ul&gt;) structure. However, if advanced question settings like <i>Equals sum value</i> are used, LimeSurvey adds helping information (e.g. sum of all entries and remainder) to the same unordered list using the class <i>multiplenumerichelp</i> for these additional list items. The above example assumes that at least one of these list items is present and moves the last answer to the position right above the first helper item. Without such advanced settings, the code will most certainly need adaptation. </p> 
        <h1><span class="mw-headline" id="Making_one_.28or_more.29_rows_of_an_array_mandatory">Making one (or more) rows of an array mandatory</span></h1> 
        <div class="boxed">
         <div class="floatleft">
          <a href="/File:Notice.png" class="image"><img alt="Notice.png" src="/images/thumb/3/35/Notice.png/20px-Notice.png" width="20" height="20" srcset="/images/thumb/3/35/Notice.png/30px-Notice.png 1.5x, /images/thumb/3/35/Notice.png/40px-Notice.png 2x"></a>
         </div> 
         <b>Hint:</b> With Expression manager, you can use 
         <a href="/Expression_Manager_Examples#Using_em_validation_q_in_array" class="mw-redirect" title="Expression Manager Examples">Using em_validation_q in array</a> system.
        </div> 
        <p><br> <i>Tested with: 1.90+, IE 6/7, Firefox 3.0, Safari 3.2</i> </p>
        <p>This workaround allows you to define one or more rows of an array question as mandatory (instead of all of them which the "Mandatory" question setting does). It is <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://www.partnersinc.biz/surveys//index.php?sid=26842&amp;newtest=Y&amp;lang=en">demonstrated here</a>. </p>
        <p>A JavaScript function interrupts the submit function and checks if the inputs in the mandatory row(s) are populated. If not, an alert is popped up, the offending inputs are turned pink and the submit is aborted. Otherwise the submit goes ahead. </p>
        <p>Implementation is as follows: </p> 
        <ol>
         <li>Turn off <i>$filterxsshtml</i> to allow insertion of JavaScript in the questions (see <a href="/Optional_settings#Security" title="Optional settings">documentation here</a>).</li> 
         <li>Create the array question.</li> 
         <li>In the source of the array question add the following script (see <a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">How to use script here</a>).</li> 
         <li>Modify the warningText (line10)as required.</li> 
         <li>Replace "QQ" (lines 13 and 14) with the question ID and add calls as necessary for more rows - the example code renders rows 1 and 3 mandatory.</li>
        </ol> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

		<span class="c1">// Interrupt the submit function</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'form#limesurvey'</span><span class="p">).</span><span class="nx">submit</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

			<span class="c1">// Override the built-in "disable navigation buttons" feature</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'#moveprevbtn, #movenextbtn, #movesubmitbtn'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'disabled'</span><span class="p">,</span> <span class="s1">''</span><span class="p">);</span>

			<span class="kd">var</span> <span class="nx">empty</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
			<span class="kd">var</span> <span class="nx">warningText</span> <span class="o">=</span> <span class="s1">'Please complete the highlighted inputs.'</span><span class="p">;</span>

			<span class="c1">// Call the mandatory row function with question IDs and row numbers</span>
			<span class="nx">mandatoryRow</span><span class="p">(</span><span class="nx">QQ</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
			<span class="nx">mandatoryRow</span><span class="p">(</span><span class="nx">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>

			<span class="c1">// A function to render rows of an array mandatory</span>
			<span class="kd">function</span> <span class="nx">mandatoryRow</span><span class="p">(</span><span class="nx">qID</span><span class="p">,</span> <span class="nx">rowNum</span><span class="p">)</span> <span class="p">{</span>

				<span class="nx">$</span><span class="p">(</span><span class="s1">'div#question'</span> <span class="o">+</span> <span class="nx">qID</span> <span class="o">+</span> <span class="s1">' table.question tbody[id^="javatbd"]:eq('</span> <span class="o">+</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">rowNum</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s1">') input[type="text"]'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>

					<span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span> <span class="o">==</span> <span class="s1">''</span><span class="p">)</span> <span class="p">{</span>
						<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s1">'background-color'</span><span class="p">,</span> <span class="s1">'pink'</span><span class="p">);</span>
						<span class="nx">empty</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
					<span class="p">}</span> 
					<span class="k">else</span> <span class="p">{</span>
						<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s1">'background-color'</span><span class="p">,</span> <span class="s1">'#FFFFFF'</span><span class="p">);</span>
					<span class="p">}</span>
				<span class="p">});</span>
			<span class="p">}</span>

			<span class="k">if</span> <span class="p">(</span><span class="nx">empty</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">alert</span><span class="p">(</span><span class="nx">warningText</span><span class="p">);</span>
				<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
			<span class="p">}</span> 
			<span class="k">else</span> <span class="p">{</span>
				<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">});</span>

	<span class="p">});</span>

<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Randomly_displaying_one_of_a_few_YouTube_videos.2C_and_recording_which_was_displayed">Randomly displaying one of a few YouTube videos, and recording which was displayed</span></h1> 
        <p><i>Tested in 1.85+</i> </p>
        <p>Jason Cleeland has created and documented a method to randomly display one of a number of youtube videos in a single question, and save which one was displayed. </p>
        <p><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="http://www.aptigence.com.au/home/archives/23-Random-display-of-videos-in-a-question-2-YouTube.html">http://www.aptigence.com.au/home/archives/23-Random-display-of-videos-in-a-question-2-YouTube.html</a> </p> 
        <h1><span class="mw-headline" id="Randomly_displaying_one_of_a_few_pictures.2C_and_recording_which_was_displayed">Randomly displaying one of a few pictures, and recording which was displayed</span></h1> 
        <p><i>Tested in 1.91+</i> </p>
        <p>The following steps allow you to randomly display one of a few pictures and record in the dataset which picture was displayed. We use four pictures in this example, but you can easily adapt these scripts according to your needs. </p>
        <p>1. Create a new sub-directory <b>pic</b> in your LimeSurvey folder. </p>
        <p>2. Copy four pictures (named <i>1.jpg</i>, <i>2.jpg</i>, <i>3.jpg</i>, and <i>4.jpg</i>) in this pic sub-directory. </p>
        <p>3. Deactivate the <i>Filter HTML for XSS</i> function in LimeSurvey's <i>Global Settings</i>. </p>
        <p>4. Create a <b>Short free text</b> question where you want these pictures to be displayed. </p>
        <p>5. Figure out the <a href="/SGQA_identifier" title="SGQA identifier">SGQA Identifier</a> of this question (e.g., 12345X67X89). </p>
        <p>6. Paste the following code as question text after activating the editor's <i>Source</i> view and replace both SSSSSXGGXQQ strings with your SGQA identifier: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="nx">Please</span> <span class="nx">have</span> <span class="nx">a</span> <span class="nx">look</span> <span class="nx">at</span> <span class="k">this</span> <span class="nx">picture</span><span class="o">:</span>

<span class="o">&lt;</span><span class="nx">br</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>

<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span>

<span class="kd">function</span><span class="p">(){</span>

<span class="c1">// Find a random number (here between 1 and 4)</span>

<span class="kd">var</span> <span class="nx">randNumber</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="mi">4</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>

<span class="c1">// Save the number as answer of this question</span>

<span class="nx">$</span><span class="p">(</span><span class="s1">'input#answerSSSSSXGGXQQ'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">randNumber</span><span class="p">);</span>

<span class="c1">// Hide this answer field</span>

<span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"answerSSSSSXGGXQQ"</span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s1">'none'</span><span class="p">;</span>

<span class="c1">// Show the picture</span>

<span class="nx">picString</span> <span class="o">=</span> <span class="s1">'&lt;img src="pic/'</span> <span class="o">+</span> <span class="nb">String</span><span class="p">(</span><span class="nx">randNumber</span><span class="p">)</span> <span class="o">+</span> <span class="s1">'.jpg"&gt;'</span><span class="p">;</span>

<span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'pic'</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">picString</span><span class="p">;</span>

<span class="p">}</span>

<span class="p">);</span><span class="o">&lt;</span><span class="err">/script&gt;</span>

<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="err">/p&gt;</span>

<span class="o">&lt;</span><span class="nx">div</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"pic"</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="err">/div&gt;</span>
</pre>
        </div> 
        <p>If you want to display the number of this picture in a later question, use the following code as question text (don't forget to replace the SSSSSXGGXQQ string acordingly): </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="nx">You</span> <span class="nx">saw</span> <span class="nx">picture</span> <span class="nx">number</span> <span class="p">{</span><span class="nx">INSERTANS</span><span class="o">:</span><span class="nx">SSSSSXGGXQQ</span><span class="p">}.</span>
</pre>
        </div> 
        <p>Perhaps you want to display the same picture again in a later question, but a little bit smaller (100px width, 100px height)? Just paste the following code as question text after activating the editor's <i>Source</i> view, and replace the SSSSSXGGXQQ string acordingly: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="nx">Here</span> <span class="nx">you</span> <span class="nx">see</span> <span class="nx">the</span> <span class="nx">picture</span> <span class="nx">again</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">br</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>

<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span>

<span class="kd">function</span><span class="p">(){</span>

<span class="c1">// Get the picture number from previous question</span>

<span class="kd">var</span> <span class="nx">randNumber</span> <span class="o">=</span> <span class="s2">"{INSERTANS:SSSSSXGGXQQ}"</span><span class="p">;</span>

<span class="c1">// Show picture</span>

<span class="nx">picString</span> <span class="o">=</span> <span class="s1">'&lt;img width="100" height="100" src="pic/'</span> <span class="o">+</span> <span class="nb">String</span><span class="p">(</span><span class="nx">randNumber</span><span class="p">)</span> <span class="o">+</span> <span class="s1">'.jpg"&gt;'</span><span class="p">;</span>

<span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'pic'</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">picString</span><span class="p">;</span>

<span class="p">}</span>

<span class="p">);</span><span class="o">&lt;</span><span class="err">/script&gt;</span>

<span class="o">&lt;</span><span class="nx">div</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"pic"</span><span class="o">&gt;</span>

 <span class="o">&lt;</span><span class="err">/div&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Multiple_numerical_input_with_max_num_value_defined_in_token_.28personalized_limit.29">Multiple numerical input with max_num_value defined in token (personalized limit)</span></h1> 
        <p><i>Tested in 1.85+</i> </p> 
        <div class="simplebox">
         As of version 1.92, max_num_value can be an experession, so you can simply enter the {TOKEN} or other variable in that question attribute.
        </div> 
        <p>To make personalized survey with multiple numerical input when max_num_value (Maximum sum value) is different for each user and is loaded from the token use following tricks: </p> 
        <ul>
         <li>Create 1st group with numerical input field (1000X10X11). "Limit"</li> 
         <li>Add java script into this question:</li>
        </ul> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

<span class="kd">function</span> <span class="nx">Custom_On_Load</span><span class="p">(){</span>

  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'answer1000X10X11'</span><span class="p">).</span><span class="nx">value</span><span class="o">=</span><span class="s1">'{TOKEN:ATTRIBUTE_1}'</span><span class="p">;</span>

  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'answer1000X10X11'</span><span class="p">).</span><span class="nx">readOnly</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>

<span class="p">}</span>

<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p>where: </p>
        <p>TOKEN:ATTRIBUTE_1 is individual limit defined in token. </p>
        <p>readOnly=1 // user shouldn't change it. </p> 
        <ul>
         <li>Create 2nd group with multiple numerical input and add "Max value from SGQA" with 1000X10X11 as argument.</li>
        </ul> 
        <p>Note: If you don't want to show first field with numerical input (and show definied limit in different way) you can add 2 lines to above script to hide whole question: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'question85'</span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s1">'none'</span><span class="p">;</span>

<span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'display85'</span><span class="p">).</span><span class="nx">value</span><span class="o">=</span><span class="s1">''</span><span class="p">;</span>
</pre>
        </div> 
        <p>where: </p>
        <p>question85 and display85 are field names. </p>
        <p>Note: It's no possible to create it into one group, because all SGQA references can only refer to data on a previous page because when clicking next the answer is stored at the DB and the SGQA is replaced by querying the database. </p> 
        <h1><span class="mw-headline" id="Default_values_in_array_questions">Default values in array questions</span></h1> 
        <p><i>Tested with: 2.05+</i> </p>
        <p>This workaround uses JavaScript to allow you to pre-check default answers in all sub-questions of an array type question. You can select a column of the array to be checked as the page loads. The script first checks to see if a sub-question has already been answered and, if not, checks the default answer. </p>
        <p>Implementation is as follows: </p> 
        <ol>
         <li><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use script</a>.</li> 
         <li>Create the array question.</li> 
         <li>In the source of the array question add the following script.</li> 
         <li>Replace"QQ" with the question ID and "CC" with the column number to be checked.</li>
        </ol> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>	
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="c1">// A function to pre-check a column of an array</span>
		<span class="kd">function</span> <span class="nx">checkedDefault</span><span class="p">(</span><span class="nx">qID</span><span class="p">,</span> <span class="nx">column</span><span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">checkedCol</span> <span class="o">=</span> <span class="nx">column</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' tr.subquestions-list'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'input.checkbox:checked'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
					<span class="nx">$</span><span class="p">(</span><span class="s1">'input.checkbox:eq('</span><span class="o">+</span><span class="nx">checkedCol</span><span class="o">+</span><span class="s1">')'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">prop</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
					<span class="nx">$</span><span class="p">(</span><span class="s1">'input.checkbox:eq('</span><span class="o">+</span><span class="nx">checkedCol</span><span class="o">+</span><span class="s1">')'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">parent</span><span class="p">().</span><span class="nx">find</span><span class="p">(</span><span class="s1">'input[type="hidden"]'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
				<span class="p">}</span>
			<span class="p">});</span>
		<span class="p">}</span>
		<span class="c1">// Call the function with a question ID and column number</span>
		<span class="nx">checkedDefault</span><span class="p">(</span><span class="nx">QQ</span><span class="p">,</span> <span class="nx">CC</span><span class="p">);</span>
	<span class="p">});</span>

<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Default_Values_In_One_Scale_Of_A_Dual-scale_Array_Question">Default Values In One Scale Of A Dual-scale Array Question</span></h1> 
        <p><i>Tested with: 2.0+, IE 9/10, Firefox 24</i> </p>
        <p><b>Overview</b><br> This workaround uses JavaScript to allow you to pre-check default answers in all sub-questions of one scale of a dual-scale-array type question. You can select a scale and a column of that scale to be checked. The script first checks to see if a sub-question has already been answered and, if not, checks the default answer. </p>
        <p><b>Implementation:</b> </p> 
        <ol>
         <li><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use script</a>.</li> 
         <li>Create the array question.</li> 
         <li>In the source of the array question add the following script.</li> 
         <li>Adjust "<i>defaultAnsweredScale</i>" and "<i>defaultAnsweredColumn</i>" as necessary.</li>
        </ol> 
        <p><br> </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>	
 
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  
		<span class="c1">// Scale to set the default answer on</span>
		<span class="kd">var</span> <span class="nx">defaultAnsweredScale</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> 
		<span class="c1">// Column of that scale to set as default answer</span>
		<span class="kd">var</span> <span class="nx">defaultAnsweredColumn</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
		
		<span class="c1">// Identify this question</span>
		<span class="kd">var</span> <span class="nx">thisQuestion</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#question{self.qid}'</span><span class="p">);</span>
		
		<span class="c1">// Identify the scales and columns</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'.answer-item[class^="answer_cell_1"]'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'scale-1-item'</span><span class="p">);</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'.answer-item[class^="answer_cell_2"]'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'scale-2-item'</span><span class="p">);</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'tr.answers-list'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'.scale-1-item'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'scale-1-column-'</span><span class="o">+</span><span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s1">'-item'</span><span class="p">);</span>
			<span class="p">});</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'.scale-2-item'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'scale-2-column-'</span><span class="o">+</span><span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s1">'-item'</span><span class="p">);</span>
			<span class="p">});</span>
		<span class="p">});</span>
		
		<span class="c1">// Click the default answers</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'tr.answers-list'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'.scale-'</span><span class="o">+</span><span class="nx">defaultAnsweredScale</span><span class="o">+</span><span class="s1">'-item input[type="radio"]:checked'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'.scale-'</span><span class="o">+</span><span class="nx">defaultAnsweredScale</span><span class="o">+</span><span class="s1">'-column-'</span><span class="o">+</span><span class="nx">defaultAnsweredColumn</span><span class="o">+</span><span class="s1">'-item input[type="radio"]:last'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">click</span><span class="p">();</span>
			<span class="p">}</span>
		<span class="p">});</span>
	<span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p><br> <b>Download sample survey:</b><br> <a href="/images/7/78/Dual_scale_with_default_answers.lss" class="internal" title="Dual scale with default answers.lss">Dual_scale_with_default_answers.lss</a> </p> 
        <h1><span class="mw-headline" id="Record_group_view_time">Record group view time</span></h1> 
        <p><i>Tested with: 1.87+ (8518), IE 6/7, Firefox 3.5, Safari 3.2</i> </p> 
        <div class="simplebox">
         As of version 1.92, group view time is accurately recorded in the timings table if you choose the Record Timings survey option.
        </div> 
        <p>This workaround uses JavaScript to populate a hidden question with the total time that a respondent views a group. If used in a group with only one question, it could be used to track the amount of time required to answer the question. </p>
        <p>Implementation is as follows: </p> 
        <ol>
         <li><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use JavaScript</a>.</li> 
         <li>In the group, create a short-text question. We will hide this later with JavaScript and populate it with the elapsed time.</li> 
         <li>Place the following script in the source of the short-text question.</li> 
         <li>Replace "QQ" in line 6 with the ID of the short-text question.</li>
        </ol> 
        <p>The script populates the hidden question with the elapsed time since the group was opened. If a respondent leaves the group and then returns, the timer continues up from the elapsed time of the last visit. </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

   <span class="err">$</span><span class="p">(</span><span class="nx">document</span><span class="p">)</span><span class="o">.</span><span class="nx">ready</span><span class="p">(</span><span class="k">function</span><span class="p">(){</span>

       <span class="c1">// call the functions with the hidden timer question ID</span>

       <span class="nx">runTimer</span><span class="p">(</span><span class="nx">QQ</span><span class="p">);</span>

       <span class="k">function</span> <span class="nf">runTimer</span><span class="p">(</span><span class="nx">timeQID</span><span class="p">)</span> <span class="p">{</span>

           <span class="err">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">timeQID</span><span class="p">)</span><span class="o">.</span><span class="nx">hide</span><span class="p">();</span>

           <span class="k">var</span> <span class="nx">initSec</span> <span class="o">=</span> <span class="s1">'0'</span><span class="p">;</span>

           <span class="c1">// Check for elapsed time from previous visits</span>

           <span class="k">if</span> <span class="p">(</span><span class="err">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">timeQID</span><span class="o">+</span><span class="s1">' input.text'</span><span class="p">)</span><span class="o">.</span><span class="nx">val</span><span class="p">())</span> <span class="p">{</span>

               <span class="k">var</span> <span class="nx">initTime</span> <span class="o">=</span> <span class="err">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">timeQID</span><span class="o">+</span><span class="s1">' input.text'</span><span class="p">)</span><span class="o">.</span><span class="nx">val</span><span class="p">();</span>

               <span class="nx">initTimeArr</span> <span class="o">=</span> <span class="nx">initTime</span><span class="o">.</span><span class="nb">split</span><span class="p">(</span><span class="s1">':'</span><span class="p">);</span>

               <span class="nx">initSec</span> <span class="o">=</span> <span class="nx">Number</span><span class="p">[[</span><span class="nx">initTimeArr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">3600</span><span class="p">]]</span><span class="o">+</span><span class="nx">Number</span><span class="p">[[</span><span class="nx">initTimeArr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">60</span><span class="p">]]</span><span class="o">+</span><span class="nx">Number</span><span class="p">(</span><span class="nx">initTimeArr</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>

           <span class="p">}</span>

           <span class="c1">// Run the timer update function</span>

           <span class="nx">recordTime</span><span class="p">(</span><span class="nx">initSec</span><span class="p">,</span> <span class="nx">timeQID</span><span class="p">);</span>

       <span class="p">}</span>

   <span class="p">});</span>

   <span class="c1">// Timer update function</span>

   <span class="k">function</span> <span class="nf">recordTime</span><span class="p">(</span><span class="nx">elapsedSec</span><span class="p">,</span> <span class="nx">timeQID</span><span class="p">){</span>

       <span class="nx">elapsedSec</span><span class="o">++</span><span class="p">;</span>

       <span class="k">var</span> <span class="nx">h</span> <span class="o">=</span> <span class="nx">Math</span><span class="o">.</span><span class="nb">floor</span><span class="p">(</span><span class="nx">elapsedSec</span> <span class="o">/</span> <span class="mi">3600</span><span class="p">);</span>

       <span class="k">var</span> <span class="nx">m</span> <span class="o">=</span> <span class="nx">Math</span><span class="o">.</span><span class="nb">floor</span><span class="p">(</span><span class="nx">elapsedSec</span> <span class="o">%</span> <span class="mi">3600</span> <span class="o">/</span> <span class="mi">60</span><span class="p">);</span>

       <span class="k">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nx">Math</span><span class="o">.</span><span class="nb">floor</span><span class="p">(</span><span class="nx">elapsedSec</span> <span class="o">%</span> <span class="mi">3600</span> <span class="o">%</span> <span class="mi">60</span><span class="p">);</span>

       <span class="k">var</span> <span class="nx">elapsedTime</span> <span class="o">=</span> <span class="p">[[</span><span class="nx">h</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="nx">h</span> <span class="o">+</span> <span class="s2">":"</span> <span class="o">:</span> <span class="s2">"00:"</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="nx">m</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="p">(</span><span class="nx">m</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="o">?</span> <span class="s2">"0"</span> <span class="o">:</span> <span class="s2">""</span><span class="p">)</span> <span class="o">+</span> <span class="nx">m</span> <span class="o">+</span> <span class="s2">":"</span> <span class="o">:</span> <span class="s2">"00:"</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="nx">s</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="o">?</span> <span class="s2">"0"</span> <span class="o">:</span> <span class="s2">""</span><span class="p">)</span> <span class="o">+</span> <span class="nx">s</span><span class="p">);</span>

        <span class="err">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">timeQID</span><span class="o">+</span><span class="s1">' input.text'</span><span class="p">)</span><span class="o">.</span><span class="nx">val</span><span class="p">(</span><span class="nx">elapsedTime</span><span class="p">);</span>

        <span class="c1">// Run the timer update function every second</span>

        <span class="nx">setTimeout</span><span class="p">(</span><span class="s1">'recordTime('</span><span class="o">+</span><span class="nx">elapsedSec</span><span class="o">+</span><span class="s1">', '</span><span class="o">+</span><span class="nx">timeQID</span><span class="o">+</span><span class="s1">')'</span><span class="p">,</span><span class="mi">1000</span><span class="p">);</span>

    <span class="p">}</span>

 <span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Toggle_visibility_of_groups">Toggle visibility of groups</span></h1> 
        <p><i>Tested with: 1.90+, IE 6/7/8, Firefox 3.6, Safari 3.2</i> </p>
        <p>This workaround uses JavaScript to toggle the visibility of groups in an "all in one" survey. Initially the groups are hidden and there are links inserted to display the groups. It's useful to avoid the page being cluttered with many groups and lets the respondent focus on one at a time. </p>
        <p>It's <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://www.partnersinc.biz/surveys//index.php?sid=33613&amp;newtest=Y&amp;lang=en">demonstrated here</a>. </p>
        <p>Implementation is as follows: </p> 
        <ol>
         <li><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use JavaScript</a>.</li> 
         <li>Set the survey to run in "all in one" mode.</li> 
         <li>Add your groups and questions.</li> 
         <li>Place the following script in the source of one of the questions in the first group.</li>
        </ol> 
        <p><br> The comments in the script are pretty self-explanatory but it does the following: </p> 
        <ol>
         <li>initially hides all of the groups</li> 
         <li>inserts a link above each one to toggle its display</li> 
         <li>some styles are added to the clickable links but these could be done in template.css instead</li> 
         <li>shows any groups that have an unanswered mandatory after a submit attempt</li>
        </ol> 
        <p><br> </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>

		<span class="c1">// Insert show/hide divs before all group wrapper divs</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'&lt;div class="groupToggler"&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;'</span><span class="p">).</span><span class="nx">insertBefore</span><span class="p">(</span><span class="s1">'div[id^="group-"]'</span><span class="p">);</span>
		
		<span class="c1">// Add some text to the show/hide divs</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'.groupToggler span'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
			<span class="p">(</span><span class="nx">$</span><span class="p">(</span> <span class="k">this</span> <span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="s1">'Show/Hide Group '</span><span class="o">+</span><span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s1">''</span><span class="p">));</span>
		<span class="p">});</span>
		
		<span class="c1">// Add some styles to the show/hide divs</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'.groupToggler'</span><span class="p">).</span><span class="nx">css</span><span class="p">({</span>
			<span class="s1">'padding'</span><span class="o">:</span><span class="s1">'5px 0 10px 0'</span><span class="p">,</span>
			<span class="s1">'text-align'</span><span class="o">:</span><span class="s1">'center'</span>
		<span class="p">});</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'.groupToggler span'</span><span class="p">).</span><span class="nx">css</span><span class="p">({</span>
			<span class="s1">'text-decoration'</span><span class="o">:</span><span class="s1">'underline'</span><span class="p">,</span>			
			<span class="s1">'cursor'</span><span class="o">:</span><span class="s1">'pointer'</span>
		<span class="p">});</span>
		
		<span class="c1">// Add some hover effects to the show/hide divs</span>
		<span class="nx">$</span><span class="p">(</span><span class="s2">".groupToggler span"</span><span class="p">).</span><span class="nx">hover</span><span class="p">(</span>
			<span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
				<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">css</span><span class="p">({</span>
					<span class="s1">'text-decoration'</span><span class="o">:</span><span class="s1">'none'</span><span class="p">,</span>
					<span class="s1">'font-weight'</span><span class="o">:</span><span class="s1">'bold'</span>
				<span class="p">});</span>
			<span class="p">},</span> 
			<span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
				<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">css</span><span class="p">({</span>
					<span class="s1">'text-decoration'</span><span class="o">:</span><span class="s1">'underline'</span><span class="p">,</span>
					<span class="s1">'font-weight'</span><span class="o">:</span><span class="s1">'normal'</span>
				<span class="p">});</span>
			<span class="p">}</span>
		<span class="p">);</span>
		
		<span class="c1">// Initially hide all of the groups</span>
		<span class="c1">// Toggle their visibility when the show/hide is clicked</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'.groupToggler span'</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">parent</span><span class="p">().</span><span class="nx">next</span><span class="p">().</span><span class="nx">toggle</span><span class="p">();</span>
			<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
		<span class="p">}).</span><span class="nx">parent</span><span class="p">().</span><span class="nx">next</span><span class="p">().</span><span class="nx">hide</span><span class="p">();</span>
		
		<span class="c1">// Display any groups that have unanswered mandatories</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'.errormandatory'</span><span class="p">).</span><span class="nx">parents</span><span class="p">(</span><span class="s1">'div[id^="group-"]'</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
		
		<span class="c1">// Some tidying up</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'h1'</span><span class="p">).</span><span class="nx">next</span><span class="p">().</span><span class="nx">next</span><span class="p">().</span><span class="nx">hide</span><span class="p">();</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'.surveywelcome'</span><span class="p">).</span><span class="nx">css</span><span class="p">({</span>
			<span class="s1">'margin-bottom'</span><span class="o">:</span><span class="s1">'10px'</span>
		<span class="p">});</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'.surveywelcome'</span><span class="p">).</span><span class="nx">next</span><span class="p">().</span><span class="nx">hide</span><span class="p">();</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'.surveywelcome'</span><span class="p">).</span><span class="nx">next</span><span class="p">().</span><span class="nx">next</span><span class="p">().</span><span class="nx">hide</span><span class="p">();</span>

	<span class="p">});</span>

<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Use_jQuery_Autocomplete_plugin_to_suggest_answers_for_text_inputs">Use jQuery Autocomplete plugin to suggest answers for text inputs</span></h1> 
        <h2><span class="mw-headline" id="1.90_and_previous_versions">1.90 and previous versions</span></h2> 
        <p><i>Tested with: 1.90+, IE 6/7/8, Firefox 3.6, Safari 3.2</i> </p>
        <p>This workaround uses the <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://docs.jquery.com/Plugins/Autocomplete">jQuery Autocomplete</a> plugin to provide a respondent a list of suggested answers that the they can select from as they type in a text input. </p>
        <p>Although the plugin allows for much more complex applications, the two that I use most frequently are outlined below. The first method uses a relatively small list of suggestions that is stored in an array locally. The second is a little more complex - it uses a remote CSV file of suggestions that is accessed through AJAX an PHP. </p>
        <p>I've put together a small demonstration <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://www.partnersinc.biz/surveys//index.php?sid=78611&amp;newtest=Y&amp;lang=en">here</a> and implementation is as follows. </p>
        <p><b>Both methods:</b> </p> 
        <ul>
         <li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://docs.jquery.com/Plugins/Autocomplete">Download the plugin</a></li> 
         <li>Place the files <i>jquery.autocomplete.css</i> and <i>jquery.autocomplete.js</i> in your template directory</li> 
         <li>Add the following code inside the &lt;head&gt; element of startpage.pstpl</li>
        </ul> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">src</span><span class="o">=</span><span class="s2">"{TEMPLATEURL}jquery.autocomplete.js"</span><span class="o">&gt;&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nb">link</span> <span class="nx">rel</span><span class="o">=</span><span class="s2">"stylesheet"</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/css"</span> <span class="nx">href</span><span class="o">=</span><span class="s2">"{TEMPLATEURL}jquery.autocomplete.css"</span> <span class="o">/&gt;</span>
</pre>
        </div> 
        <p><b>Method 1 ("States" question in the demo):</b> </p> 
        <ul>
         <li>Create a text input question</li> 
         <li>Add the following script to the source of the text question</li> 
         <li>Replace "QQ" with the ID of the text input question</li> 
         <li>Replace the states with your list of suggestions (comma separated)</li>
        </ul> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

		<span class="kd">var</span> <span class="nx">q1ID</span> <span class="o">=</span> <span class="nx">QQ</span><span class="p">;</span>

		<span class="kd">var</span> <span class="nx">states</span> <span class="o">=</span> <span class="s2">"Alabama,Alaska,Arizona,Arkansas,California,Colorado,Connecticut,Delaware, District of Columbia,Florida,Georgia,Hawaii,Idaho,Illinois,Indiana,Iowa,Kansas,Kentucky, Louisiana,Maine,Montana,Nebraska,Nevada,New Hampshire,New Jersey,New Mexico,New York, North Carolina,North Dakota,Ohio,Oklahoma,Oregon,Maryland,Massachusetts,Michigan, Minnesota,Mississippi,Missouri,Pennsylvania,Rhode Island,South Carolina,South Dakota, Tennessee,Texas,Utah,Vermont,Virginia,Washington,West Virginia,Wisconsin,Wyoming"</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">','</span><span class="p">);</span>

		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q1ID</span><span class="o">+</span><span class="s1">' input.text'</span><span class="p">).</span><span class="nx">autocomplete</span><span class="p">(</span><span class="nx">states</span><span class="p">,</span> <span class="p">{</span>
			<span class="nx">matchContains</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
			<span class="nx">minChars</span><span class="o">:</span> <span class="mi">0</span>
		<span class="p">});</span>
   <span class="p">});</span>

<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p><b>Method 2 ("Countries" question in the demo):</b> </p> 
        <ul>
         <li>Place the CSV file of suggestions in your template directory. </li> 
         <li>Place a PHP file containing the code below in your template directory</li> 
         <li>Replace "countries2.csv" with your CSV filename (you could make this more universal by passing the filename in the URL)</li> 
         <li>This file will grab the contents of the CSV and encode them in JSON format that the JavaScript can use</li> 
         <li>Place the JavaScript code below in ths source of the text question</li> 
         <li>Replace "QQ" with the ID of the text input question</li> 
         <li>Replace "templates/yourTemplate/countries.php" with the path to the PHP file (from LimeSurvey root)</li> 
         <li>This script will grab the jsonized data from the PHP file and load it into an array that the plugin can use</li>
        </ul> 
        <p>PHP code: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="cp">&lt;?php</span>

	<span class="nv">$countriesArr</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

	<span class="nv">$file_handle</span> <span class="o">=</span> <span class="nb">fopen</span><span class="p">(</span><span class="s2">"countries2.csv"</span><span class="p">,</span> <span class="s2">"r"</span><span class="p">);</span>

	<span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="nb">feof</span><span class="p">(</span><span class="nv">$file_handle</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nv">$line_of_text</span> <span class="o">=</span> <span class="nb">fgetcsv</span><span class="p">(</span><span class="nv">$file_handle</span><span class="p">);</span>
		<span class="nb">array_push</span><span class="p">(</span><span class="nv">$countriesArr</span><span class="p">,</span> <span class="nv">$line_of_text</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
	<span class="p">}</span>

	<span class="nb">fclose</span><span class="p">(</span><span class="nv">$file_handle</span><span class="p">);</span>

	<span class="k">echo</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$countriesArr</span><span class="p">);</span>

<span class="cp">?&gt;</span><span class="x"></span>
</pre>
        </div> 
        <p>JavaScript code: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

		<span class="kd">var</span> <span class="nx">qID</span> <span class="o">=</span> <span class="nx">QQ</span><span class="p">;</span>
		<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"templates/yourTemplate/countries.php"</span><span class="p">;</span>
		<span class="kd">var</span> <span class="nx">countriesArr</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">();</span>

		<span class="nx">$</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>

			<span class="nx">$</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">item</span><span class="p">){</span>
				<span class="nx">countriesArr</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">item</span><span class="p">);</span>
			<span class="p">});</span>

			<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' input.text'</span><span class="p">).</span><span class="nx">autocomplete</span><span class="p">(</span><span class="nx">countriesArr</span><span class="p">,</span> <span class="p">{</span>
				<span class="nx">matchContains</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
				<span class="nx">minChars</span><span class="o">:</span> <span class="mi">0</span>
			<span class="p">});</span>
		<span class="p">});</span>
	<span class="p">});</span>

<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <h2><span class="mw-headline" id="1.91_and_later_versions">1.91 and later versions</span></h2> 
        <p><i>Tested with: 1.91+, IE 6/7/8, Firefox 3.6, Safari 3.2</i> </p>
        <p>This workaround uses the <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://jqueryui.com/demos/autocomplete/">Autocomplete widget</a> included with jQuery UI to provide a respondent a list of suggested answers that the they can select from as they type in a text input. </p>
        <p>Although the plugin allows for much more complex applications, the two that I use most frequently are outlined below. The first method uses a relatively small list of suggestions that is stored in an array locally. The second is a little more complex - it uses a remote CSV file of suggestions that is accessed through AJAX an PHP. </p>
        <p><b>Both methods:</b> </p> 
        <ul>
         <li>Add the following styles to the end of your 'template.css' file</li>
        </ul> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="c">/* Autocomplete styles */</span>

<span class="nt">ul</span><span class="nc">.ui-autocomplete</span> <span class="p">{</span>
	<span class="nb">width</span><span class="o">:</span> <span class="m">250px</span> <span class="cp">!important</span><span class="p">;</span>
	<span class="nb">padding</span><span class="o">:</span> <span class="m">5px</span> <span class="m">10px</span><span class="p">;</span>
	<span class="nb">list-style</span><span class="o">:</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>
</pre>
        </div> 
        <p><b>Method 1 (use local JavaScript array for data):</b> </p> 
        <ul>
         <li>Create a text input question</li> 
         <li>Add the following script to the source of the text question</li> 
         <li>Replace "QQ" with the ID of the text input question</li> 
         <li>Replace the states with your list of suggestions (comma separated)</li>
        </ul> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

		<span class="kd">var</span> <span class="nx">q1ID</span> <span class="o">=</span> <span class="s1">'QQ'</span><span class="p">;</span>

		<span class="kd">var</span> <span class="nx">states</span> <span class="o">=</span> <span class="s2">"Alabama,Alaska,Arizona,Arkansas,California,Colorado,Connecticut,Delaware, District of Columbia,Florida,Georgia,Hawaii,Idaho,Illinois,Indiana,Iowa,Kansas,Kentucky, Louisiana,Maine,Montana,Nebraska,Nevada,New Hampshire,New Jersey,New Mexico,New York, North Carolina,North Dakota,Ohio,Oklahoma,Oregon,Maryland,Massachusetts,Michigan, Minnesota,Mississippi,Missouri,Pennsylvania,Rhode Island,South Carolina,South Dakota, Tennessee,Texas,Utah,Vermont,Virginia,Washington,West Virginia,Wisconsin,Wyoming"</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">','</span><span class="p">);</span>

		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">q1ID</span><span class="o">+</span><span class="s1">' input.text'</span><span class="p">).</span><span class="nx">autocomplete</span><span class="p">({</span>
			<span class="nx">source</span><span class="o">:</span> <span class="nx">states</span>
		<span class="p">});</span>

	<span class="p">});</span>

<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p><b>Method 2 (use remote CSV file for data):</b> </p> 
        <ul>
         <li>Place the CSV file of suggestions in your template directory</li> 
         <li>Place a PHP file containing the code below in your template directory</li> 
         <li>Replace "countries2.csv" with your CSV filename (you could make this more universal by passing the filename in the URL)</li> 
         <li>This file will grab the contents of the CSV and encode them in JSON format that the JavaScript can use</li> 
         <li>Place the JavaScript code below in ths source of the text question</li> 
         <li>Replace "QQ" with the ID of the text input question</li> 
         <li>Replace "templates/yourTemplate/countries.php" with the path to the PHP file (from LimeSurvey root)</li> 
         <li>This script will grab the jsonized data from the PHP file and load it into an array that the plugin can use</li>
        </ul> 
        <p>PHP code: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="cp">&lt;?php</span>

	<span class="nv">$countriesArr</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

	<span class="nv">$file_handle</span> <span class="o">=</span> <span class="nb">fopen</span><span class="p">(</span><span class="s2">"countries2.csv"</span><span class="p">,</span> <span class="s2">"r"</span><span class="p">);</span>

	<span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="nb">feof</span><span class="p">(</span><span class="nv">$file_handle</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nv">$line_of_text</span> <span class="o">=</span> <span class="nb">fgetcsv</span><span class="p">(</span><span class="nv">$file_handle</span><span class="p">);</span>
		<span class="nb">array_push</span><span class="p">(</span><span class="nv">$countriesArr</span><span class="p">,</span> <span class="nv">$line_of_text</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
	<span class="p">}</span>

	<span class="nb">fclose</span><span class="p">(</span><span class="nv">$file_handle</span><span class="p">);</span>

	<span class="k">echo</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$countriesArr</span><span class="p">);</span>

<span class="cp">?&gt;</span><span class="x"></span>
</pre>
        </div> 
        <p>JavaScript code: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

		<span class="kd">var</span> <span class="nx">qID</span> <span class="o">=</span> <span class="nx">QQ</span><span class="p">;</span>
		<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"templates/yourTemplate/countries.php"</span><span class="p">;</span>
		<span class="kd">var</span> <span class="nx">dataArr</span> <span class="o">=</span> <span class="p">[];</span>

		<span class="nx">$</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>

			<span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">item</span><span class="p">){</span>
				<span class="nx">dataArr</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">item</span><span class="p">);</span>
			<span class="p">});</span>

			<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' input.text'</span><span class="p">).</span><span class="nx">autocomplete</span><span class="p">({</span>
				<span class="nx">source</span><span class="o">:</span> <span class="nx">dataArr</span>
			<span class="p">});</span>

		<span class="p">});</span>

	<span class="p">});</span>

<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p><br> </p> 
        <h2><span class="mw-headline" id="Update_for_LimeSurvey_2.05.2B">Update for LimeSurvey 2.05+</span></h2> 
        <p><i>Tested with: 2.05+, Chrome 40, FireFox 36, Opera 27, IE 11</i> </p>
        <p><b>With LimeSurvey 2.05+ it is NOT necessary to:</b> </p> 
        <ol>
         <li>Download the jQuery Autocomplete widget</li> 
         <li>Add special autocomplete styling to the survey template (tested with the Skeletonquest template by Denis Chenu)</li> 
        </ol> 
        <p>This workaround builds on the previous examples, but is updated for use with newer versions of LimeSurvey. Note that the <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://jqueryui.com/demos/autocomplete/">Autocomplete widget</a> is already included in LimeSurvey, as part of jQuery UI. </p>
        <p><br> Autocomplete may be configured to use different types of data input, three of which will be demonstrated in the following: Plain text, CSV-files, and MySQL databases. </p>
        <p><br> <b>1. Plain text input (the easiest, suitable for small lists or arrays).</b> </p>
        <p>To enable autocomplete of a list in plain text, simply add the following code to your question source. You will have to change qID to the question ID of the question you want the autocomplete to run in (this does not have to be the one you add the script to). In this case, the list has been added to the source directly, but you may also call the list as a predefined variable (see <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://jqueryui.com/demos/autocomplete/">jQuery website</a> for example): </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>
 
    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
 
		<span class="kd">var</span> <span class="nx">qID</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
 
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' input[type="text"]'</span><span class="p">).</span><span class="nx">autocomplete</span><span class="p">({</span>
			<span class="nx">minLength</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="c1">// This line is optional, signifies number of keystrokes before autocomplete is initiated</span>
			<span class="nx">source</span><span class="o">:</span> <span class="p">[</span><span class="s2">"Test1"</span><span class="p">,</span><span class="s2">"Test2"</span><span class="p">,</span><span class="s2">"Test3"</span><span class="p">]</span>
		<span class="p">});</span>
 
	<span class="p">});</span>
 
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p><br> <b>2. Input from CSV file (a little trickier, requires several files. Suitable for larger lists and arrays).</b> </p>
        <p>Please note that, with this method, all processing happens browser-side. Thus, the entire contents of your CSV file will be exposed, no matter where you "hide" it (it is not possible to request files from outside the webroot on your server using javascript). If any of this concerns you, please proceed to the next paragraph, which deals with autocomplete based on database queries. To enable autocomplete based on output from a CSV file, you will need the following: </p> 
        <ol>
         <li>A comma-separated data file (CSV)</li> 
         <li>The <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="https://code.google.com/p/jquery-csv/">jquery.csv.js plugin</a> (v0.71)</li> 
        </ol> 
        <p>First, download the jquery.csv.js script, and place it in the template folder (may require manual FTP, rather than upload through the template manager). You will need to call this script in the head section of the survey page, which you find in startpage.pstpl. Make sure you call it <strong>before</strong> {TEMPLATEJS}. </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/javascript"</span> <span class="na">src</span><span class="o">=</span><span class="s">"{TEMPLATEURL}jquery.csv.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre>
        </div> 
        <p><br> To make the CSV file, you may use Microsoft Excel and "Save as CSV". Note that Excel produces CSV files where the columns are separated by a <strong>semicolon</strong>, not a comma. To make this work with the jquery.csv.js plugin, you will have to edit the jquery.csv.js file on line 43: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="mi">41</span>  <span class="nx">$</span><span class="p">.</span><span class="nx">csv</span> <span class="o">=</span> <span class="p">{</span>
<span class="mi">42</span>    <span class="nx">defaults</span><span class="o">:</span> <span class="p">{</span>
<span class="mi">43</span>      <span class="nx">separator</span><span class="o">:</span><span class="s1">','</span><span class="p">,</span>  <span class="c1">// Change this to: separator:';',</span>
<span class="mi">44</span>      <span class="nx">delimiter</span><span class="o">:</span><span class="s1">'"'</span><span class="p">,</span>
<span class="mi">45</span>      <span class="nx">headers</span><span class="o">:</span><span class="kc">true</span>
<span class="mi">46</span>    <span class="p">},</span>
</pre>
        </div> 
        <p><br> Once the CSV file is in place, add the following javascript to your question source, using the correct question ID (qID) and url/filename for your CSV file: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

        <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

                <span class="kd">var</span> <span class="nx">qID</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

		<span class="kd">var</span> <span class="nx">surveyRoot</span> <span class="o">=</span> <span class="nx">location</span><span class="p">.</span><span class="nx">pathname</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">'index.php'</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
                <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">surveyRoot</span><span class="o">+</span><span class="s1">'datafile.csv'</span><span class="p">;</span>

                <span class="c1">// Create an array to hold the data</span>
                <span class="kd">var</span> <span class="nx">testArr</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">();</span>

                <span class="c1">// Grab the CSV contents</span>
                <span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>
				
                        <span class="c1">// Convert CSV contents to an array of arrays</span>
                        <span class="nx">fullArray</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">csv</span><span class="p">.</span><span class="nx">toArrays</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>

                        <span class="c1">// Load the data array</span>
                        <span class="nx">$</span><span class="p">(</span><span class="nx">fullArray</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">item</span><span class="p">){</span>
                                <span class="nx">testArr</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">item</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
			<span class="p">});</span>


                        <span class="c1">// Initialise the autocomplete plugin</span>
                        <span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' input.text'</span><span class="p">).</span><span class="nx">autocomplete</span><span class="p">({</span>
                                <span class="nx">source</span><span class="o">:</span> <span class="nx">testArr</span>
			<span class="p">});</span>
						
			<span class="c1">// console.log(data); This would be a gould place to put your debugging script. Remember to comment out or remove before going into production, to economize on server workload</span>
                <span class="p">});</span>
        <span class="p">});</span>

<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p><br> Now, the autocomplete should work. If not, see if your CSV file shows up under "Network" or "Resources" in your browser's inspector, and if it provides any output. Adding <strong>console.log(data);</strong> to your javascript (as indicated) should output the data to the browser console (you'll see the contents of your CSV file), and may be useful for debugging. Note that only the data from the current function (the function, within which the text was placed) will be presented. </p>
        <p><br> <b>3. Input from a MySQL database (trickiest, but also the most versatile and secure).</b> <br>This method requires the following: </p> 
        <ol>
         <li>Access to a MySQL database (tested with MySQL 5.5)</li> 
         <li>A PHP script to connect to and query the database</li> 
        </ol> 
        <p>First, paste the following script in your question source code, replacing for the correct question ID (qID) and the url/filename of your master PHP file (which in this case is autocomplete.php, see below): </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		
		<span class="kd">var</span> <span class="nx">qID</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
		
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' input[type="text"]'</span><span class="p">).</span><span class="nx">autocomplete</span><span class="p">({</span>
			<span class="nx">minLength</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>  <span class="c1">// This line is optional, signifies number of keystrokes before autocomplete is initiated</span>
			<span class="nx">source</span><span class="o">:</span> <span class="s1">'autocomplete.php'</span>
		<span class="p">});</span>

	<span class="p">});</span>
	
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p><br> The structure of the database shouldn't matter too much, as long as you are using text fields. This example uses the UTF-8 character set. It is often a good idea to keep your login credentials in a separate file that you put outside of your webroot. In this case, I've put them in a file called constant.php: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="cp">&lt;?php</span>
<span class="c1">// Login credentials</span>
<span class="nb">define</span><span class="p">(</span><span class="s1">'DB_SERVER'</span><span class="p">,</span> <span class="s2">"localhost"</span><span class="p">);</span>
<span class="nb">define</span><span class="p">(</span><span class="s1">'DB_USER'</span><span class="p">,</span> <span class="s2">"username"</span><span class="p">);</span>
<span class="nb">define</span><span class="p">(</span><span class="s1">'DB_PASSWORD'</span><span class="p">,</span> <span class="s2">"password"</span><span class="p">);</span>
<span class="nb">define</span><span class="p">(</span><span class="s1">'DB_DATABASE'</span><span class="p">,</span> <span class="s2">"database_name"</span><span class="p">);</span>
<span class="nb">define</span><span class="p">(</span><span class="s1">'DB_DRIVER'</span><span class="p">,</span> <span class="s2">"mysql"</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre>
        </div> 
        <p><br> The next file, database.php, deals with logging in to the database and performing the query that was requested through the javascript pasted above. Note that we're using the PDO convention rather than mysql_*, which has been deprecated for safety reasons (MySQLi remains a viable alternative, but is not shown here): </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="cp">&lt;?php</span>

<span class="c1">// Connect and query MySQL database, using PDO</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$db</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PDO</span><span class="p">(</span><span class="nx">DB_DRIVER</span> <span class="o">.</span> <span class="s2">":dbname="</span> <span class="o">.</span> <span class="nx">DB_DATABASE</span> <span class="o">.</span> <span class="s2">";host="</span> <span class="o">.</span> <span class="nx">DB_SERVER</span> <span class="o">.</span> <span class="s2">";charset=utf8"</span><span class="p">,</span> <span class="nx">DB_USER</span><span class="p">,</span> <span class="nx">DB_PASSWORD</span><span class="p">);</span>
<span class="p">}</span>
 
<span class="k">catch</span><span class="p">(</span><span class="nx">PDOException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
<span class="p">}</span>
 
<span class="nv">$return_arr</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
 
<span class="k">if</span> <span class="p">(</span><span class="nv">$db</span><span class="p">)</span>
<span class="p">{</span>
	<span class="nv">$ac_term</span> <span class="o">=</span> <span class="s2">"%"</span><span class="o">.</span><span class="nv">$_GET</span><span class="p">[</span><span class="s1">'term'</span><span class="p">]</span><span class="o">.</span><span class="s2">"%"</span><span class="p">;</span>
	<span class="nv">$query</span> <span class="o">=</span> <span class="s2">"SELECT * FROM table_name WHERE column_name LIKE :term"</span><span class="p">;</span>
	<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">prepare</span><span class="p">(</span><span class="nv">$query</span><span class="p">);</span>
	<span class="nv">$result</span><span class="o">-&gt;</span><span class="na">bindValue</span><span class="p">(</span><span class="s2">":term"</span><span class="p">,</span><span class="nv">$ac_term</span><span class="p">);</span> 
	<span class="nv">$result</span><span class="o">-&gt;</span><span class="na">execute</span><span class="p">();</span> 
 
<span class="c1">// Fetch data and store in array</span>
	<span class="k">while</span> <span class="p">(</span><span class="nv">$row</span> <span class="o">=</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="nx">PDO</span><span class="o">::</span><span class="na">FETCH_ASSOC</span><span class="p">))</span> <span class="p">{</span>
		<span class="nv">$row_array</span><span class="p">[</span><span class="s1">'label'</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$row</span><span class="p">[</span><span class="s1">'column_name'</span><span class="p">];</span>
		<span class="nv">$row_array</span><span class="p">[</span><span class="s1">'value'</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$row</span><span class="p">[</span><span class="s1">'column_name'</span><span class="p">];</span>
 
        <span class="nb">array_push</span><span class="p">(</span><span class="nv">$return_arr</span><span class="p">,</span><span class="nv">$row_array</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
        </div> 
        <p><br> Finally, a PHP file (autocomplete.php) to include the previous two files and complete the query. This is the file that is called by the javascript, and the only one placed in the webroot: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="cp">&lt;?php</span>

<span class="c1">// Include files outside of webroot</span>
<span class="nb">set_include_path</span><span class="p">(</span><span class="s1">'/var/www/surveys/test-survey'</span><span class="p">);</span>

<span class="c1">// Fetch database credentials</span>
<span class="k">require_once</span> <span class="p">(</span><span class="s1">'constant.php'</span><span class="p">);</span>

<span class="c1">// Connect to database and perform query</span>
<span class="k">require_once</span> <span class="p">(</span><span class="s1">'database.php'</span><span class="p">);</span>

<span class="c1">// Clear query</span>
<span class="nv">$db</span> <span class="o">=</span> <span class="k">null</span><span class="p">;</span>  
 
<span class="c1">// Encode results in JSON. This is required for jquery autocomplete</span>
<span class="k">echo</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$return_arr</span><span class="p">);</span>

<span class="cp">?&gt;</span><span class="x"></span>
</pre>
        </div> 
        <p><br> This should complete your setup, but there are obviously a variety of pitfalls, at which point the previously outlined debugging techniques may be of help. <br> </p> 
        <h2><span class="mw-headline" id="Use_autocomplete_to_populate_several_fields">Use autocomplete to populate several fields</span></h2> 
        <p><i>Tested with: 1.91+, IE 7/8/9, Firefox 18</i> </p>
        <p>This workaround uses the <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://jqueryui.com/demos/autocomplete/">Autocomplete widget</a> included with jQuery UI and the <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="https://code.google.com/p/jquery-csv/downloads/list">jquery.csv.js</a> plugin to provide a respondent with a list of suggested answers as they type in a text input and then to automatically populate other fields depending on the selection. </p>
        <p>For example, if you have 3 questions - "Name", "ID" and "Email" - you can use this workaround to autocomplete the "Name" question and then the "ID" and "Email" questions can be automatically populated with values associated with the selected name. </p> 
        <ul>
         <li>Download the <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="https://code.google.com/p/jquery-csv/downloads/list">jquery.csv.js</a> plugin and place it in your template folder</li> 
         <li>If using LimeSurvey 1.9x, add the following line to your startpage.pstpl BEFORE the tag for template.js, if using 2.x, add it AFTER the {TEMPLATEJS} placeholder
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">src</span><span class="o">=</span><span class="s2">"{TEMPLATEURL}jquery.csv.js"</span><span class="o">&gt;&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
          </div></li> 
         <li>Create your CSV file with 3 columns (name, ID, email) as in this example and place it in your template folder
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="nx">Bob</span><span class="p">,</span>    <span class="nx">Bob</span><span class="s1">'s ID,    Bob'</span><span class="nx">s</span> <span class="nx">email</span>

<span class="nx">Andy</span><span class="p">,</span>    <span class="nx">Andy</span><span class="s1">'s ID,    Andy'</span><span class="nx">s</span> <span class="nx">email</span>

<span class="nx">Sam</span><span class="p">,</span>    <span class="nx">Sam</span><span class="s1">'s ID,    Sam'</span><span class="nx">s</span> <span class="nx">email</span>

<span class="nx">Tony</span><span class="p">,</span>    <span class="nx">Tony</span><span class="s1">'s ID,    Tony'</span><span class="nx">s</span> <span class="nx">email</span>

<span class="nx">Fred</span><span class="p">,</span>    <span class="nx">Fred</span><span class="s1">'s ID,    Fred'</span><span class="nx">s</span> <span class="nx">email</span>
</pre>
          </div></li> 
         <li>Create your 3 questions - "Name", "ID" and "Email". They must be in the same group/page.</li> 
         <li>Add the following styles to the end of your 'template.css' file
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="cm">/* Autocomplete styles */</span>

<span class="nx">ul</span><span class="o">.</span><span class="nx">ui</span><span class="o">-</span><span class="nx">autocomplete</span> <span class="p">{</span>

   <span class="nx">width</span><span class="o">:</span> <span class="mi">250</span><span class="nx">px</span> <span class="o">!</span><span class="nx">important</span><span class="p">;</span>

   <span class="nx">padding</span><span class="o">:</span> <span class="mi">5</span><span class="nx">px</span> <span class="mi">10</span><span class="nx">px</span><span class="p">;</span>

   <span class="k">list</span><span class="o">-</span><span class="nx">style</span><span class="o">:</span> <span class="nx">none</span><span class="p">;</span>

<span class="p">}</span>
</pre>
          </div></li> 
         <li>Add the following script to the source of one of the questions</li> 
         <li>Replace: 
          <ul>
           <li>"NN" with the "Name" question ID</li> 
           <li>"II" with the "ID" question ID</li> 
           <li>"EE" with the "Email" question ID</li>
          </ul></li> 
         <li>Modify the path to your CSV file
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

	<span class="err">$</span><span class="p">(</span><span class="nx">document</span><span class="p">)</span><span class="o">.</span><span class="nx">ready</span><span class="p">(</span><span class="k">function</span><span class="p">()</span> <span class="p">{</span>

		<span class="k">var</span> <span class="nx">qNameID</span> <span class="o">=</span> <span class="nx">NN</span><span class="p">;</span>

		<span class="k">var</span> <span class="nx">qIDID</span> <span class="o">=</span> <span class="nx">II</span><span class="p">;</span>

		<span class="k">var</span> <span class="nx">qEmailID</span> <span class="o">=</span> <span class="nx">EE</span><span class="p">;</span>

		<span class="k">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"upload/templates/yourTemplate/yourCsvFile.csv"</span><span class="p">;</span>

		<span class="c1">// Create an array to hold the names</span>
		<span class="k">var</span> <span class="nx">namesArr</span> <span class="o">=</span> <span class="k">new</span> <span class="k">Array</span><span class="p">();</span>

		<span class="c1">// Grab the CSV contents</span>
		<span class="err">$</span><span class="o">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="k">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>

			<span class="c1">// Convert CSV contents to an array of arrays</span>
			<span class="nx">fullArray</span> <span class="o">=</span> <span class="err">$</span><span class="o">.</span><span class="nx">csv</span><span class="o">.</span><span class="nx">toArrays</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>

			<span class="c1">// Load the names array</span>
			<span class="err">$</span><span class="p">(</span><span class="nx">fullArray</span><span class="p">)</span><span class="o">.</span><span class="nb">each</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">item</span><span class="p">){</span>
				<span class="nx">namesArr</span><span class="o">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">item</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
			<span class="p">});</span>

			<span class="c1">// Initialise the autocomplete plugin</span>
			<span class="err">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qNameID</span><span class="o">+</span><span class="s1">' input.text'</span><span class="p">)</span><span class="o">.</span><span class="nx">autocomplete</span><span class="p">({</span>
				<span class="nx">source</span><span class="o">:</span> <span class="nx">namesArr</span><span class="p">,</span>
				<span class="c1">// Event fired when a selection is made (ui.item.value refers to the selected item)</span>
				<span class="nx">select</span><span class="o">:</span> <span class="k">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">ui</span><span class="p">)</span> <span class="p">{</span>
					<span class="c1">// Find the "ID" and "Email" values associated with the selected name value and load those questions</span>
					<span class="err">$</span><span class="p">(</span><span class="nx">fullArray</span><span class="p">)</span><span class="o">.</span><span class="nb">each</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">item</span><span class="p">){</span>
						<span class="k">if</span><span class="p">(</span><span class="nx">item</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="nx">ui</span><span class="o">.</span><span class="nx">item</span><span class="o">.</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
							<span class="c1">// The value from column 2 of the CSV</span>
							<span class="err">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qIDID</span><span class="o">+</span><span class="s1">' input.text'</span><span class="p">)</span><span class="o">.</span><span class="nx">val</span><span class="p">(</span><span class="nx">item</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
							<span class="c1">// The value from column 3 of the CSV</span>
							<span class="err">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qEmailID</span><span class="o">+</span><span class="s1">' input.text'</span><span class="p">)</span><span class="o">.</span><span class="nx">val</span><span class="p">(</span><span class="nx">item</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
						<span class="p">}</span>
					<span class="p">});</span>
				<span class="p">}</span>
			<span class="p">});</span>
		<span class="p">});</span>
	<span class="p">});</span>

<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
          </div></li>
        </ul> 
        <h1><span class="mw-headline" id="Drag_and_Drop_Rankings">Drag and Drop Rankings</span></h1> 
        <div class="boxed alert">
         <div class="floatleft">
          <a href="/File:Important.png" class="image"><img alt="Important.png" src="/images/thumb/f/ff/Important.png/20px-Important.png" width="20" height="20" srcset="/images/thumb/f/ff/Important.png/30px-Important.png 1.5x, /images/thumb/f/ff/Important.png/40px-Important.png 2x"></a>
         </div> 
         <strong class="error">Deprecated&nbsp;: </strong> This features is deprecated in version 2.0.
        </div> 
        <div class="boxed">
         <div class="floatleft">
          <a href="/File:Notice.png" class="image"><img alt="Notice.png" src="/images/thumb/3/35/Notice.png/20px-Notice.png" width="20" height="20" srcset="/images/thumb/3/35/Notice.png/30px-Notice.png 1.5x, /images/thumb/3/35/Notice.png/40px-Notice.png 2x"></a>
         </div> 
         <b>Hint:</b> In 2.0 and up, this system Ranking question use jqueryui-sortable. This workaround is deprecated.
        </div> 
        <p><br> </p> 
        <h2><span class="mw-headline" id="Drag_and_Drop_Ranking_-_Version_1.90_to_1.92">Drag and Drop Ranking - Version 1.90 to 1.92</span></h2> 
        <p><i>Tested with: 1.90+ &amp; 1.91RC4, IE 6/7/8, Firefox 3.6, Safari 3.2</i> </p> 
        <div class="boxed">
         <div class="floatleft">
          <a href="/File:Notice.png" class="image"><img alt="Notice.png" src="/images/thumb/3/35/Notice.png/20px-Notice.png" width="20" height="20" srcset="/images/thumb/3/35/Notice.png/30px-Notice.png 1.5x, /images/thumb/3/35/Notice.png/40px-Notice.png 2x"></a>
         </div> 
         <b>Hint:</b> In 2.0 and up, this system Ranking question use jqueryui-sortable. This workaround is deprecated.
        </div> 
        <p><br> This workaround is a modification of the workaround below and also uses <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://jqueryui.com/demos/sortable/#connect-lists">JQuery connected sortables</a>. Thanks to the author of that workaround. </p>
        <p><a href="/File:Untitled-12.png" class="image"><img alt="Untitled-12.png" src="/images/5/5b/Untitled-12.png" width="795" height="134"></a> </p>
        <p>Modifications include: </p> 
        <ul>
         <li>Allow for multiple drag-n-drop ranking questions on a page</li> 
         <li>Handle minimum and maximum answers settings</li> 
         <li>Allow double clicking of items to add or remove them from the ranking list</li> 
         <li>Work with the new shipped jQuery UI</li>
        </ul> 
        <p>There is a <b><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://www.partnersinc.biz/surveys//index.php?sid=36981&amp;newtest=Y&amp;lang=en">demonstrated here</a></b>. </p>
        <p>Implementation is as follows: </p> 
        <ol>
         <li><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use JavaScript</a>.</li> 
         <li>Place the large script below in your template.js file.</li> 
         <li>Place the small script below in the source a ranking question, (this applies the "dragDropRank" function to the question). Replace "QQ" with the ranking <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://docs.limesurvey.org/SGQA+identifier&amp;structure;=English+Instructions+for+LimeSurvey#General_Description">question ID</a>.</li>
        </ol> 
        <ul>
         <li>
          <ul>
           <li>Note: the LimeSurvey translations will be automatically used for the "Choices" and "Rankings" header labels but can be overridden with custom labels - see the example calls below.</li>
          </ul></li>
        </ul> 
        <ol>
         <li>Insert the CSS below at the end of template.css (these styles are for the default template).</li>
        </ol> 
        <p>NOTE: I have not tested this workaround with conditions. </p>
        <p><b>Code for template.js:</b> </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="kd">function</span> <span class="nx">dragDropRank</span><span class="p">(</span><span class="nx">qID</span><span class="p">,</span> <span class="nx">choiceText</span><span class="p">,</span> <span class="nx">rankText</span><span class="p">)</span> <span class="p">{</span>

	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">choiceText</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">choiceText</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' td.label label'</span><span class="p">).</span><span class="nx">text</span><span class="p">();</span>
	<span class="p">}</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">rankText</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">rankText</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' td.output tr:first td:eq(1)'</span><span class="p">).</span><span class="nx">text</span><span class="p">();</span>
	<span class="p">}</span>
	
	<span class="c1">//Add a class to the question</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'dragDropRanking'</span><span class="p">);</span>
	
	<span class="c1">// Hide the original question in LimeSurvey (so that we can replace with drag and drop)</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' .rank, #question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' .questionhelp'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
	
	<span class="c1">// Turn off display of question (to override error checking built into LimeSurvey ranking question)</span>
	<span class="c1">//$('#display'+qID).val('off');</span>
	
	<span class="c1">// Add connected sortables elements to the question</span>
	<span class="kd">var</span> <span class="nx">htmlCode</span> <span class="o">=</span> <span class="s1">'&lt;table class="dragDropTable"&gt; \</span>
<span class="s1">		&lt;tbody&gt; \</span>
<span class="s1">			&lt;tr&gt; \</span>
<span class="s1">				&lt;td&gt; \</span>
<span class="s1">					&lt;span class="dragDropHeader choicesLabel"&gt;'</span><span class="o">+</span><span class="nx">choiceText</span><span class="o">+</span><span class="s1">'&lt;/span&gt;&lt;br /&gt; \</span>
<span class="s1">					&lt;div class="ui-state-highlight dragDropChoices"&gt; \</span>
<span class="s1">						&lt;ul id="sortable1'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">'" class="connectedSortable'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' dragDropChoiceList"&gt; \</span>
<span class="s1">							&lt;li&gt;Choices&lt;/li&gt; \</span>
<span class="s1">						&lt;/ul&gt; \</span>
<span class="s1">					&lt;/div&gt; \</span>
<span class="s1">				&lt;/td&gt; \</span>
<span class="s1">				&lt;td&gt; \</span>
<span class="s1">					&lt;span class="dragDropHeader rankingLabel"&gt;'</span><span class="o">+</span><span class="nx">rankText</span><span class="o">+</span><span class="s1">'&lt;/span&gt;&lt;br /&gt; \</span>
<span class="s1">					&lt;div class="ui-state-highlight dragDropRanks"&gt; \</span>
<span class="s1">						&lt;ol id="sortable2'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">'" class="connectedSortable'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' dragDropRankList"&gt; \</span>
<span class="s1">							&lt;li&gt;Ranks&lt;/li&gt; \</span>
<span class="s1">						&lt;/ol&gt; \</span>
<span class="s1">					&lt;/div&gt; \</span>
<span class="s1">				&lt;/td&gt; \</span>
<span class="s1">			&lt;/tr&gt; \</span>
<span class="s1">		&lt;/tbody&gt; \</span>
<span class="s1">					&lt;/table&gt;'</span><span class="p">;</span>
	<span class="nx">$</span><span class="p">(</span><span class="nx">htmlCode</span><span class="p">).</span><span class="nx">insertAfter</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' table.rank'</span><span class="p">);</span>
	
	<span class="c1">// Remove placeholder list items (have to have one item so that LimeSurvey doesn"t remove the &lt;ul&gt;)</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#sortable1'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' li, #sortable2'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' li'</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
	
	<span class="c1">// Load any previously-set values</span>
	<span class="nx">loadDragDropRank</span><span class="p">(</span><span class="nx">qID</span><span class="p">);</span>
	
	<span class="c1">// Find the number of LimeSurvey ranking inputs ("Maximum answers")</span>
	<span class="kd">var</span> <span class="nx">maxAnswer</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' td.output input.text'</span><span class="p">).</span><span class="nx">length</span><span class="p">;</span>
	
	<span class="c1">// Set up the connected sortable</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#sortable1'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">', #sortable2'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">sortable</span><span class="p">({</span>
		<span class="nx">connectWith</span><span class="o">:</span> <span class="s1">'.connectedSortable'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">''</span><span class="p">,</span>
		<span class="nx">placeholder</span><span class="o">:</span> <span class="s1">'ui-sortable-placeholder'</span><span class="p">,</span>
		<span class="nx">helper</span><span class="o">:</span> <span class="s1">'clone'</span><span class="p">,</span>
		<span class="nx">revert</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span>
		<span class="nx">receive</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">ui</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'#sortable2'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' li'</span><span class="p">).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="nx">maxAnswer</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">alert</span> <span class="p">(</span><span class="s1">'You can only rank a maximum of '</span><span class="o">+</span><span class="nx">maxAnswer</span><span class="o">+</span><span class="s1">' choices.'</span><span class="p">);</span>
				<span class="nx">$</span><span class="p">(</span><span class="nx">ui</span><span class="p">.</span><span class="nx">sender</span><span class="p">).</span><span class="nx">sortable</span><span class="p">(</span><span class="s1">'cancel'</span><span class="p">);</span>
			<span class="p">}</span>
		<span class="p">},</span>
		<span class="nx">stop</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">ui</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'#sortable1'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">sortable</span><span class="p">(</span><span class="s1">'refresh'</span><span class="p">);</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'#sortable2'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">sortable</span><span class="p">(</span><span class="s1">'refresh'</span><span class="p">);</span>
			<span class="nx">updateDragDropRank</span><span class="p">(</span><span class="nx">qID</span><span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}).</span><span class="nx">disableSelection</span><span class="p">();</span>
	
	<span class="c1">// Get the list of choices from the LimeSurvey question and copy them as items into the sortable choices list</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#CHOICES_'</span> <span class="o">+</span> <span class="nx">qID</span><span class="p">).</span><span class="nx">children</span><span class="p">().</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="nx">Element</span><span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">liCode</span> <span class="o">=</span> <span class="s1">'&lt;li class="ui-state-default" id="choice_'</span> <span class="o">+</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"value"</span><span class="p">)</span> <span class="o">+</span> <span class="s1">'"&gt;'</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">text</span> <span class="o">+</span> <span class="s1">'&lt;/li&gt;'</span>
		<span class="nx">$</span><span class="p">(</span><span class="nx">liCode</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="s1">'#sortable1'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">''</span><span class="p">);</span>
	<span class="p">});</span>
	
	<span class="c1">// Allow users to double click to move to selections from list to list</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#sortable1'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' li'</span><span class="p">).</span><span class="nx">live</span><span class="p">(</span><span class="s1">'dblclick'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'#sortable2'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' li'</span><span class="p">).</span><span class="nx">length</span> <span class="o">==</span> <span class="nx">maxAnswer</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">alert</span> <span class="p">(</span><span class="s1">'You can only rank a maximum of '</span><span class="o">+</span><span class="nx">maxAnswer</span><span class="o">+</span><span class="s1">' choices.'</span><span class="p">);</span>
			<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="s1">'#sortable2'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">''</span><span class="p">);</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'#sortable1'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">sortable</span><span class="p">(</span><span class="s1">'refresh'</span><span class="p">);</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'#sortable2'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">sortable</span><span class="p">(</span><span class="s1">'refresh'</span><span class="p">);</span>
			<span class="nx">updateDragDropRank</span><span class="p">(</span><span class="nx">qID</span><span class="p">);</span>
		<span class="p">}</span>
	<span class="p">});</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#sortable2'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' li'</span><span class="p">).</span><span class="nx">live</span><span class="p">(</span><span class="s1">'dblclick'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="s1">'#sortable1'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">''</span><span class="p">);</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#sortable2'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">sortable</span><span class="p">(</span><span class="s1">'refresh'</span><span class="p">);</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#sortable1'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">sortable</span><span class="p">(</span><span class="s1">'refresh'</span><span class="p">);</span>
		<span class="nx">updateDragDropRank</span><span class="p">(</span><span class="nx">qID</span><span class="p">);</span>
	<span class="p">});</span>
<span class="p">}</span>

<span class="c1">// This function copies the drag and drop sortable data into the LimeSurvey ranking list.</span>
<span class="kd">function</span> <span class="nx">updateDragDropRank</span><span class="p">(</span><span class="nx">qID</span><span class="p">)</span> <span class="p">{</span>

	<span class="c1">// Reload the LimeSurvey choices select element</span>
	<span class="kd">var</span> <span class="nx">rankees</span> <span class="o">=</span> <span class="p">[];</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#sortable2'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' li'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'value'</span><span class="p">,</span> <span class="nx">index</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
		
		<span class="c1">// Get value of ranked item</span>
		<span class="kd">var</span> <span class="nx">liID</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"id"</span><span class="p">);</span>
		<span class="nx">liIDArray</span> <span class="o">=</span> <span class="nx">liID</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">'_'</span><span class="p">);</span>
		
		<span class="c1">// Save to an array</span>
		<span class="nx">rankees</span><span class="p">[</span><span class="nx">rankees</span><span class="p">.</span><span class="nx">length</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"r_name"</span><span class="o">:</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">text</span><span class="p">(),</span><span class="s2">"r_value"</span><span class="o">:</span><span class="nx">liIDArray</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">};</span>
	<span class="p">});</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' input[name&lt;div class="simplebox"&gt;="RANK_"]'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="nx">rankees</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">rankees</span><span class="p">[</span><span class="nx">index</span><span class="p">].</span><span class="nx">r_name</span><span class="p">);</span>
			<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">next</span><span class="p">(</span><span class="s1">'input'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'value'</span><span class="p">,</span> <span class="nx">rankees</span><span class="p">[</span><span class="nx">index</span><span class="p">].</span><span class="nx">r_value</span><span class="p">);</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span>
			<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">next</span><span class="p">().</span><span class="nx">val</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span>
		<span class="p">}</span>
	 <span class="p">});</span>
	 
	<span class="c1">// Reload the LimeSurvey choices select element (we need this for "Minimum answers" code)</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' td.label select option'</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#sortable1'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' li'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">liText</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">text</span><span class="p">();</span>
		<span class="kd">var</span> <span class="nx">liID</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'id'</span><span class="p">);</span>
		<span class="nx">liIDArray</span> <span class="o">=</span> <span class="nx">liID</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">'_'</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">optionCode</span> <span class="o">=</span> <span class="s1">'&lt;option value="'</span><span class="o">+</span><span class="nx">liIDArray</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="s1">'"&gt;'</span><span class="o">+</span><span class="nx">liText</span><span class="o">+</span><span class="s1">'&lt;/option&gt;'</span><span class="p">;</span>
		<span class="nx">$</span><span class="p">(</span><span class="nx">optionCode</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' td.label select'</span><span class="p">);</span>
	<span class="p">});</span>
	
	<span class="c1">// Hack for IE6</span>
	<span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">browser</span><span class="p">.</span><span class="nx">msie</span> <span class="o">&amp;&amp;</span> <span class="nx">$</span><span class="p">.</span><span class="nx">browser</span><span class="p">.</span><span class="nx">version</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">7</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' select'</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' select'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="c1">// This function is called on page load to see if there are any items already ranked (from a previous visit</span>
<span class="c1">// or cached due to a page change.  If so, the already-ranked items are loaded into the sortable list</span>
<span class="kd">function</span> <span class="nx">loadDragDropRank</span><span class="p">(</span><span class="nx">qID</span><span class="p">)</span> <span class="p">{</span>

	<span class="kd">var</span> <span class="nx">rankees</span> <span class="o">=</span> <span class="p">[];</span>
	
	<span class="c1">// Loop through each item in the built-in LimeSurvey ranking list looking for non-empty values</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' input[name&lt;/div&gt;="RANK_"]'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
	
		<span class="c1">// Check to see if the current item has a value</span>
		<span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">())</span> <span class="p">{</span>
		
			<span class="c1">// Item has a value - save to the array</span>
			<span class="c1">// Use this element to contain the name and the next for the value (numeric)</span>
			<span class="nx">rankees</span><span class="p">[</span><span class="nx">rankees</span><span class="p">.</span><span class="nx">length</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"r_name"</span><span class="o">:</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span><span class="s2">"r_value"</span><span class="o">:</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">next</span><span class="p">().</span><span class="nx">val</span><span class="p">()</span> <span class="p">};</span>
		<span class="p">}</span>
	<span class="p">});</span>
	
	<span class="c1">// Now that we have a list of all the pre-ranked items, populate the sortable list</span>
	<span class="c1">// Note that the items *won"t* appear in the main list because LimeSurvey has removed them.</span>
	<span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">rankees</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
	
		<span class="c1">// Create the items in the sortable</span>
		<span class="kd">var</span> <span class="nx">liCode</span> <span class="o">=</span> <span class="s1">'&lt;li class="ui-state-default" id="choice_'</span> <span class="o">+</span> <span class="nx">value</span><span class="p">.</span><span class="nx">r_value</span> <span class="o">+</span> <span class="s1">'"&gt;'</span> <span class="o">+</span> <span class="nx">value</span><span class="p">.</span><span class="nx">r_name</span> <span class="o">+</span> <span class="s1">'&lt;/li&gt;'</span><span class="p">;</span>
		<span class="nx">$</span><span class="p">(</span><span class="nx">liCode</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="s1">'#sortable2'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">''</span><span class="p">);</span>
	<span class="p">});</span>
<span class="p">}</span>
</pre>
        </div> 
        <p><b>Code in the source of the question(s) using the LimeSurvey translations for the "Choices" and "Rankings" element header labels</b> (replace "QQ" with the ranking <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://docs.limesurvey.org/SGQA+identifier&amp;structure;=English+Instructions+for+LimeSurvey#General_Description">question ID</a>): </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="nx">dragDropRank</span><span class="p">(</span><span class="nx">QQ</span><span class="p">);</span>
	<span class="p">});</span>

<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p><b>Fix for later versions of 1.91+</b> </p>
        <p>In my version of LimeSurvey 1.91+, build 11026, this drag-n-drop workaround was not saving the selections properly. I'm not sure if that's because of my template, or other jquery uses, but I fixed it by making the following modifications to the above code placed into template.js. </p>
        <p>If you're having problems (and it's definitely worth testing that the rankings are actually saving into your response table before proceeding with the survey) give this a try. </p>
        <p>In the 'updateDragDropRank(qID)' function, replace the line: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' input[name&lt;div class="simplebox"&gt;="RANK_"]'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
</pre>
        </div> 
        <p>with: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' input[name^="RANK_"]'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
</pre>
        </div> 
        <p>In the 'loadDragDropRank(qID) function, replace the line: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' input[name&lt;/div&gt;="RANK_"]'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
</pre>
        </div> 
        <p>with: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' input[name^="RANK_"]'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
</pre>
        </div> 
        <p><br> <b>Code in the source of the question(s) using custom text for the "Choices" and "Rankings" element header labels</b> (replace "QQ" with the ranking <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://docs.limesurvey.org/SGQA+identifier&amp;structure;=English+Instructions+for+LimeSurvey#General_Description">question ID</a>): </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="nx">dragDropRank</span><span class="p">(</span><span class="nx">QQ</span><span class="p">,</span> <span class="s1">'Custom Choices Label'</span><span class="p">,</span> <span class="s1">'Custom Rankings Label'</span><span class="p">);</span>
	<span class="p">});</span>

<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p><b>Styles for template.css:</b> </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="c">/* Drag-n-drop ranking styles */</span>
<span class="nc">.dragDropTable</span> <span class="p">{</span>
	<span class="nb">border</span><span class="o">:</span> <span class="m">0</span> <span class="nb">none</span><span class="p">;</span>
	<span class="nb">border-collapse</span><span class="o">:</span> <span class="nb">collapse</span><span class="p">;</span>
	<span class="nb">width</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.dragDropTable</span> <span class="nt">td</span> <span class="p">{</span>
	<span class="nb">vertical-align</span><span class="o">:</span> <span class="nb">top</span><span class="p">;</span>
	<span class="nb">width</span><span class="o">:</span> <span class="m">50%</span><span class="p">;</span>
	<span class="nb">padding-right</span><span class="o">:</span> <span class="m">20px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.dragDropTable</span> <span class="nc">.dragDropHeader</span> <span class="p">{</span>
	<span class="nb">font-weight</span><span class="o">:</span> <span class="nb">bold</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.dragDropTable</span> <span class="nc">.dragDropChoices</span><span class="o">,</span>
<span class="nc">.dragDropTable</span> <span class="nc">.dragDropRanks</span> <span class="p">{</span>
	<span class="nb">margin</span><span class="o">:</span> <span class="m">5px</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span><span class="p">;</span>
	<span class="nb">background</span><span class="o">:</span> <span class="nb">transparent</span> <span class="nb">none</span><span class="p">;</span>
	<span class="nb">border</span><span class="o">:</span> <span class="m">0</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.dragDropTable</span> <span class="nc">.dragDropChoiceList</span><span class="o">,</span>
<span class="nc">.dragDropTable</span> <span class="nc">.dragDropRankList</span> <span class="p">{</span>
	<span class="nb">float</span><span class="o">:</span> <span class="nb">left</span><span class="p">;</span>
	<span class="nb">width</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span>
	<span class="nb">min-height</span><span class="o">:</span> <span class="m">2.4em</span><span class="p">;</span>
	<span class="n">_height</span><span class="o">:</span> <span class="m">2.4em</span><span class="p">;</span> <span class="c">/* IE6 and below hack */</span>
	<span class="nb">margin</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
	<span class="nb">padding</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
	<span class="nb">list-style-type</span><span class="o">:</span> <span class="nb">none</span><span class="p">;</span>
	<span class="nb">background</span><span class="o">:</span> <span class="m">#FBFBFB</span> <span class="nb">none</span><span class="p">;</span>
	<span class="nb">border</span><span class="o">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#CCCCCC</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.dragDropTable</span> <span class="nc">.dragDropChoiceList</span> <span class="nt">li</span><span class="o">,</span>
<span class="nc">.dragDropTable</span> <span class="nc">.dragDropRankList</span> <span class="nt">li</span> <span class="p">{</span>
	<span class="nb">margin</span><span class="o">:</span> <span class="m">3px</span><span class="p">;</span>
	<span class="o">*</span><span class="nb">margin-left</span><span class="o">:</span> <span class="m">-13px</span><span class="p">;</span> <span class="c">/* IE7 and below */</span>
	<span class="nb">padding</span><span class="o">:</span> <span class="m">3px</span><span class="p">;</span>
	<span class="nb">min-height</span><span class="o">:</span> <span class="m">1.3em</span><span class="p">;</span>
	<span class="n">_height</span><span class="o">:</span> <span class="m">1.3em</span><span class="p">;</span> <span class="c">/* IE6 and below hack */</span>
	<span class="nb">font-weight</span><span class="o">:</span> <span class="nb">normal</span><span class="p">;</span>
	<span class="nb">cursor</span><span class="o">:</span> <span class="n">move</span><span class="p">;</span>
	<span class="nb">display</span><span class="o">:</span> <span class="nb">block</span><span class="p">;</span> <span class="c">/* Force the li to full width */</span>
<span class="p">}</span>
</pre>
        </div> 
        <h2><span class="mw-headline" id="Drag_and_Drop_Ranking_using_Images_-_Version_1.90_to_1.92">Drag and Drop Ranking using Images - Version 1.90 to 1.92</span></h2> 
        <p><i>Tested with: 1.90+ &amp; 1.91RC4, IE 6/7/8, Firefox 3.6, Safari 3.2</i> </p> 
        <div class="boxed">
         <div class="floatleft">
          <a href="/File:Notice.png" class="image"><img alt="Notice.png" src="/images/thumb/3/35/Notice.png/20px-Notice.png" width="20" height="20" srcset="/images/thumb/3/35/Notice.png/30px-Notice.png 1.5x, /images/thumb/3/35/Notice.png/40px-Notice.png 2x"></a>
         </div> 
         <b>Hint:</b> In 2.0 and up, this system Ranking question use jqueryui-sortable. This workaround is deprecated.
        </div> 
        <p><br> This workaround works in conjunction with the above workaround to allow ranking of images. </p>
        <p><a href="/File:Untitled-11.png" class="image"><img alt="Untitled-11.png" src="/images/8/88/Untitled-11.png" width="270" height="217"></a> </p>
        <p>There is a <b><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://www.partnersinc.biz/surveys//index.php?sid=36981&amp;newtest=Y&amp;lang=en">demonstrated here</a></b>. </p>
        <p>Implementation is as follows: </p>
        <p>1) Follow the above workaround to get basic drag-n-drop functionality in your ranking question. </p>
        <p>2) Insert your images in the ranking question text or help section after any text that you wish to have there (we'll move them later with JavaScript). </p>
        <p>3) Give the images <b>EXACTLY</b> the same IDs as the answer code you would like them to be associated with:<a href="/File:Untitled-8.png" class="image"><img alt="Untitled-8.png" src="/images/6/6b/Untitled-8.png" width="764" height="142"></a> </p>
        <p>4) Place the first script below in your template.js file. </p>
        <p>5) Place the second script below in the source the ranking question <b>AFTER</b> the initial call for the dragDropRank function from the workaround above. Replace "QQ" with the ID of the ranking question (this applies the "dragDropRankImages" function to the question). </p>
        <p>6) Insert the CSS below at the end of template.css. Replace "11" with your question ID. These styles are for the default template using 50x50px images (as in the demo) and may need to be modified for other templates or image sizes. </p>
        <p><b>Code for template.js:</b> </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="kd">function</span> <span class="nx">dragDropRankImages</span><span class="p">(</span><span class="nx">qID</span><span class="p">)</span> <span class="p">{</span>

	<span class="nx">$</span><span class="p">(</span><span class="s1">'.connectedSortable'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' li'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>

		<span class="c1">// Remove any text in the sortable choice or rank items</span>
		<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span>

		<span class="c1">// Move the images into the appropriate sortable list item</span>
		<span class="kd">var</span> <span class="nx">liID</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'id'</span><span class="p">);</span>
		<span class="nx">liIDArray</span> <span class="o">=</span> <span class="nx">liID</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">'_'</span><span class="p">);</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' img#'</span><span class="o">+</span><span class="nx">liIDArray</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
	<span class="p">});</span>
<span class="p">}</span>
</pre>
        </div> 
        <p><b>Code in the source of the question(s):</b> </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="nx">dragDropRankImages</span><span class="p">(</span><span class="nx">QQ</span><span class="p">);</span>
	<span class="p">});</span>

<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p><b>Styles for template.css:</b> </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="c">/* Drag-n-drop for ranking images */</span>
<span class="nn">#question11</span> <span class="nc">.dragDropTable</span> <span class="p">{</span>
	<span class="nb">width</span><span class="o">:</span> <span class="nb">auto</span><span class="p">;</span>
<span class="p">}</span>

<span class="nn">#question11</span> <span class="nc">.dragDropTable</span> <span class="nc">.dragDropChoiceList</span><span class="o">,</span>
<span class="nn">#question11</span> <span class="nc">.dragDropTable</span> <span class="nc">.dragDropRankList</span> <span class="p">{</span>
	<span class="nb">min-height</span><span class="o">:</span> <span class="m">60px</span><span class="p">;</span>
	<span class="n">_height</span><span class="o">:</span> <span class="m">60px</span><span class="p">;</span> <span class="c">/* IE6 and below hack */</span>
	<span class="nb">width</span><span class="o">:</span> <span class="nb">auto</span><span class="p">;</span>
	<span class="nb">min-width</span><span class="o">:</span> <span class="m">60px</span><span class="p">;</span>
	<span class="n">_width</span><span class="o">:</span> <span class="m">60px</span><span class="p">;</span> <span class="c">/* IE6 and below hack */</span>
<span class="p">}</span>

<span class="nn">#question11</span> <span class="nc">.dragDropTable</span> <span class="nt">li</span> <span class="p">{</span>
	<span class="nb">background</span><span class="o">:</span> <span class="m">0</span> <span class="nb">none</span><span class="p">;</span>
	<span class="nb">border</span><span class="o">:</span> <span class="m">0</span> <span class="nb">none</span><span class="p">;</span>
	<span class="nb">height</span><span class="o">:</span> <span class="m">50px</span><span class="p">;</span>
	<span class="nb">width</span><span class="o">:</span> <span class="m">50px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nn">#question11</span> <span class="nc">.dragDropTable</span> <span class="nt">li</span> <span class="nt">img</span> <span class="p">{</span>
	<span class="nb">margin</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
	<span class="nb">padding</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
	<span class="nb">border</span><span class="o">:</span> <span class="m">0</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>
</pre>
        </div> 
        <h2><span class="mw-headline" id="Drag_and_Drop_Ranking_for_iPad_-_Version_1.91_and_newer">Drag and Drop Ranking for iPad - Version 1.91 and newer</span></h2> 
        <p><i>Tested with: LimeSurvey 1.91, iPad 2</i> </p>
        <p>This workaround extends the above workarounds to work with the touch interface on iPads. </p>
        <p>1) Follow the <a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#Drag_and_Drop_Ranking_-_Version_1.90_and_newer" title="Workarounds: Manipulating a survey at runtime using Javascript">Drag and Drop Ranking - Version 1.90 and newer</a> workaround above to get basic drag-n-drop functionality in your ranking question. </p>
        <p>2) Download the <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="https://github.com/furf/jquery-ui-touch-punch">jQuery.ui.touch-punch.js plugin</a> and save it in your template directory. </p> 3) Replace this line in your startpage.pstpl:
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">src</span><span class="o">=</span><span class="s2">"{TEMPLATEURL}template.js"</span><span class="o">&gt;&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div>With this:
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">src</span><span class="o">=</span><span class="s2">"{TEMPLATEURL}jquery.ui.touch-punch.js"</span><span class="o">&gt;&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">src</span><span class="o">=</span><span class="s2">"{TEMPLATEURL}template.js"</span><span class="o">&gt;&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <h2><span class="mw-headline" id="Drag_and_Drop_Ranking_-_Version_1.86">Drag and Drop Ranking - Version 1.86</span></h2> 
        <p>Tested with 1.86 on IE 7,8, FireFox 3, Chrome, and Safari 4 </p> 
        <div class="boxed">
         <div class="floatleft">
          <a href="/File:Notice.png" class="image"><img alt="Notice.png" src="/images/thumb/3/35/Notice.png/20px-Notice.png" width="20" height="20" srcset="/images/thumb/3/35/Notice.png/30px-Notice.png 1.5x, /images/thumb/3/35/Notice.png/40px-Notice.png 2x"></a>
         </div> 
         <b>Hint:</b> In 2.0 and up, this system Ranking question use jqueryui-sortable. This workaround is deprecated.
        </div> 
        <p><br> This workaround uses <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://jqueryui.com/demos/sortable/#connect-lists">JQuery connected sortables</a> to modify a ranking question and allow the survey taker to drag and drop choices instead of clicking. The nice thing is that the choices can be easily re-arranged or removed from the ranking, all by drag and drop. </p>
        <p>I used it for a voting application and some of the element names reflect that use. </p>
        <p>It looks best when some CSS is added to control the appearance of the boxers around each choice. </p>
        <p><a href="/File:Drag-n-drop.png" class="image"><img alt="Drag-n-drop.png" src="/images/a/ae/Drag-n-drop.png" width="770" height="152"></a> </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre>	<span class="c1">// Question ID global variable</span>
	<span class="kd">var</span> <span class="nx">questionID</span><span class="p">;</span>
	
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	
		<span class="c1">// Grab the question ID[[File:drag-n-drop.png]]</span>
		<span class="c1">// This is something with a class of "ranking" and an ID that starts with "questionXXXXX".  The X's represent the question ID</span>
		<span class="kd">var</span> <span class="nx">entire_questionID</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">".ranking[id^='question']"</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'id'</span><span class="p">);</span>
		
		<span class="c1">// Get just the question number (ID)</span>
		<span class="kd">var</span> <span class="nx">patt</span><span class="o">=</span><span class="sr">/\d+$/</span><span class="p">;</span>
		<span class="nx">questionID</span><span class="o">=</span><span class="nx">patt</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">entire_questionID</span><span class="p">);</span>
		
		<span class="c1">// Hide the original quetion in LimeSurvey (so that we can replace with drag and drop)</span>
		<span class="nx">$</span><span class="p">(</span><span class="s2">".rank, .questionhelp"</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
		
		<span class="c1">// Turn off display of question (to override error checking built into LimeSurvey ranking question)</span>
		<span class="nx">$</span><span class="p">(</span><span class="s2">"#display"</span><span class="o">+</span><span class="nx">questionID</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="s2">"off"</span><span class="p">);</span>
		
		<span class="c1">// Add connected sortables to the question</span>
		<span class="kd">var</span> <span class="nx">html_code</span> <span class="o">=</span> <span class="s2">"&lt;table style='border: medium none ; width: 770px; margin-left: auto; \</span>
<span class="s2">								margin-right: auto;'&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style='width: 590px; vertical-align: top;'&gt;&lt;h3&gt;List of Candidates:&lt;/h3&gt; \</span>
<span class="s2">								&lt;div class='ui-state-highlight' style='margin: 5px; float: left;' id='ballot_list'&gt; \</span>
<span class="s2">								&lt;ul id='sortable1' class='connectedSortable'&gt;&lt;li&gt;Candidates&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/td&gt; \</span>
<span class="s2">								&lt;td style='vertical-align: top;'&gt;&lt;h3&gt;Your selections:&lt;/h3&gt;&lt;div class='ui-state-highlight' \</span>
<span class="s2">								style='margin: 5px; float: left;' id='voting_selections'&gt;&lt;ol id='sortable2' class='connectedSortable'&gt; \</span>
<span class="s2">								&lt;li&gt;Voting Area&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;"</span><span class="p">;</span>
		<span class="nx">$</span><span class="p">(</span><span class="nx">html_code</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="s2">"#question"</span> <span class="o">+</span> <span class="nx">questionID</span><span class="p">);</span>
		
		<span class="c1">// Remove list items (have to have one item so that LimeSurvey doesn't remove the &lt;ul&gt;)</span>
		<span class="nx">$</span><span class="p">(</span><span class="s2">"#sortable1 li, #sortable2 li"</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
		
		<span class="c1">// Load any previously-set values</span>
		<span class="nx">loadRanking</span><span class="p">();</span>
		
		<span class="c1">// Load jQuery UI</span>
		<span class="nx">$</span><span class="p">.</span><span class="nx">getScript</span><span class="p">(</span><span class="s2">"/scripts/jquery/jquery-ui.js"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		
			<span class="c1">// After JQuery UI finishes loading, set up the connected sortable.</span>
			<span class="nx">$</span><span class="p">(</span><span class="s2">"#sortable1, #sortable2"</span><span class="p">).</span><span class="nx">sortable</span><span class="p">({</span>
				<span class="nx">connectWith</span><span class="o">:</span> <span class="s1">'.connectedSortable'</span><span class="p">,</span>
				<span class="nx">placeholder</span><span class="o">:</span> <span class="s1">'ui-sortable-placeholder'</span><span class="p">,</span>
				<span class="nx">stop</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">ui</span><span class="p">)</span> <span class="p">{</span>
					<span class="nx">$</span><span class="p">(</span><span class="s2">"#sortable1"</span><span class="p">).</span><span class="nx">sortable</span><span class="p">(</span><span class="s2">"refresh"</span><span class="p">);</span>
					<span class="nx">$</span><span class="p">(</span><span class="s2">"#sortable2"</span><span class="p">).</span><span class="nx">sortable</span><span class="p">(</span><span class="s2">"refresh"</span><span class="p">);</span>
					<span class="nx">updateRanking</span><span class="p">();</span>
					<span class="p">}</span>
			<span class="p">}).</span><span class="nx">disableSelection</span><span class="p">();</span>
			
			<span class="c1">// Get the list of candidates from the built-in LimeSurvey question and copy them as items in sortable1</span>
			<span class="nx">$</span><span class="p">(</span><span class="s2">"#CHOICES_"</span> <span class="o">+</span> <span class="nx">questionID</span><span class="p">).</span><span class="nx">children</span><span class="p">().</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="nx">Element</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">li_tag</span> <span class="o">=</span> <span class="s2">"&lt;li class='ui-state-default' id='choice_"</span> <span class="o">+</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'value'</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"'&gt;"</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">text</span> <span class="o">+</span> <span class="s2">"&lt;/li&gt;"</span>
				<span class="nx">$</span><span class="p">(</span><span class="nx">li_tag</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="s2">"#sortable1"</span><span class="p">);</span> <span class="p">}</span>	<span class="p">);</span>
				
			<span class="c1">// Make sure the submit button is showing</span>
			<span class="nx">$</span><span class="p">(</span><span class="s2">":submit[value|=' Submit']"</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
			
			<span class="c1">// Show a confirmation alert upon submit</span>
			<span class="nx">$</span><span class="p">(</span><span class="s2">"form"</span><span class="p">).</span><span class="nx">submit</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			
				<span class="c1">// Override the built-in "disable navigation buttons" feature</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'#moveprevbtn, #movenextbtn, #movesubmitbtn'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'disabled'</span><span class="p">,</span> <span class="s1">''</span><span class="p">);</span>
				<span class="kd">var</span> <span class="nx">validated</span> <span class="o">=</span> <span class="nx">confirm</span><span class="p">(</span><span class="s2">"Cast your ballot now?"</span><span class="p">);</span>
				<span class="k">if</span> <span class="p">(</span><span class="nx">validated</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span> <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span> <span class="p">}</span>
			<span class="p">});</span>
			
			<span class="c1">// Allow users to double click to move to selection list</span>
			<span class="nx">$</span><span class="p">(</span><span class="s2">"#sortable1 li"</span><span class="p">).</span><span class="nx">assignDblClick</span><span class="p">();</span>
		<span class="p">});</span>  <span class="c1">// End of JQuery UI loading</span>
		
	<span class="p">});</span> <span class="c1">// End of JQuery ready function</span>
	
<span class="c1">// Define the actions when an item is double clicked</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">assignDblClick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">dblclick</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
		<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="s1">'#sortable2'</span><span class="p">);</span>
		<span class="nx">$</span><span class="p">(</span><span class="s2">"#sortable1"</span><span class="p">).</span><span class="nx">sortable</span><span class="p">(</span><span class="s2">"refresh"</span><span class="p">);</span>
		<span class="nx">$</span><span class="p">(</span><span class="s2">"#sortable2"</span><span class="p">).</span><span class="nx">sortable</span><span class="p">(</span><span class="s2">"refresh"</span><span class="p">);</span>
		<span class="nx">updateRanking</span><span class="p">();</span>
	<span class="p">});</span>
<span class="p">}</span>

<span class="c1">// This function copies the drag and drop sortable data into the standard LimeSurvey ranking structure.</span>
<span class="kd">function</span> <span class="nx">updateRanking</span><span class="p">()</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">rankees</span> <span class="o">=</span> <span class="p">[];</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#sortable2 li'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
	<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"value"</span><span class="p">,</span> <span class="nx">index</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
	
		<span class="c1">// Get value of person</span>
		<span class="nx">li_tag</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'id'</span><span class="p">);</span>
		<span class="nx">li_tag_array</span> <span class="o">=</span> <span class="nx">li_tag</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">"_"</span><span class="p">);</span>
		
		<span class="c1">// Save to an array</span>
		<span class="nx">rankees</span><span class="p">[</span><span class="nx">rankees</span><span class="p">.</span><span class="nx">length</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">'r_name'</span><span class="o">:</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">text</span><span class="p">(),</span><span class="s1">'r_value'</span><span class="o">:</span><span class="nx">li_tag_array</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">};</span>
	<span class="p">});</span>
	<span class="nx">$</span><span class="p">(</span><span class="s2">"input[name&lt;/div&gt;='RANK_']"</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="nx">rankees</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">rankees</span><span class="p">[</span><span class="nx">index</span><span class="p">].</span><span class="nx">r_name</span><span class="p">);</span>
			<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">next</span><span class="p">().</span><span class="nx">val</span><span class="p">(</span><span class="nx">rankees</span><span class="p">[</span><span class="nx">index</span><span class="p">].</span><span class="nx">r_value</span><span class="p">);</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span>
			<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">next</span><span class="p">().</span><span class="nx">val</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span>
		<span class="p">}</span>
	 <span class="p">});</span>
	 
	<span class="c1">// Re-assign double click action to first list items and remove</span>
	<span class="c1">// double click action from section list items</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#sortable1 li'</span><span class="p">).</span><span class="nx">unbind</span><span class="p">(</span><span class="s1">'dblclick'</span><span class="p">).</span><span class="nx">assignDblClick</span><span class="p">();</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'#sortable2 li'</span><span class="p">).</span><span class="nx">unbind</span><span class="p">(</span><span class="s1">'dblclick'</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// This function is called on page load to see if there are any items already ranked (from a previous visit</span>
<span class="c1">// or cached due to a page change.  If so, the already-ranked items are loaded into the sortable list</span>
<span class="kd">function</span> <span class="nx">loadRanking</span><span class="p">()</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">rankees</span> <span class="o">=</span> <span class="p">[];</span>
	
	<span class="c1">// Loop through each item in the built-in LimeSurvey ranking list looking for non-empty values</span>
	<span class="nx">$</span><span class="p">(</span><span class="s2">"input[name&lt;div class="</span><span class="nx">simplebox</span><span class="s2">"&gt;='RANK_']"</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
	
		<span class="c1">// Check to see if the current item has a value</span>
		<span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">())</span> <span class="p">{</span>
			<span class="c1">// Item has a value - save to the array</span>
			<span class="c1">// Use this element to contain the name and the next for the value (numeric)</span>
			<span class="nx">rankees</span><span class="p">[</span><span class="nx">rankees</span><span class="p">.</span><span class="nx">length</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">'r_name'</span><span class="o">:</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span><span class="s1">'r_value'</span><span class="o">:</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">next</span><span class="p">().</span><span class="nx">val</span><span class="p">()</span> <span class="p">};</span>
		<span class="p">}</span>
	<span class="p">});</span>
	
	<span class="c1">// Now that we have a list of all the pre-ranked items, populate the sortable list</span>
	<span class="c1">// Note that the items *won't* appear in the main list because LimeSurvey has removed them.</span>
	<span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">rankees</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
		<span class="c1">// Create the items in the sortable</span>
		<span class="nx">li_tag</span> <span class="o">=</span> <span class="s2">"&lt;li class='ui-state-default' id='choice_"</span> <span class="o">+</span> <span class="nx">value</span><span class="p">.</span><span class="nx">r_value</span> <span class="o">+</span> <span class="s2">"'&gt;"</span> <span class="o">+</span> <span class="nx">value</span><span class="p">.</span><span class="nx">r_name</span> <span class="o">+</span> <span class="s2">"&lt;/li&gt;"</span><span class="p">;</span>
		<span class="nx">$</span><span class="p">(</span><span class="nx">li_tag</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="s2">"#sortable2"</span><span class="p">);</span>
	<span class="p">});</span>
<span class="p">}</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Create_MaxDiff_question_type">Create MaxDiff question type</span></h1> 
        <p>See the <a href="/Workarounds:_Question_design,_layout_and_templating" title="Workarounds: Question design, layout and templating">Question design, layout and templating</a> section for a workaround that uses JavaScript to convert an <i><b>Array (flexible labels) by column</b></i> question into a <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://en.wikipedia.org/wiki/MaxDiff">MaxDiff</a> question type. </p>
        <p><a href="/File:Max_diff_596x253.gif" class="image"><img alt="Max diff 596x253.gif" src="/images/6/62/Max_diff_596x253.gif" width="596" height="253"></a> </p> 
        <h1><span class="mw-headline" id="In_a_checkbox_matrix.2C_have_the_.27none.27_option_in_a_row_disable_all_other_columns_in_that_row">In a checkbox matrix, have the 'none' option in a row disable all other columns in that row</span></h1> 
        <p><i>Tested with: LimeSurvey 1.90+</i> </p>
        <p>The questionId parameter is the base ID of the question matrix (multiflexible). </p>
        <p>numColumns and numRows speak for themselves </p>
        <p>specialColumns is an array of the columns that have the special ability that when one of them </p>
        <p>is checked, none of the others can be checked. E.g., a 'none of these' and/or a 'do now know' option. </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>

<span class="nx">numColumns</span><span class="o">=</span><span class="mi">13</span><span class="p">;</span>

<span class="nx">numRows</span><span class="o">=</span><span class="mi">18</span><span class="p">;</span>

<span class="nx">questionId</span><span class="o">=</span><span class="s1">'28417X2X24'</span><span class="p">;</span>

<span class="nx">specialColumns</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">13</span><span class="p">];</span>

<span class="k">function</span> <span class="nf">action</span><span class="p">(</span><span class="nx">obj</span><span class="p">){</span>

   <span class="nx">locator</span><span class="o">=</span><span class="nx">obj</span><span class="o">.</span><span class="nx">id</span><span class="o">.</span><span class="nx">replace</span><span class="p">(</span><span class="s1">'cbox_'</span><span class="o">+</span><span class="nx">questionId</span><span class="p">,</span> <span class="s1">''</span><span class="p">)</span><span class="o">.</span><span class="nb">split</span><span class="p">(</span><span class="s1">'_'</span><span class="p">);</span>

   <span class="nx">row</span><span class="o">=</span><span class="nx">locator</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

   <span class="nx">column</span><span class="o">=</span><span class="nx">locator</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>

   <span class="c1">//alert('Action for row,column='+row+','+column);</span>

   <span class="nx">my_id</span><span class="o">=</span><span class="s1">'#cbox_'</span><span class="o">+</span><span class="nx">questionId</span><span class="o">+</span><span class="nx">row</span><span class="o">+</span><span class="s1">'_'</span><span class="o">+</span><span class="nx">column</span><span class="o">+</span><span class="s1">''</span>

   <span class="k">if</span><span class="p">(</span><span class="err">$</span><span class="p">(</span><span class="nx">my_id</span><span class="p">)</span><span class="o">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">)</span> <span class="o">==</span> <span class="k">false</span><span class="p">)</span> <span class="p">{</span>

       <span class="k">for</span><span class="p">(</span> <span class="k">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;=</span><span class="nx">numColumns</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>

           <span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">==</span><span class="nx">column</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>

           <span class="nx">id</span><span class="o">=</span><span class="s1">'#cbox_'</span><span class="o">+</span><span class="nx">questionId</span><span class="o">+</span><span class="nx">row</span><span class="o">+</span><span class="s1">'_'</span><span class="o">+</span><span class="nx">i</span>

           <span class="err">$</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span><span class="o">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'disabled'</span><span class="p">,</span><span class="k">false</span><span class="p">);</span>

       <span class="p">}</span>

   <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>

       <span class="k">for</span><span class="p">(</span> <span class="k">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;=</span><span class="nx">numColumns</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>

           <span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">==</span><span class="nx">column</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>

           <span class="nx">id</span><span class="o">=</span><span class="s1">'#cbox_'</span><span class="o">+</span><span class="nx">questionId</span><span class="o">+</span><span class="nx">row</span><span class="o">+</span><span class="s1">'_'</span><span class="o">+</span><span class="nx">i</span>

           <span class="nx">aid</span><span class="o">=</span><span class="s1">'#answer'</span><span class="o">+</span><span class="nx">questionId</span><span class="o">+</span><span class="nx">row</span><span class="o">+</span><span class="s1">'_'</span><span class="o">+</span><span class="nx">i</span>

           <span class="err">$</span><span class="p">(</span><span class="nx">aid</span><span class="p">)</span><span class="o">.</span><span class="nx">val</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

           <span class="err">$</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span><span class="o">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">,</span><span class="k">false</span><span class="p">);</span>

           <span class="err">$</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span><span class="o">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'disabled'</span><span class="p">,</span><span class="k">true</span><span class="p">);</span>

       <span class="p">}</span>

   <span class="p">}</span>

<span class="p">}</span>

<span class="k">function</span> <span class="nf">customOnLoad</span><span class="p">(){</span>

   <span class="k">for</span><span class="p">(</span> <span class="k">var</span> <span class="nx">row</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="nx">row</span><span class="o">&lt;=</span><span class="nx">numRows</span><span class="p">;</span> <span class="nx">row</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>

       <span class="k">for</span><span class="p">(</span> <span class="k">var</span> <span class="nx">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">k</span><span class="o">&lt;</span><span class="nx">specialColumns</span><span class="o">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">k</span><span class="o">++</span> <span class="p">)</span>

       <span class="p">{</span>

           <span class="nx">column</span><span class="o">=</span><span class="nx">specialColumns</span><span class="p">[</span><span class="nx">k</span><span class="p">];</span>

           <span class="err">$</span><span class="p">(</span><span class="s1">'#cbox_'</span><span class="o">+</span><span class="nx">questionId</span><span class="o">+</span><span class="nx">row</span><span class="o">+</span><span class="s1">'_'</span><span class="o">+</span><span class="nx">column</span><span class="p">)</span><span class="o">.</span><span class="nx">change</span><span class="p">(</span><span class="k">function</span><span class="p">()</span> <span class="p">{</span>

               <span class="nx">action</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>

           <span class="p">});</span>

       <span class="p">}</span>

   <span class="p">}</span>

<span class="p">}</span>

<span class="nx">jQuery</span><span class="p">(</span><span class="nx">document</span><span class="p">)</span><span class="o">.</span><span class="nx">ready</span><span class="p">(</span>

   <span class="k">function</span><span class="p">(){</span>

   <span class="nx">customOnLoad</span><span class="p">();</span>

   <span class="p">}</span>

<span class="p">);</span>

<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Last_Option_In_Array_.28Numbers.29_.28Checkboxes.29_Row_Excludes_All_Others">Last Option In Array (Numbers) (Checkboxes) Row Excludes All Others</span></h1> 
        <p><i>Tested with LimeSurvey Versions 2.06 and 2.54</i> </p>
        <p>This workaround uses JavaScript/jQuery to make the last option of each Array (Numbers) (Checkboxes) row exclude all other options in the same row. </p>
        <p>The script will uncheck all options in a row if the last option is checked and uncheck the last option in a row if any other options are checked. </p> 
        <h2><span class="mw-headline" id="Implementation_LS_Version_2.06:">Implementation LS Version 2.06:</span></h2> 
        <ol>
         <li><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use JavaScript</a>.</li> 
         <li>Place the following script in the source of the array question.
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="c1">// Call the exclude function using question ID</span>
		<span class="nx">excludeOpt</span><span class="p">({</span><span class="nx">QID</span><span class="p">});</span>
	<span class="p">});</span>
   
	<span class="c1">// A function to make the last option in each array row exclusive</span>
	<span class="kd">function</span> <span class="nx">excludeOpt</span> <span class="p">(</span><span class="nx">qID</span><span class="p">)</span> <span class="p">{</span>
	   
		<span class="kd">var</span> <span class="nx">thisQuestion</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="p">)</span>

		<span class="c1">// Add some classes to the checkbox cells</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'td.checkbox-item'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'normalOpt'</span><span class="p">);</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'tr.subquestions-list'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'.normalOpt:last'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">'normalOpt'</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'exlusiveOpt'</span><span class="p">)</span>
		<span class="p">});</span>

		<span class="c1">// A listener on the checkbox cells</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'td.checkbox-item'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">handleExclusive</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
		<span class="p">});</span>

		<span class="c1">// A listener on the checkboxes</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'td.checkbox-item input[type="checkbox"]'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">handleExclusive</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'td'</span><span class="p">));</span>
		<span class="p">});</span>
		
		<span class="kd">function</span> <span class="nx">handleExclusive</span><span class="p">(</span><span class="nx">thisCell</span><span class="p">)</span> <span class="p">{</span>
			   
			<span class="kd">var</span> <span class="nx">thisRow</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">thisCell</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'tr'</span><span class="p">);</span>

			<span class="c1">// Uncheck the appropriate boxes in a row</span>
			<span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="nx">thisCell</span><span class="p">).</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">'normalOpt'</span><span class="p">))</span> <span class="p">{</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'.exlusiveOpt input[type="checkbox"]'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
			<span class="p">}</span>
			<span class="k">else</span> <span class="p">{</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'.normalOpt input[type="checkbox"]'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
			<span class="p">}</span>
				
			<span class="c1">// Check conditions (relevance)</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'td.checkbox-item'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">thisValue</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
				<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="checkbox"]'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="s1">':checked'</span><span class="p">))</span> <span class="p">{</span>
					<span class="nx">thisValue</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
				<span class="p">}</span>
				<span class="kd">var</span> <span class="nx">thisSGQA</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="checkbox"]'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'id'</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/cbox_/</span><span class="p">,</span> <span class="s1">''</span><span class="p">);</span>
				 
				<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="hidden"]'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'value'</span><span class="p">,</span> <span class="nx">thisValue</span><span class="p">);</span>
				<span class="nx">fixnum_checkconditions</span><span class="p">(</span><span class="nx">thisValue</span><span class="p">,</span> <span class="nx">thisSGQA</span><span class="p">,</span> <span class="s1">'hidden'</span><span class="p">);</span>
			<span class="p">});</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
          </div></li>
        </ol> 
        <h2><span class="mw-headline" id="Implementation_LS_Version_2.54:">Implementation LS Version 2.54:</span></h2> 
        <ol>
         <li><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use JavaScript</a>.</li> 
         <li>Place the following script in the source of the array question.
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="c1">// Call the exclude function using question ID</span>
		<span class="nx">excludeOpt</span><span class="p">({</span><span class="nx">QID</span><span class="p">});</span>
	<span class="p">});</span>
   
	<span class="c1">// A function to make the last option in each array row exclusive</span>
	<span class="kd">function</span> <span class="nx">excludeOpt</span> <span class="p">(</span><span class="nx">qID</span><span class="p">)</span> <span class="p">{</span>
	   
		<span class="kd">var</span> <span class="nx">thisQuestion</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="p">)</span>

		<span class="c1">// Add some classes to the checkbox cells</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'td.checkbox-item'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'normal-item'</span><span class="p">);</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'tr.subquestion-list'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'.normal-item:last'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">'normal-item'</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'exlusive-item'</span><span class="p">)</span>
		<span class="p">});</span>

		<span class="c1">// A listener on the checkboxes</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="checkbox"]'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">'change'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">handleExclusive</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'td'</span><span class="p">));</span>
		<span class="p">});</span>
		
		<span class="kd">function</span> <span class="nx">handleExclusive</span><span class="p">(</span><span class="nx">thisCell</span><span class="p">)</span> <span class="p">{</span>
			   
			<span class="kd">var</span> <span class="nx">thisRow</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">thisCell</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'tr'</span><span class="p">);</span>

			<span class="c1">// Uncheck the appropriate boxes in a row</span>
			<span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="nx">thisCell</span><span class="p">).</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">'normal-item'</span><span class="p">))</span> <span class="p">{</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'.exlusive-item input[type="checkbox"]'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
			<span class="p">}</span>
			<span class="k">else</span> <span class="p">{</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'.normal-item input[type="checkbox"]'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
			<span class="p">}</span>
				
			<span class="c1">// Check conditions (relevance)</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'td.checkbox-item'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">thisValue</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
				<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="checkbox"]'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="s1">':checked'</span><span class="p">))</span> <span class="p">{</span>
					<span class="nx">thisValue</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
				<span class="p">}</span>
				<span class="kd">var</span> <span class="nx">thisSGQA</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="checkbox"]'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'id'</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/cbox_/</span><span class="p">,</span> <span class="s1">''</span><span class="p">);</span>
				 
				<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="hidden"]'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'value'</span><span class="p">,</span> <span class="nx">thisValue</span><span class="p">);</span>
				<span class="nx">fixnum_checkconditions</span><span class="p">(</span><span class="nx">thisValue</span><span class="p">,</span> <span class="nx">thisSGQA</span><span class="p">,</span> <span class="s1">'hidden'</span><span class="p">);</span>
			<span class="p">});</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
          </div></li>
        </ol> 
        <h1><span class="mw-headline" id="Add_Navigation_Buttons_.28Next_and_Previous.29_To_Top_Of_Page">Add Navigation Buttons (Next and Previous) To Top Of Page</span></h1> 
        <p><i>Tested with: 1.90+, IE 7/8, Firefox 3.6, Safari 3.2</i> </p>
        <p>Add the following to the end of template.js. It will insert a new div after the progress bar and then insert clones of the nav buttons in the new div. </p>
        <p>This example is for the default template in 1.90 or 1.91. The placement of the new div may need to be modified for other templates. </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre>   <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

		<span class="c1">// Insert a new div after the progress bar</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'&lt;div id="navigator2" /&gt;'</span><span class="p">).</span><span class="nx">insertAfter</span><span class="p">(</span><span class="s1">'#progress-wrapper'</span><span class="p">);</span>

		<span class="c1">// Style the new div</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#navigator2'</span><span class="p">).</span><span class="nx">css</span><span class="p">({</span>
			<span class="s1">'text-align'</span><span class="o">:</span><span class="s1">'center'</span>
		<span class="p">});</span>

		<span class="c1">// Insert clones of the nav buttons in the new div</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'input.submit:eq(0)'</span><span class="p">).</span><span class="nx">clone</span><span class="p">().</span><span class="nx">appendTo</span><span class="p">(</span><span class="s1">'#navigator2'</span><span class="p">);</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'input.submit:eq(2)'</span><span class="p">).</span><span class="nx">clone</span><span class="p">().</span><span class="nx">appendTo</span><span class="p">(</span><span class="s1">'#navigator2'</span><span class="p">);</span>

		<span class="c1">// Give the new buttons some new IDs</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#navigator2 input.submit'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">oldID</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'id'</span><span class="p">);</span>
			<span class="kd">var</span> <span class="nx">newID</span> <span class="o">=</span> <span class="nx">oldID</span> <span class="o">+</span> <span class="s1">'2'</span><span class="p">;</span>
			<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'id'</span><span class="p">,</span> <span class="nx">newID</span><span class="p">)</span>
		<span class="p">});</span>
	<span class="p">});</span>
</pre>
        </div> 
        <p><a href="/File:Extra_buttons.png" class="image"><img alt="Extra buttons.png" src="/images/d/dd/Extra_buttons.png" width="569" height="267"></a> </p> 
        <h1><span class="mw-headline" id="How_to_add_an_opt_out_link_to_your_survey">How to <i>add</i> an opt out link to your survey</span></h1> 
        <p>Tested with: 1.91+, Firefox 5.0 </p>
        <p>This javascript inserts a link to opt out of the survey above the progress bar. </p>
        <p><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">How to use script here</a> </p>
        <p>Then insert the following code into to the source of a group description or a question. I used the group description. </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre> <span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

   <span class="err">$</span><span class="p">(</span><span class="nx">document</span><span class="p">)</span><span class="o">.</span><span class="nx">ready</span><span class="p">(</span><span class="k">function</span><span class="p">()</span> <span class="p">{</span>

		<span class="c1">// Find the survey ID</span>
		<span class="k">if</span><span class="p">(</span><span class="err">$</span><span class="p">(</span><span class="s1">'input#fieldnames'</span><span class="p">)</span><span class="o">.</span><span class="nx">length</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">var</span> <span class="nx">fieldNames</span> <span class="o">=</span> <span class="err">$</span><span class="p">(</span><span class="s1">'input#fieldnames'</span><span class="p">)</span><span class="o">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'value'</span><span class="p">);</span>
			<span class="k">var</span> <span class="nx">tmp</span> <span class="o">=</span> <span class="nx">fieldNames</span><span class="o">.</span><span class="nb">split</span><span class="p">(</span><span class="s1">'X'</span><span class="p">);</span>
			<span class="k">var</span> <span class="nx">sID</span> <span class="o">=</span> <span class="nx">tmp</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
		<span class="p">}</span>

		<span class="c1">// Insert a new div after the progress bar</span>
		<span class="err">$</span><span class="p">(</span><span class="s1">'&lt;div id="optOutLink" /&gt;'</span><span class="p">)</span><span class="o">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="s1">'#progress-wrapper'</span><span class="p">);</span>

		<span class="c1">// Style the new div</span>
		<span class="err">$</span><span class="p">(</span><span class="s1">'#optOutLink'</span><span class="p">)</span><span class="o">.</span><span class="nx">css</span><span class="p">({</span>
			<span class="s1">'text-align'</span><span class="o">:</span><span class="s1">'center'</span>
		<span class="p">});</span>

		<span class="c1">// Insert opt out url in the new div</span>
		<span class="err">$</span><span class="p">(</span><span class="s1">'#optOutLink'</span><span class="p">)</span><span class="o">.</span><span class="nx">html</span><span class="p">(</span><span class="s1">'&lt;p&gt;&lt;a href="optout.php?lang=en&amp;sid;='</span><span class="o">+</span><span class="nx">sID</span><span class="o">+</span><span class="s1">'&amp;token;={TOKEN}"&gt;Click here to opt out of this survey.&lt;/a&gt;&lt;/p&gt;&lt;br&gt;'</span><span class="p">);</span>

	<span class="p">});</span>

<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Anonymously_track_respondents_answers_across_multiple_surveys">Anonymously track respondents answers across multiple surveys</span></h1> 
        <p><i>Tested with: 1.91+ and 1.92+</i> </p>
        <p>This workaround uses JavaScript/jQuery to enable tracking of respondents across multiple surveys ensuring anonymity (it does not use tokens). </p>
        <p>To do this you have to use this question in all the surveys you want to link respondents answers. </p>
        <p>This workaround create an ID by asking some partial personal information (like initials, birth month ...). The ID will be encrypted using a one-way function (in this case SHA-1) and stored in a short text answer. </p>
        <p>Implementation is as follows: </p> 
        <ol>
         <li><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use JavaScript</a>.</li> 
         <li>Place the following code in the source of a short text question.</li> 
         <li>Optional: you can also add other select field to avoid collisions (e.g. for large population sample)</li>
        </ol> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="k">This</span> <span class="nx">answers</span> <span class="nx">are</span> <span class="nx">used</span> <span class="nx">to</span> <span class="nx">generate</span> <span class="nx">your</span> <span class="nx">ID</span><span class="o">.</span> <span class="nx">These</span> <span class="nx">information</span> <span class="nx">will</span> <span class="nx">be</span> <span class="nx">encrypted</span><span class="p">,</span> <span class="nx">it</span> <span class="nx">will</span> <span class="k">not</span> <span class="nx">be</span> <span class="nx">possible</span> <span class="nx">in</span> <span class="nx">any</span> <span class="k">case</span> <span class="nx">to</span> <span class="nx">identify</span> <span class="nx">you</span> <span class="nx">neither</span> <span class="nx">from</span> <span class="nx">your</span> <span class="nx">answers</span> <span class="nx">nor</span> <span class="nx">from</span> <span class="nx">your</span> <span class="nx">ID</span><span class="o">.&lt;/</span><span class="nx">p</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nx">table</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nx">tr</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nx">td</span><span class="o">&gt;</span><span class="nx">Initial</span> <span class="nx">of</span> <span class="nx">your</span> <span class="nx">name</span><span class="o">&lt;/</span><span class="nx">td</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nx">td</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nx">select</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"field1"</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">""</span><span class="o">&gt;&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"A"</span><span class="o">&gt;</span><span class="nx">A</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"B"</span><span class="o">&gt;</span><span class="nx">B</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"C"</span><span class="o">&gt;</span><span class="nx">C</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"D"</span><span class="o">&gt;</span><span class="nx">D</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"E"</span><span class="o">&gt;</span><span class="nx">E</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"F"</span><span class="o">&gt;</span><span class="nx">F</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"G"</span><span class="o">&gt;</span><span class="nx">G</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"H"</span><span class="o">&gt;</span><span class="nx">H</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"I"</span><span class="o">&gt;</span><span class="nx">I</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"J"</span><span class="o">&gt;</span><span class="nx">J</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"K"</span><span class="o">&gt;</span><span class="nx">K</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"L"</span><span class="o">&gt;</span><span class="nx">L</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"M"</span><span class="o">&gt;</span><span class="nx">M</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"N"</span><span class="o">&gt;</span><span class="nx">N</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"O"</span><span class="o">&gt;</span><span class="nx">O</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"P"</span><span class="o">&gt;</span><span class="nx">P</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"Q"</span><span class="o">&gt;</span><span class="nx">Q</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"R"</span><span class="o">&gt;</span><span class="nx">R</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"S"</span><span class="o">&gt;</span><span class="nx">S</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"T"</span><span class="o">&gt;</span><span class="nx">T</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"U"</span><span class="o">&gt;</span><span class="nx">U</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"V"</span><span class="o">&gt;</span><span class="nx">V</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"W"</span><span class="o">&gt;</span><span class="nx">W</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"X"</span><span class="o">&gt;</span><span class="nx">X</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"Y"</span><span class="o">&gt;</span><span class="nx">Y</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"Z"</span><span class="o">&gt;</span><span class="nx">Z</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

<span class="o">&lt;/</span><span class="nx">select</span><span class="o">&gt;</span>

<span class="o">&lt;/</span><span class="nx">td</span><span class="o">&gt;</span>

<span class="o">&lt;/</span><span class="nx">tr</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nx">tr</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nx">td</span><span class="o">&gt;</span><span class="nx">Your</span> <span class="nx">birth</span> <span class="nx">month</span><span class="o">&lt;/</span><span class="nx">td</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nx">td</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nx">select</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"field2"</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">""</span><span class="o">&gt;&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"01"</span><span class="o">&gt;</span><span class="nx">January</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"02"</span><span class="o">&gt;</span><span class="nx">February</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"03"</span><span class="o">&gt;</span><span class="nx">March</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"04"</span><span class="o">&gt;</span><span class="nx">April</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"05"</span><span class="o">&gt;</span><span class="nx">May</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"06"</span><span class="o">&gt;</span><span class="nx">June</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"07"</span><span class="o">&gt;</span><span class="nx">July</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"08"</span><span class="o">&gt;</span><span class="nx">August</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"09"</span><span class="o">&gt;</span><span class="nx">September</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"10"</span><span class="o">&gt;</span><span class="nx">October</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"11"</span><span class="o">&gt;</span><span class="nx">November</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"12"</span><span class="o">&gt;</span><span class="nx">December</span><span class="o">&lt;/</span><span class="nx">option</span><span class="o">&gt;</span>

<span class="o">&lt;/</span><span class="nx">select</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nx">td</span><span class="o">&gt;</span>

<span class="o">&lt;/</span><span class="nx">tr</span><span class="o">&gt;</span>

<span class="o">&lt;/</span><span class="nx">table</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">src</span><span class="o">=</span><span class="s2">"http://crypto-js.googlecode.com/svn/tags/3.0.2/build/rollups/sha1.js"</span><span class="o">&gt;&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>

<span class="err">$</span><span class="p">(</span><span class="nx">document</span><span class="p">)</span><span class="o">.</span><span class="nx">ready</span><span class="p">(</span><span class="k">function</span><span class="p">()</span> <span class="p">{</span>

   <span class="err">$</span><span class="p">(</span><span class="s2">"#answer{SGQ}"</span><span class="p">)</span><span class="o">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'readonly'</span><span class="p">,</span> <span class="s1">'readonly'</span><span class="p">);</span>

   <span class="c1">//$("#answer{SGQ}").css('display', 'none'); //uncomment this line for not displaying the code</span>

<span class="p">});</span>

<span class="err">$</span><span class="p">(</span><span class="s1">'#field1, #field2'</span><span class="p">)</span><span class="o">.</span><span class="nx">bind</span><span class="p">(</span><span class="s1">'change keyup'</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span>

   <span class="k">if</span> <span class="p">(</span><span class="err">$</span><span class="p">(</span><span class="s2">"#field1"</span><span class="p">)</span><span class="o">.</span><span class="nx">val</span><span class="p">()</span><span class="o">==</span><span class="s1">''</span> <span class="o">||</span> <span class="err">$</span><span class="p">(</span><span class="s2">"#field2"</span><span class="p">)</span><span class="o">.</span><span class="nx">val</span><span class="p">()</span><span class="o">==</span><span class="s1">''</span><span class="p">)</span>

       <span class="err">$</span><span class="p">(</span><span class="s2">"#answer{SGQ}"</span><span class="p">)</span><span class="o">.</span><span class="nx">val</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span>

   <span class="k">else</span> <span class="p">{</span>

       <span class="k">var</span> <span class="nb">sha1</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="o">.</span><span class="nx">algo</span><span class="o">.</span><span class="nx">SHA1</span><span class="o">.</span><span class="nx">create</span><span class="p">();</span>

       <span class="nb">sha1</span><span class="o">.</span><span class="nx">update</span><span class="p">(</span><span class="err">$</span><span class="p">(</span><span class="s2">"#field1"</span><span class="p">)</span><span class="o">.</span><span class="nx">val</span><span class="p">());</span>

       <span class="nb">sha1</span><span class="o">.</span><span class="nx">update</span><span class="p">(</span><span class="err">$</span><span class="p">(</span><span class="s2">"#field2"</span><span class="p">)</span><span class="o">.</span><span class="nx">val</span><span class="p">());</span>

       <span class="c1">// sha1.update($("#otherfield").val());</span>

       <span class="k">var</span> <span class="nb">hash</span> <span class="o">=</span> <span class="nb">sha1</span><span class="o">.</span><span class="nx">finalize</span><span class="p">();</span>

       <span class="err">$</span><span class="p">(</span><span class="s2">"#answer{SGQ}"</span><span class="p">)</span><span class="o">.</span><span class="nx">val</span><span class="p">(</span><span class="nb">hash</span><span class="p">);</span>

   <span class="p">}</span>

<span class="p">});</span>

<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Check_validity_of_international_phone_number_in_subquestion">Check validity of international phone number in subquestion</span></h1> 
        <p><i>Tested with: 1.91+, Firefox 8, Chrome 15</i> </p>
        <p>As of version 1.92, you can use the core Validation querstion option to validate multiple short text and array text questions. Any question that fails that validation check will have its background color changed to red. </p>
        <p>Note, the below workaround will fail in version 1.92 because it contains a regular expression with curly braces. However, as described above, support for this feature is now built-in to version 1.92 </p>
        <p>This workaround uses javascript to check the validity of an international phone number in a subquestion of multiple short text. </p>
        <p>Add the following code to the source of your question. </p>
        <p>Replace "QQ" with the question ID and "NN" with the row number that you want to validate. </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

   <span class="err">$</span><span class="p">(</span><span class="nx">document</span><span class="p">)</span><span class="o">.</span><span class="nx">ready</span><span class="p">(</span><span class="k">function</span><span class="p">()</span> <span class="p">{</span>

       <span class="c1">// Call the phone function with the question ID and the row number</span>

       <span class="nx">phoneTest</span><span class="p">(</span><span class="nx">QQ</span><span class="p">,</span> <span class="nx">NN</span><span class="p">);</span>

       <span class="k">function</span> <span class="nf">phoneTest</span><span class="p">(</span><span class="nx">qID</span><span class="p">,</span> <span class="nx">inputNum</span><span class="p">)</span> <span class="p">{</span>

           <span class="c1">// Interrupt next/submit function</span>

           <span class="err">$</span><span class="p">(</span><span class="s1">'#movenextbtn, #movesubmitbtn'</span><span class="p">)</span><span class="o">.</span><span class="nx">click</span><span class="p">(</span><span class="k">function</span><span class="p">(){</span>

               <span class="c1">// Some vars - modify as required</span>

               <span class="k">var</span> <span class="nx">phoneMatch</span> <span class="o">=</span> <span class="o">/^</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span><span class="o">+</span><span class="p">,(),</span> <span class="p">,]{</span><span class="mi">1</span><span class="p">,}(,[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">+</span><span class="p">){</span><span class="mi">0</span><span class="p">,}</span><span class="err">$</span><span class="o">/</span><span class="p">;</span>

               <span class="k">var</span> <span class="nx">msg1</span> <span class="o">=</span> <span class="s1">'Please enter a valid phone number.'</span><span class="p">;</span>

               <span class="c1">// Test the input</span>

               <span class="k">var</span> <span class="nx">phoneInput</span> <span class="o">=</span> <span class="err">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' li:eq('</span><span class="o">+</span><span class="p">(</span><span class="nx">inputNum</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s1">') input.text'</span><span class="p">)</span><span class="o">.</span><span class="nx">val</span><span class="p">();</span>

               <span class="k">if</span><span class="p">(</span><span class="nx">phoneInput</span> <span class="o">!=</span> <span class="s1">''</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">phoneMatch</span><span class="o">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">phoneInput</span><span class="p">))</span> <span class="p">{</span>

                   <span class="nx">alert</span><span class="p">(</span><span class="nx">msg1</span><span class="p">);</span>

                   <span class="err">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' li:eq('</span><span class="o">+</span><span class="p">(</span><span class="nx">inputNum</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s1">') input.text'</span><span class="p">)</span><span class="o">.</span><span class="nx">css</span><span class="p">({</span> <span class="s1">'background'</span><span class="o">:</span><span class="s1">'pink'</span> <span class="p">});</span>

                   <span class="k">return</span> <span class="k">false</span><span class="p">;</span>

               <span class="p">}</span>

               <span class="k">else</span> <span class="p">{</span>

                   <span class="err">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' li:eq('</span><span class="o">+</span><span class="p">(</span><span class="nx">inputNum</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s1">') input.text'</span><span class="p">)</span><span class="o">.</span><span class="nx">css</span><span class="p">({</span> <span class="s1">'background'</span><span class="o">:</span><span class="s1">''</span> <span class="p">});</span>

                   <span class="k">return</span> <span class="k">true</span><span class="p">;</span>

               <span class="p">}</span>

           <span class="p">});</span>

       <span class="p">}</span>

   <span class="p">});</span>

<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <p>The regex is from: <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://www.regexlib.com/REDetails.aspx?regexp_id=1136">regexlib.com blank</a> </p> 
        <h1><span class="mw-headline" id="Check_validity_of_email_address_in_subquestion">Check validity of email address in subquestion</span></h1> 
        <p>'Tested with: 1.91+, Firefox 8, Chrome 15 </p> 
        <div class="simplebox">
         As of version 1.92, you can use the core Validation querstion option to validate multiple short text and array text questions. Any question that fails that validation check will have its background color changed to red.
         <br>Note, the below workaround will fail in version 1.92 because it contains a regular expression with curly braces. However, as described above, support for this feature is now built-in to version 1.92
        </div> 
        <p>This workaround uses javascript to check the validity of an email address in a subquestion of multiple short text. </p>
        <p>Add the following code to the source of your question. </p>
        <p>Replace "QQ" with the question ID and "NN" with the row number that you want to validate. </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

   <span class="err">$</span><span class="p">(</span><span class="nx">document</span><span class="p">)</span><span class="o">.</span><span class="nx">ready</span><span class="p">(</span><span class="k">function</span><span class="p">()</span> <span class="p">{</span>

       <span class="c1">// Call the email function with the question ID and the row number</span>

       <span class="nx">emailTest</span><span class="p">(</span><span class="nx">QQ</span><span class="p">,</span> <span class="nx">NN</span><span class="p">);</span>

       <span class="k">function</span> <span class="nf">emailTest</span><span class="p">(</span><span class="nx">qID</span><span class="p">,</span> <span class="nx">inputNum</span><span class="p">)</span> <span class="p">{</span>

           <span class="c1">// Interrupt next/submit function</span>

           <span class="err">$</span><span class="p">(</span><span class="s1">'#movenextbtn, #movesubmitbtn'</span><span class="p">)</span><span class="o">.</span><span class="nx">click</span><span class="p">(</span><span class="k">function</span><span class="p">(){</span>

               <span class="c1">// Some vars - modify as required</span>

               <span class="k">var</span> <span class="nx">emailMatch</span> <span class="o">=</span> <span class="o">/^</span><span class="p">[</span><span class="nx">a</span><span class="o">-</span><span class="nx">zA</span><span class="o">-</span><span class="nx">Z0</span><span class="o">-</span><span class="mi">9</span><span class="nx">\_\</span><span class="o">-</span><span class="p">]</span><span class="o">+</span><span class="p">[</span><span class="nx">a</span><span class="o">-</span><span class="nx">zA</span><span class="o">-</span><span class="nx">Z0</span><span class="o">-</span><span class="mi">9</span><span class="nx">\</span><span class="o">.</span><span class="nx">\_\</span><span class="o">-</span><span class="p">]</span><span class="o">*@</span><span class="p">([</span><span class="nx">a</span><span class="o">-</span><span class="nx">zA</span><span class="o">-</span><span class="nx">Z0</span><span class="o">-</span><span class="mi">9</span><span class="nx">\_\</span><span class="o">-</span><span class="p">]</span><span class="o">+</span><span class="nx">\</span><span class="o">.</span><span class="p">)</span><span class="o">+</span><span class="p">([</span><span class="nx">a</span><span class="o">-</span><span class="nx">zA</span><span class="o">-</span><span class="nx">Z</span><span class="p">]{</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">}</span><span class="o">|</span><span class="nx">travel</span><span class="o">|</span><span class="nx">museum</span><span class="p">)</span><span class="err">$</span><span class="o">/</span><span class="p">;</span>

               <span class="k">var</span> <span class="nx">msg1</span> <span class="o">=</span> <span class="s1">'Please enter a valid email address.'</span><span class="p">;</span>

               <span class="c1">// Test the input</span>

               <span class="k">var</span> <span class="nx">emailInput</span> <span class="o">=</span> <span class="err">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' li:eq('</span><span class="o">+</span><span class="p">(</span><span class="nx">inputNum</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s1">') input.text'</span><span class="p">)</span><span class="o">.</span><span class="nx">val</span><span class="p">();</span>

               <span class="k">if</span><span class="p">(</span><span class="nx">emailInput</span> <span class="o">!=</span> <span class="s1">''</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">emailMatch</span><span class="o">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">emailInput</span><span class="p">))</span> <span class="p">{</span>

                   <span class="nx">alert</span><span class="p">(</span><span class="nx">msg1</span><span class="p">);</span>

                   <span class="err">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' li:eq('</span><span class="o">+</span><span class="p">(</span><span class="nx">inputNum</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s1">') input.text'</span><span class="p">)</span><span class="o">.</span><span class="nx">css</span><span class="p">({</span> <span class="s1">'background'</span><span class="o">:</span><span class="s1">'pink'</span> <span class="p">});</span>

                   <span class="k">return</span> <span class="k">false</span><span class="p">;</span>

               <span class="p">}</span>

               <span class="k">else</span> <span class="p">{</span>

                   <span class="err">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' li:eq('</span><span class="o">+</span><span class="p">(</span><span class="nx">inputNum</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s1">') input.text'</span><span class="p">)</span><span class="o">.</span><span class="nx">css</span><span class="p">({</span> <span class="s1">'background'</span><span class="o">:</span><span class="s1">''</span> <span class="p">});</span>

                   <span class="k">return</span> <span class="k">true</span><span class="p">;</span>

               <span class="p">}</span>

           <span class="p">});</span>

       <span class="p">}</span>

   <span class="p">});</span>

<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <p>The regex is from: <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://www.regexlib.com/REDetails.aspx?regexp_id=1653">regexlib.com blank</a> </p> 
        <h1><span class="mw-headline" id="Hiding_the_help-text_when_it.27s_empty">Hiding the help-text when it's empty</span></h1> 
        <p>Tested with: 1.91+ </p>
        <p>I had made a style in my template putting a border around my help-text. To avoid empty help-text to show up (and have lines instead of just 'nothing' when there was no help text, I used this piece of code in question.pstpl: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>

                   <span class="k">var</span> <span class="nx">questionhelp</span><span class="o">=</span><span class="s2">"{QUESTIONHELP}"</span><span class="p">;</span>

                   <span class="k">if</span> <span class="p">(</span><span class="nx">questionhelp</span><span class="o">==</span><span class="s2">""</span><span class="p">)</span> <span class="p">{</span>

                          <span class="nx">document</span><span class="o">.</span><span class="nx">write</span><span class="p">(</span><span class="s2">""</span><span class="p">);}</span>

                   <span class="k">else</span> <span class="p">{</span>

                   <span class="nx">document</span><span class="o">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">'&lt;tr&gt;&lt;td class="survey-question-help"&gt;'</span><span class="o">+</span> <span class="nx">questionhelp</span> <span class="o">+</span><span class="s1">'&lt;/td&gt;&lt;/tr&gt;'</span><span class="p">);}</span>

               <span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <p>it can probably be optimized but it worked for me </p> 
        <h1><span class="mw-headline" id="Disable_or_hide_selected_fields_in_a_matrix_question">Disable or hide selected fields in a matrix question</span></h1> 
        <p><i>Tested with: 1.92+, IE 7/8/9, FireFox 12/13</i> </p>
        <p>TASK </p>
        <p>Hide or disable selected fields in a Matrix, so that users cannot make any input. </p>
        <p>(See example, where users should not make input into red framed fields) </p>
        <p><a href="/File:Snap035.gif" class="image"><img alt="Snap035.gif" src="/images/b/bf/Snap035.gif" width="1268" height="388"></a> </p>
        <p>Fig. 1: Prevent users from input into first two fields (as an example) </p>
        <p>SOLUTION </p>
        <p>First find the name of the fields you want to hide / disable. In my case I used Firebug with firefox to figure that out. </p>
        <p><a href="/File:Snap037.gif" class="image"><img alt="Snap037.gif" src="/images/8/83/Snap037.gif" width="1271" height="678"></a> </p>
        <p>Fig. 2: Figure out the name(s) of the field(s) </p>
        <p>Then put the following script-code into the HTML-source code as described above: </p>
        <p>Note: you have to change the code to match the names of your fields! </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

   <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

       <span class="nx">$</span><span class="p">(</span><span class="s1">'input[name="69965X2X10SQ001_SQ001"]'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'disabled'</span><span class="p">,</span> <span class="s1">'disabled'</span><span class="p">);</span>

       <span class="nx">$</span><span class="p">(</span><span class="s1">'input[name="69965X2X10SQ001_SQ002"]'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'hidden'</span><span class="p">,</span> <span class="s1">'hidden'</span><span class="p">);</span>

   <span class="p">});</span>

<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p><a href="/File:Snap039.gif" class="image"><img alt="Snap039.gif" src="/images/b/be/Snap039.gif" width="1270" height="392"></a> </p>
        <p>Fig. 3: Result: first field is diabled ("greyed out"), second one is completely hidden </p>
        <p>I think this way one can apply many other attributes to a field like color etc. But did not try that myself. </p>
        <p>Thanks to roB2009 for the input in the forum! </p> 
        <h1><span class="mw-headline" id="Add_prefix_or_suffix_to_question_type_.22Array_.28Texts.29.22">Add prefix or suffix to question type "Array (Texts)"</span></h1> 
        <p>TASK </p>
        <p>Add a prefix or suffix to the text fields in questions of the "Array (Texts)" type. </p>
        <p><a href="/File:Suffix.png" class="image"><img alt="Suffix.png" src="/images/7/7f/Suffix.png" width="463" height="120"></a> </p>
        <p>Fig. 1: Suffix </p>
        <p><a href="/File:Prefix.png" class="image"><img alt="Prefix.png" src="/images/d/d5/Prefix.png" width="467" height="100"></a> </p>
        <p>Fig. 1: Prefix </p>
        <p>SOLUTION </p> 
        <ul>
         <li>Set up your survey to use JavaScript.</li> 
         <li>Add the following script to the source of the array. Replace "12345" with the array question ID and modify the suffixes/prefixes as required.</li> 
         <li>The function call must consist of a question ID followed by the suffixes for each column. Suffixes/Prefixes must be enclosed in quotes and comma separated.</li> 
         <li>In this example question ID 12345 will get an "in " suffix in the first column and an "in&nbsp;%" in the next 3 columns.</li>
        </ul> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>

   <span class="err">$</span><span class="p">(</span><span class="nx">document</span><span class="p">)</span><span class="o">.</span><span class="nx">ready</span><span class="p">(</span><span class="k">function</span><span class="p">()</span> <span class="p">{</span>

       <span class="c1">// Call the function with the question ID followed by a comma-separated list of suffixes</span>

       <span class="nx">addSuffix</span><span class="p">(</span><span class="mi">12345</span><span class="p">,</span> <span class="s1">'in &amp;euro;'</span><span class="p">,</span> <span class="s1">'in %'</span><span class="p">,</span> <span class="s1">'in %'</span><span class="p">,</span> <span class="s1">'in %'</span><span class="p">);</span>

       <span class="k">function</span> <span class="nf">addSuffix</span><span class="p">()</span> <span class="p">{</span>

           <span class="k">var</span> <span class="nx">qID</span> <span class="o">=</span> <span class="err">$</span><span class="p">(</span><span class="nx">arguments</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>

           <span class="c1">// Assign some column-specific classes</span>

           <span class="err">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' table.question tbody tr'</span><span class="p">)</span><span class="o">.</span><span class="nb">each</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>

               <span class="err">$</span><span class="p">(</span><span class="s1">'td'</span><span class="p">,</span> <span class="k">this</span><span class="p">)</span><span class="o">.</span><span class="nb">each</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>

                   <span class="err">$</span><span class="p">(</span><span class="k">this</span><span class="p">)</span><span class="o">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'answerCol-'</span><span class="o">+</span><span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s1">''</span><span class="p">);</span>

               <span class="p">});</span>

           <span class="p">});</span>

           <span class="c1">// Some styling</span>

           <span class="err">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' table.question tbody input[type="text"]'</span><span class="p">)</span><span class="o">.</span><span class="nx">css</span><span class="p">({</span>

               <span class="s1">'width'</span><span class="o">:</span> <span class="s1">'50%'</span>

           <span class="p">});</span>

           <span class="c1">// Insert the suffixes</span>

           <span class="err">$</span><span class="p">(</span><span class="nx">arguments</span><span class="p">)</span><span class="o">.</span><span class="nb">each</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">val</span><span class="p">){</span>

               <span class="k">if</span><span class="p">(</span><span class="nx">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>

                   <span class="err">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' td.answerCol-'</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="s1">' label'</span><span class="p">)</span><span class="o">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">val</span><span class="p">);</span>

               <span class="p">}</span>

           <span class="p">});</span>

       <span class="p">}</span>

   <span class="p">});</span>

<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <p>For adding a prefix you need to substitute the following line in the code </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="err">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' td.answerCol-'</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="s1">' label'</span><span class="p">)</span><span class="o">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">val</span><span class="p">);</span>
</pre>
        </div> 
        <p>with this </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="err">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="o">+</span><span class="s1">' td.answerCol-'</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="s1">' label'</span><span class="p">)</span><span class="o">.</span><span class="nx">prepend</span><span class="p">(</span><span class="nx">val</span><span class="p">);</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Time_question_.28Date_question-like.29">Time question (Date question-like)</span></h1> 
        <p><i>Tested with: 1.92+</i> </p>
        <p>This workaround uses JavaScript/jQuery to build a Time question just like to the Date one. </p>
        <p>Implementation is as follows: </p> 
        <ol>
         <li>Download the file at <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://trentrichardson.com/examples/timepicker/jquery-ui-timepicker-addon.js">trentrichardson.com/examples/timepicker/jquery-ui-timepicker-addon.js</a> and upload it to your survey.</li> 
         <li><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use JavaScript</a>.</li> 
         <li>Place the following code in the source of a short text question.</li>
        </ol> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">src</span><span class="o">=</span><span class="s2">"/upload/surveys/{SID}/jquery-ui-timepicker-addon.js"</span><span class="o">&gt;&lt;</span><span class="err">/script&gt;</span>

<span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>

	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>

		<span class="nx">$</span><span class="p">(</span><span class="s1">'#answer{SGQ}'</span><span class="p">).</span><span class="nx">timepicker</span><span class="p">({</span>
			<span class="nx">timeText</span><span class="o">:</span> <span class="s1">'Time'</span><span class="p">,</span> <span class="c1">//here translation</span>
			<span class="nx">hourText</span><span class="o">:</span> <span class="s1">'hour'</span><span class="p">,</span> <span class="c1">//here translation</span>
			<span class="nx">minuteText</span><span class="o">:</span> <span class="s1">'minute'</span><span class="p">,</span> <span class="c1">//here translation</span>
			<span class="nx">closeText</span><span class="o">:</span> <span class="s1">'Done'</span> <span class="c1">//here translation</span>
		<span class="p">});</span>

		<span class="nx">$</span><span class="p">(</span><span class="s1">'#answer{SGQ}'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'readonly'</span><span class="p">,</span> <span class="s1">'readonly'</span><span class="p">);</span>

		<span class="nx">$</span><span class="p">(</span> <span class="s2">"&lt;style&gt;"</span>
		<span class="o">+</span><span class="s2">".ui-widget-header, .ui-datepicker-current { display:none; }"</span>
		<span class="o">+</span><span class="s2">".ui-timepicker-div dl dt { height: 25px; margin-bottom: -25px; }"</span>
		<span class="o">+</span><span class="s2">".ui-timepicker-div dl dd { margin: 0 10px 10px 65px; }"</span>
		<span class="o">+</span><span class="s2">" }"</span>
		<span class="o">+</span><span class="s2">"&lt;/style&gt;"</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span> <span class="s2">"head"</span> <span class="p">);</span>

	<span class="p">});</span>

<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Calculating_date_difference">Calculating date difference</span></h1> 
        <p><i>Tested with: 1.92+ Build 120909</i> </p>
        <p>This workaround explains how calculate difference between two dates (in: days, weeks, months and years) and is based on this <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://ditio.net/2010/05/02/javascript-date-difference-calculation/">resource external</a>. </p>
        <p>Requieres 2 groups and 'group by group' or 'question by question' presentation. </p>
        <p>Group 1 (2 date questions) </p> 
        <ul>
         <li>1st question - Question code: "DD"</li> 
         <li>2nd question - Question code: "D2"</li>
        </ul> 
        <p>Group 2 </p> 
        <ul>
         <li>1 numerical input question.</li>
        </ul> 
        <p>This question retrieves the number of days between the 2 dates, and check if D2 is posterior than DD. </p>
        <p>All the requiered code have to be added in the source of this numerical question. </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>

<span class="cm">/*</span>

<span class="cm">Adapted from http://ditio.net/2010/05/02/javascript-date-difference-calculation/</span>
<span class="cm">*/</span>

<span class="k">var</span> <span class="nx">DateDiff</span> <span class="o">=</span> <span class="p">{</span>

   <span class="nx">inDays</span><span class="o">:</span> <span class="k">function</span><span class="p">(</span><span class="nx">d1</span><span class="p">,</span> <span class="nx">d2</span><span class="p">)</span> <span class="p">{</span>

       <span class="k">var</span> <span class="nx">t2</span> <span class="o">=</span> <span class="nx">d2</span><span class="o">.</span><span class="nx">getTime</span><span class="p">();</span>

       <span class="k">var</span> <span class="nx">t1</span> <span class="o">=</span> <span class="nx">d1</span><span class="o">.</span><span class="nx">getTime</span><span class="p">();</span>

       <span class="k">return</span> <span class="nx">parseInt</span><span class="p">[[</span><span class="nx">t2</span><span class="o">-</span><span class="nx">t1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">24</span><span class="o">*</span><span class="mi">3600</span><span class="o">*</span><span class="mi">1000</span><span class="p">]];</span>

   <span class="p">},</span>

   <span class="nx">inWeeks</span><span class="o">:</span> <span class="k">function</span><span class="p">(</span><span class="nx">d1</span><span class="p">,</span> <span class="nx">d2</span><span class="p">)</span> <span class="p">{</span>

       <span class="k">var</span> <span class="nx">t2</span> <span class="o">=</span> <span class="nx">d2</span><span class="o">.</span><span class="nx">getTime</span><span class="p">();</span>

       <span class="k">var</span> <span class="nx">t1</span> <span class="o">=</span> <span class="nx">d1</span><span class="o">.</span><span class="nx">getTime</span><span class="p">();</span>

       <span class="k">return</span> <span class="nx">parseInt</span><span class="p">[[</span><span class="nx">t2</span><span class="o">-</span><span class="nx">t1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">24</span><span class="o">*</span><span class="mi">3600</span><span class="o">*</span><span class="mi">1000</span><span class="o">*</span><span class="mi">7</span><span class="p">]];</span>

   <span class="p">},</span>

   <span class="nx">inMonths</span><span class="o">:</span> <span class="k">function</span><span class="p">(</span><span class="nx">d1</span><span class="p">,</span> <span class="nx">d2</span><span class="p">)</span> <span class="p">{</span>

       <span class="k">var</span> <span class="nx">d1Y</span> <span class="o">=</span> <span class="nx">d1</span><span class="o">.</span><span class="nx">getFullYear</span><span class="p">();</span>

       <span class="k">var</span> <span class="nx">d2Y</span> <span class="o">=</span> <span class="nx">d2</span><span class="o">.</span><span class="nx">getFullYear</span><span class="p">();</span>

       <span class="k">var</span> <span class="nx">d1M</span> <span class="o">=</span> <span class="nx">d1</span><span class="o">.</span><span class="nx">getMonth</span><span class="p">();</span>

       <span class="k">var</span> <span class="nx">d2M</span> <span class="o">=</span> <span class="nx">d2</span><span class="o">.</span><span class="nx">getMonth</span><span class="p">();</span>

       <span class="k">return</span> <span class="p">(</span><span class="nx">d2M</span><span class="o">+</span><span class="mi">12</span><span class="o">*</span><span class="nx">d2Y</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="nx">d1M</span><span class="o">+</span><span class="mi">12</span><span class="o">*</span><span class="nx">d1Y</span><span class="p">);</span>

   <span class="p">},</span>

   <span class="nx">inYears</span><span class="o">:</span> <span class="k">function</span><span class="p">(</span><span class="nx">d1</span><span class="p">,</span> <span class="nx">d2</span><span class="p">)</span> <span class="p">{</span>

       <span class="k">return</span> <span class="nx">d2</span><span class="o">.</span><span class="nx">getFullYear</span><span class="p">()</span><span class="o">-</span><span class="nx">d1</span><span class="o">.</span><span class="nx">getFullYear</span><span class="p">();</span>

   <span class="p">}</span>

<span class="p">}</span>

<span class="nx">d1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Date</span><span class="p">({</span><span class="nb">substr</span><span class="p">(</span><span class="nx">DD</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">)},</span> <span class="p">{</span><span class="nb">substr</span><span class="p">(</span><span class="nx">DD</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">)},</span> <span class="p">{</span><span class="nb">substr</span><span class="p">(</span><span class="nx">DD</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span><span class="p">)});</span>

<span class="nx">d2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Date</span><span class="p">({</span><span class="nb">substr</span><span class="p">(</span><span class="nx">D2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">)},</span> <span class="p">{</span><span class="nb">substr</span><span class="p">(</span><span class="nx">D2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">)},</span> <span class="p">{</span><span class="nb">substr</span><span class="p">(</span><span class="nx">D2</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span><span class="p">)});</span>

<span class="c1">// Displays result</span>

<span class="nx">document</span><span class="o">.</span><span class="nx">write</span><span class="p">(</span><span class="s2">"&lt;br /&gt;Number of &lt;b&gt;days&lt;/b&gt;: "</span><span class="o">+</span><span class="nx">DateDiff</span><span class="o">.</span><span class="nx">inDays</span><span class="p">(</span><span class="nx">d1</span><span class="p">,</span> <span class="nx">d2</span><span class="p">));</span>

<span class="nx">document</span><span class="o">.</span><span class="nx">write</span><span class="p">(</span><span class="s2">"&lt;br /&gt;Number of &lt;b&gt;weeks&lt;/b&gt;: "</span><span class="o">+</span><span class="nx">DateDiff</span><span class="o">.</span><span class="nx">inWeeks</span><span class="p">(</span><span class="nx">d1</span><span class="p">,</span> <span class="nx">d2</span><span class="p">));</span>

<span class="nx">document</span><span class="o">.</span><span class="nx">write</span><span class="p">(</span><span class="s2">"&lt;br /&gt;Number of &lt;b&gt;months&lt;/b&gt;: "</span><span class="o">+</span><span class="nx">DateDiff</span><span class="o">.</span><span class="nx">inMonths</span><span class="p">(</span><span class="nx">d1</span><span class="p">,</span> <span class="nx">d2</span><span class="p">));</span>

<span class="nx">document</span><span class="o">.</span><span class="nx">write</span><span class="p">(</span><span class="s2">"&lt;br /&gt;Number of &lt;b&gt;years&lt;/b&gt;: "</span><span class="o">+</span><span class="nx">DateDiff</span><span class="o">.</span><span class="nx">inYears</span><span class="p">(</span><span class="nx">d1</span><span class="p">,</span> <span class="nx">d2</span><span class="p">));</span>

<span class="c1">// filled the numerical input with number of days (or nights)</span>

<span class="k">var</span> <span class="nx">nDays</span> <span class="o">=</span> <span class="o">+</span><span class="nx">DateDiff</span><span class="o">.</span><span class="nx">inDays</span><span class="p">(</span><span class="nx">d1</span><span class="p">,</span> <span class="nx">d2</span><span class="p">);</span>

    <span class="nx">jQuery</span><span class="p">(</span><span class="nx">document</span><span class="p">)</span><span class="o">.</span><span class="nx">ready</span><span class="p">(</span><span class="k">function</span><span class="p">()</span> <span class="p">{</span>

       <span class="err">$</span><span class="p">(</span><span class="s2">".numeric:eq(0) input.text"</span><span class="p">)</span><span class="o">.</span><span class="nx">val</span><span class="p">(</span><span class="nx">nDays</span><span class="p">);</span>

               <span class="err">$</span><span class="p">(</span><span class="s2">".numeric:eq(0) input.text"</span><span class="p">)</span><span class="o">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'readonly'</span><span class="p">,</span><span class="s1">'readonly'</span><span class="p">);</span>

<span class="c1">// check if d2 &gt; d1</span>

               <span class="err">$</span><span class="p">(</span><span class="s1">'#movenextbtn'</span><span class="p">)</span><span class="o">.</span><span class="nx">hide</span><span class="p">();</span>

               <span class="err">$</span><span class="p">(</span><span class="s1">'#movesubmitbtn'</span><span class="p">)</span><span class="o">.</span><span class="nx">hide</span><span class="p">();</span>

               <span class="k">if</span><span class="p">(</span><span class="nx">nDays</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">){</span>

       <span class="c1">// automatic submit (uncomment if needed)</span>

               <span class="c1">// document.limesurvey.submit();</span>

               <span class="c1">// $('body').hide();</span>

                 <span class="p">}</span>

               <span class="k">else</span> <span class="nx">alert</span><span class="p">(</span><span class="s2">"Check out date must be posterior than Check in</span><span class="se">\n</span><span class="s2">Please return to the previous page and edit your answers"</span><span class="p">);</span>

   <span class="p">});</span>

<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="How_to_set_minDate.2FmaxDate_based_on_other_Datequestions">How to set minDate/maxDate based on other Datequestions</span></h1> 
        <p><i> tested with Version 2.00+ Build 130708</i> </p>
        <p>QQ1 and QQ2 are the question identifiers. QQ2 gets as maxDate today and as minDate the date set in QQ1. The onClose event is needed because on document.ready the value of QQ1 is not yet known, although the value of today is. </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>
    <span class="err">$</span><span class="p">(</span><span class="nx">document</span><span class="p">)</span><span class="o">.</span><span class="nx">ready</span><span class="p">(</span><span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="s1">'use strict'</span><span class="p">;</span>
        <span class="k">var</span> <span class="nx">qID1</span> <span class="o">=</span> <span class="nx">QQ1</span><span class="p">,</span>
            <span class="nx">qID2</span> <span class="o">=</span> <span class="nx">QQ2</span><span class="p">,</span>
            <span class="nx">q1</span> <span class="o">=</span> <span class="err">$</span><span class="p">(</span><span class="s1">'#question'</span> <span class="o">+</span> <span class="s1">'QQ1'</span> <span class="o">+</span> <span class="s1">' .popupdate'</span><span class="p">),</span> 
            <span class="nx">q2</span> <span class="o">=</span> <span class="err">$</span><span class="p">(</span><span class="s1">'#question'</span> <span class="o">+</span> <span class="s1">'QQ2'</span> <span class="o">+</span> <span class="s1">' .popupdate'</span><span class="p">);</span>
	
        <span class="c1">//if q1 loses focus, its value is taken and used as minDate in q2   </span>
        <span class="nx">q1</span><span class="o">.</span><span class="nx">datepicker</span><span class="p">(</span><span class="s2">"option"</span><span class="p">,</span> <span class="s2">"onClose"</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nx">datum</span><span class="p">){</span>
            <span class="nx">q2</span><span class="o">.</span><span class="nx">datepicker</span><span class="p">(</span> <span class="s2">"option"</span><span class="p">,</span> <span class="s2">"minDate"</span><span class="p">,</span> <span class="nx">datum</span> <span class="p">);</span>
        <span class="p">});</span>
        <span class="c1">//q2 gets today as its maxDate</span>
        <span class="nx">q2</span><span class="o">.</span><span class="nx">datepicker</span><span class="p">(</span> <span class="s1">'option'</span><span class="p">,</span> <span class="s1">'maxDate'</span><span class="p">,</span> <span class="k">new</span> <span class="nx">Date</span><span class="p">()</span> <span class="p">);</span>
<span class="p">});</span>
<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Remove_Question_Help_if_empty">Remove Question Help if empty</span></h1> 
        <p><i>Version 2.00+ Build 130513</i> </p>
        <p>Change your question.pstpl in your Template Editor so that the line looks like below. I've added the ID tag help_{question_number}. </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">tr</span><span class="o">&gt;&lt;</span><span class="nx">td</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"survey-question-help"</span> <span class="nx">id</span><span class="o">=</span><span class="nx">help_</span><span class="p">{</span><span class="nx">QUESTION_NUMBER</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">QUESTIONHELP</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/td&gt;&lt;/tr&gt;</span>
</pre>
        </div> 
        <p>You can then add the following javascript at the end of question.pstpl. If the contents of the help tag is empty then hide the element. </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'#help_{QUESTION_NUMBER}'</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="s1">':empty'</span><span class="p">)){</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">'#help_{QUESTION_NUMBER}'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Implicit_Association_Test_.28IAT.29">Implicit Association Test (IAT)</span></h1> 
        <h2><span class="mw-headline" id="Version_2.06">Version 2.06</span></h2> 
        <p><i>Tested with: LimeSurvey version 2.06</i> </p>
        <p>This workaround uses JavaScript to insert an IAT interface into an Array (Texts) question. The workaround prompts respondents to assign words or phrases using the "E" or "I" keys. In mobile devices, "E" and "I" buttons are provided.<br><br> </p>
        <p><a href="/File:Iat_1.png" class="image"><img alt="Iat 1.png" src="/images/8/82/Iat_1.png" width="400" height="258"></a><br><br> </p>
        <p>Download a <a href="/images/4/42/Demo_IAT_Concept.zip" class="internal" title="Demo IAT Concept.zip">working template</a> and <a href="/images/5/51/Demo_iat_concept.lss" class="internal" title="Demo iat concept.lss">working survey</a>. </p>
        <p>Implementation is as follows: </p>
        <p>1) <a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use JavaScript</a>. </p>
        <p>2) Create your Array (Texts) with sub-questions as follows:<br> - Y scale - all of your "attribut" words or phrases<br> - X scale - "Key Pressed" and "Elapsed Time (ms)"<br> <a href="/File:Iat_2.jpg" class="image"><img alt="Iat 2.jpg" src="/images/e/e1/Iat_2.jpg" width="400" height="300"></a> </p>
        <p>3) Insert your association terms and the other text elements for the interface into the Question Help section as depicted below. The text strings must be separated with "double pipes" (||) and you will need to place them in the following order:<br> - Left association term<br> - Right association term<br> - Instructional text<br> - Finished text<br> <a href="/File:Iat_3.png" class="image"><img alt="Iat 3.png" src="/images/a/af/Iat_3.png" width="520" height="147"></a> </p> 4) Add the following to the end of template.js:
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="c1">// A plugin to insert an IAT interface</span>
<span class="kd">function</span> <span class="nx">implicitAssociation</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">showAnswers</span><span class="p">)</span> <span class="p">{</span>
		
	<span class="nx">$</span><span class="p">(</span><span class="nx">el</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			
		<span class="kd">var</span> <span class="nx">thisQuestion</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">thisQuestionHelp</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'img[src$="help.gif"]'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">parent</span><span class="p">();</span>
		<span class="kd">var</span> <span class="nx">thisQuestionAnswers</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'table.question'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">parent</span><span class="p">();</span>
		<span class="kd">var</span> <span class="nx">startTime</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
		<span class="kd">var</span> <span class="nx">endTime</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>	
		<span class="kd">var</span> <span class="nx">agent</span> <span class="o">=</span> <span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>
		<span class="kd">var</span> <span class="nx">mobile</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
		<span class="k">if</span><span class="p">(</span> <span class="sr">/android|webos|iphone|ipad|ipod|blackberry/i</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span> <span class="c1">// Mobile devices</span>
			<span class="nx">mobile</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
		<span class="p">}</span>
		
		<span class="c1">// Some classes</span>
		<span class="nx">$</span><span class="p">(</span><span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'iatQuestion'</span><span class="p">);</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'.subquestion-list'</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'unanswered'</span><span class="p">);</span>
		
		<span class="c1">// Hide the question help element</span>
		<span class="nx">$</span><span class="p">(</span><span class="nx">thisQuestionHelp</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
		
		<span class="c1">// Hide the answers</span>
		<span class="k">if</span><span class="p">(</span><span class="nx">showAnswers</span> <span class="o">!=</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'table.question'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
		<span class="p">}</span>
		
		<span class="c1">// Insert IAT display</span>
		<span class="kd">var</span> <span class="nx">iatTexts</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">thisQuestionHelp</span><span class="p">).</span><span class="nx">text</span><span class="p">().</span><span class="nx">split</span><span class="p">(</span><span class="s1">'||'</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">iatDisplayHTML</span> <span class="o">=</span> <span class="s1">'&lt;div class="iatWrapper"&gt;\</span>
<span class="s1">								&lt;div class="iatLeftLabel"&gt;'</span><span class="o">+</span><span class="nx">iatTexts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">'&lt;/div&gt;\</span>
<span class="s1">								&lt;div class="iatRightLabel"&gt;'</span><span class="o">+</span><span class="nx">iatTexts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="s1">'&lt;/div&gt;\</span>
<span class="s1">								&lt;div class="iatWord"&gt;&lt;/div&gt;\</span>
<span class="s1">								&lt;div class="iatInstructions"&gt;'</span><span class="o">+</span><span class="nx">iatTexts</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="s1">'&lt;/div&gt;\</span>
<span class="s1">							&lt;/div&gt;\</span>
<span class="s1">							&lt;div class="iatMobileButtonWrapper"&gt;\</span>
<span class="s1">								&lt;div class="iatButton iatLeftButton"&gt;E&lt;/div&gt;\</span>
<span class="s1">								&lt;div class="iatButton iatRightButton"&gt;I&lt;/div&gt;\</span>
<span class="s1">								&lt;div style="width:100%; clear:both;"&gt;&lt;/div&gt;\</span>
<span class="s1">							&lt;/div&gt;'</span><span class="p">;</span>
		<span class="nx">$</span><span class="p">(</span><span class="nx">thisQuestionAnswers</span><span class="p">).</span><span class="nx">prepend</span><span class="p">(</span><span class="nx">iatDisplayHTML</span><span class="p">);</span>
		
		<span class="c1">// Show a word</span>
		<span class="kd">function</span> <span class="nx">iatShowWord</span><span class="p">()</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'div.iatWord'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'.subquestion-list.unanswered:first .answertext'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">text</span><span class="p">());</span>
			<span class="nx">startTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
			
			<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">'keypress.iatKeypress'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">which</span> <span class="o">==</span> <span class="mi">101</span> <span class="o">||</span> <span class="nx">e</span><span class="p">.</span><span class="nx">which</span> <span class="o">==</span> <span class="mi">105</span><span class="p">)</span> <span class="p">{</span>
					<span class="kd">var</span> <span class="nx">thisRow</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'.subquestion-list.unanswered:eq(0)'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">);</span>
					<span class="nx">$</span><span class="p">(</span><span class="nx">thisRow</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">'unanswered'</span><span class="p">);</span>
					<span class="nx">endTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
					<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="text"]:eq(1)'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">endTime</span><span class="p">.</span><span class="nx">valueOf</span><span class="p">()</span> <span class="o">-</span> <span class="nx">startTime</span><span class="p">.</span><span class="nx">valueOf</span><span class="p">());</span>
					<span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">which</span> <span class="o">==</span> <span class="mi">101</span><span class="p">)</span> <span class="p">{</span>
						<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="text"]:eq(0)'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="s1">'E'</span><span class="p">);</span>
					<span class="p">}</span>
					<span class="k">else</span> <span class="p">{</span>
						<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="text"]:eq(0)'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="s1">'I'</span><span class="p">);</span>
					<span class="p">}</span>
					<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">unbind</span><span class="p">(</span><span class="s1">'keypress.iatKeypress'</span><span class="p">);</span>
					<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'.subquestion-list.unanswered'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
						<span class="nx">iatShowWord</span><span class="p">();</span>
					<span class="p">}</span>
					<span class="k">else</span> <span class="p">{</span>
						<span class="nx">$</span><span class="p">(</span><span class="s1">'.iatLeftLabel, .iatWord, .iatRightLabel, .iatInstructions'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">fadeOut</span><span class="p">(</span><span class="s1">'slow'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
							<span class="nx">$</span><span class="p">(</span><span class="s1">'div.iatWord'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">iatTexts</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
							<span class="nx">$</span><span class="p">(</span><span class="s1">'.iatWord'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'done'</span><span class="p">).</span><span class="nx">fadeIn</span><span class="p">(</span><span class="s1">'slow'</span><span class="p">);</span>
						<span class="p">});</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">});</span>
		<span class="p">}</span>
		<span class="kd">function</span> <span class="nx">iatShowWordMobile</span><span class="p">()</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'div.iatWord'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'.subquestion-list.unanswered:first .answertext'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">text</span><span class="p">());</span>
			<span class="nx">startTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
			
			<span class="nx">$</span><span class="p">(</span><span class="s1">'.iatButton'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">'click.iatButtonClick'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">thisRow</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'.subquestion-list.unanswered:eq(0)'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">);</span>
				<span class="nx">$</span><span class="p">(</span><span class="nx">thisRow</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">'unanswered'</span><span class="p">);</span>
				<span class="nx">endTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="text"]:eq(1)'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">endTime</span><span class="p">.</span><span class="nx">valueOf</span><span class="p">()</span> <span class="o">-</span> <span class="nx">startTime</span><span class="p">.</span><span class="nx">valueOf</span><span class="p">());</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="text"]:eq(0)'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">text</span><span class="p">());</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'.iatButton'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">unbind</span><span class="p">(</span><span class="s1">'click.iatButtonClick'</span><span class="p">);</span>
				<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'.subquestion-list.unanswered'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
					<span class="nx">iatShowWordMobile</span><span class="p">();</span>
				<span class="p">}</span>
				<span class="k">else</span> <span class="p">{</span>
					<span class="nx">$</span><span class="p">(</span><span class="s1">'.iatLeftLabel, .iatWord, .iatRightLabel, .iatInstructions, .iatMobileButtonWrapper'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">fadeOut</span><span class="p">(</span><span class="s1">'slow'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
						<span class="nx">$</span><span class="p">(</span><span class="s1">'div.iatWord'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">iatTexts</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
						<span class="nx">$</span><span class="p">(</span><span class="s1">'.iatWord'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'done'</span><span class="p">).</span><span class="nx">fadeIn</span><span class="p">(</span><span class="s1">'slow'</span><span class="p">);</span>
					<span class="p">});</span>
				<span class="p">}</span>
			<span class="p">});</span>
		<span class="p">}</span>
		
		<span class="c1">// Start the IAT display</span>
		<span class="k">if</span><span class="p">(</span><span class="nx">mobile</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Mobile devices</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'.iatMobileButtonWrapper'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'.iatButton'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">'click.iatStartMobile'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'.iatButton'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">unbind</span><span class="p">(</span><span class="s1">'click.iatStartMobile'</span><span class="p">);</span>
				<span class="nx">iatShowWordMobile</span><span class="p">();</span>
			<span class="p">});</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">'keypress.iatStart'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Non-mobile devices</span>
				<span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">which</span> <span class="o">==</span> <span class="mi">101</span> <span class="o">||</span> <span class="nx">e</span><span class="p">.</span><span class="nx">which</span> <span class="o">==</span> <span class="mi">105</span><span class="p">)</span> <span class="p">{</span>
					<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">unbind</span><span class="p">(</span><span class="s1">'keypress.iatStart'</span><span class="p">);</span>
					<span class="nx">iatShowWord</span><span class="p">();</span>
				<span class="p">}</span>
			<span class="p">});</span>
		<span class="p">}</span>
	<span class="p">});</span>
<span class="p">}</span>
</pre>
        </div> 
        <br>5) Add the following to the end of template.css:
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="c">/* IAT questions */</span>

<span class="nc">.iatWrapper</span> <span class="p">{</span>
	<span class="nb">position</span><span class="o">:</span> <span class="nb">relative</span><span class="p">;</span>
	<span class="nb">width</span><span class="o">:</span> <span class="m">600px</span><span class="p">;</span>
	<span class="nb">height</span><span class="o">:</span> <span class="m">300px</span><span class="p">;</span>
	<span class="nb">color</span><span class="o">:</span> <span class="m">#FFFFFF</span><span class="p">;</span>
	<span class="nb">background-color</span><span class="o">:</span> <span class="m">#000000</span><span class="p">;</span>
	<span class="nb">font-size</span><span class="o">:</span> <span class="m">21px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.iatLeftLabel</span> <span class="p">{</span>
	<span class="nb">float</span><span class="o">:</span> <span class="nb">left</span><span class="p">;</span>
	<span class="nb">padding</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.iatRightLabel</span> <span class="p">{</span>
	<span class="nb">float</span><span class="o">:</span> <span class="nb">right</span><span class="p">;</span>
	<span class="nb">padding</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.iatWord</span> <span class="p">{</span>
	<span class="nb">position</span><span class="o">:</span> <span class="nb">absolute</span><span class="p">;</span>
	<span class="nb">width</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span>
	<span class="nb">top</span><span class="o">:</span> <span class="m">35%</span><span class="p">;</span>
	<span class="nb">text-align</span><span class="o">:</span> <span class="nb">center</span><span class="p">;</span>
	<span class="nb">font-size</span><span class="o">:</span> <span class="m">36px</span><span class="p">;</span>
	<span class="nb">color</span><span class="o">:</span><span class="m">#0F0</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.iatWord.done</span> <span class="p">{</span>
	<span class="nb">color</span><span class="o">:</span><span class="m">#FFFFFF</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.iatInstructions</span> <span class="p">{</span>
	<span class="nb">position</span><span class="o">:</span> <span class="nb">absolute</span><span class="p">;</span>
	<span class="nb">width</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span>
	<span class="nb">bottom</span><span class="o">:</span> <span class="m">0px</span><span class="p">;</span>
	<span class="nb">padding-bottom</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span>
	<span class="nb">text-align</span><span class="o">:</span> <span class="nb">center</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.iatMobileButtonWrapper</span> <span class="p">{</span>
	<span class="nb">display</span><span class="o">:</span> <span class="nb">none</span><span class="p">;</span>
	<span class="nb">position</span><span class="o">:</span> <span class="nb">relative</span><span class="p">;</span>
	<span class="nb">width</span><span class="o">:</span> <span class="m">600px</span><span class="p">;</span>
	<span class="nb">font-size</span><span class="o">:</span> <span class="m">36px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.iatButton</span> <span class="p">{</span>
	<span class="nb">float</span><span class="o">:</span> <span class="nb">left</span><span class="p">;</span>
	<span class="nb">margin</span><span class="o">:</span> <span class="m">20px</span><span class="p">;</span>
	<span class="nb">width</span><span class="o">:</span> <span class="m">100px</span><span class="p">;</span>
	<span class="nb">padding</span><span class="o">:</span> <span class="m">2px</span> <span class="m">0</span> <span class="m">5px</span> <span class="m">0</span><span class="p">;</span>
	<span class="nb">border</span><span class="o">:</span> <span class="m">5px</span> <span class="nb">solid</span> <span class="m">#999</span><span class="p">;</span>
	<span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="nb">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span>
	<span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="nb">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span>
	<span class="o">-</span><span class="n">khtml</span><span class="o">-</span><span class="nb">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span>
	<span class="nb">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span>
	<span class="nb">text-align</span><span class="o">:</span> <span class="nb">center</span><span class="p">;</span>
	<span class="nb">line-height</span><span class="o">:</span> <span class="nb">normal</span><span class="p">;</span>
	<span class="nb">cursor</span><span class="o">:</span> <span class="nb">pointer</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.iatLeftButton</span> <span class="p">{</span>
	<span class="nb">float</span><span class="o">:</span> <span class="nb">left</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.iatRightButton</span> <span class="p">{</span>
	<span class="nb">float</span><span class="o">:</span> <span class="nb">right</span><span class="p">;</span>
<span class="p">}</span>
</pre>
        </div> 
        <p><br>6) To apply the plugin, add one of the two scripts below to the question source:<br> - With hidden answer table (for normally activated survey) </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>	
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="c1">// Apply the IAT plugin to this question</span>
		<span class="nx">implicitAssociation</span><span class="p">(</span><span class="s1">'#question{QID}'</span><span class="p">);</span>
	<span class="p">});</span>	
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p>- With visible answer table (for testing purposes) </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>	
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="c1">// Apply the IAT plugin to this question</span>
		<span class="nx">implicitAssociation</span><span class="p">(</span><span class="s1">'#question{QID}'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
	<span class="p">});</span>	
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <h2><span class="mw-headline" id="Version_2.50">Version 2.50</span></h2> 
        <p><i>Tested with: LimeSurvey version 2.50</i> </p>
        <p>This workaround uses JavaScript to insert an IAT interface into an Array (Texts) question. The workaround prompts respondents to assign words or phrases using the "E" or "I" keys. In mobile devices, "E" and "I" buttons are provided.<br><br> </p>
        <p><a href="/File:Demo_iat_v250.png" class="image"><img alt="Demo iat v250.png" src="/images/8/8a/Demo_iat_v250.png" width="677" height="585"></a><br><br> </p>
        <p><b>DOWNLOADS</b>: </p> 
        <ul>
         <li>Template - <a href="/images/2/22/Demo_IAT_For_25_Template.zip" class="internal" title="Demo IAT For 25 Template.zip">Demo_IAT_For_25_Template.zip</a> </li> 
         <li>Survey - <a href="/images/0/0e/Demo_IAT_For_25_Survey.zip" class="internal" title="Demo IAT For 25 Survey.zip">Demo_IAT_For_25_Survey.zip</a>.</li>
        </ul> 
        <p><b>IMPLEMENTATION</b>: </p> 
        <ol> 
         <li><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use JavaScript</a>.</li> 
         <li>Create your Array (Texts) with sub-questions as follows: 
          <ul> 
           <li>Y scale - all of your "attribute" words or phrases</li> 
           <li>X scale - "Key Pressed" and "Elapsed Time (ms)"<br><a href="/File:Demo_iat_v250_2.png" class="image"><img alt="Demo iat v250 2.png" src="/images/f/fa/Demo_iat_v250_2.png" width="432" height="553"></a></li> 
          </ul> </li> 
         <li>Insert your association terms and the other text elements for the interface into the Question Help section as depicted below. The text strings must be separated with "double pipes" (||) and you will need to place them in the following order: 
          <ul> 
           <li>Left association term</li> 
           <li>Right association term</li> 
           <li>Instructional text</li> 
           <li>Finished text<br><a href="/File:Demo_iat_v250_3.png" class="image"><img alt="Demo iat v250 3.png" src="/images/e/ef/Demo_iat_v250_3.png" width="629" height="122"></a></li> 
          </ul> </li> 
         <li>Add the following to the end of template.js:
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="c1">// A plugin to insert an IAT interface</span>
<span class="kd">function</span> <span class="nx">implicitAssociation</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">showAnswers</span><span class="p">)</span> <span class="p">{</span>
	
	<span class="nx">$</span><span class="p">(</span><span class="nx">el</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			
		<span class="kd">var</span> <span class="nx">thisQuestion</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">thisQuestionHelp</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'div.question-help'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">thisQuestionAnswers</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'table.subquestion-list'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">parent</span><span class="p">();</span>
		<span class="kd">var</span> <span class="nx">startTime</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
		<span class="kd">var</span> <span class="nx">endTime</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>	
		<span class="kd">var</span> <span class="nx">agent</span> <span class="o">=</span> <span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>
		<span class="kd">var</span> <span class="nx">mobile</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
		<span class="k">if</span><span class="p">(</span> <span class="sr">/android|webos|iphone|ipad|ipod|blackberry/i</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span> <span class="c1">// Mobile devices</span>
			<span class="nx">mobile</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
		<span class="p">}</span>
		
		<span class="c1">// Some classes</span>
		<span class="nx">$</span><span class="p">(</span><span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'iat-question'</span><span class="p">);</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'tr.subquestion-list'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'unanswered'</span><span class="p">);</span>
		
		<span class="c1">// Hide the question help element</span>
		<span class="nx">$</span><span class="p">(</span><span class="nx">thisQuestionHelp</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
		<span class="nx">$</span><span class="p">(</span><span class="nx">thisQuestionHelp</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'.question-help-container'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
		
		<span class="c1">// Hide the answers</span>
		<span class="k">if</span><span class="p">(</span><span class="nx">showAnswers</span> <span class="o">!=</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'table.subquestion-list'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
		<span class="p">}</span>
		
		<span class="c1">// Insert IAT display</span>
		<span class="kd">var</span> <span class="nx">iatTexts</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">thisQuestionHelp</span><span class="p">).</span><span class="nx">text</span><span class="p">().</span><span class="nx">split</span><span class="p">(</span><span class="s1">'||'</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">iatDisplayHTML</span> <span class="o">=</span> <span class="s1">'&lt;div class="iatWrapper"&gt;\</span>
<span class="s1">								&lt;div class="iatLeftLabel"&gt;'</span><span class="o">+</span><span class="nx">iatTexts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">'&lt;/div&gt;\</span>
<span class="s1">								&lt;div class="iatRightLabel"&gt;'</span><span class="o">+</span><span class="nx">iatTexts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="s1">'&lt;/div&gt;\</span>
<span class="s1">								&lt;div class="iatWord"&gt;&lt;/div&gt;\</span>
<span class="s1">								&lt;div class="iatInstructions"&gt;'</span><span class="o">+</span><span class="nx">iatTexts</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="s1">'&lt;/div&gt;\</span>
<span class="s1">							&lt;/div&gt;\</span>
<span class="s1">							&lt;div class="iatMobileButtonWrapper"&gt;\</span>
<span class="s1">								&lt;div class="iatButton iatLeftButton"&gt;E&lt;/div&gt;\</span>
<span class="s1">								&lt;div class="iatButton iatRightButton"&gt;I&lt;/div&gt;\</span>
<span class="s1">								&lt;div style="width:100%; clear:both;"&gt;&lt;/div&gt;\</span>
<span class="s1">							&lt;/div&gt;'</span><span class="p">;</span>
		<span class="nx">$</span><span class="p">(</span><span class="nx">thisQuestionAnswers</span><span class="p">).</span><span class="nx">prepend</span><span class="p">(</span><span class="nx">iatDisplayHTML</span><span class="p">);</span>
		
		<span class="c1">// Show a word</span>
		<span class="kd">function</span> <span class="nx">iatShowWord</span><span class="p">()</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'div.iatWord'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'tr.subquestion-list.unanswered:first .answertext'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">text</span><span class="p">());</span>
			<span class="nx">startTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
			
			<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">'keypress.iatKeypress'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
				<span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">which</span> <span class="o">==</span> <span class="mi">101</span> <span class="o">||</span> <span class="nx">e</span><span class="p">.</span><span class="nx">which</span> <span class="o">==</span> <span class="mi">105</span><span class="p">)</span> <span class="p">{</span>
					<span class="kd">var</span> <span class="nx">thisRow</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'tr.subquestion-list.unanswered:eq(0)'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">);</span>
					<span class="nx">$</span><span class="p">(</span><span class="nx">thisRow</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">'unanswered'</span><span class="p">);</span>
					<span class="nx">endTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
					<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="text"]:eq(1)'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">endTime</span><span class="p">.</span><span class="nx">valueOf</span><span class="p">()</span> <span class="o">-</span> <span class="nx">startTime</span><span class="p">.</span><span class="nx">valueOf</span><span class="p">());</span>
					<span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">which</span> <span class="o">==</span> <span class="mi">101</span><span class="p">)</span> <span class="p">{</span>
						<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="text"]:eq(0)'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="s1">'E'</span><span class="p">);</span>
					<span class="p">}</span>
					<span class="k">else</span> <span class="p">{</span>
						<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="text"]:eq(0)'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="s1">'I'</span><span class="p">);</span>
					<span class="p">}</span>
					<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">unbind</span><span class="p">(</span><span class="s1">'keypress.iatKeypress'</span><span class="p">);</span>
					<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'tr.subquestion-list.unanswered'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
						<span class="nx">iatShowWord</span><span class="p">();</span>
					<span class="p">}</span>
					<span class="k">else</span> <span class="p">{</span>
						<span class="nx">$</span><span class="p">(</span><span class="s1">'.iatLeftLabel, .iatWord, .iatRightLabel, .iatInstructions'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">fadeOut</span><span class="p">(</span><span class="s1">'slow'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
							<span class="nx">$</span><span class="p">(</span><span class="s1">'div.iatWord'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">iatTexts</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
							<span class="nx">$</span><span class="p">(</span><span class="s1">'.iatWord'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'done'</span><span class="p">).</span><span class="nx">fadeIn</span><span class="p">(</span><span class="s1">'slow'</span><span class="p">);</span>
						<span class="p">});</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">});</span>
		<span class="p">}</span>
		<span class="kd">function</span> <span class="nx">iatShowWordMobile</span><span class="p">()</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'div.iatWord'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'tr.subquestion-list.unanswered:first .answertext'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">text</span><span class="p">());</span>
			<span class="nx">startTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
			
			<span class="nx">$</span><span class="p">(</span><span class="s1">'.iatButton'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">'click.iatButtonClick'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">thisRow</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'tr.subquestion-list.unanswered:eq(0)'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">);</span>
				<span class="nx">$</span><span class="p">(</span><span class="nx">thisRow</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">'unanswered'</span><span class="p">);</span>
				<span class="nx">endTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="text"]:eq(1)'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">endTime</span><span class="p">.</span><span class="nx">valueOf</span><span class="p">()</span> <span class="o">-</span> <span class="nx">startTime</span><span class="p">.</span><span class="nx">valueOf</span><span class="p">());</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="text"]:eq(0)'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">text</span><span class="p">());</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'.iatButton'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">unbind</span><span class="p">(</span><span class="s1">'click.iatButtonClick'</span><span class="p">);</span>
				<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'tr.subquestion-list.unanswered'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
					<span class="nx">iatShowWordMobile</span><span class="p">();</span>
				<span class="p">}</span>
				<span class="k">else</span> <span class="p">{</span>
					<span class="nx">$</span><span class="p">(</span><span class="s1">'.iatLeftLabel, .iatWord, .iatRightLabel, .iatInstructions, .iatMobileButtonWrapper'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">fadeOut</span><span class="p">(</span><span class="s1">'slow'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
						<span class="nx">$</span><span class="p">(</span><span class="s1">'div.iatWord'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">iatTexts</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
						<span class="nx">$</span><span class="p">(</span><span class="s1">'.iatWord'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'done'</span><span class="p">).</span><span class="nx">fadeIn</span><span class="p">(</span><span class="s1">'slow'</span><span class="p">);</span>
					<span class="p">});</span>
				<span class="p">}</span>
			<span class="p">});</span>
		<span class="p">}</span>
		
		<span class="c1">// Start the IAT display</span>
		<span class="k">if</span><span class="p">(</span><span class="nx">mobile</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Mobile devices</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'.iatMobileButtonWrapper'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'.iatButton'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">'click.iatStartMobile'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'.iatButton'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">unbind</span><span class="p">(</span><span class="s1">'click.iatStartMobile'</span><span class="p">);</span>
				<span class="nx">iatShowWordMobile</span><span class="p">();</span>
			<span class="p">});</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">'keypress.iatStart'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Non-mobile devices</span>
				<span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">which</span> <span class="o">==</span> <span class="mi">101</span> <span class="o">||</span> <span class="nx">e</span><span class="p">.</span><span class="nx">which</span> <span class="o">==</span> <span class="mi">105</span><span class="p">)</span> <span class="p">{</span>
					<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">unbind</span><span class="p">(</span><span class="s1">'keypress.iatStart'</span><span class="p">);</span>
					<span class="nx">iatShowWord</span><span class="p">();</span>
				<span class="p">}</span>
			<span class="p">});</span>
		<span class="p">}</span>
	<span class="p">});</span>
<span class="p">}</span>
</pre>
          </div> </li> 
         <li>Add the following to the end of template.css:
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="c">/* IAT questions */</span>

<span class="nc">.iatWrapper</span> <span class="p">{</span>
	<span class="nb">position</span><span class="o">:</span> <span class="nb">relative</span><span class="p">;</span>
	<span class="nb">width</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span>
	<span class="nb">max-width</span><span class="o">:</span> <span class="m">600px</span><span class="p">;</span>
	<span class="nb">height</span><span class="o">:</span> <span class="m">300px</span><span class="p">;</span>
	<span class="nb">margin</span><span class="o">:</span> <span class="m">0</span> <span class="nb">auto</span><span class="p">;</span>
	<span class="nb">color</span><span class="o">:</span> <span class="m">#D0DBE5</span><span class="p">;</span>
	<span class="nb">background-color</span><span class="o">:</span> <span class="m">#2C3E50</span><span class="p">;</span>
	<span class="nb">font-size</span><span class="o">:</span> <span class="m">21px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.iatLeftLabel</span> <span class="p">{</span>
	<span class="nb">float</span><span class="o">:</span> <span class="nb">left</span><span class="p">;</span>
	<span class="nb">padding</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.iatRightLabel</span> <span class="p">{</span>
	<span class="nb">float</span><span class="o">:</span> <span class="nb">right</span><span class="p">;</span>
	<span class="nb">padding</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.iatWord</span> <span class="p">{</span>
	<span class="nb">position</span><span class="o">:</span> <span class="nb">absolute</span><span class="p">;</span>
	<span class="nb">width</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span>
	<span class="nb">top</span><span class="o">:</span> <span class="m">35%</span><span class="p">;</span>
	<span class="nb">text-align</span><span class="o">:</span> <span class="nb">center</span><span class="p">;</span>
	<span class="nb">font-size</span><span class="o">:</span> <span class="m">36px</span><span class="p">;</span>
	<span class="nb">color</span><span class="o">:</span> <span class="m">#C4D1DE</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.iatWord.done</span> <span class="p">{</span>
	<span class="nb">color</span><span class="o">:</span> <span class="m">#C4D1DE</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.iatInstructions</span> <span class="p">{</span>
	<span class="nb">position</span><span class="o">:</span> <span class="nb">absolute</span><span class="p">;</span>
	<span class="nb">width</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span>
	<span class="nb">bottom</span><span class="o">:</span> <span class="m">0px</span><span class="p">;</span>
	<span class="nb">padding-bottom</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span>
	<span class="nb">text-align</span><span class="o">:</span> <span class="nb">center</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.iatMobileButtonWrapper</span> <span class="p">{</span>
	<span class="nb">display</span><span class="o">:</span> <span class="nb">none</span><span class="p">;</span>
	<span class="nb">position</span><span class="o">:</span> <span class="nb">relative</span><span class="p">;</span>
	<span class="nb">width</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span>
	<span class="nb">max-width</span><span class="o">:</span> <span class="m">600px</span><span class="p">;</span>
	<span class="nb">margin</span><span class="o">:</span> <span class="m">0</span> <span class="nb">auto</span><span class="p">;</span>
	<span class="nb">font-size</span><span class="o">:</span> <span class="m">36px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.iatButton</span> <span class="p">{</span>
	<span class="nb">float</span><span class="o">:</span> <span class="nb">left</span><span class="p">;</span>
	<span class="nb">margin</span><span class="o">:</span> <span class="m">20px</span><span class="p">;</span>
	<span class="nb">width</span><span class="o">:</span> <span class="m">100px</span><span class="p">;</span>
	<span class="nb">padding</span><span class="o">:</span> <span class="m">2px</span> <span class="m">0</span> <span class="m">5px</span> <span class="m">0</span><span class="p">;</span>
	<span class="nb">border</span><span class="o">:</span> <span class="m">5px</span> <span class="nb">solid</span> <span class="m">#233140</span><span class="p">;</span>
	<span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="nb">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span>
	<span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="nb">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span>
	<span class="o">-</span><span class="n">khtml</span><span class="o">-</span><span class="nb">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span>
	<span class="nb">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span>
	<span class="nb">text-align</span><span class="o">:</span> <span class="nb">center</span><span class="p">;</span>
	<span class="nb">line-height</span><span class="o">:</span> <span class="nb">normal</span><span class="p">;</span>
	<span class="nb">cursor</span><span class="o">:</span> <span class="nb">pointer</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.iatLeftButton</span> <span class="p">{</span>
	<span class="nb">float</span><span class="o">:</span> <span class="nb">left</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.iatRightButton</span> <span class="p">{</span>
	<span class="nb">float</span><span class="o">:</span> <span class="nb">right</span><span class="p">;</span>
<span class="p">}</span>
</pre>
          </div> </li> 
         <li>To apply the plugin, add one of the two scripts below to the question source: 
          <ul> 
           <li>With hidden answer table (for normally activated survey)
            <div class="mw-highlight mw-content-ltr" dir="ltr">
             <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>	
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="c1">// Apply the IAT plugin to this question</span>
		<span class="nx">implicitAssociation</span><span class="p">(</span><span class="s1">'#question{QID}'</span><span class="p">);</span>
	<span class="p">});</span>	
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
            </div> </li> 
           <li>With visible answer table (for testing purposes) 
            <div class="mw-highlight mw-content-ltr" dir="ltr">
             <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>	
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="c1">// Apply the IAT plugin to this question</span>
		<span class="nx">implicitAssociation</span><span class="p">(</span><span class="s1">'#question{QID}'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
	<span class="p">});</span>	
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
            </div> </li> 
          </ul> </li> 
        </ol> 
        <h1><span class="mw-headline" id="Make_multiple_choice_easier">Make multiple choice easier</span></h1> 
        <p><i>Tested with Version 2.00 in Chrome, FF, Safar, IE</i> </p>
        <p>The problem: We often have multiple choice question, where the user has to select 4 elements out of 78 possible answers or 3 out of 25 and so on. If we use pen and paper version for this questions, we noticed that the participants go through the whole list and if an answer doesn't suit on the first sight, they cross it out. </p>
        <p>The solution: The script gives the participant the possibility to cross out this answers in a digital way. The script adds a small "X" before the checkbox. When it is clicked, the label text of the checkbox turns grey. (see the attached screenshot for an example) </p>
        <p>Here is the script, just add it to help text </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>
 
<span class="cm">/**</span>
<span class="cm">* Small script that adds a "X" before a checkbox. </span>
<span class="cm">* On click the text color of the label of the checkbox turns grey</span>
<span class="cm">* If the user has to choose some answers from many options, he can "delete" answers, that on first sight looks wrong</span>
<span class="cm">* Add the script to the question in Limesurvey (for example within the source code of the help text)</span>
<span class="cm">*/</span>
 
<span class="c1">//Define the X (standard is a X in capitals)</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="s2">"X"</span><span class="p">;</span>
<span class="nx">css_class</span> <span class="o">=</span> <span class="s2">"x"</span><span class="p">;</span>
 
<span class="cm">/*</span>
<span class="cm">* Define the style of the X</span>
<span class="cm">* Of course you can define the style in the stylesheet - if so, the script ignores the following settings</span>
<span class="cm">* If there is a style, than set style var to 1</span>
<span class="cm">*/</span>
<span class="kd">var</span> <span class="nx">style</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">size</span> <span class="o">=</span> <span class="s2">"12px"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">weight</span> <span class="o">=</span> <span class="s2">"bold"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">color</span> <span class="o">=</span> <span class="s2">"red"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">cursor</span> <span class="o">=</span> <span class="s2">"pointer"</span><span class="p">;</span>
 
<span class="c1">//element type - standard is a span element</span>
<span class="kd">var</span> <span class="nx">type</span> <span class="o">=</span> <span class="s2">"span"</span><span class="p">;</span>
 
<span class="c1">//Define the new font color of the checkbox label</span>
<span class="nx">label_color</span> <span class="o">=</span> <span class="s2">"#bfbfbf"</span><span class="p">;</span>
 
 
<span class="c1">//End of configuration - start of the function</span>
 
<span class="c1">//Define the element that is added</span>
<span class="k">if</span><span class="p">(</span><span class="nx">style</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
	<span class="nx">ele</span> <span class="o">=</span> <span class="s2">"&lt;"</span><span class="o">+</span><span class="nx">type</span><span class="o">+</span><span class="s2">" class='"</span><span class="o">+</span><span class="nx">css_class</span><span class="o">+</span><span class="s2">"'&gt;"</span><span class="o">+</span><span class="nx">x</span><span class="o">+</span><span class="s2">"&lt;/"</span><span class="o">+</span><span class="nx">type</span><span class="o">+</span><span class="s2">"&gt;"</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span> <span class="p">{</span>
	<span class="nx">ele</span> <span class="o">=</span> <span class="s2">"&lt;"</span><span class="o">+</span><span class="nx">type</span><span class="o">+</span><span class="s2">" class='"</span><span class="o">+</span><span class="nx">css_class</span><span class="o">+</span><span class="s2">"' style='font-size:"</span><span class="o">+</span><span class="nx">size</span><span class="o">+</span><span class="s2">"; font-weight:"</span><span class="o">+</span><span class="nx">weight</span><span class="o">+</span><span class="s2">"; color:"</span><span class="o">+</span><span class="nx">color</span><span class="o">+</span><span class="s2">"; cursor:"</span><span class="o">+</span><span class="nx">cursor</span><span class="o">+</span><span class="s2">";'&gt;"</span><span class="o">+</span><span class="nx">x</span><span class="o">+</span><span class="s2">"&lt;/"</span><span class="o">+</span><span class="nx">type</span><span class="o">+</span><span class="s2">"&gt;"</span><span class="p">;</span>
<span class="p">}</span>
 
<span class="c1">//Get the standard font-color of the used style</span>
<span class="nx">st_color</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"label"</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">"color"</span><span class="p">);</span>
 
<span class="c1">//insert the X before the checkboxes</span>
<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> 
	<span class="nx">$</span><span class="p">(</span><span class="s2">"li"</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
		<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">prepend</span><span class="p">(</span><span class="nx">ele</span><span class="p">);</span>
	<span class="p">});</span>
<span class="p">});</span>
 
<span class="c1">//bind an eventhandler on the X (delegate is used, because Limesurvey uses an old jQuery version)</span>
<span class="kd">var</span> <span class="nx">css_class_c</span> <span class="o">=</span> <span class="s2">"."</span><span class="o">+</span><span class="nx">css_class</span><span class="p">;</span>
<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">delegate</span><span class="p">(</span><span class="nx">css_class_c</span><span class="p">,</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">color_check</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">siblings</span><span class="p">(</span><span class="s2">"label"</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="s2">"color"</span><span class="p">);</span>
	<span class="k">if</span><span class="p">(</span><span class="nx">color_check</span> <span class="o">!=</span> <span class="s2">"true"</span><span class="p">)</span> <span class="p">{</span>
    	<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">siblings</span><span class="p">(</span><span class="s2">"label"</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">"color"</span><span class="p">,</span><span class="nx">label_color</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="s2">"color"</span><span class="p">,</span><span class="s2">"true"</span><span class="p">);</span>
    	<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">siblings</span><span class="p">(</span><span class="s1">'input'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
 
	<span class="p">}</span>
	<span class="k">else</span> <span class="p">{</span>
		<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">siblings</span><span class="p">(</span><span class="s2">"label"</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">"color"</span><span class="p">,</span><span class="nx">st_color</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="s2">"color"</span><span class="p">,</span><span class="s2">"false"</span><span class="p">);</span>
 
	<span class="p">}</span>
<span class="p">});</span>
 
<span class="nx">$</span><span class="p">(</span><span class="s2">".checkbox"</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
	<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">siblings</span><span class="p">(</span><span class="s2">"label"</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">"color"</span><span class="p">,</span><span class="nx">st_color</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="s2">"color"</span><span class="p">,</span><span class="s2">"false"</span><span class="p">);</span>
<span class="p">});</span>
 
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p><br> </p> 
        <h1><span class="mw-headline" id="Prevent_the_survey_from_being_submitted_when_users_press_enter">Prevent the survey from being submitted when users press enter</span></h1> 
        <p>By default HTML forms are submitted when the user presses enter in any text field. This can be annoying with long survey pages or if your users are inexperienced with keyboard shortcuts. </p>
        <p>To disable this behavior, add the following code snippet to template.js: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">'input'</span><span class="p">).</span><span class="nx">keypress</span><span class="p">(</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
     <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">which</span> <span class="o">==</span> <span class="s1">'13'</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
      <span class="p">}</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Card_Sorting">Card Sorting</span></h1> 
        <p><i>Tested with: 2.05, IE 8-11, Firefox, Chrome, iPad</i> </p>
        <p>This workaround uses JavaScript to allow dragging items into "buckets" to "card sort" them. A multiple-short-text question is used with sub-questions being the draggable items. The data recorded for each item is the "bucket" number that it was dropped in. "Buckets" are pre-defined in a list in the "Help" section of the question.<br><br> </p>
        <p><a href="/File:Card_sort_1.png" class="image"><img alt="Card sort 1.png" src="/images/f/fd/Card_sort_1.png" width="790" height="408"></a><br><br> </p>
        <p><b>DOWNLOADS:</b><br> - <a href="/images/a/a4/Card_Sort.zip" class="internal" title="Card Sort.zip">Demo template</a><br> - <a href="/images/4/4f/Card_Sort.lss" class="internal" title="Card Sort.lss">Demo survey</a>. </p>
        <p><b>IMPLEMENTATION:</b> </p>
        <p>1) <a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use JavaScript</a>. </p>
        <p>2) Create your multiple-short-text with sub-questions. </p>
        <p>3) Insert the "bucket" labels into an unordered list in the Question Help section. </p> 4) Add the following to the end of template.js:
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="kd">function</span> <span class="nx">cardSort</span><span class="p">(</span><span class="nx">qID</span><span class="p">)</span> <span class="p">{</span>
 
	<span class="c1">// Define some stuff...</span>
	<span class="kd">var</span> <span class="nx">thisQuestion</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#question'</span><span class="o">+</span><span class="nx">qID</span><span class="p">);</span>
	<span class="kd">var</span> <span class="nx">thisQuestionHelp</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'img[alt="Help"]'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">parent</span><span class="p">();</span>	
	<span class="nx">thisQuestion</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'card-sort-question'</span><span class="p">);</span>
 
	<span class="c1">// Hide the "Help" section</span>
	<span class="nx">thisQuestionHelp</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>
 
	<span class="c1">//Insert the "card sort" elements</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'ul.questions-list'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">parent</span><span class="p">().</span><span class="nx">prepend</span><span class="p">(</span><span class="s1">'&lt;div class="droppable items-start"&gt;&lt;/div&gt;&lt;div class="items-end-wrapper" /&gt;'</span><span class="p">);</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'ul:eq(0) li'</span><span class="p">,</span> <span class="nx">thisQuestionHelp</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'.items-end-wrapper'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s1">'&lt;div class="items-end-inner"&gt;\</span>
<span class="s1">													&lt;div class="items-end-text"&gt;'</span><span class="o">+</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">html</span><span class="p">()</span><span class="o">+</span><span class="s1">'&lt;/div&gt;\</span>
<span class="s1">													&lt;div class="droppable items-end items-end-'</span><span class="o">+</span><span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s1">'" data-items-end="'</span><span class="o">+</span><span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s1">'"&gt;&lt;/div&gt;\</span>
<span class="s1">												&lt;/div&gt;'</span><span class="p">)});</span>
 
	<span class="c1">// Insert the "cards"</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'li.answer-item'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">thisSGQA</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'id'</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/javatbd/</span><span class="p">,</span> <span class="s1">''</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">thisCode</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'id'</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s1">'X'</span><span class="o">+</span><span class="nx">qID</span><span class="p">)[</span><span class="mi">1</span><span class="p">];</span>
		<span class="kd">var</span> <span class="nx">thisHTML</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'label'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">html</span><span class="p">();</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'div.items-start'</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s1">'&lt;div class="card draggable" data-sgqa="'</span><span class="o">+</span><span class="nx">thisSGQA</span><span class="o">+</span><span class="s1">'" data-code="'</span><span class="o">+</span><span class="nx">thisCode</span><span class="o">+</span><span class="s1">'"&gt;\</span>
<span class="s1">										'</span><span class="o">+</span><span class="nx">thisHTML</span><span class="o">+</span><span class="s1">'\</span>
<span class="s1">									&lt;/div&gt;'</span><span class="p">);</span>
	<span class="p">});</span>			
 
	<span class="c1">// Make the "cards" draggable</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'.draggable'</span><span class="p">).</span><span class="nx">draggable</span><span class="p">({</span> 
		<span class="nx">revert</span><span class="o">:</span> <span class="s2">"invalid"</span><span class="p">,</span> 
		<span class="nx">zIndex</span><span class="o">:</span> <span class="mi">2700</span><span class="p">,</span> 
		<span class="nx">helper</span><span class="o">:</span> <span class="s1">'original'</span><span class="p">,</span>
		<span class="nx">start</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">event</span><span class="p">,</span> <span class="nx">ui</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="nx">ui</span><span class="p">.</span><span class="nx">helper</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'ui-draggable-helper'</span><span class="p">);</span>
		<span class="p">},</span>
		<span class="nx">stop</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">event</span><span class="p">,</span> <span class="nx">ui</span> <span class="p">)</span> <span class="p">{</span>
		<span class="p">}</span>
	<span class="p">});</span>
 
	<span class="c1">// Set the targets for the draggables</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'.droppable.items-start'</span><span class="p">).</span><span class="nx">droppable</span><span class="p">({</span> 
		<span class="nx">hoverClass</span><span class="o">:</span> <span class="s1">'target-hover'</span><span class="p">,</span> 
		<span class="nx">accept</span><span class="o">:</span> <span class="s1">'.draggable.moved'</span> 
	<span class="p">});</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'.droppable.items-end'</span><span class="p">).</span><span class="nx">droppable</span><span class="p">({</span> 
		<span class="nx">hoverClass</span><span class="o">:</span> <span class="s1">'target-hover'</span><span class="p">,</span> 
		<span class="nx">accept</span><span class="o">:</span> <span class="s1">'.draggable'</span> 
	<span class="p">});</span>
 
	<span class="c1">// After dropped</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'.droppable'</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">'drop'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">ui</span><span class="p">)</span> <span class="p">{</span>
 
		<span class="c1">// Physically move the draggable to the target </span>
		<span class="c1">// (the plugin just visually moves it)</span>
		<span class="c1">// (need to use a clone here to fake out iPad)</span>
		<span class="kd">var</span> <span class="nx">newDraggable</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">ui</span><span class="p">.</span><span class="nx">draggable</span><span class="p">).</span><span class="nx">clone</span><span class="p">();</span>
		<span class="nx">$</span><span class="p">(</span><span class="nx">newDraggable</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
		<span class="nx">$</span><span class="p">(</span><span class="nx">ui</span><span class="p">.</span><span class="nx">draggable</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
		<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">'items-end'</span><span class="p">))</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="nx">newDraggable</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'moved'</span><span class="p">);</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="nx">newDraggable</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">'moved'</span><span class="p">);</span>
		<span class="p">}</span>
		<span class="nx">$</span><span class="p">(</span><span class="nx">newDraggable</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">'ui-draggable-helper ui-draggable-dragging'</span><span class="p">).</span><span class="nx">css</span><span class="p">({</span>
			<span class="s1">'z-index'</span><span class="o">:</span><span class="s1">''</span><span class="p">,</span>
			<span class="s1">'top'</span><span class="o">:</span><span class="s1">'auto'</span><span class="p">,</span> 
			<span class="s1">'left'</span><span class="o">:</span><span class="s1">'auto'</span>
		<span class="p">});</span>
 
		<span class="c1">// Now, make this new clone draggable</span>
		<span class="nx">$</span><span class="p">(</span><span class="nx">newDraggable</span><span class="p">).</span><span class="nx">draggable</span><span class="p">({</span> 
			<span class="nx">revert</span><span class="o">:</span> <span class="s2">"invalid"</span><span class="p">,</span> 
			<span class="nx">zIndex</span><span class="o">:</span> <span class="mi">2700</span><span class="p">,</span> 
			<span class="nx">helper</span><span class="o">:</span> <span class="s1">'original'</span><span class="p">,</span>
			<span class="nx">start</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">event</span><span class="p">,</span> <span class="nx">ui</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">$</span><span class="p">(</span><span class="nx">ui</span><span class="p">.</span><span class="nx">helper</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'ui-draggable-helper'</span><span class="p">);</span>
			<span class="p">},</span>
			<span class="nx">stop</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">event</span><span class="p">,</span> <span class="nx">ui</span> <span class="p">)</span> <span class="p">{</span>
			<span class="p">}</span>
		<span class="p">});</span>
	<span class="p">});</span>
 
	<span class="c1">// Initial "card" positions</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'li.question-item input.text'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'.items-end[data-items-end="'</span><span class="o">+</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span><span class="o">+</span><span class="s1">'"]'</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'.card[data-sgqa="'</span><span class="o">+</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span><span class="o">+</span><span class="s1">'"]'</span><span class="p">));</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'.card[data-sgqa="'</span><span class="o">+</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span><span class="o">+</span><span class="s1">'"]'</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'.items-end[data-items-end="'</span><span class="o">+</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span><span class="o">+</span><span class="s1">'"]'</span><span class="p">)).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'moved'</span><span class="p">);</span>
		<span class="p">}</span>
	<span class="p">});</span>
 
	<span class="c1">// Interrupt the Next/Submit function and load the inputs</span>
	<span class="nx">$</span><span class="p">(</span><span class="s1">'form#limesurvey'</span><span class="p">).</span><span class="nx">submit</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'.question-item input.text'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'.droppable.items-end .card'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">thisItemsEnd</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'.droppable.items-end'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'data-items-end'</span><span class="p">);</span>
			<span class="kd">var</span> <span class="nx">thisID</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'data-sgqa'</span><span class="p">);</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'#answer'</span><span class="o">+</span><span class="nx">thisID</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">thisItemsEnd</span><span class="p">);</span>
		<span class="p">});</span>
	<span class="p">});</span>
<span class="p">}</span>
</pre>
        </div> 
        <br>5) Add the following to the end of template.css:
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="c">/* Card Sort */</span>
 
<span class="nc">.card-sort-question</span> <span class="nt">ul</span><span class="nc">.subquestions-list</span> <span class="p">{</span>
	<span class="c">/*display: none;</span>
<span class="c">	clear: both;*/</span>
<span class="p">}</span>
 
<span class="nc">.card-sort-question</span> <span class="nc">.items-start</span> <span class="p">{</span>
	<span class="nb">float</span><span class="o">:</span> <span class="nb">left</span><span class="p">;</span>
	<span class="nb">width</span><span class="o">:</span> <span class="m">340px</span><span class="p">;</span>
	<span class="nb">height</span><span class="o">:</span> <span class="m">317px</span><span class="p">;</span>
	<span class="nb">margin-top</span><span class="o">:</span> <span class="m">8px</span><span class="p">;</span>
	<span class="nb">border</span><span class="o">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#666</span><span class="p">;</span>
	<span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="nb">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">6px</span><span class="p">;</span>
	<span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="nb">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">6px</span><span class="p">;</span>
	<span class="o">-</span><span class="n">khtml</span><span class="o">-</span><span class="nb">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">6px</span><span class="p">;</span>
	<span class="nb">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">6px</span><span class="p">;</span>
<span class="p">}</span>
 
<span class="nc">.card-sort-question</span> <span class="nc">.items-start.target-hover</span> <span class="p">{</span>
	<span class="nb">background</span><span class="o">:</span><span class="m">#C9C9C9</span><span class="p">;</span>
<span class="p">}</span>
 
<span class="nc">.card-sort-question</span> <span class="nc">.items-end-wrapper</span> <span class="p">{</span>
	<span class="nb">float</span><span class="o">:</span> <span class="nb">left</span><span class="p">;</span>
	<span class="nb">margin-left</span><span class="o">:</span> <span class="m">20px</span><span class="p">;</span>
	<span class="nb">width</span><span class="o">:</span> <span class="m">340px</span><span class="p">;</span>
<span class="p">}</span>
 
<span class="nc">.card-sort-question</span> <span class="nc">.items-end</span> <span class="p">{</span>
	<span class="nb">width</span><span class="o">:</span> <span class="m">338px</span><span class="p">;</span>
	<span class="nb">min-height</span><span class="o">:</span> <span class="m">73px</span><span class="p">;</span>
	<span class="nb">margin-bottom</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span>
	<span class="nb">padding-bottom</span><span class="o">:</span> <span class="m">5px</span><span class="p">;</span>
	<span class="nb">border</span><span class="o">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#666</span><span class="p">;</span>
	<span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="nb">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">6px</span><span class="p">;</span>
	<span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="nb">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">6px</span><span class="p">;</span>
	<span class="o">-</span><span class="n">khtml</span><span class="o">-</span><span class="nb">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">6px</span><span class="p">;</span>
	<span class="nb">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">6px</span><span class="p">;</span>
	<span class="nb">background</span><span class="o">:</span> <span class="m">#EBEBEB</span><span class="p">;</span>
<span class="p">}</span>
 
<span class="nc">.card-sort-question</span> <span class="nc">.items-end.target-hover</span> <span class="p">{</span>
	<span class="nb">background</span><span class="o">:</span> <span class="m">#C9C9C9</span><span class="p">;</span>
<span class="p">}</span>
 
<span class="nc">.card-sort-question</span> <span class="nc">.items-end.ui-state-disabled</span> <span class="p">{</span>
    <span class="nb">opacity</span><span class="o">:</span> <span class="m">1</span><span class="p">;</span>
	<span class="n">filter</span><span class="o">:</span><span class="n">alpha</span><span class="p">(</span><span class="nb">opacity</span><span class="o">=</span><span class="m">100</span><span class="p">);</span>
<span class="p">}</span>
 
<span class="nc">.card-sort-question</span> <span class="nc">.items-end-text</span> <span class="p">{</span>
	<span class="nb">width</span><span class="o">:</span> <span class="m">338px</span><span class="p">;</span>
	<span class="nb">padding-bottom</span><span class="o">:</span> <span class="m">5px</span><span class="p">;</span>
	<span class="nb">background</span><span class="o">:</span> <span class="m">#FFFFFF</span><span class="p">;</span>
	<span class="nb">font-size</span><span class="o">:</span> <span class="m">110%</span><span class="p">;</span>
	<span class="nb">font-weight</span><span class="o">:</span> <span class="nb">bold</span><span class="p">;</span>
<span class="p">}</span>
 
<span class="nc">.card-sort-question</span> <span class="nc">.card</span>  <span class="p">{</span>
	<span class="nb">display</span><span class="o">:</span> <span class="nb">inline</span><span class="o">-</span><span class="nb">block</span><span class="p">;</span>
	<span class="nb">width</span><span class="o">:</span> <span class="m">140px</span><span class="p">;</span>
	<span class="nb">height</span><span class="o">:</span> <span class="nb">auto</span><span class="p">;</span>
	<span class="nb">margin</span><span class="o">:</span> <span class="m">5px</span> <span class="m">8px</span><span class="p">;</span>
	<span class="nb">padding</span><span class="o">:</span> <span class="m">3px</span><span class="p">;</span>
    <span class="nb">border</span><span class="o">:</span> <span class="m">2px</span> <span class="nb">solid</span> <span class="m">#2F4354</span><span class="p">;</span>
	<span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="nb">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">8px</span><span class="p">;</span>
	<span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="nb">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">8px</span><span class="p">;</span>
	<span class="o">-</span><span class="n">khtml</span><span class="o">-</span><span class="nb">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">8px</span><span class="p">;</span>
	<span class="nb">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">8px</span><span class="p">;</span>
	<span class="nb">background-color</span><span class="o">:</span> <span class="m">#43b3d1</span><span class="p">;</span>
	<span class="nb">color</span><span class="o">:</span> <span class="m">#2f4354</span><span class="p">;</span>
	<span class="nb">font-weight</span><span class="o">:</span> <span class="nb">bold</span><span class="p">;</span>
	<span class="nb">text-align</span><span class="o">:</span> <span class="nb">center</span><span class="p">;</span>
	<span class="nb">line-height</span><span class="o">:</span> <span class="nb">normal</span><span class="p">;</span>
<span class="p">}</span>
 
<span class="nc">.card-sort-question</span> <span class="nc">.items-end</span> <span class="nc">.card</span>  <span class="p">{</span>
	<span class="nb">margin</span><span class="o">:</span> <span class="m">5px</span> <span class="m">7px</span><span class="p">;</span>
<span class="p">}</span>
 
<span class="nc">.card-sort-question</span>  <span class="nt">div</span><span class="nc">.answer</span> <span class="p">{</span>
	<span class="nb">clear</span><span class="o">:</span> <span class="nb">both</span><span class="p">;</span>
	<span class="nb">padding-top</span><span class="o">:</span> <span class="m">1px</span><span class="p">;</span>
	<span class="nb">margin-top</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>
</pre>
        </div> 
        <br>6) Add this to the source of the question to apply the function.
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>	
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="nx">cardSort</span><span class="p">({</span><span class="nx">QID</span><span class="p">});</span>
    <span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p><br> </p> 
        <h1><span class="mw-headline" id="Text_Input_.28e.g._.22short_free_text.22.2C_.22huge_free_text.22.29:_Force_UpperCase_.2B_onBlur_Trim">Text Input (e.g. "short free text", "huge free text"): Force UpperCase + onBlur Trim</span></h1> 
        <p>Add this to the source of your target question to apply the function. </p>
        <p>Here is the primary JavaScript/jQuery coding: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s1">'text/javascript'</span> <span class="nx">charset</span><span class="o">=</span><span class="s1">'utf-8'</span><span class="o">&gt;</span>
<span class="nx">$</span><span class="p">(</span> <span class="nb">document</span> <span class="p">).</span><span class="nx">ready</span><span class="p">(</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">this_surveyId</span><span class="o">=</span><span class="s1">'{SID}'</span><span class="p">;</span>
	<span class="kd">var</span> <span class="nx">this_groupId</span><span class="o">=</span><span class="s1">'{self.gid}'</span><span class="p">;</span>
	<span class="kd">var</span> <span class="nx">this_quesitonId</span><span class="o">=</span><span class="s1">'{self.qid}'</span><span class="p">;</span>
	<span class="kd">var</span> <span class="nx">this_self</span><span class="o">=</span><span class="s1">'{self.sgqa}'</span><span class="p">;</span>

	<span class="c1">// Remark for the variable 'my_targetTextBox':</span>
	<span class="c1">// ------------------------------------</span>
	<span class="c1">// For Text-type question (e.g. 'short free text', 'huge free text'), use : '#answer' + this_self;</span>
	<span class="c1">// For 'Multiple Choice'-type question enabled with the 'Other' option which provides a textbox, use : '#answer' + this_self;</span>
	<span class="c1">// For 'List (radio)'-type question enabled with the 'Other' option which provides a textbox, use : '#answer' + this_self + 'text'.</span>
	<span class="kd">var</span> <span class="nx">my_targetTextBox</span><span class="o">=</span><span class="s1">'#answer'</span> <span class="o">+</span> <span class="nx">this_self</span><span class="p">;</span>


<span class="c1">//	Trim:</span>
<span class="c1">//	-----</span>
	<span class="nx">$</span><span class="p">(</span> <span class="nx">my_targetTextBox</span> <span class="p">).</span><span class="nx">blur</span><span class="p">(</span> <span class="kd">function</span><span class="p">(){</span>
		<span class="nx">$</span><span class="p">(</span> <span class="k">this</span> <span class="p">).</span><span class="nx">val</span><span class="p">(</span> <span class="nx">$</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span> <span class="nx">$</span><span class="p">(</span> <span class="k">this</span> <span class="p">).</span><span class="nx">val</span><span class="p">()</span> <span class="p">)</span> <span class="p">);</span>
	<span class="p">});</span>

<span class="c1">//	Uppercase:</span>
<span class="c1">//	----------</span>
	<span class="c1">// Operate for its appearance only (but have no effect to modify its intrinsic value) - display as UpperCase:</span>
	<span class="nx">$</span><span class="p">(</span> <span class="nx">my_targetTextBox</span> <span class="p">).</span><span class="nx">css</span><span class="p">(</span> <span class="s1">'text-transform'</span><span class="p">,</span> <span class="s1">'uppercase'</span> <span class="p">);</span>
	<span class="c1">// Operate for its intrinsic value:</span>
	<span class="nx">$</span><span class="p">(</span> <span class="nx">my_targetTextBox</span> <span class="p">).</span><span class="nx">blur</span><span class="p">(</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="nx">$</span><span class="p">(</span> <span class="k">this</span> <span class="p">).</span><span class="nx">val</span><span class="p">(</span> <span class="nx">$</span><span class="p">(</span> <span class="k">this</span> <span class="p">).</span><span class="nx">val</span><span class="p">().</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="p">);</span>
	<span class="p">});</span>
<span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <p>For Text-type question (e.g. 'short free text', 'huge free text'), set the 'this_self' variable as below: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="kd">var</span> <span class="nx">my_targetTextBox</span><span class="o">=</span><span class="s1">'#answer'</span> <span class="o">+</span> <span class="nx">this_self</span><span class="p">;</span>
</pre>
        </div> 
        <p>For 'Multiple Choice'-type question enabled with the 'Other' option which provides a textbox, set the 'this_self' variable as below: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="kd">var</span> <span class="nx">my_targetTextBox</span><span class="o">=</span><span class="s1">'#answer'</span> <span class="o">+</span> <span class="nx">this_self</span><span class="p">;</span>
</pre>
        </div> 
        <p><br> For 'List (radio)'-type question enabled with the 'Other' option which provides a textbox, set the 'this_self' variable as below: </p> 
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="kd">var</span> <span class="nx">my_targetTextBox</span><span class="o">=</span><span class="s1">'#answer'</span> <span class="o">+</span> <span class="nx">this_self</span> <span class="o">+</span> <span class="s1">'text'</span><span class="p">;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Convert_arrays_to_dropdowns_on_smaller_screens">Convert arrays to dropdowns on smaller screens</span></h1> 
        <p><i>Tested with: 2.05, IE 8-11, Firefox, Chrome</i> </p>
        <p>Here's a little jQuery plugin that converts arrays to drop-downs on smaller screens.<br><br> </p>
        <p><b>IMPLEMENTATION:</b> </p> 1) Add the following to the end of template.js:
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="c1">// Apply the responsiveArray plugin with default settings</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">'.array-10-pt, .array-flexible-row, .array-5-pt, .array-increase-same-decrease, .array-yes-uncertain-no'</span><span class="p">).</span><span class="nx">responsiveArray</span><span class="p">();</span>
<span class="p">});</span>
 
<span class="cm">/***** </span>
<span class="cm">    A plugin to insert drop-downs into arrays for small screens</span>
<span class="cm">    Copyright (C) 2015 - Tony Partner (http://partnersurveys.com)</span>
<span class="cm">    Licensed MIT, GPL</span>
<span class="cm">    Version - 2.0</span>
<span class="cm">    Create date - 09/04/15</span>
<span class="cm">*****/</span>
<span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">$</span> <span class="p">){</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">responsiveArray</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
    
        <span class="kd">var</span> <span class="nx">opts</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="p">{</span>
            <span class="nx">chooseText</span><span class="o">:</span> <span class="s1">'Please choose...'</span>            
        <span class="p">},</span> <span class="nx">options</span><span class="p">);</span>
 
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
 
            <span class="kd">var</span> <span class="nx">thisQuestion</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
            <span class="kd">var</span> <span class="nx">thisQID</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'id'</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s1">'question'</span><span class="p">)[</span><span class="mi">1</span><span class="p">];</span>

            <span class="c1">// Some classes</span>
            <span class="nx">$</span><span class="p">(</span><span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'responsive-array'</span><span class="p">);</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">'table.questions-list tr'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>
                <span class="nx">$</span><span class="p">(</span><span class="s1">'&gt; *'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>
                    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'col-'</span><span class="o">+</span><span class="nx">i</span><span class="p">);</span>
                    <span class="k">if</span><span class="p">(</span><span class="nx">i</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'expanded'</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">});</span>
            <span class="p">});</span>

            <span class="c1">// Insert a column</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">'.col-0'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">after</span><span class="p">(</span><span class="s1">'&lt;td class="dropdown-cell" /&gt;'</span><span class="p">);</span>

            <span class="c1">// Insert dropdowns</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">'body'</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s1">'&lt;select style="display:none;" class="responsive-select responsive-select-'</span><span class="o">+</span><span class="nx">thisQID</span><span class="o">+</span><span class="s1">'" /&gt;'</span><span class="p">);</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">'table.questions-list thead th.expanded'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>
                <span class="nx">$</span><span class="p">(</span><span class="s1">'.responsive-select-'</span><span class="o">+</span><span class="nx">thisQID</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s1">'&lt;option value=""&gt;'</span><span class="o">+</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">text</span><span class="p">()</span><span class="o">+</span><span class="s1">'&lt;/option&gt;'</span><span class="p">);</span>
            <span class="p">});</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">'table.questions-list tbody .dropdown-cell'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'.responsive-select-'</span><span class="o">+</span><span class="nx">thisQID</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">clone</span><span class="p">());</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">'tr.radio-list'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>
                <span class="kd">var</span> <span class="nx">thisRow</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
                <span class="nx">$</span><span class="p">(</span><span class="s1">'input.radio'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>
                    <span class="nx">$</span><span class="p">(</span><span class="s1">'.responsive-select-'</span><span class="o">+</span><span class="nx">thisQID</span><span class="o">+</span><span class="s1">' option:eq('</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="s1">')'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'value'</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'id'</span><span class="p">));</span>
                <span class="p">});</span>                    
                <span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'input.radio:checked'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">$</span><span class="p">(</span><span class="s1">'.responsive-select-'</span><span class="o">+</span><span class="nx">thisQID</span><span class="o">+</span><span class="s1">''</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'input.radio:checked'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'id'</span><span class="p">));</span>
                <span class="p">}</span>
                <span class="k">else</span> <span class="p">{</span>
                    <span class="nx">$</span><span class="p">(</span><span class="s1">'.responsive-select-'</span><span class="o">+</span><span class="nx">thisQID</span><span class="o">+</span><span class="s1">''</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">prepend</span><span class="p">(</span><span class="s1">'&lt;option value="" selected="selected"&gt;'</span><span class="o">+</span><span class="nx">opts</span><span class="p">.</span><span class="nx">chooseText</span><span class="o">+</span><span class="s1">'&lt;/option&gt;'</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">});</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">'.responsive-select-'</span><span class="o">+</span><span class="nx">thisQID</span><span class="o">+</span><span class="s1">''</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>

            <span class="c1">// Listeners on radios</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">'input.radio'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">thisRow</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'tr'</span><span class="p">);</span>
                <span class="kd">var</span> <span class="nx">thisID</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'id'</span><span class="p">);</span>
                <span class="c1">//$('option[value="'+thisID+'"]').attr('selected', 'selected');</span>
                <span class="nx">$</span><span class="p">(</span><span class="s1">'.responsive-select'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">thisID</span><span class="p">);</span>
                <span class="nx">$</span><span class="p">(</span><span class="s1">'.responsive-select option[value=""]'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
            <span class="p">});</span>

            <span class="c1">// Listeners on dropdowns</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">'.responsive-select-'</span><span class="o">+</span><span class="nx">thisQID</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">change</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                <span class="nx">$</span><span class="p">(</span><span class="s1">'#'</span><span class="o">+</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span><span class="o">+</span><span class="s1">''</span><span class="p">).</span><span class="nx">click</span><span class="p">();</span>
            <span class="p">});</span>
 
        <span class="p">});</span>
    <span class="p">};</span>
<span class="p">})(</span> <span class="nx">jQuery</span> <span class="p">);</span>
</pre>
        </div> 
        <br>2) Add something like this to template.css (I have it set to switch at 640px but adjust that as you see fit):
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="c">/***** </span>
<span class="c">    Styles for the responsiveArray plugin</span>
<span class="c">    Copyright (C) 2015 - Tony Partner (http://partnersurveys.com)</span>
<span class="c">    Licensed MIT, GPL</span>
<span class="c">    Version - 2.0</span>
<span class="c">    Create date - 09/04/15</span>
<span class="c">*****/</span>
 
<span class="nc">.responsive-array</span> <span class="nc">.dropdown-cell</span> <span class="p">{</span>
    <span class="nb">display</span><span class="o">:</span> <span class="nb">none</span><span class="p">;</span>
    <span class="nb">text-align</span><span class="o">:</span> <span class="nb">left</span><span class="p">;</span>
    <span class="nb">padding-left</span><span class="o">:</span> <span class="m">8px</span><span class="p">;</span>
<span class="p">}</span>
 
<span class="nc">.responsive-array</span> <span class="nc">.dropdown-cell</span> <span class="nt">select</span> <span class="p">{</span>
        <span class="nb">max-width</span><span class="o">:</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>
 
<span class="k">@media</span> <span class="nt">screen</span> <span class="nt">and</span> <span class="o">(</span><span class="nt">max-width</span><span class="o">:</span> <span class="nt">640px</span><span class="o">)</span> <span class="p">{</span>
    <span class="nc">.responsive-array</span> <span class="nt">table</span><span class="nc">.question</span> <span class="p">{</span>
        <span class="nb">table-layout</span><span class="o">:</span> <span class="nb">auto</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nc">.responsive-array</span> <span class="nt">table</span><span class="nc">.question</span> <span class="nc">.col-0</span><span class="o">,</span>
    <span class="nc">.responsive-array</span> <span class="nt">table</span><span class="nc">.question</span> <span class="nc">.dropdown-cell</span> <span class="p">{</span>
        <span class="nb">width</span><span class="o">:</span> <span class="m">50%</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nc">.responsive-array</span> <span class="nc">.dropdown-cell</span> <span class="p">{</span>
        <span class="nb">display</span><span class="o">:</span> <span class="nb">table-cell</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nc">.responsive-array</span> <span class="nt">th</span><span class="nc">.expanded</span><span class="o">,</span>
    <span class="nc">.responsive-array</span> <span class="nt">td</span><span class="nc">.expanded</span> <span class="p">{</span>
        <span class="nb">display</span><span class="o">:</span> <span class="nb">none</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
        </div> 
        <br>Note that the "Please choose" text is an optional setting. To change it, apply the plugin like this:
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="c1">// Apply the responsiveArray plugin with default settings</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">'.array-10-pt, .array-flexible-row, .array-5-pt, .array-increase-same-decrease, .array-yes-uncertain-no'</span><span class="p">).</span><span class="nx">responsiveArray</span><span class="p">({</span>
        <span class="nx">chooseText</span><span class="o">:</span> <span class="s1">'Select one...'</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Van_Westendorp_Pricing_Sliders">Van Westendorp Pricing Sliders</span></h1> 
        <h2><span class="mw-headline" id="Version_2.06_2">Version 2.06</span></h2> 
        <p><i>Tested with: LimeSurvey version 2.06</i> </p>
        <p>This workaround uses JavaScript to dynamically control sliders to facilitate the <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://www.5circles.com/van-westendorp-pricing-the-price-sensitivity-meter/">Van Westendorp pricing research methodology</a>. When a slider is manipulated, all of the "higher" sliders are dynamically pushed to higher levels and "lower" sliders are pushed to lower levels. This ensures that the data will always be valid.<br><br> </p>
        <p><a href="/File:Test_Van_Westendorp_Pricing_206_v2.png" class="image"><img alt="Test Van Westendorp Pricing 206 v2.png" src="/images/e/e8/Test_Van_Westendorp_Pricing_206_v2.png" width="608" height="415"></a><br><br> </p>
        <p><b>Download</b> a <a href="/images/d/db/Test_Van_Westendorp_Pricing_206.zip" class="internal" title="Test Van Westendorp Pricing 206.zip">working template and survey</a> (un-zip the package and install the template before the survey). </p>
        <p><b>Implementation</b>: </p> 
        <ol>
         <li><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use JavaScript</a>.</li> 
         <li>Create your Multiple Numeric question with sub-questions as seen in the image above.</li> 
         <li>Add the following to the end of template.js:
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="kd">function</span> <span class="nx">shuffleArray</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">array</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">j</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="p">(</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span>
		<span class="kd">var</span> <span class="nx">temp</span> <span class="o">=</span> <span class="nx">array</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
		<span class="nx">array</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">array</span><span class="p">[</span><span class="nx">j</span><span class="p">];</span>
		<span class="nx">array</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span> <span class="o">=</span> <span class="nx">temp</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="nx">array</span><span class="p">;</span>
<span class="p">}</span>

	
<span class="cm">/*****</span>
<span class="cm">    A jQuery plugin to facilitate the Van Westendorp pricing research methodology</span>
<span class="cm">    Copyright (C) 2016 - Tony Partner (http://partnersurveys.com)</span>
<span class="cm">    Licensed MIT, GPL</span>
<span class="cm">    Version - 2.0</span>
<span class="cm">    Create date - 19/10/16</span>
<span class="cm">*****/</span>
<span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">$</span> <span class="p">){</span>

	<span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">vWPricing</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>  
	
		<span class="kd">var</span> <span class="nx">opts</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="p">{</span>
			<span class="nx">order</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
			<span class="nx">randomOrder</span><span class="o">:</span> <span class="kc">false</span>
		<span class="p">},</span> <span class="nx">options</span><span class="p">);</span>
		
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> 
				
			<span class="kd">var</span> <span class="nx">thisQuestion</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
			
			<span class="nx">thisQuestion</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'vwp-question'</span><span class="p">);</span>
			
			<span class="c1">// Add some attributes and set the slider max/min values</span>
			<span class="kd">var</span> <span class="nx">itemsLength</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'li.question-item'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">length</span><span class="p">;</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'li.question-item'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'data-item'</span><span class="p">,</span> <span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">));</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'.ui-slider'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'data-slider'</span><span class="p">,</span> <span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">));</span>
				
				<span class="kd">var</span> <span class="nx">thisSliderMin</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'.ui-slider'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">slider</span><span class="p">(</span><span class="s1">'option'</span><span class="p">,</span> <span class="s1">'min'</span><span class="p">);</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'.ui-slider'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">slider</span><span class="p">(</span><span class="s1">'option'</span><span class="p">,</span> <span class="s1">'min'</span><span class="p">,</span> <span class="nx">thisSliderMin</span><span class="o">+</span><span class="p">(</span><span class="nx">i</span><span class="p">));</span>
				<span class="kd">var</span> <span class="nx">thisSliderMax</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'.ui-slider'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">slider</span><span class="p">(</span><span class="s1">'option'</span><span class="p">,</span> <span class="s1">'max'</span><span class="p">);</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'.ui-slider'</span><span class="p">,</span> <span class="k">this</span><span class="p">).</span><span class="nx">slider</span><span class="p">(</span><span class="s1">'option'</span><span class="p">,</span> <span class="s1">'max'</span><span class="p">,</span> <span class="nx">thisSliderMax</span><span class="o">-</span><span class="p">((</span><span class="nx">itemsLength</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="nx">i</span><span class="p">));</span>
			<span class="p">});</span>
			
			<span class="c1">// Slider order</span>
			<span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">randomOrder</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">shuffleArray</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">order</span><span class="p">);</span>
			<span class="p">}</span>
			<span class="nx">$</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">order</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'ul.subquestions-list'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'li.question-item[data-item="'</span><span class="o">+</span><span class="nx">val</span><span class="o">+</span><span class="s1">'"]'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">));</span>
			<span class="p">});</span>
	
			<span class="c1">// Listeners on the sliders</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'.ui-slider'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">'slide'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">ui</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">handleVwpSliders</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">ui</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
			<span class="p">});</span>	
			<span class="nx">$</span><span class="p">(</span><span class="s1">'.ui-slider'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">'slidestop'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">ui</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">handleVwpSliders</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">ui</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
			<span class="p">});</span>
			
			<span class="c1">// A function to handle the siders</span>
			<span class="kd">function</span> <span class="nx">handleVwpSliders</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">sliderVal</span><span class="p">)</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">thisRow</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">el</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'li'</span><span class="p">);</span>
				<span class="kd">var</span> <span class="nx">movedIndexNum</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">el</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'data-slider'</span><span class="p">);</span>
				
				<span class="nx">$</span><span class="p">(</span><span class="s1">'input.text'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">sliderVal</span><span class="p">);</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'.slider-callout'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'input.text'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">val</span><span class="p">());</span>
				
				<span class="kd">var</span> <span class="nx">lowerSliders</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'.ui-slider'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
					<span class="k">return</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'data-slider'</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nx">movedIndexNum</span><span class="p">;</span>
				<span class="p">});</span>
				<span class="kd">var</span> <span class="nx">higherSliders</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'.ui-slider'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
					<span class="k">return</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'data-slider'</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nx">movedIndexNum</span><span class="p">;</span>
				<span class="p">});</span>
				
				<span class="nx">$</span><span class="p">(</span><span class="nx">lowerSliders</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
					<span class="kd">var</span> <span class="nx">thisIndexNum</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'data-slider'</span><span class="p">);</span>
					<span class="kd">var</span> <span class="nx">newSliderVal</span> <span class="o">=</span> <span class="nx">sliderVal</span><span class="o">-</span><span class="p">(</span><span class="nx">movedIndexNum</span><span class="o">-</span><span class="nx">thisIndexNum</span><span class="p">);</span>
					<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">slider</span><span class="p">(</span><span class="s1">'option'</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nx">newSliderVal</span><span class="p">)</span> <span class="p">{</span>
						<span class="kd">var</span> <span class="nx">thisRow</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'li'</span><span class="p">);</span>
						<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">slider</span><span class="p">(</span><span class="s1">'option'</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">,</span> <span class="nx">newSliderVal</span><span class="p">);</span>
						<span class="nx">$</span><span class="p">(</span><span class="s1">'input.text'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">newSliderVal</span><span class="p">);</span>
						<span class="nx">$</span><span class="p">(</span><span class="s1">'.slider-callout'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'input.text'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">val</span><span class="p">());</span>
					<span class="p">}</span>
				<span class="p">});</span>
				<span class="nx">$</span><span class="p">(</span><span class="nx">higherSliders</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
					<span class="kd">var</span> <span class="nx">thisIndexNum</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'data-slider'</span><span class="p">);</span>
					<span class="kd">var</span> <span class="nx">newSliderVal</span> <span class="o">=</span> <span class="nx">sliderVal</span><span class="o">+</span><span class="p">(</span><span class="nx">thisIndexNum</span><span class="o">-</span><span class="nx">movedIndexNum</span><span class="p">);</span>
					<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">slider</span><span class="p">(</span><span class="s1">'option'</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nx">newSliderVal</span><span class="p">)</span> <span class="p">{</span>
						<span class="kd">var</span> <span class="nx">thisRow</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'li'</span><span class="p">);</span>
						<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">slider</span><span class="p">(</span><span class="s1">'option'</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">,</span> <span class="nx">newSliderVal</span><span class="p">);</span>
						<span class="nx">$</span><span class="p">(</span><span class="s1">'input.text'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">newSliderVal</span><span class="p">);</span>
						<span class="nx">$</span><span class="p">(</span><span class="s1">'.slider-callout'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'input.text'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">val</span><span class="p">());</span>
					<span class="p">}</span>
				<span class="p">});</span>
			<span class="p">}</span>
		<span class="p">});</span>
	
	<span class="p">};</span>
<span class="p">})(</span> <span class="nx">jQuery</span> <span class="p">);</span>
</pre>
          </div></li> 
         <li>Add the following to the end of template.css (this is for a copy of <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://extensions.sondages.pro/skeletonquest-rwd-for-limesurvey/">Denis Chenu's SkeletonQuest template</a>):
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="c">/**** Van Westendorp Pricing ****/</span>

<span class="nc">.vwp-question</span> <span class="nt">ul</span><span class="nc">.subquestions-list</span><span class="o">,</span>
<span class="nc">.vwp-question</span> <span class="nt">ul</span><span class="nc">.subquestions-list</span> <span class="nt">li</span> <span class="p">{</span>
    <span class="nb">display</span><span class="o">:</span><span class="nb">block</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.vwp-question</span> <span class="nt">ul</span><span class="nc">.subquestions-list</span> <span class="nt">li</span> <span class="p">{</span>
	<span class="nb">margin-bottom</span><span class="o">:</span> <span class="m">15px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.vwp-question</span> <span class="nt">ul</span><span class="nc">.subquestions-list</span> <span class="nc">.slider-label</span> <span class="p">{</span>
    <span class="nb">display</span><span class="o">:</span><span class="nb">block</span><span class="p">;</span>
    <span class="nb">padding</span><span class="o">:</span> <span class="m">0.3em</span> <span class="m">0.5em</span> <span class="m">0.7em</span><span class="p">;</span>
    <span class="nb">width</span><span class="o">:</span> <span class="nb">auto</span><span class="p">;</span>
	<span class="nb">max-width</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span>
	<span class="nb">text-align</span><span class="o">:</span> <span class="nb">left</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.vwp-question</span> <span class="nc">.slider-element</span> <span class="p">{</span>
    <span class="nb">display</span><span class="o">:</span> <span class="nb">block</span><span class="p">;</span>
	<span class="nb">margin-left</span><span class="o">:</span> <span class="m">2%</span><span class="p">;</span>
	<span class="nb">width</span><span class="o">:</span><span class="m">90%</span><span class="p">;</span>
	<span class="nb">max-width</span><span class="o">:</span> <span class="m">32em</span><span class="p">;</span>
<span class="p">}</span>
</pre>
          </div></li> 
         <li>To apply the plugin, add this script the multiple-numeric question source. </li>
        </ol> There are two options to adjust
        <br> -
        <b>order</b> - this is the order that your sub-questions will be displayed (default, 1, 2, 3, 4)
        <br> -
        <b>randomOrder</b> - if set to true, the 
        <b>order</b> option will be overridden and the sub-question order will be randomized (default, false)
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>		
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
		
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question{QID}'</span><span class="p">).</span><span class="nx">vWPricing</span><span class="p">({</span>
			<span class="nx">order</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
			<span class="nx">randomOrder</span><span class="o">:</span> <span class="kc">false</span>
		<span class="p">});</span>
		
	<span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <h2><span class="mw-headline" id="Version_2.5x">Version 2.5x</span></h2> 
        <p><i>Tested with: LimeSurvey version 2.54.5</i> </p>
        <p>This workaround uses JavaScript to dynamically control sliders to facilitate the <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://www.5circles.com/van-westendorp-pricing-the-price-sensitivity-meter/">Van Westendorp pricing research methodology</a>. When a slider is manipulated, all of the "higher" sliders are dynamically pushed to higher levels and "lower" sliders are pushed to lower levels. This ensures that the data will always be valid.<br><br> </p>
        <p><a href="/File:Test_Van_Westendorp_Pricing_25x.png" class="image"><img alt="Test Van Westendorp Pricing 25x.png" src="/images/3/34/Test_Van_Westendorp_Pricing_25x.png" width="600" height="449"></a><br><br> </p>
        <p><b>Download</b> a <a href="/images/3/3b/Test_Van_Westendorp_Pricing_25x.zip" class="internal" title="Test Van Westendorp Pricing 25x.zip">working template and survey</a> (un-zip the package and install the template before the survey). </p>
        <p><b>Implementation</b>: </p> 
        <ol>
         <li><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use JavaScript</a>.</li> 
         <li>Create your Multiple Numeric question with sub-questions as seen in the image above.</li> 
         <li>Add the following to the end of template.js:
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="kd">function</span> <span class="nx">shuffleArray</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">array</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">j</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="p">(</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span>
		<span class="kd">var</span> <span class="nx">temp</span> <span class="o">=</span> <span class="nx">array</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
		<span class="nx">array</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">array</span><span class="p">[</span><span class="nx">j</span><span class="p">];</span>
		<span class="nx">array</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span> <span class="o">=</span> <span class="nx">temp</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="nx">array</span><span class="p">;</span>
<span class="p">}</span>

	
<span class="cm">/*****</span>
<span class="cm">    A jQuery plugin to facilitate the Van Westendorp pricing research methodology</span>
<span class="cm">    Copyright (C) 2016 - Tony Partner (http://partnersurveys.com)</span>
<span class="cm">    Licensed MIT, GPL</span>
<span class="cm">    Version - 2.0</span>
<span class="cm">    Create date - 19/10/16</span>
<span class="cm">*****/</span>
<span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">$</span> <span class="p">){</span>

	<span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">vWPricing25</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>  
	
		<span class="kd">var</span> <span class="nx">opts</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="p">{</span>
			<span class="nx">order</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
			<span class="nx">randomOrder</span><span class="o">:</span> <span class="kc">false</span>
		<span class="p">},</span> <span class="nx">options</span><span class="p">);</span>
		
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> 
				
			<span class="kd">var</span> <span class="nx">thisQuestion</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
			
			<span class="nx">thisQuestion</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'vwp-question'</span><span class="p">);</span>
			
			<span class="c1">// Add some attributes and set the slider max/min values</span>
			<span class="kd">var</span> <span class="nx">itemsLength</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'.question-item'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">length</span><span class="p">;</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'.question-item'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">thisInput</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'input[type=text]'</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>
				<span class="kd">var</span> <span class="nx">thisVal</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">thisInput</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
				
				<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'data-item'</span><span class="p">,</span> <span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">));</span>
				<span class="nx">$</span><span class="p">(</span><span class="nx">thisInput</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'data-slider-index'</span><span class="p">,</span> <span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">));</span>
		
				<span class="c1">// Slider initial settings</span>
				<span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>	
					<span class="kd">var</span> <span class="nx">thisSliderMin</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">thisInput</span><span class="p">).</span><span class="nx">bootstrapSlider</span><span class="p">(</span><span class="s1">'getAttribute'</span><span class="p">,</span> <span class="s1">'min'</span><span class="p">);</span>
					<span class="nx">$</span><span class="p">(</span><span class="nx">thisInput</span><span class="p">).</span><span class="nx">bootstrapSlider</span><span class="p">(</span><span class="s1">'setAttribute'</span><span class="p">,</span> <span class="s1">'min'</span><span class="p">,</span> <span class="nx">thisSliderMin</span><span class="o">+</span><span class="p">(</span><span class="nx">i</span><span class="p">));</span>
					<span class="kd">var</span> <span class="nx">thisSliderMax</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">thisInput</span><span class="p">).</span><span class="nx">bootstrapSlider</span><span class="p">(</span><span class="s1">'getAttribute'</span><span class="p">,</span> <span class="s1">'max'</span><span class="p">);</span>
					<span class="nx">$</span><span class="p">(</span><span class="nx">thisInput</span><span class="p">).</span><span class="nx">bootstrapSlider</span><span class="p">(</span><span class="s1">'setAttribute'</span><span class="p">,</span> <span class="s1">'max'</span><span class="p">,</span> <span class="nx">thisSliderMax</span><span class="o">-</span><span class="p">((</span><span class="nx">itemsLength</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="nx">i</span><span class="p">));</span>
					
					<span class="k">if</span><span class="p">(</span><span class="nx">thisVal</span> <span class="o">==</span> <span class="s1">''</span><span class="p">)</span> <span class="p">{</span>
						<span class="nx">$</span><span class="p">(</span><span class="nx">thisInput</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="s1">''</span><span class="p">);</span>
					<span class="p">}</span>
				<span class="p">},</span> <span class="mi">200</span><span class="p">);</span>
				
			<span class="p">});</span>
			
			<span class="c1">// Slider order</span>
			<span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">randomOrder</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">shuffleArray</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">order</span><span class="p">);</span>
			<span class="p">}</span>
			<span class="nx">$</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">order</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'.subquestion-list.questions-list'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'.question-item[data-item="'</span><span class="o">+</span><span class="nx">val</span><span class="o">+</span><span class="s1">'"]'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">));</span>
			<span class="p">});</span>
	
			<span class="c1">// Listeners on the sliders</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type=text]'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">'slide'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">handleVwpSliders</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">bootstrapSlider</span><span class="p">(</span><span class="s1">'getValue'</span><span class="p">));</span>
			<span class="p">});</span>	
			<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type=text]'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">'slideStop'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">handleVwpSliders</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">bootstrapSlider</span><span class="p">(</span><span class="s1">'getValue'</span><span class="p">));</span>
			<span class="p">});</span>
			
			<span class="c1">// A function to handle the siders</span>
			<span class="kd">function</span> <span class="nx">handleVwpSliders</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">sliderVal</span><span class="p">)</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">movedIndexNum</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">el</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'data-slider-index'</span><span class="p">);</span>
				
				<span class="kd">var</span> <span class="nx">lowerSliders</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'input[type=text]'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
					<span class="k">return</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'data-slider-index'</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nx">movedIndexNum</span><span class="p">;</span>
				<span class="p">});</span>
				<span class="kd">var</span> <span class="nx">higherSliders</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'input[type=text]'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
					<span class="k">return</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'data-slider-index'</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nx">movedIndexNum</span><span class="p">;</span>
				<span class="p">});</span>
				
				<span class="nx">$</span><span class="p">(</span><span class="nx">lowerSliders</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
					<span class="kd">var</span> <span class="nx">thisIndexNum</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'data-slider-index'</span><span class="p">);</span>
					<span class="kd">var</span> <span class="nx">newSliderVal</span> <span class="o">=</span> <span class="nx">sliderVal</span><span class="o">-</span><span class="p">(</span><span class="nx">movedIndexNum</span><span class="o">-</span><span class="nx">thisIndexNum</span><span class="p">);</span>
					<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">bootstrapSlider</span><span class="p">(</span><span class="s1">'getValue'</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nx">newSliderVal</span><span class="p">)</span> <span class="p">{</span>
						<span class="kd">var</span> <span class="nx">thisRow</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'.question-item'</span><span class="p">);</span>
						<span class="kd">var</span> <span class="nx">thisTooltip</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'.tooltip'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">);</span>
						<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">bootstrapSlider</span><span class="p">(</span><span class="s1">'setValue'</span><span class="p">,</span> <span class="nx">newSliderVal</span><span class="p">);</span>
						<span class="nx">$</span><span class="p">(</span><span class="s1">'.tooltip-inner'</span><span class="p">,</span> <span class="nx">thisTooltip</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'input.text'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">val</span><span class="p">());</span>
						<span class="nx">thisTooltip</span><span class="p">.</span><span class="nx">show</span><span class="p">().</span><span class="nx">css</span><span class="p">(</span><span class="s1">'margin-left'</span><span class="p">,</span> <span class="s1">'-'</span><span class="o">+</span><span class="p">(</span><span class="nx">thisTooltip</span><span class="p">.</span><span class="nx">width</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="s1">'px'</span><span class="p">);</span>
						
						<span class="kd">var</span> <span class="nx">validationInput</span> <span class="o">=</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'input.em_sq_validation'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">);</span>
						<span class="nx">$</span><span class="p">(</span><span class="nx">validationInput</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'input.text'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">val</span><span class="p">())</span>
						<span class="nx">fixnum_checkconditions</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="nx">validationInput</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'value'</span><span class="p">),</span> <span class="nx">$</span><span class="p">(</span><span class="nx">validationInput</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'name'</span><span class="p">),</span> <span class="nx">$</span><span class="p">(</span><span class="nx">validationInput</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'type'</span><span class="p">));</span>
					<span class="p">}</span>
				<span class="p">});</span>
				<span class="nx">$</span><span class="p">(</span><span class="nx">higherSliders</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
					<span class="kd">var</span> <span class="nx">thisIndexNum</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'data-slider-index'</span><span class="p">);</span>
					<span class="kd">var</span> <span class="nx">newSliderVal</span> <span class="o">=</span> <span class="nx">sliderVal</span><span class="o">+</span><span class="p">(</span><span class="nx">thisIndexNum</span><span class="o">-</span><span class="nx">movedIndexNum</span><span class="p">);</span>
					<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">bootstrapSlider</span><span class="p">(</span><span class="s1">'getValue'</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nx">newSliderVal</span><span class="p">)</span> <span class="p">{</span>
						<span class="kd">var</span> <span class="nx">thisRow</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'.question-item'</span><span class="p">);</span>
						<span class="kd">var</span> <span class="nx">thisTooltip</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'.tooltip'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">);</span>
						<span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">bootstrapSlider</span><span class="p">(</span><span class="s1">'setValue'</span><span class="p">,</span> <span class="nx">newSliderVal</span><span class="p">);</span>
						<span class="nx">$</span><span class="p">(</span><span class="s1">'.tooltip-inner'</span><span class="p">,</span> <span class="nx">thisTooltip</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'input.text'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">val</span><span class="p">());</span>
						<span class="nx">thisTooltip</span><span class="p">.</span><span class="nx">show</span><span class="p">().</span><span class="nx">css</span><span class="p">(</span><span class="s1">'margin-left'</span><span class="p">,</span> <span class="s1">'-'</span><span class="o">+</span><span class="p">(</span><span class="nx">thisTooltip</span><span class="p">.</span><span class="nx">width</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="s1">'px'</span><span class="p">);</span>
						
						<span class="kd">var</span> <span class="nx">validationInput</span> <span class="o">=</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'input.em_sq_validation'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">);</span>
						<span class="nx">$</span><span class="p">(</span><span class="nx">validationInput</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'input.text'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">).</span><span class="nx">val</span><span class="p">())</span>
						<span class="nx">fixnum_checkconditions</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="nx">validationInput</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'value'</span><span class="p">),</span> <span class="nx">$</span><span class="p">(</span><span class="nx">validationInput</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'name'</span><span class="p">),</span> <span class="nx">$</span><span class="p">(</span><span class="nx">validationInput</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'type'</span><span class="p">));</span>
					<span class="p">}</span>
				<span class="p">});</span>
			<span class="p">}</span>
		
			<span class="c1">// Listener on resizing (override the bootstrap callout behaviour)</span>
			<span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">resize</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
				<span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>	
					<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type=text]'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
						<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">''</span><span class="p">)</span> <span class="p">{</span>
							<span class="kd">var</span> <span class="nx">thisRow</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'.question-item'</span><span class="p">);</span>
							<span class="kd">var</span> <span class="nx">thisTooltip</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'.tooltip'</span><span class="p">,</span> <span class="nx">thisRow</span><span class="p">);</span>
							<span class="nx">$</span><span class="p">(</span><span class="s1">'.tooltip-inner'</span><span class="p">,</span> <span class="nx">thisTooltip</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">()));</span>
							<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'.tooltip-inner'</span><span class="p">,</span> <span class="nx">thisTooltip</span><span class="p">).</span><span class="nx">text</span><span class="p">());</span>
							<span class="nx">thisTooltip</span><span class="p">.</span><span class="nx">show</span><span class="p">().</span><span class="nx">css</span><span class="p">(</span><span class="s1">'margin-left'</span><span class="p">,</span> <span class="s1">'-'</span><span class="o">+</span><span class="p">(</span><span class="nx">thisTooltip</span><span class="p">.</span><span class="nx">width</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="s1">'px'</span><span class="p">);</span>
						<span class="p">}</span>
					<span class="p">});</span>
				<span class="p">},</span> <span class="mi">1</span><span class="p">);</span>
			<span class="p">});</span>
		<span class="p">});</span>	
	<span class="p">};</span>
<span class="p">})(</span> <span class="nx">jQuery</span> <span class="p">);</span>
</pre>
          </div></li> 
         <li>Add the following to the end of template.css (this is for a copy of the default template):
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="c">/*********** Van Westendorp Pricing ***********/</span>

<span class="nc">.vwp-question</span> <span class="nc">.control-label</span> <span class="p">{</span>
    <span class="nb">margin-bottom</span><span class="o">:</span> <span class="m">35px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.vwp-question</span> <span class="nc">.withslider</span> <span class="p">{</span>
    <span class="nb">margin-bottom</span><span class="o">:</span> <span class="m">0px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.vwp-question</span> <span class="nc">.slider-container</span> <span class="p">{</span>
    <span class="nb">margin-bottom</span><span class="o">:</span> <span class="m">2.5em</span><span class="p">;</span>
    <span class="nb">margin-top</span><span class="o">:</span> <span class="m">3.5em</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.vwp-question</span> <span class="nc">.slider.slider-horizontal</span> <span class="nc">.slider-handle</span> <span class="p">{</span>
    <span class="nb">margin-top</span><span class="o">:</span> <span class="m">-5px</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">@media</span> <span class="o">(</span><span class="nt">max-width</span><span class="o">:</span> <span class="nt">600px</span><span class="o">)</span><span class="p">{</span>

	<span class="nc">.vwp-question</span> <span class="nc">.withslider</span> <span class="p">{</span>    
		<span class="nb">padding-left</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
		<span class="nb">padding-right</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">@media</span> <span class="o">(</span><span class="nt">max-width</span><span class="o">:</span> <span class="nt">480px</span><span class="o">)</span><span class="p">{</span>

	<span class="nn">#outerframeContainer</span><span class="o">,</span>
	<span class="nc">.vwp-question</span> <span class="nc">.control-label</span><span class="o">,</span>
	<span class="nc">.vwp-question</span> <span class="nc">.slider-container</span> <span class="o">&gt;</span> <span class="nt">div</span> <span class="p">{</span>    
		<span class="nb">padding-left</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
		<span class="nb">padding-right</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
	<span class="p">}</span>
	
	<span class="nc">.vwp-question</span> <span class="nc">.slider-container</span> <span class="o">&gt;</span> <span class="nt">div</span> <span class="o">&gt;</span> <span class="nt">div</span> <span class="p">{</span>    
		<span class="nb">padding-left</span><span class="o">:</span> <span class="m">5px</span><span class="p">;</span>
		<span class="nb">padding-right</span><span class="o">:</span> <span class="m">5px</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre>
          </div></li> 
         <li>To apply the plugin, add this script the multiple-numeric question source. </li>
        </ol> There are two options to adjust
        <br> -
        <b>order</b> - this is the order that your sub-questions will be displayed (default, 1, 2, 3, 4)
        <br> -
        <b>randomOrder</b> - if set to true, the 
        <b>order</b> option will be overridden and the sub-question order will be randomized (default, false)
        <div class="mw-highlight mw-content-ltr" dir="ltr">
         <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>		
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
		
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#question{QID}'</span><span class="p">).</span><span class="nx">vWPricing25</span><span class="p">({</span>
			<span class="nx">order</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
			<span class="nx">randomOrder</span><span class="o">:</span> <span class="kc">false</span>
		<span class="p">});</span>
		
	<span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
        </div> 
        <h1><span class="mw-headline" id="Multiple_Choice_-_Select_.22All_of_the_above.22">Multiple Choice - Select "All of the above"</span></h1> 
        <h2><span class="mw-headline" id="Version_2.67.x">Version 2.67.x</span></h2> 
        <p><i>Tested with: LimeSurvey version 2.67.3</i> </p>
        <p>This script will render the last item of a multiple-choice question as "Select all".<br> </p>
        <p><b>Download</b> a <a href="/images/f/fc/All_of_the_above.zip" class="internal" title="All of the above.zip">sample survey</a>. </p>
        <p><b>Implementation</b>: </p> 
        <ol>
         <li><a href="/Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript#How_to_use_Script_.28eg._JavaScript_etc..29_in_LimeSurvey.3F" title="Workarounds: Manipulating a survey at runtime using Javascript">Set up your survey to use JavaScript</a>.</li> 
         <li>Create your Multiple Choice question with the last sub-questions as "Select all".</li> 
         <li>Add the following script to the source of the question text:
          <div class="mw-highlight mw-content-ltr" dir="ltr">
           <pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">charset</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="o">&gt;</span>
	<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">'ready pjax:complete'</span><span class="p">,</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		
		<span class="c1">// Identify this question</span>
		<span class="kd">var</span> <span class="nx">thisQuestion</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#question{QID}'</span><span class="p">);</span>
		
		<span class="c1">// Initial states</span>
		<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="checkbox"]:last'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="s1">':checked'</span><span class="p">))</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="checkbox"]'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">not</span><span class="p">(</span><span class="s1">':last'</span><span class="p">).</span><span class="nx">prop</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">,</span> <span class="kc">true</span><span class="p">).</span><span class="nx">prop</span><span class="p">(</span><span class="s1">'disabled'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
		<span class="p">}</span>
	
		<span class="c1">// Listener on the last checkbox</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="checkbox"]:last'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">'change'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="s1">':checked'</span><span class="p">))</span> <span class="p">{</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="checkbox"]'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">not</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">prop</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">,</span> <span class="kc">true</span><span class="p">).</span><span class="nx">prop</span><span class="p">(</span><span class="s1">'disabled'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
			<span class="p">}</span>
			<span class="k">else</span> <span class="p">{</span>
				<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="checkbox"]'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">not</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">prop</span><span class="p">(</span><span class="s1">'checked'</span><span class="p">,</span> <span class="kc">false</span><span class="p">).</span><span class="nx">prop</span><span class="p">(</span><span class="s1">'disabled'</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
			<span class="p">}</span>
			
			<span class="c1">// Fire Expression Manager</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="checkbox"]'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">not</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">checkconditions</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="p">);</span>
			<span class="p">});</span>
		<span class="p">});</span>
 
		<span class="c1">// Re-enable checkboxes so data gets stored</span>
		<span class="nx">$</span><span class="p">(</span><span class="s1">'#moveprevbtn, #movenextbtn, #movesubmitbtn'</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">'click'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="nx">$</span><span class="p">(</span><span class="s1">'input[type="checkbox"]'</span><span class="p">,</span> <span class="nx">thisQuestion</span><span class="p">).</span><span class="nx">prop</span><span class="p">(</span><span class="s1">'disabled'</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
		<span class="p">});</span>
	<span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre>
          </div></li>
        </ol> 
        <!-- 
NewPP limit report
Cached time: 20170913171651
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.128 seconds
Real time usage: 0.132 seconds
Preprocessor visited node count: 1999/1000000
Preprocessor generated node count: 4116/1000000
Post?expand include size: 4158/2097152 bytes
Template argument size: 2198/2097152 bytes
Highest expansion depth: 6/40
Expensive parser function count: 0/100
--> 
        <!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   33.047      1 - -total
  8.59%    2.838      5 - Template:Hint
  5.59%    1.847      2 - Template:Alert
  4.91%    1.621      5 - Template:Box
  3.36%    1.109      1 - Template:Deprecated
  2.28%    0.752      1 - QS:Maximum_chars
--> 
        <!-- Saved in parser cache with key c1manual-lsmw_:pcache:idhash:1316-0!*!0!!en!5!* and timestamp 20170913171651 and revision id 76729
 --> 
       </div>
       <div class="printfooter">
         Retrieved from "
        <a dir="ltr" href="http://manual.limesurvey.org/index.php?title=Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript&amp;oldid=76729">http://manual.limesurvey.org/index.php?title=Workarounds:_Manipulating_a_survey_at_runtime_using_Javascript&amp;oldid=76729</a>"
       </div> 
       <div class="clear_both"></div> 
      </div> 
      <div class="group">
       <div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>
      </div> 
     </div> 
    </div> 
   </div> 
   <footer class="row"> 
    <div id="footer"> 
     <div id="footer-left" class="small-8 large-centered columns text-center"> 
      <ul id="footer-left"> 
       <li id="footer-lastmod"> This page was last modified on 6 September 2017, at 16:07.</li> 
       <li id="footer-copyright">Content is available under <a class="external" rel="nofollow" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons by SA</a> unless otherwise noted.</li> 
       <li id="footer-privacy"><a href="/LimeSurvey_Manual:Privacy_policy" title="LimeSurvey Manual:Privacy policy">Privacy policy</a></li> 
       <li id="footer-about"><a href="/LimeSurvey_Manual:About" title="LimeSurvey Manual:About">About LimeSurvey Manual</a></li> 
       <li id="footer-disclaimer"><a href="/LimeSurvey_Manual:General_disclaimer" title="LimeSurvey Manual:General disclaimer">Disclaimers</a></li> 
      </ul> 
     </div> 
     <div id="footer-right-icons" class="large-12 small-12 columns"> 
      <ul id="poweredby"> 
       <li class="poweredby"> <a href="//www.mediawiki.org/">Powered by MediaWiki</a> </li> 
      </ul> 
     </div> 
    </div> 
   </footer> 
  </div> 
  <script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.uls.init","ext.uls.geoclient","skins.foreground.js"]);});</script>
  <!-- No web analytics configured. --> 
  <script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":281});});</script>  
  <!-- Cached 20170913171651 -->  
 </body>
</html>