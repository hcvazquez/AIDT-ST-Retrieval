<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
 <head> 
  <meta http-equiv="Content-Language" content="en-us"> 
  <meta http-equiv="Content-Type" content="text/html; charset=windows-1252"> 
  <meta name="GENERATOR" content="Microsoft FrontPage 5.0"> 
  <meta name="ProgId" content="FrontPage.Editor.Document"> 
  <meta name="Author" content="Deb Deppeler (deppeler@cs.wisc.edu)"> 
  <title>Java Input and Output (I/O)</title> 
  <style fprolloverstyle>a:hover      { color: #FF0000; font-weight: bold }
code          { font-weight: bold }
.className    { font-family: "Courier New"; font-weight: bold; font-size:90%; }
.methodName   { font-family: "Courier New"; font-weight: bold; font-size:90%; }
.term   { font-style: italic }
.new { font-weight: bold; color: #0000FF; }
.notice { font-weight: bold; font-style: italic; color: #0000FF; }
em { font-weight: bold; color: #800080; }
</style> 
 </head> 
 <body> 
  <h1>Java Input and Output (I/O)</h1> 
  <ul>
   <li><a href="#consoleIN">Console Input</a></li> 
   <ul>
    <li><a href="#intIN">Integer Input</a></li> 
    <li><a href="Exceptions.html">Java Exceptions</a></li> 
   </ul> 
   <li><a href="#consoleOUT">Console Output</a></li> 
   <ul>
    <li><a href="#streams">Streams</a></li> 
   </ul> 
   <li><a href="#fileIN">File Input</a></li> 
   <ul>
    <li><a href="#parsing">Parsing Strings</a></li> 
   </ul> 
   <li><a href="#fileOUT">File Output</a></li> 
  </ul> 
  <h2>Introduction</h2> 
  <p><span class="term">Input</span> is any information that is needed by your program to complete its execution.&nbsp; There are many forms that program input may take.&nbsp; Some programs use graphical components like a popup dialog box to accept and return the character string that is typed by the user.&nbsp; You are certainly familiar with programs that are controlled simply by clicking the mouse in a specific area of the screen.&nbsp; Still other programs, like word processing programs, get some of their input from a file that is stored on the computer's floppy or hard disk drive.&nbsp; Some programs, like web browsers, get their data from a network connection, while others get data from devices like scanners, digital cameras and microphones.&nbsp; The possibilities are limited only by computer scientists' imagination.</p> 
  <p><span class="term">Output</span> is any information that the program must convey to the user.&nbsp; The information you see on your computer screen is being output by one or more programs that are currently running on your computer.&nbsp; When you decide to print a document, a program is told to send some output to the printer.&nbsp; Any sound that your computer makes is because some program sent output to the speakers on your computer.&nbsp; The possibilities for program output are also limited only by our imaginations.</p> 
  <p>Throughout the semester, we have been performing input and through the use of a <span class="className">Scanner</span>object connected to <code>System.in</code> and output through the use of a <span class="className">PrintStream</span> object (<code>System.out</code>).</p> 
  <p>There are several potential error conditions that may occur when a program needs to get input from the user.&nbsp; If a user enters letters when a program is expecting numbers, an <a href="Exceptions_Scanner.html">exception</a>&nbsp; (error) will occur if the program assumes incorrectly that it has a valid integer to use in calculations.&nbsp; Programs must be written to survive bad input by the user.&nbsp; One way to do this is to ensure that only valid input is accepted.</p> 
  <p>Standard Java classes do not ensure that only valid input is accepted.&nbsp; They are designed to be very flexible to support the wide variety of input and output options available now and in the future.&nbsp; This flexibility comes at the cost of increased complexity.</p> 
  <a name="consoleIN"></a>
  <h2>Console Input</h2> 
  <p>The console window is the window that is automatically launched when you run a program from within Eclipse.&nbsp; Console input is any input that is entered in the console window instead of typing it into a field or dialog box that pops up in a window.&nbsp; For example, when the <span class="methodName"> nextLine</span> method is called, the program waits for the user to enter information.&nbsp; Whatever the user types is returned to the program in the form of a <span class="className">String</span> object.</p> 
  <p>There are many ways to get information from the user.&nbsp; In many cases, the user must be told that they should enter some information.&nbsp; This is known as <span class="term">prompting the user</span>.&nbsp; A user prompt is a line of text that is output to the user that explains what information they should input next.&nbsp; We can prompt the user by displaying information in a dialog box, a program frame, or even the console window.&nbsp; All programs that require the user to input information while the program is running must prompt the user for that information in some manner.</p> 
  <p>When a program is waiting for input at the console, there is sometimes a blinking cursor in the console window indicating that the user should type some information. But, this is not always the case.&nbsp; The user will only know what information to type if the program describes that information in the form of a user prompt.&nbsp; (See <a href="#consoleOUT">Console Output</a> for more information on user prompts.)</p> 
  <p>The use of several of the Java I/O classes may be required to successfully receive input that is typed by the user.&nbsp; The <code>java.io</code> package contains most, if not all, of the classes you will need to use.&nbsp; The <code>java.util</code> package also contains some classes that are useful for input and output.&nbsp; Don't worry, you won't need to use all 50+ classes.&nbsp; But, you will need to learn about and use at least a couple of them.&nbsp; Either use the fully qualified name shown or import the specified package to use either of these classes.</p> 
  <ul>
   <li><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/InputStream.html"><span class="className">java.io.InputStream</span></a> - stores information about the connection between an input device and the computer or program.<br> </li> 
   <li><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Scanner.html"><span class="className"> java.util.Scanner</span></a> - used to read the input available from an <span class="className">InputStream</span> object.</li> 
  </ul> 
  <p>The <span class="className">Scanner</span> class has a method called <span class="methodName"> nextLine</span> that returns a line of text as typed by the user.&nbsp; There are two available constructors for creating a <span class="className"> Scanner</span> object.&nbsp; For console input, we will use the one that requires only one argument, an instance of an <span class="className"> InputStream</span> object.</p> 
  <p>We will use the <code>System.in</code> object as our <span class="className">InputStream</span> object and then use that object to create an instance of the <span class="className"> Scanner</span> class.</p> 
  <h3>Steps for console based user input:</h3> 
  <ol>
   <li>Use the <code>System.in</code> object to create a <span class="className"> Scanner</span> object.</li> 
   <li>Display a prompt to the user for the desired data.</li> 
   <li>Use the <span class="className">Scanner</span> object to read a line of text from the user.</li> 
   <li>Do something interesting with the input received from the user.</li> 
  </ol> 
  <h4>Would you like to see some code?&nbsp; I thought so.&nbsp; Here it is:</h4> 
  <pre>    // 1. Create a Scanner using the InputStream available.
    <span class="new">Scanner scanner = new Scanner( System.in );</span>

    // 2. Don't forget to prompt the user
    <span class="new">System.out.print( "Type some data for the program: " );</span>

    // 3. Use the Scanner to read a line of text from the user.
    <span class="new">String input = scanner.nextLine();</span>

    // 4. Now, you can do anything with the input string that you need to.
    // Like, output it to the user.
    <span class="new">System.out.println( "input = " + input );</span></pre> 
  <h4>That's a lot of code for one line of input.&nbsp; Is there a shorter way?</h4> 
  <p>Yes.&nbsp; Subtle bugs are introduced into your program when you connect more than one <span class="className">Scanner</span>object to the single <span class="className">InputStream</span> object <span class="className">System.in</span>.&nbsp; So, Java programmers create only one instance of the <span class="className"> Scanner</span> connected to <span class="className">System.in</span> for use throughout their entire program.&nbsp; All keyboard operations will use that single shared <span class="className"> Scanner</span> object.&nbsp; The code below is placed with other class data members and is not inside any method.</p> 
  <pre>    // 1. Create a single shared Scanner object for keyboard input.
    //    This must be done in only one class of your program.
    //    All keyboard input must be handled through that one class.
    <span class="new">private static Scanner scanner = new Scanner( System.in );</span></pre> 
  <h4>I added the above code to my program and I get compiler errors!</h4> 
  <p>Did you remember to import the <code>java.util.Scanner</code> class?&nbsp; The <span class="className"> Scanner</span> class is not in the standard <code>java.lang</code> package.&nbsp; You must import the <code>java.util.Scanner</code> class to declare and create instances of the <span class="className"> Scanner</span> class.&nbsp; You must import the <code>java.io</code> package to declare and create instances of any of the other Java I/O classes discussed in this document.&nbsp;&nbsp; It's easiest to add the <code>import java.util.*;</code> statement (and, if you are using the other Java I/O classes, the <code>import java.io.*;</code> statement) to your list of other import statements.&nbsp; Here's a complete program example that prompts the user for input and then repeats that data to the console window:</p> 
  <pre>    <span class="new">import java.util.Scanner;</span>  // needed for Scanner

    /** A Java program that demonstrates console based input and output. */
    public class MyConsoleIO 
    {
        // Create a single shared Scanner for keyboard input
        <span class="new">private static Scanner scanner = new Scanner( System.in );</span>

        // Program execution starts here
        public static void main ( String [] args )
        {
            // Prompt the user
            System.out.print( "Type some data for the program: " );


            // Read a line of text from the user.
            String input = <span class="new">scanner.nextLine()</span>;

            // Display the input back to the user.
            System.out.println( "input = " + input );

        } // end main method

    } // end MyConsoleIO class</pre> 
  <a name="intIN"></a> 
  <h3>Integer input</h3> 
  <p>Getting data from the user isn't so hard after all.&nbsp; But, it does require some additional work.&nbsp; There may be even more work to do, if you want to get an integer (or other numeric value) from the user.&nbsp; If the user types in "123", that will be still be returned as a <span class="className">String</span> object by the <span class="methodName">nextLine</span> method of <span class="className"> Scanner</span>.&nbsp; You will need to <span class="term">parse</span> (convert) the <span class="className">String</span> object into an <code>int</code> value if you wish to store it in an <code>int</code> variable or data member.&nbsp; Here's one way to do this:</p> 
  <ol>
   <li>Get a <span class="className">String</span> of characters that is in an integer format, e.g.,&nbsp; "123".<br> <code><span class="new">String input = scanner.nextLine();&nbsp; // from console input example above.</span><br> <br> </code></li> 
   <li>Use the <span class="className">Integer</span> class to parse the string of characters into an integer.&nbsp;<br> <code><span class="new">int number = Integer.parseInt( input );&nbsp; // converts a String into an int value</span><br> <br> </code><cite>The <span class="className">Integer</span> class contains conversion methods for changing <span class="className">String</span> data into <code>int</code> values and vice versa.&nbsp; The <span class="className">Integer</span> class is one of several <span class="term">wrapper</span> classes that are defined in the standard Java API.&nbsp; Wrapper classes have class methods for parsing and are also used when you need to store a primitive value as an object.&nbsp; <br> <br> </cite>In our case, we needed to convert a <span class="className">String</span> object into an <code>int</code> value.&nbsp; The <span class="methodName">parseInt</span> method of the <span class="className">Integer</span> class performs this action.&nbsp; Be sure to review the <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Integer.html">Integer class javadoc</a> for more information about this and other methods of the <span class="className">Integer</span> class.</li> 
  </ol> 
  <p>Here's another way to do this:</p> 
  <ol>
   <li>Read the next available input as an <span class="className">int</span> value.<br> <code><span class="new">int number = scanner.nextInt();&nbsp; // from console input example above.</span></code></li> 
  </ol> 
  <p>As you can see, the <span class="className"> Scanner</span> class contains a method named <span class="methodName">nextInt</span> that returns the next input data available as an <code>int</code> value, that is, if the next input in the input stream is a valid integer format.&nbsp;&nbsp; If the next input is not a valid integer format, an <span class="className"> InputMismatchException</span> is thrown.</p> 
  <p>You may be wondering why are there two ways to read integers from the user.&nbsp; This flexibility allows you, the programmer, the option of which form is best for your program.&nbsp; The correct form to use depends upon what you wish to do with the rest of the line that remains after an integer is read from the current input line.&nbsp; The first example should be used if the only thing available on the current input line is the integer value.&nbsp; The second example should be used if there are multiple data values to read on the same input line.</p> 
  <h4>What if the user types letters instead of digits?</h4> 
  <p>The <span class="methodName">parseInt</span> method declares that it may throw a <span class="className">NumberFormatException</span>.&nbsp; If the user types any string of characters that can't be parsed into an <code>int</code> value, a <span class="className">NumberFormatException</span> will be thrown and the program will crash.&nbsp; That can't be a good thing!&nbsp; But, there is something that you as the programmer can do to keep your program from crashing.&nbsp; You can <span class="term">catch</span> the <span class="className">NumberFormatException</span>.&nbsp; If you don't know what an exception is, read about them in <a href="Exceptions_Scanner.html">Java Exceptions</a>.&nbsp; There is an example on <a href="Exceptions_Scanner.html#try_catch">catching a NumberFormatException</a>.</p> 
  <a name="consoleOUT"></a>
  <h2>Console Output</h2> 
  <p>We have used <code>System.out.print(...)</code> and <code>System.out.println(...)</code> statements for displaying simple text messages to the user.&nbsp; This is an important output alternative, since graphic user interface (GUI) objects are not readily available in some programming environments.&nbsp; You may of course write your own GUI classes if they're not available, but that is beyond the scope of this course.&nbsp; It is much more likely that you will simply use the available output options of the programming environment that you are working in.&nbsp;</p> 
  <p>Most programming languages have the ability to display a string of characters to the screen or some other standard display device.&nbsp; We call this console output because the string of characters appears in a console window.&nbsp; The <code>System.out</code> object is an instance of the <code>PrintStream</code> class, which is a type of <code>OutputStream</code>.</p> 
  <a name="streams"></a> 
  <h3>Streams</h3> 
  <p>A stream object is used to store information needed to connect a computer program to an input or output device.&nbsp; There is a <code>PrintStream</code> object that adds functionality to output streams.&nbsp; The <code>PrintStream</code> class <span class="term">extends</span> the <span class="className">OutputStream</span> class and contains definitions for all of the versions of the <span class="methodName">print</span> and <span class="methodName">println</span> methods that we use to display information like user prompts or results of calculations.</p> 
  <p>Console output in Java is very easy because the <span class="methodName">print</span> and <span class="methodName">println</span> methods will work with any type of data.&nbsp;&nbsp; There is a separate version of each of these methods in the <span class="className">PrintStream</span> class so that this is possible.&nbsp; There is also a version of the <span class="methodName">print</span> and <span class="methodName">println</span> methods that will print information for any object.&nbsp; But, how did we get a <span class="className">PrintStream</span> object in the first place?</p> 
  <p>The <span class="className">java.lang.System</span> class creates three different I/O streams automatically for us when our application begins execution.&nbsp; Each of these streams is <i>public</i> and <i>static</i> so that we can access them directly without having to create an instance of the <span class="className">System</span> class.&nbsp; We have already used the <span class="className">InputStream</span> object named <code>System.in</code> in the discussion on console input.&nbsp; The other two stream objects are named <code>System.out</code> and <code>System.err.</code>&nbsp; Each of these objects is an instance of the <span class="className">PrintStream</span> class and is available for use in displaying information to the computer screen.</p> 
  <p>For example, if the following variables are defined,</p> 
  <pre>    int x = 3;
    double rate = 5.5;
    boolean playing = true;
    String phrase = "The winner is ";</pre> 
  <p>they can all be printed using <span class="methodName">print</span> or <span class="methodName">println</span> as follows:</p> 
  <pre>    <span class="new">System.out.print(</span> "x = " + x + " rate = " <span class="new">)</span>;
    <span class="new">System.out.println(</span> rate <span class="new">)</span>;
    <span class="new">System.out.println(</span> "playing = " + playing <span class="new">)</span>;
    <span class="new">System.out.println(</span> phrase + "Deb" <span class="new">)</span>;</pre> 
  <p>We can also print other types of data, including other objects, using the <span class="methodName">print</span> and <span class="methodName">println</span> methods.&nbsp; The following code fragment shows the command syntax for printing a <span class="className">Wanderer</span> object. The class name <span class="className">Wanderer</span> is used as an example. You can replace <span class="className">Wanderer</span> with any class name that is defined in your program.</p> 
  <p><code>&nbsp;&nbsp;&nbsp; Wanderer <span class="notice">wanderer1</span> = new Wanderer( "Wilma", Color.orange );<br> &nbsp;&nbsp;&nbsp; <span class="new">System.out.println( </span><span class="#800000">wanderer1</span><span class="new"> );</span></code></p> 
  <p>In this case, the program prints out some cryptic information about the <span class="className">Wanderer</span> object.&nbsp; It is the class name, an <code>@</code> symbol and the hexidecimal representation of the hashcode.&nbsp; The output looks like the following for the first <span class="className">Wanderer</span> object I created.</p> 
  <p><code>&nbsp;&nbsp;&nbsp; Wanderer@13fac</code></p> 
  <p>Each object created has its own hashcode that can be used to distinguish it from other objects.&nbsp; However, hashcodes are not very readable for most users, so there is a way for the programmer to redefine what information is printed.&nbsp; The information that is displayed when an object is printed using the <span class="method">print</span> method is defined by an instance method named <span class="methodName">toString</span>.&nbsp; Every class has a version of the <span class="methodName">toString</span> method already defined that returns the information as described above.&nbsp; All classes inherit this method from the <code>java.lang.Object</code> class.</p> 
  <p>To redefine the <span class="methodName">toString</span> method, you <span class="term">override</span> the default version by defining a method with the same visibility and <span class="term">method signature</span> as the inherited version of the method.&nbsp; The <span class="methodName">toString</span> method of my <span class="className">Wanderer</span> class can be <span class="term">overridden</span> as follows:</p> 
  <pre>    /**
     *  Returns a string representing this
     *  instance of the Wanderer class.
     */
    <span class="new">public String toString()
    {</span>
        String coords = "(" + myLoc.getX() + ","
                            + myLoc.getY() + ")";

        <span class="new">return myName + " is at " + coords;</span>
    <span class="new">}</span></pre> 
  <p>Now, when the <span class="methodName">print</span> or <span class="methodName">println</span> method is used to print a <span class="className">Wanderer</span> object, the new version of the <span class="methodName">toString</span> method will be called instead of the version defined in the <span class="className">Object</span> class.&nbsp; The <span class="className">String</span> that is printed by the <span class="methodName">println</span> method will look something like this:</p> 
  <p><code>&nbsp;&nbsp;&nbsp; Wilma is at (11,3)</code></p> 
  <p>Each class can (and should!) override the <span class="methodName">toString</span> method to return a <span class="className">String</span> of characters that is more descriptive of the object than the default version provided by the <span class="className">Object</span> class.&nbsp; This method can be called by any method that needs a <span class="className">String</span> that describes the object.</p> 
  <p>The <span class="methodName">print</span> or <span class="methodName">println</span> methods of the <span class="className">PrintStream</span> class should be adequate to produce most screen output.&nbsp; The only other type of output we will cover in this course is <a href="#fileOUT">file output</a>.&nbsp; Other output devices require more specialized output objects and won't be covered in this course.</p> 
  <a name="fileIN"></a>
  <h2>File Input</h2> 
  <p>As mentioned above, data can be <span class="term">read</span> from a variety of different sources, including data files stored on devices such as hard disk drives and floppy drives.&nbsp; The file will need to be opened and a <span class="className"> Scanner</span> will be <span class="term">attached</span> to the file object.&nbsp; The process is actually very similar to the console input example above.&nbsp; The difference is that the <span class="className"> Scanner</span> will be created from a <span class="className">File</span> object instead of an <span class="className">InputStream</span> object.&nbsp; This section focuses on inputting characters rather than data bytes.</p> 
  <p>The discussion and examples in this document explain the procedure when the file to be read is a text file that has valid ASCII characters to represent the data.&nbsp; There is one new Java I/O class to learn about:</p> 
  <ul>
   <li><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/File.html"><code>java.io.File</code></a> - stores information about a file on a computer drive.<br> </li> 
  </ul> 
  <p>You will also have to inform the compiler that you are calling a method that may cause a <code><a href="Exceptions_Scanner.html#checked">checked exception</a></code> to occur.&nbsp; Creating a <code>Scanner</code> object from a <code>File</code> object may cause a <code>FileNotFoundException</code>.&nbsp; This is a checked exception, so be sure to <span class="term">catch</span> the exception or add the <span class="term">throws FileNotFoundException</span> clause to the method header.&nbsp; (Since <code>FileNotFoundException</code> is a subclass of <code>IOException</code>, you could put <span class="term">throws IOException</span> in the method header instead of <span class="term">throws FileNotFoundException</span>.) See the <a href="Exceptions_Scanner.html#checked">Java Exceptions</a> web page for more information on <a href="Exceptions_Scanner.html#handle">handling checked exceptions</a>.</p> 
  <p>Here's a code fragment to illustrate reading a text file:</p> 
  <pre>    System.out.print( "Enter the filename: " );   // Prompt the user for a file name
    String fileName = scanner.nextLine();         // get a file name from the user
    <span class="new">File file = new File( fileName );             // create a File object</span>

    if ( <span class="new">file.exists()</span> )                          // check that the file exists
    {                                             // before trying to create a
                                                  // Scanner to read the file
        // Create a Scanner from the file. 
        // This statement can cause a FileNotFoundException.
        <span class="new">Scanner inFile = new Scanner( file );</span>

        // For each line in the file, read in the line and display it with the line number
        int lineNum = 0;

        // Use the results of calling the hasNext method to 
        // determine if you are at the end of the file before 
        // reading the next line of the file.
<span class="new">        while ( inFile.hasNext() )
        {</span>
        <span class="new">    line = inFile.nextLine();   // read the next line

</span>            // Output the line read to the screen for the user
            System.out.println( ++lineNum + ": " + line );
<span class="new">        }</span>

        // When we're done reading the file,
        // close the Scanner object attached to the file
        <span class="new">inFile.close();</span>
    }</pre> 
  <h3>File Input Hints</h3> 
  <ul>
   <li>Don't forget to add <code>import java.io.*</code> (as well as <code>java.util.*</code> for the <code>Scanner</code> class).</li> 
   <li>Add the <span class="term">throws IOException</span> clause to any method that creates a <span class="className"> File</span> object.&nbsp; See the <a href="Exceptions_Scanner.html#checked">Checked Exceptions</a> section of the <a href="Exceptions_Scanner.html">Java Exceptions</a> page for more information.</li> 
   <li>Do not assume that the <span class="methodName">nextLine</span> will return valid data.&nbsp; You should test the return value of calling the <span class="methodName">hasNext</span> method before trying to use that data.&nbsp; </li> 
   <li>Close the <span class="className">File</span> object when you're done reading data from the file.&nbsp; This can be done by calling the <span class="methodName">close</span> method of the <span class="className">Scanner</span> object.</li> 
   <li><a href="Exceptions_Scanner.html">Java Exceptions</a> describes an alternative <a href="Exceptions_Scanner.html#multiple">file input example that catches exceptions</a> instead of using the <span class="term">throws IOException</span> clause.</li> 
   <li>If you do <span class="term">catch</span> the exception, do not add the <span class="term">throws IOException</span> clause to the method header.</li> 
  </ul> 
  <a name="parsing"></a>
  <h2>Parsing strings with <code>split</code></h2> 
  <p align="left">When you are reading data into your program from a text file, you may need to interpret certain parts of each line differently.&nbsp; This is especially true if you need your program to create objects from text data contained in a file.&nbsp; Individual data items can be placed on different lines of the input data file, but this creates very long files.&nbsp; It is common to place all of the data items for one object on the same line and separate each item with some special character, called a <span class="term">delimiter</span>.&nbsp; In this type of data file, each line of the file represents one record or one object.&nbsp; When you read in from this type of data file, you will need to read in each line of input (as a string of characters) and then divide up that string into its component pieces.&nbsp; This process of dividing up is called <span class="term">parsing</span>.&nbsp; First, some definitions:</p> 
  <dl> 
   <dt>
    <b>parsing</b>
   </dt> 
   <dd>
    dividing a string into tokens based on the given delimiters
   </dd> 
   <dt>
    <b>token</b>
   </dt> 
   <dd>
    one piece of information, a "word"
   </dd> 
   <dt>
    <b>delimiter</b>
   </dt> 
   <dd>
    one (or more) characters used to separate tokens
   </dd> 
  </dl> 
  <p>Anytime you have a situation where strings contain multiple pieces of information (for example, when reading in data from a file on a line-by-line basis), then you will need to parse (i.e., divide up) the string to extract the individual pieces.</p> 
  <h3>Parsing Strings in Java</h3> Strings in Java can be parsed using the 
  <span class="methodName">split</span> method of the 
  <span class="className">String</span> class.&nbsp; ( 
  <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/StringTokenizer.html"><span class="className">StringTokenizer</span></a> can also be used to parse a string; we won't be covering it here).&nbsp; This just gives a brief overview (and some examples) of some of the common (and easiest) ways to use the 
  <span class="methodName">split</span> method; for more detailed information see 
  <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html#split(java.lang.String)">the Java API documentation for <span class="methodName">split</span></a>. 
  <p>Issues to consider when parsing a string:</p> 
  <ul> 
   <li>What are the delimiters (and how many are there)?</li> 
   <li>How should consecutive delimiters be treated?</li> 
  </ul> 
  <h3>When there is just one character used as a delimiter</h3> 
  <h4>Example 1</h4> 
  <p>You want to divide up a phrase into words where spaces are used to separate words. For example </p>
  <dir>
   <pre>the music made   it   hard      to        concentrate</pre>
  </dir> In this case, you have just one delimiter (space) and consecutive delimiters (i.e., several spaces in a row) should be treated as one delimiter. To parse this string in Java, you do 
  <dir>
   <pre>String phrase = "the music made   it   hard      to        concentrate";
String delims = "[ ]+";
String[] tokens = phrase.split(delims);
</pre>
  </dir> 
  <p>Note that</p> 
  <ul> 
   <li>the general form for specifying the delimiters that we will use is <code>"[<i>delim_characters</i>]+"</code> . (This form is a kind of <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/regex/Pattern.html">regular expression</a>. You don't need to know about regular expressions - just use the template shown here.) The plus sign (<code>+</code>) is used to indicate that consecutive delimiters should be treated as one.</li> 
   <li>the <span class="methodName">split</span> method returns an array containing the tokens (as strings).&nbsp; To see what the tokens are, just use a <code>for</code> loop: 
    <dir>
     <pre>for (int i = 0; i &lt; tokens.length; i++)
    System.out.println(tokens[i]);
</pre>
    </dir> You should find that there are seven tokens: "the", "music", "made", "it", "hard", "to", "concentrate" </li> 
  </ul> 
  <h4>Example 2</h4> 
  <p>Suppose each string contains an employee's last name, first name, employee ID#, and the number of hours worked for each day of the week, separated by commas. So </p>
  <dir>
   <pre>Smith,Katie,3014,,8.25,6.5,,,10.75,8.5
</pre>
  </dir> represents an employee named Katie Smith, whose ID was 3014, and who worked 8.25 hours on Monday, 6.5 hours on Tuesday, 10.75 hours on Friday, and 8.5 hours on Saturday. In this case, you have just one delimiter (comma) and consecutive delimiters (i.e., more than one comma in a row) should not be treated as one.&nbsp; To parse this string, you do 
  <dir>
   <pre>String employee = "Smith,Katie,3014,,8.25,6.5,,,10.75,8.5";
String delims = "[,]";
String[] tokens = employee.split(delims);
</pre>
  </dir> 
  <p>After this code executes, the <code>tokens</code> array will contain ten strings (note the empty strings): "Smith", "Katie", "3014", "", "8.25", "6.5", "", "", "10.75", "8.5" </p>
  <p>There is one small wrinkle to be aware of (regardless of how consecutive delimiters are handled): if the string starts with one (or more) delimiters, then the first token will be the empty string ("").</p>
  <h3>When there are several characters being used as delimiters</h3> 
  <h4>Example 3</h4> 
  <p>Suppose you have a string containing several English sentences that uses only commas, periods, question marks, and exclamation points as punctuation.&nbsp; You wish to extract the individual words in the string (excluding the punctuation).&nbsp; In this situation you have several delimiters (the punctuation marks as well as spaces) and you want to treat consecutive delimiters as one </p>
  <dir>
   <pre>String str = "This is a sentence.  This is a question, right?  Yes!  It is.";
String delims = "[ .,?!]+";
String[] tokens = str.split(delims);
</pre>
  </dir> 
  <p>All you had to do was list all the delimiter characters inside the square brackets ( [ ] ). </p> 
  <h4>Example 4</h4> 
  <p>Suppose you are representing arithmetic expressions using strings and wish to parse out the operands (that is, use the arithmetic operators as delimiters).&nbsp; The arithmetic operators that are allowed are addition (+), subtraction (-), multiplication (*), division (/), and exponentiation (^) and parentheses will not be allowed (to make it a little simpler).&nbsp; This situation is not as straight-forward as it might seem.&nbsp; There are several characters that have a special meaning when they appear inside [ ].&nbsp; These characters are: <code>^&nbsp; -&nbsp; [&nbsp;</code> and two &amp;s in a row(<code>&amp;&amp;</code>). In order to use one of these characters, we need to put <code>\\</code> in front of the character:</p> 
  <dir>
   <pre>String expr = "2*x^3 - 4/5*y + z^2";
String delims = "[+\\-*/\\^ ]+"; // so the delimiters are:  + - * / ^ space
String[] tokens = expr.split(delims);
</pre>
  </dir> 
  <h3>General template for using <span class="methodName">split</span> </h3> 
  <pre>String s = <i>string_to_parse</i>;
String delims = "[<i>delimiters</i>]+"; // use + to treat consecutive delims as one;
                                 // omit to treat consecutive delims separately
String[] tokens = s.split(delims);
</pre> 
  <a name="tokenizer"></a> 
  <a name="fileOUT"></a>
  <h2>File Output</h2> 
  <p>Writing data to a file is similar to writing data to the screen.&nbsp; You will open a file for writing and then <span class="term">print</span> to that file any data that you would like to store there.&nbsp; You must remember to <span class="term">close the file</span> or risk having some data not be written and saved to the file.&nbsp; We will use of the <code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/PrintStream.html">java.io.PrintStream</a> </code> class for file output.</p> 
  <p>When you intend to write data to a file, you should consider what is the appropriate action to take if the file already exists.&nbsp; The safest option is to ask the user what to do, and then allow the user to choose overwrite the file, choose a different filename, or cancel the operation.&nbsp; The example shown below assumes that the file opened by the <span class="className"> PrintStream</span> object will be overwritten if it already exists.&nbsp; If you do not want to overwrite the file if it already exists, then you must create and test a <span class="className">File</span> object first.&nbsp; The <span class="methodName">exists</span> method of the <span class="className">File</span> class will return <code>true</code> if the file already exists.</p> 
  <p>The nice thing about using a <span class="className">PrintStream</span> object is that you are already familiar with the <span class="methodName">print</span> and <span class="methodName">println</span> methods that are defined for all <span class="className"> PrintStream</span> objects.&nbsp; One important thing to be aware of when doing&nbsp; file output using a <span class="className">PrintStream</span> is that it does not do automatic line flushing.&nbsp; When writing information to a file, it is more efficient to wait until there is a bunch of information to write and then write it all at once than to write one piece of information to the file, then write the next piece, and so on.&nbsp; This process is call <span class="term">buffering</span> the place where the information is stored until it gets written to the file is called the <span class="term">data buffer</span>, or just <span class="term">buffer</span>.&nbsp; When the buffer gets sufficiently full, the buffer is <span class="term">flushed</span> and the information in the buffer is written to the file.&nbsp; If something "bad" should happen before the buffer has been flushed (for example, the program crashes), then the information in the buffer is lost and the file will not contain all the information that you may expect it to.&nbsp; However, even though calls to <span class="methodName">print</span> and <span class="methodName">println</span> won't automatically flush the buffer, we can force the buffer to flush by calling the <span class="methodName">flush</span> method (or by closing the file using the <span class="methodName">close</span> method).&nbsp; You should always flush the buffer before your code calls another method and you should always remember to close your files in order to prevent losing information.</p> 
  <p>Here's an example file output:</p> 
  <pre>        // Create a PrintStream attached to a file named "out.txt".
        // This will overwrite the file if it already exists
        <span class="new">java.io.PrintStream ps = new java.io.PrintStream( "out.txt" );</span>

        // Buffer some data to write to the file (doesn't actually write until flush)
        <span class="new">ps.print(</span> "Some test data that will be written when flush is called."<span class="new">)</span>;
        
        // Flush all buffered data to the file.
        <span class="new">ps.flush()</span>;

        // Buffer some more data.
        <span class="new">ps.println(</span> data <span class="new">)</span>;

        // Close the file (by closing the PrintStream).  
        // Also flushes any remaining buffered output.
        <span class="new">ps.close()</span>;</pre> 
  <h2>Conclusion</h2> 
  <p><span class="term">Input</span> and <span class="term">output</span> using the standard Java library of classes can be somewhat complex.&nbsp; By using and experimenting with each of the techniques presented here, you will be able to perform some of the most common input and output operations in your Java programs.</p> 
  <p><a href="PlanetIO.java">PlanetIO.java</a> has examples of console based input and output and file based input and output, written by Beck Hasti. </p> 
  <p>
   <!--
<a href="EchoSquared.java">EchoSquared.java</a> has examples of console based input and output, written by Deb Deppeler.
<br>--> <a href="ConsoleIO_Scanner.java">ConsoleIO_Scanner.java</a> has additional examples of console based input and output, originally written by Jim Skrentny.</p> 
  <p>
   <!-- 
<a href="FileEcho.java">FileEcho.java</a> has examples of file based input, written by Deb Deppeler.
<br>--> <a href="FileIO_Scanner.java">FileIO_Scanner.java</a> has an additional examples of file based input and output using using a <tt>StringTokenizer</tt> (as opposed to the <tt>split</tt> method of the <tt>String</tt> class), originally written by Jim Skrentny.</p> 
  <hr> 
  <p>Copyright © 2007-8 Beck Hasti (updates), © 2002 Deb Deppeler (original content)<br>Last update on 
   <!--webbot bot="Timestamp" s-type="REGENERATED" s-format="%m/%d/%Y %I:%M %p" startspan -->09/03/2008 03:50 PM
   <!--webbot bot="Timestamp" endspan i-checksum="25778" --></p>  
 </body>
</html>