<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
 <head> 
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8"> 
  <meta name="robots" content="index,nofollow"> 
  <title>FAQ - Httpd Wiki</title> 
  <script type="text/javascript" src="/wiki/common/js/common.js"></script> 
  <script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script> 
  <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/wiki/modernized/css/common.css"> 
  <link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="/wiki/modernized/css/screen.css"> 
  <link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="/wiki/modernized/css/print.css"> 
  <link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="/wiki/modernized/css/projection.css"> 
  <!-- css only for MS IE6/IE7 browsers --> 
  <!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/wiki/modernized/css/msie.css">
<![endif]--> 
  <link rel="alternate" title="Httpd Wiki: FAQ" href="/httpd/FAQ?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=FAQ&amp;ddiffs=1" type="application/rss+xml"> 
  <link rel="Start" href="/httpd/FrontPage"> 
  <link rel="Alternate" title="Wiki Markup" href="/httpd/FAQ?action=raw"> 
  <link rel="Alternate" media="print" title="Print View" href="/httpd/FAQ?action=print"> 
  <link rel="Search" href="/httpd/FindPage"> 
  <link rel="Index" href="/httpd/TitleIndex"> 
  <link rel="Glossary" href="/httpd/WordIndex"> 
  <link rel="Help" href="/httpd/HelpOnFormatting"> 
 </head> 
 <body lang="en" dir="ltr"> 
  <div id="header"> 
   <form id="searchform" method="get" action="/httpd/FAQ"> 
    <div> 
     <input type="hidden" name="action" value="fullsearch"> 
     <input type="hidden" name="context" value="180"> 
     <label for="searchinput">Search:</label> 
     <input id="searchinput" type="text" name="value" value="" size="20" onfocus="searchFocus(this)" onblur="searchBlur(this)" onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search"> 
     <input id="titlesearch" name="titlesearch" type="submit" value="Titles" alt="Search Titles"> 
     <input id="fullsearch" name="fullsearch" type="submit" value="Text" alt="Search Full Text"> 
    </div> 
   </form> 
   <script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script> 
   <div id="logo">
    <a href="/httpd/FrontPage">Httpd Wiki</a>
   </div> 
   <div id="username">
    <a href="/httpd/FAQ?action=login" id="login" rel="nofollow">Login</a>
   </div> 
   <h1 id="locationline"> <span id="pagelocation"><a href="/httpd/FAQ">FAQ</a></span> </h1> 
   <ul id="navibar"> 
    <li class="wikilink"><a href="/httpd/FrontPage">FrontPage</a></li>
    <li class="wikilink"><a href="/httpd/RecentChanges">RecentChanges</a></li>
    <li class="wikilink"><a href="/httpd/FindPage">FindPage</a></li>
    <li class="wikilink"><a href="/httpd/HelpContents">HelpContents</a></li>
    <li class="current"><a href="/httpd/FAQ">FAQ</a></li> 
   </ul> 
   <div id="pageline">
    <hr style="display:none;">
   </div> 
   <ul class="editbar">
    <li><span class="disabled">Immutable Page</span></li>
    <li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onclick="toggleComments();return false;">Comments</a></li>
    <li><a class="nbinfo" href="/httpd/FAQ?action=info" rel="nofollow">Info</a></li>
    <li><a class="nbattachments" href="/httpd/FAQ?action=AttachFile" rel="nofollow">Attachments</a></li>
    <li> 
     <form class="actionsmenu" method="GET" action="/httpd/FAQ"> 
      <div> 
       <label>More Actions:</label> 
       <select name="action" onchange="if ((this.selectedIndex != 0) &amp;&amp;
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;"> <option value="raw">Raw Text</option> <option value="print">Print View</option> <option value="RenderAsDocbook">Render as Docbook</option> <option value="refresh">Delete Cache</option> <option value="show" disabled class="disabled">------------------------</option> <option value="SpellCheck">Check Spelling</option> <option value="LikePages">Like Pages</option> <option value="LocalSiteMap">Local Site Map</option> <option value="show" disabled class="disabled">------------------------</option> <option value="RenamePage" disabled class="disabled">Rename Page</option> <option value="CopyPage">Copy Page</option> <option value="DeletePage" disabled class="disabled">Delete Page</option> <option value="show" disabled class="disabled">------------------------</option> <option value="MyPages">My Pages</option> <option value="show" disabled class="disabled">Subscribe User</option> <option value="show" disabled class="disabled">------------------------</option> <option value="show" disabled class="disabled">Remove Spam</option> <option value="show" disabled class="disabled">Revert to this revision</option> <option value="PackagePages">Package Pages</option> <option value="SyncPages">Sync Pages</option> <option value="show" disabled class="disabled">------------------------</option> <option value="Load">Load</option> <option value="Save">Save</option> <option value="SlideShow">SlideShow</option> </select> 
       <input type="submit" value="Do"> 
      </div> 
      <script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script> 
     </form> </li>
   </ul> 
  </div> 
  <div id="page" lang="en" dir="ltr"> 
   <div dir="ltr" id="content" lang="en">
    <span class="anchor" id="top"></span> 
    <span class="anchor" id="line-1"></span>
    <p class="line874">Frequently Asked Questions <span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span></p>
    <p class="line874">These are questions that have been asked over the years, on IRC, mailing lists, and various other less official channels. <span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span></p>
    <p class="line867"></p>
    <div class="table-of-contents">
     <p class="table-of-contents-heading">Contents</p>
     <ol>
      <li> <a href="#Background">Background</a>
       <ol>
        <li> <a href="#What_is_Apache.3F">What is Apache?</a></li>
        <li> <a href="#How_and_why_was_Apache_HTTP_Server_created.3F">How and why was Apache HTTP Server created?</a></li>
        <li> <a href="#Why_the_name_.22Apache.22.3F">Why the name "Apache"?</a></li>
        <li> <a href="#How_does_Apache_httpd_performance_compare_to_other_servers.3F">How does Apache httpd performance compare to other servers?</a></li>
        <li> <a href="#How_thoroughly_tested_is_Apache_httpd.3F">How thoroughly tested is Apache httpd?</a></li>
        <li> <a href="#What_are_the_future_plans_for_Apache_httpd.3F">What are the future plans for Apache httpd?</a></li>
        <li> <a href="#Whom_do_I_contact_for_support.3F">Whom do I contact for support?</a></li>
        <li> <a href="#Is_there_any_more_information_available_on_Apache_httpd.3F">Is there any more information available on Apache httpd?</a></li>
        <li> <a href="#Where_can_I_get_Apache_httpd.3F">Where can I get Apache httpd?</a></li>
        <li> <a href="#Why_isn.27t_there_a_current_binary_for_my_platform.3F">Why isn't there a current binary for my platform?</a></li>
        <li> <a href="#May_I_use_the_Apache_logo_on_my_product_or_Web_site.3F">May I use the Apache logo on my product or Web site?</a></li>
       </ol></li>
      <li> <a href="#General_Technical_Questions">General Technical Questions</a>
       <ol>
        <li> <a href="#A.22Why_can.27t_I_....3F_Why_won.27t_..._work.3F.22_What_to_do_in_case_of_problems">"Why can't I ...? Why won't ... work?" What to do in case of problems</a></li>
        <li> <a href="#How_do_I_submit_a_patch_to_Apache_httpd.3F">How do I submit a patch to Apache httpd?</a></li>
        <li> <a href="#Why_has_Apache_stolen_my_favourite_site.27s_Internet_address.3F">Why has Apache stolen my favourite site's Internet address?</a></li>
        <li> <a href="#Why_am_I_getting_spam_mail_from_the_Apache_site.3F">Why am I getting spam mail from the Apache site?</a></li>
        <li> <a href="#May_I_include_the_Apache_software_on_a_CD_or_other_package_I.27m_distributing.3F">May I include the Apache software on a CD or other package I'm distributing?</a></li>
        <li> <a href="#What.27s_the_best_hardware.2Foperating_system.2F..._How_do_I_get_the_most_out_of_my_Apache_Web_server.3F">What's the best hardware/operating system/... How do I get the most out of my Apache Web server?</a></li>
        <li> <a href="#What_are_.22regular_expressions.22.3F">What are "regular expressions"?</a></li>
       </ol></li>
      <li> <a href="#Building_Apache_httpd">Building Apache httpd</a>
       <ol>
        <li> <a href="#Why_do_I_get_an_error_about_an_undefined_reference_to_.22__inet_ntoa.22_or_other___inet_.2A_symbols.3F">Why do I get an error about an undefined reference to "__inet_ntoa" or other __inet_* symbols?</a></li>
        <li> <a href="#I_get_an_error_about_.22configure_failed_for_srclib.2Fapr.22">I get an error about "configure failed for srclib/apr"</a></li>
        <li> <a href="#Why_won.27t_Apache_compile_with_my_system.27s_cc.3F">Why won't Apache compile with my system's cc?</a></li>
        <li> <a href="#Why_do_I_get_complaints_about_redefinition_of_.22struct_iovec.22_when_compiling_under_Linux.3F">Why do I get complaints about redefinition of "struct iovec" when compiling under Linux?</a></li>
        <li> <a href="#I.27m_using_gcc_and_I_get_some_compilation_errors.2C_what_is_wrong.3F">I'm using gcc and I get some compilation errors, what is wrong?</a></li>
       </ol></li>
      <li> <a href="#Error_Log_Messages_and_Problems_Starting_Apache">Error Log Messages and Problems Starting Apache</a>
       <ol>
        <li> <a href="#Why_do_I_get_.22setgid:_Invalid_argument.22_at_startup.3F">Why do I get "setgid: Invalid argument" at startup?</a></li>
        <li> <a href="#Why_am_I_getting_.22httpd:_could_not_set_socket_option_TCP_NODELAY.22_in_my_error_log.3F">Why am I getting "httpd: could not set socket option TCP_NODELAY" in my error log?</a></li>
        <li> <a href="#Why_am_I_getting_.22connection_reset_by_peer.22_in_my_error_log.3F">Why am I getting "connection reset by peer" in my error log?</a></li>
        <li> <a href="#The_errorlog_says_Apache_dumped_core.2C_but_where.27s_the_dump_file.3F">The errorlog says Apache dumped core, but where's the dump file?</a></li>
        <li> <a href="#When_I_run_it_under_Linux_I_get_.22shmget:_function_not_found.22.2C_what_should_I_do.3F">When I run it under Linux I get "shmget: function not found", what should I do?</a></li>
        <li> <a href="#Server_hangs.2C_or_fails_to_start.2C_and.2For_error_log_fills_with_.22fcntl:_F_SETLKW:_No_record_locks_available.22_or_similar_messages">Server hangs, or fails to start, and/or error log fills with "fcntl: F_SETLKW: No record locks available" or similar messages</a></li>
        <li> <a href="#When_I_try_to_start_Apache_from_a_DOS_window.2C_I_get_a_message_like_.22Cannot_determine_host_name._Use_ServerName_directive_to_set_it_manually..22_What_does_this_mean.3F">When I try to start Apache from a DOS window, I get a message like "Cannot determine host name. Use ServerName directive to set it manually." What does this mean?</a></li>
        <li> <a href="#When_I_try_to_start_Apache_on_Windows.2C_I_get_a_message_like_.22System_error_1067_has_occurred._The_process_terminated_unexpectedly..22_What_does_this_mean.3F">When I try to start Apache on Windows, I get a message like "System error 1067 has occurred. The process terminated unexpectedly." What does this mean?</a></li>
        <li> <a href="#On_a_SuSE_Linux_system.2C_I_try_and_configure_access_control_using_basic_authentication._Although_I_follow_the_example_exactly.2C_authentication_fails.2C_and_an_error_message_.22admin:_not_a_valid_FDN:_.....22_is_logged.">On a SuSE Linux system, I try and configure access control using basic authentication. Although I follow the example exactly, authentication fails, and an error message "admin: not a valid FDN: ...." is logged.</a></li>
        <li> <a href="#Why_am_I_getting_server_restart_messages_periodically.2C_when_I_did_not_restart_the_server.3F">Why am I getting server restart messages periodically, when I did not restart the server?</a></li>
        <li> <a href="#Why_am_I_getting_.22module_module-name_is_not_compatible_with_this_version_of_Apache.22_messages_in_my_error_log.3F">Why am I getting "module module-name is not compatible with this version of Apache" messages in my error log?</a></li>
        <li> <a href="#I.27ve_downloaded_a_module_from_a_source_I_trust.2C_but_my_LoadModule_line_is_a_syntax_error.3F">I've downloaded a module from a source I trust, but my LoadModule line is a syntax error?</a></li>
       </ol></li>
      <li> <a href="#Configuration_Questions">Configuration Questions</a>
       <ol>
        <li> <a href="#Why_can.27t_I_run_more_than_.3Cn.3E_virtual_hosts.3F">Why can't I run more than &lt;n&gt; virtual hosts?</a></li>
        <li> <a href="#Why_doesn.27t_my_ErrorDocument_401_work.3F">Why doesn't my ErrorDocument 401 work?</a></li>
        <li> <a href="#Why_does_Apache_send_a_cookie_on_every_response.3F">Why does Apache send a cookie on every response?</a></li>
        <li> <a href="#Why_don.27t_my_cookies_work.3F">Why don't my cookies work?</a></li>
        <li> <a href="#How_do_I_add_browsers_and_referrers_to_my_logs.3F">How do I add browsers and referrers to my logs?</a></li>
        <li> <a href="#Why_does_accessing_directories_only_work_when_I_include_the_trailing_.22.2F.22_.28e.g..2C_http:.2F.2Ffoo.domain.com.2F.2BAH4-user.2F.29_but_not_when_I_omit_it_.28e.g..2C_http:.2F.2Ffoo.domain.com.2F.2BAH4-user.29.3F">Why does accessing directories only work when I include the trailing "/" (e.g., http://foo.domain.com/~user/) but not when I omit it (e.g., http://foo.domain.com/~user)?</a></li>
        <li> <a href="#Why_doesn.27t_mod_info_list_any_directives.3F">Why doesn't mod_info list any directives?</a></li>
        <li> <a href="#My_.htaccess_files_are_being_ignored.">My .htaccess files are being ignored.</a></li>
        <li> <a href="#Why_do_I_get_a_.22Forbidden.22_message_whenever_I_try_to_access_a_particular_directory.3F">Why do I get a "Forbidden" message whenever I try to access a particular directory?</a></li>
        <li> <a href="#Why_do_my_files_appear_correctly_in_Internet_Explorer.2C_but_show_up_as_source_or_trigger_a_save_window_with_Netscape.3B_or.2C_Why_doesn.27t_Internet_Explorer_render_my_text.2Fplain_document_correctly.3F">Why do my files appear correctly in Internet Explorer, but show up as source or trigger a save window with Netscape; or, Why doesn't Internet Explorer render my text/plain document correctly?</a></li>
        <li> <a href="#My_site_is_accessible_under_many_different_hostnames.3B_how_do_I_redirect_clients_so_that_they_see_only_a_single_name.3F">My site is accessible under many different hostnames; how do I redirect clients so that they see only a single name?</a>
         <ol>
          <li> <a href="#Use_mod_rewrite_as_described_in_the_.22Canonical_Hostnames.22_section_of_the_URL_Rewriting_Guide.">Use mod_rewrite as described in the "Canonical Hostnames" section of the URL Rewriting Guide.</a></li>
          <li> <a href="#Use_name-based_virtual_hosting:">Use name-based virtual hosting:</a></li>
         </ol></li>
        <li> <a href="#Why_can_I_access_my_website_from_the_server_or_from_my_local_network.2C_but_I_can.27t_access_it_from_elsewhere_on_the_Internet.3F">Why can I access my website from the server or from my local network, but I can't access it from elsewhere on the Internet?</a></li>
        <li> <a href="#How_do_I_turn_automatic_directory_listings_on_or_off.3F">How do I turn automatic directory listings on or off?</a></li>
        <li> <a href="#Why_do_my_Options_directives_not_have_the_desired_effect.3F">Why do my Options directives not have the desired effect?</a></li>
        <li> <a href="#How_can_I_change_the_information_that_Apache_returns_about_itself_in_the_headers.3F">How can I change the information that Apache returns about itself in the headers?</a></li>
        <li> <a href="#Why_do_I_see_requests_for_other_sites_appearing_in_my_log_files.3F">Why do I see requests for other sites appearing in my log files?</a></li>
       </ol></li>
      <li> <a href="#Dynamic_Content_.28CGI_and_SSI.29">Dynamic Content (CGI and SSI)</a>
       <ol>
        <li> <a href="#How_do_I_enable_CGI_execution_in_directories_other_than_the_ScriptAlias.3F">How do I enable CGI execution in directories other than the ScriptAlias?</a></li>
        <li> <a href="#What_does_it_mean_when_my_CGIs_fail_with_.22Premature_end_of_script_headers.22.3F">What does it mean when my CGIs fail with "Premature end of script headers"?</a></li>
        <li> <a href="#Why_do_I_keep_getting_.22Method_Not_Allowed.22_for_form_POST_requests.3F">Why do I keep getting "Method Not Allowed" for form POST requests?</a></li>
        <li> <a href="#How_do_I_enable_SSI_.28parsed_HTML.29.3F">How do I enable SSI (parsed HTML)?</a></li>
        <li> <a href="#Why_don.27t_my_parsed_files_get_cached.3F">Why don't my parsed files get cached?</a></li>
        <li> <a href="#How_can_I_have_my_script_output_parsed.3F">How can I have my script output parsed?</a></li>
        <li> <a href="#SSIs_don.27t_work_for_VirtualHosts_and.2For_user_home_directories.">SSIs don't work for VirtualHosts and/or user home directories.</a></li>
        <li> <a href="#Why_is_the_environment_variable_REMOTE_USER_not_set.3F">Why is the environment variable REMOTE_USER not set?</a></li>
        <li> <a href="#How_do_I_allow_each_of_my_user_directories_to_have_a_cgi-bin_directory.3F">How do I allow each of my user directories to have a cgi-bin directory?</a></li>
       </ol></li>
      <li> <a href="#Authentication_and_Access_Restrictions">Authentication and Access Restrictions</a>
       <ol>
        <li> <a href="#Why_isn.27t_restricting_access_by_host_or_domain_name_working_correctly.3F">Why isn't restricting access by host or domain name working correctly?</a></li>
        <li> <a href="#How_do_I_set_up_Apache_to_require_a_username_and_password_to_access_certain_documents.3F">How do I set up Apache to require a username and password to access certain documents?</a></li>
        <li> <a href="#How_do_I_set_up_Apache_to_allow_access_to_certain_documents_only_if_a_site_is_either_a_local_site_or_the_user_supplies_a_password_and_username.3F">How do I set up Apache to allow access to certain documents only if a site is either a local site or the user supplies a password and username?</a></li>
        <li> <a href="#Why_does_my_authentication_give_me_a_server_error.3F">Why does my authentication give me a server error?</a></li>
        <li> <a href="#Do_I_have_to_keep_the_.28SQL.29_authentication_information_on_the_same_machine.3F">Do I have to keep the (SQL) authentication information on the same machine?</a></li>
        <li> <a href="#Can_I_use_my_.2Fetc.2Fpasswd_file_for_Web_page_authentication.3F">Can I use my /etc/passwd file for Web page authentication?</a></li>
        <li> <a href="#Why_does_Apache_ask_for_my_password_twice_before_serving_a_file.3F">Why does Apache ask for my password twice before serving a file?</a></li>
        <li> <a href="#How_can_I_prevent_people_from_.22stealing.22_the_images_from_my_web_site.3F">How can I prevent people from "stealing" the images from my web site?</a></li>
       </ol></li>
      <li> <a href="#URL_Rewriting">URL Rewriting</a>
       <ol>
        <li> <a href="#Where_can_I_find_mod_rewrite_rulesets_which_already_solve_particular_URL-related_problems.3F">Where can I find mod_rewrite rulesets which already solve particular URL-related problems?</a></li>
        <li> <a href="#Where_can_I_find_any_published_information_about_URL-manipulations_and_mod_rewrite.3F">Where can I find any published information about URL-manipulations and mod_rewrite?</a></li>
        <li> <a href="#Why_is_mod_rewrite_so_difficult_to_learn_and_seems_so_complicated.3F">Why is mod_rewrite so difficult to learn and seems so complicated?</a></li>
        <li> <a href="#What_can_I_do_if_my_RewriteRules_don.27t_work_as_expected.3F">What can I do if my RewriteRules don't work as expected?</a></li>
        <li> <a href="#Why_don.27t_some_of_my_URLs_get_prefixed_with_DocumentRoot_when_using_mod_rewrite.3F">Why don't some of my URLs get prefixed with DocumentRoot when using mod_rewrite?</a></li>
        <li> <a href="#How_can_I_make_all_my_URLs_case-insensitive_with_mod_rewrite.3F">How can I make all my URLs case-insensitive with mod_rewrite?</a></li>
        <li> <a href="#Why_are_RewriteRules_in_my_VirtualHost_parts_ignored.3F">Why are RewriteRules in my VirtualHost parts ignored?</a></li>
        <li> <a href="#How_can_I_use_strings_with_whitespaces_in_RewriteRule.27s_ENV_flag.3F">How can I use strings with whitespaces in RewriteRule's ENV flag?</a></li>
       </ol></li>
      <li> <a href="#Features">Features</a>
       <ol>
        <li> <a href="#Does_or_will_Apache_act_as_a_Proxy_server.3F">Does or will Apache act as a Proxy server?</a></li>
        <li> <a href="#What_are_.22multiviews.22.3F">What are "multiviews"?</a></li>
        <li> <a href="#Why_can.27t_I_publish_to_my_Apache_server_using_PUT_on_Netscape_Gold_and_other_programs.3F">Why can't I publish to my Apache server using PUT on Netscape Gold and other programs?</a></li>
        <li> <a href="#How_can_I_attach_a_footer_to_my_documents_without_using_SSI.3F">How can I attach a footer to my documents without using SSI?</a></li>
        <li> <a href="#Does_Apache_include_a_search_engine.3F">Does Apache include a search engine?</a></li>
        <li> <a href="#How_can_I_rotate_my_log_files.3F">How can I rotate my log files?</a></li>
        <li> <a href="#How_do_I_keep_certain_requests_from_appearing_in_my_logs.3F">How do I keep certain requests from appearing in my logs?</a></li>
        <li> <a href="#Does_Apache_support_any_sort_of_database_integration.3F">Does Apache support any sort of database integration?</a></li>
        <li> <a href="#Can_I_use_Active_Server_Pages_.28ASP.29_with_Apache.3F">Can I use Active Server Pages (ASP) with Apache?</a></li>
        <li> <a href="#Does_Apache_come_with_Java_support.3F">Does Apache come with Java support?</a></li>
       </ol></li>
     </ol>
    </div> 
    <span class="anchor" id="line-6"></span>
    <span class="anchor" id="line-7"></span>
    <p class="line867"> </p>
    <h1 id="Background">Background</h1> 
    <span class="anchor" id="line-8"></span>
    <p class="line867"> </p>
    <h2 id="What_is_Apache.3F">What is Apache?</h2> 
    <span class="anchor" id="line-9"></span>
    <p class="line874">The Apache HTTP Server <span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span></p>
    <ul>
     <li>is a powerful, flexible, HTTP/1.1 compliant web server <span class="anchor" id="line-12"></span></li>
     <li>implements the latest protocols, including HTTP/1.1 (RFC2616) <span class="anchor" id="line-13"></span></li>
     <li>is highly configurable and extensible with third-party modules <span class="anchor" id="line-14"></span></li>
     <li>can be customised by writing 'modules' using the Apache module API <span class="anchor" id="line-15"></span></li>
     <li>provides full source code and comes with an unrestrictive license <span class="anchor" id="line-16"></span></li>
     <li>runs on Windows 2000, Netware 5.x and above, OS/2, and most versions of Unix, as well as several other operating systems <span class="anchor" id="line-17"></span></li>
     <li>is actively being developed <span class="anchor" id="line-18"></span></li>
     <li>encourages user feedback through new ideas, bug reports and patches <span class="anchor" id="line-19"></span></li>
     <li>implements many frequently requested features, including: <span class="anchor" id="line-20"></span>
      <ul>
       <li>DBM databases as well, as relational databases and LDAP for authentication <span class="anchor" id="line-21"></span></li>
       <li>allows you to easily set up password-protected pages with enormous numbers of authorized users, without bogging down the server. <span class="anchor" id="line-22"></span></li>
       <li>Customized responses to errors and problems <span class="anchor" id="line-23"></span></li>
       <li>Allows you to set up files, or even CGI scripts, which are returned by the server in response to errors and problems, e.g. setup a script to intercept 500 Server Errors and perform on-the-fly diagnostics for both users and yourself. <span class="anchor" id="line-24"></span></li>
       <li><p class="line862">Multiple <a class="nonexistent" href="/httpd/DirectoryIndex">DirectoryIndex</a> directives - Allows you to say <a class="nonexistent" href="/httpd/DirectoryIndex">DirectoryIndex</a> index.html index.cgi, which instructs the server to either send back index.html or run index.cgi when a directory URL is requested, whichever it finds in the directory. <span class="anchor" id="line-25"></span></p></li>
       <li>Unlimited flexible URL rewriting and aliasing - Apache has no fixed limit on the numbers of Aliases and Redirects which may be declared in the config files. In addition, a powerful rewriting engine can be used to solve most URL manipulation problems. <span class="anchor" id="line-26"></span></li>
       <li>Content negotiation - i.e. the ability to automatically serve clients of varying sophistication and HTML level compliance, with documents which offer the best representation of information that the client is capable of accepting. <span class="anchor" id="line-27"></span></li>
       <li>Virtual Hosts - Allows the server to distinguish between requests made to different IP addresses or names (mapped to the same machine). Apache also offers dynamically configurable mass-virtual hosting. <span class="anchor" id="line-28"></span></li>
       <li>Configurable Reliable Piped Logs - You can configure Apache to generate logs in the format that you want. In addition, on most Unix architectures, Apache can send log files to a pipe, allowing for log rotation, hit filtering, real-time splitting of multiple vhosts into separate logs, and asynchronous DNS resolving on the fly. <span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span></li>
      </ul></li>
    </ul>
    <p class="line867"> </p>
    <h2 id="How_and_why_was_Apache_HTTP_Server_created.3F">How and why was Apache HTTP Server created?</h2> 
    <span class="anchor" id="line-31"></span>
    <p class="line862">The <a class="http" href="http://httpd.apache.org/ABOUT_APACHE.html">About Apache document</a> explains how the Apache project evolved from its beginnings as an outgrowth of the NCSA httpd project to its current status as one of the fastest, most efficient, and most functional web servers in existence. <span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_the_name_.22Apache.22.3F">Why the name "Apache"?</h2> 
    <span class="anchor" id="line-34"></span>
    <p class="line862">The name 'Apache' was chosen from respect for the Native American Indian tribe of Apache (Indé), well-known for their superior skills in warfare strategy and their inexhaustible endurance. For more information on the Apache Nation, we suggest searching Google, or <a class="nonexistent" href="/httpd/AllTheWeb">AllTheWeb</a>. <span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span></p>
    <p class="line874">Secondarily, and more popularly (though incorrectly) accepted, it's a considered cute name which stuck. Apache is "A PAtCHy server". It was based on some existing code and a series of "patch files". <span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span></p>
    <p class="line874">These days Apache as such means much more. It's first and foremost the Apache Software Foundation, under which there are dozens of projects. <span class="anchor" id="line-39"></span><span class="anchor" id="line-40"></span></p>
    <p class="line867"> </p>
    <h2 id="How_does_Apache_httpd_performance_compare_to_other_servers.3F">How does Apache httpd performance compare to other servers?</h2> 
    <span class="anchor" id="line-41"></span>
    <p class="line874">Benchmarks tend to be a measure of configuration competance, rather than of server quality. That is, if you're an expert in IIS, you can probably get it to run faster than you can get Apache to run. You can therefore find comparisions of various HTTP servers that prove that each is faster than all the others. We tend to take server performance benchmarks with a grain of salt. <span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span></p>
    <p class="line867"> </p>
    <h2 id="How_thoroughly_tested_is_Apache_httpd.3F">How thoroughly tested is Apache httpd?</h2> 
    <span class="anchor" id="line-44"></span>
    <p class="line862">Apache is run on over 120 million Internet servers (as of April 2010) (Source, <a class="http" href="http://news.netcraft.com/archives/category/web-server-survey/">Netcraft</a>). It has been tested thoroughly by both developers and users. The Apache HTTP Server Project Management Committee maintains rigorous standards before releasing new versions of their server, and our server runs without a hitch on over one half of all WWW servers available on the Internet. When bugs do show up, we release patches and new versions as soon as they are available. <span class="anchor" id="line-45"></span><span class="anchor" id="line-46"></span></p>
    <p class="line867"> </p>
    <h2 id="What_are_the_future_plans_for_Apache_httpd.3F">What are the future plans for Apache httpd?</h2> 
    <span class="anchor" id="line-47"></span>
    <ul>
     <li>to continue to be an "open source" no-charge-for-use HTTP server, <span class="anchor" id="line-48"></span></li>
     <li>to keep up with advances in HTTP protocol and web developments in general, <span class="anchor" id="line-49"></span></li>
     <li>to collect suggestions for fixes/improvements from its users, <span class="anchor" id="line-50"></span></li>
     <li>to respond to needs of large volume providers as well as occasional users. <span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span></li>
    </ul>
    <p class="line867"> </p>
    <h2 id="Whom_do_I_contact_for_support.3F">Whom do I contact for support?</h2> 
    <span class="anchor" id="line-53"></span>
    <p class="line862">See <a class="http" href="http://httpd.apache.org/support.html">http://httpd.apache.org/support.html</a>. <span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span></p>
    <p class="line867"> </p>
    <h2 id="Is_there_any_more_information_available_on_Apache_httpd.3F">Is there any more information available on Apache httpd?</h2> 
    <span class="anchor" id="line-56"></span>
    <p class="line862">Indeed there is. See the <a class="http" href="http://httpd.apache.org">main Apache web server site</a>. There are also many books about the Apache HTTP Server available. <span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span></p>
    <p class="line867"> </p>
    <h2 id="Where_can_I_get_Apache_httpd.3F">Where can I get Apache httpd?</h2> 
    <span class="anchor" id="line-59"></span>
    <p class="line862">You can find out how to download the source for Apache at the <a class="http" href="http://httpd.apache.org">main Apache web server site</a>. <span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_isn.27t_there_a_current_binary_for_my_platform.3F">Why isn't there a current binary for my platform?</h2> 
    <span class="anchor" id="line-62"></span>
    <p class="line862">The occasional availability of binaries for one platform or another at <a class="http" href="http://httpd.apache.org/dist/httpd/binaries/">http://httpd.apache.org/dist/httpd/binaries/</a> has been a source of confusion for the user community, particularly the large subset which uses the Windows platform and is not able to build httpd and prerequisites themselves. <span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span></p>
    <p class="line874">Producing binaries for general use is not part of the httpd release process. By policy the group does not formally release binaries and is in no position to ensure their consistent availability. (No mechanisms exist to review, test, and approve them -- we can only formally release source). <span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span></p>
    <p class="line874">If you are unable to build a binary for your platform, consult the Users mailing list for recommendations. <span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span></p>
    <p class="line862">Some sources for Windows binaries are documented at <a class="http" href="http://httpd.apache.org/docs/current/platform/windows.html#down">Using Apache HTTP Server on Microsoft Windows</a>. <span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span></p>
    <p class="line867"> </p>
    <h2 id="May_I_use_the_Apache_logo_on_my_product_or_Web_site.3F">May I use the Apache logo on my product or Web site?</h2> 
    <span class="anchor" id="line-71"></span>
    <p class="line862">You may NOT use any original artwork from the Apache Software Foundation, nor make or use modified versions of such artwork, except under the conditions in the <a class="http" href="http://www.apache.org/foundation/marks/">Apache Trademark Policy</a> document. <span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span></p>
    <p class="line867"> </p>
    <h1 id="General_Technical_Questions">General Technical Questions</h1> 
    <span class="anchor" id="line-74"></span>
    <p class="line867"> </p>
    <h2 id="A.22Why_can.27t_I_....3F_Why_won.27t_..._work.3F.22_What_to_do_in_case_of_problems">"Why can't I ...? Why won't ... work?" What to do in case of problems</h2> 
    <span class="anchor" id="line-75"></span>
    <p class="line874">If you are having trouble with your Apache server software, you should take the following steps: <span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span></p>
    <dl>
     <dt>
      Check the errorlog!
     </dt>
     <dd>
      <p class="line862">Apache tries to be helpful when it encounters a problem. In many cases, it will provide some details by writing one or messages to the server error log. Sometimes this is enough for you to diagnose &amp; fix the problem yourself (such as file permissions or the like). The default location of the error log is /usr/local/apache/logs/error_log, but see the <a class="nonexistent" href="/httpd/ErrorLog">ErrorLog</a> directive in your config files for the location on your server. <span class="anchor" id="line-78"></span></p>
     </dd>
     <dt>
      Check the FAQ!
     </dt>
     <dd>
      You're already here. 
      <span class="anchor" id="line-79"></span>
     </dd>
     <dt>
      Check the Apache bug database
     </dt>
     <dd>
      Most problems that get reported to The Apache Group are recorded in the bug database. Please check the existing reports, open and closed, before adding one. If you find that your issue has already been reported, please don't add a "me, too" report. If the original report isn't closed yet, we suggest that you check it periodically. You might also consider contacting the original submitter, because there may be an email exchange going on about the issue that isn't getting recorded in the database. 
      <span class="anchor" id="line-80"></span>
     </dd>
     <dt>
      Ask in a user support group
     </dt>
     <dd>
      <p class="line862">A lot of common problems never make it to the bug database because there's already high Q&amp;A traffic about them in the Users mailing list or comp.infosystems.www.servers.unix and related newsgroups. These newsgroups are also available via Google. Many Apache users, and some of the developers, can be found roaming their virtual halls, so it is suggested that you seek wisdom there. The chances are good that you'll get a faster answer there than from the bug database, even if you don't see your question already posted. <span class="anchor" id="line-81"></span></p>
     </dd>
     <dt>
      If all else fails, report the problem in the bug database
     </dt>
     <dd>
      If you've gone through those steps above that are appropriate and have obtained no relief, then please do let The Apache Group know about the problem by logging a bug report. 
      <span class="anchor" id="line-82"></span>
      <span class="anchor" id="line-83"></span>
     </dd>
    </dl>
    <p class="line874">If your problem involves the server crashing and generating a core dump, please include a backtrace (if possible). As an example, <span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span></p>
    <ul>
     <li style="list-style-type:none"><span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span><span class="anchor" id="line-89"></span><pre><span class="anchor" id="line-1"></span># cd ServerRoot
<span class="anchor" id="line-2"></span># dbx httpd core
<span class="anchor" id="line-3"></span>(dbx) where</pre><span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span></li>
    </ul>
    <p class="line862">(Substitute the appropriate locations for your <a class="nonexistent" href="/httpd/ServerRoot">ServerRoot</a> and your httpd and core files. You may have to use gdb instead of dbx.) <span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span></p>
    <p class="line867"> </p>
    <h2 id="How_do_I_submit_a_patch_to_Apache_httpd.3F">How do I submit a patch to Apache httpd?</h2> 
    <span class="anchor" id="line-94"></span>
    <p class="line862">Detailed information for submitting bug reports and patches may be found in the <a class="http" href="http://httpd.apache.org/dev/">Apache HTTP Server developer documentation</a>. <span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_has_Apache_stolen_my_favourite_site.27s_Internet_address.3F">Why has Apache stolen my favourite site's Internet address?</h2> 
    <span class="anchor" id="line-97"></span>
    <p class="line874">The simple answer is: "It hasn't." This misconception is usually caused by the site in question having migrated to the Apache Web server software, but not having migrated the site's content yet. When Apache is installed, the default page that gets installed tells the Webmaster the installation was successful. The expectation is that this default page will be replaced with the site's real content. If it doesn't, complain to the Webmaster, not to the Apache project -- we just make the software and aren't responsible for what people do (or don't do) with it. <span class="anchor" id="line-98"></span><span class="anchor" id="line-99"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_am_I_getting_spam_mail_from_the_Apache_site.3F">Why am I getting spam mail from the Apache site?</h2> 
    <span class="anchor" id="line-100"></span>
    <p class="line874">The short answer is: "You aren't." Usually when someone thinks the Apache site is originating spam, it's because they've traced the spam to a Web site, and the Web site says it's using Apache. See the previous FAQ entry for more details on this phenomenon. <span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span></p>
    <p class="line874">No marketing spam originates from the Apache site. The only mail that comes from the site goes only to addresses that have been requested to receive the mail. <span class="anchor" id="line-103"></span><span class="anchor" id="line-104"></span></p>
    <p class="line867"> </p>
    <h2 id="May_I_include_the_Apache_software_on_a_CD_or_other_package_I.27m_distributing.3F">May I include the Apache software on a CD or other package I'm distributing?</h2> 
    <span class="anchor" id="line-105"></span>
    <p class="line862">The detailed answer to this question can be found in the Apache license, which is included in the Apache distribution in the file LICENSE. You can also find it on the Web at <a class="http" href="http://www.apache.org/licenses/">http://www.apache.org/licenses/</a>. <span class="anchor" id="line-106"></span><span class="anchor" id="line-107"></span></p>
    <p class="line867"> </p>
    <h2 id="What.27s_the_best_hardware.2Foperating_system.2F..._How_do_I_get_the_most_out_of_my_Apache_Web_server.3F">What's the best hardware/operating system/... How do I get the most out of my Apache Web server?</h2> 
    <span class="anchor" id="line-108"></span>
    <p class="line862">Check out the <a class="http" href="http://httpd.apache.org/docs/current/misc/perf-tuning.html">performance tuning page</a>. <span class="anchor" id="line-109"></span><span class="anchor" id="line-110"></span></p>
    <p class="line867"> </p>
    <h2 id="What_are_.22regular_expressions.22.3F">What are "regular expressions"?</h2> 
    <span class="anchor" id="line-111"></span>
    <p class="line862">Regular expressions are a way of describing a pattern - for example, "all the words that begin with the letter A" or "every 10-digit phone number" or even "Every sentence with two commas in it, and no capital letter Q". Regular expressions (aka "regex"s) are useful in Apache because they let you apply certain attributes against collections of files or resources in very flexible ways - for example, all .gif and .jpg files under any "images" directory could be written as <tt class="backtick">/images/.*(jpg|gif)$</tt>. Note that httpd doesn't need the delimiting <tt class="backtick">//</tt> so as to avoid "toothpicks" when matching URIs or paths, like: <tt class="backtick">/\/foo\/bar\/?/</tt> <span class="anchor" id="line-112"></span><span class="anchor" id="line-113"></span></p>
    <p class="line862">The best overview around is probably the <a class="http" href="http://perldoc.perl.org/perlre.html">one which comes with Perl</a>. Apache's regular expressions use <a class="http" href="http://www.pcre.org/">PCRE - Perl Compatible Regular Expressions</a>. <span class="anchor" id="line-114"></span><span class="anchor" id="line-115"></span></p>
    <p class="line867"> </p>
    <h1 id="Building_Apache_httpd">Building Apache httpd</h1> 
    <span class="anchor" id="line-116"></span>
    <p class="line867"> </p>
    <h2 id="Why_do_I_get_an_error_about_an_undefined_reference_to_.22__inet_ntoa.22_or_other___inet_.2A_symbols.3F">Why do I get an error about an undefined reference to "__inet_ntoa" or other __inet_* symbols?</h2> 
    <span class="anchor" id="line-117"></span>
    <p class="line874">If you have installed BIND-8 then this is normally due to a conflict between your include files and your libraries. BIND-8 installs its include files and libraries /usr/local/include/ and /usr/local/lib/, while the resolver that comes with your system is probably installed in /usr/include/ and /usr/lib/. If your system uses the header files in /usr/local/include/ before those in /usr/include/ but you do not use the new resolver library, then the two versions will conflict. <span class="anchor" id="line-118"></span><span class="anchor" id="line-119"></span></p>
    <p class="line874">To resolve this, you can either make sure you use the include files and libraries that came with your system or make sure to use the new include files and libraries. Adding -lbind to the EXTRA_LDFLAGS line in your Configuration file, then re-running Configure, should resolve the problem. (Apache versions 1.2.* and earlier use EXTRA_LFLAGS instead.) <span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span></p>
    <p class="line867">Note:As of BIND 8.1.1, the bind libraries and files are installed under /usr/local/bind by default, so you should not run into this problem. Should you want to use the bind resolvers you'll have to add the following to the respective lines: <span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span></p>
    <p class="line874">EXTRA_CFLAGS=-I/usr/local/bind/include EXTRA_LDFLAGS=-L/usr/local/bind/lib EXTRA_LIBS=-lbind <span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span></p>
    <p class="line867"> </p>
    <h2 id="I_get_an_error_about_.22configure_failed_for_srclib.2Fapr.22">I get an error about "configure failed for srclib/apr"</h2> 
    <span class="anchor" id="line-126"></span>
    <p class="line867"><em>This only applies to Apache 2.4 and later</em> <span class="anchor" id="line-127"></span><span class="anchor" id="line-128"></span></p>
    <p class="line874">If you are building with the --with-included-apr option, you also need to download the *-deps tarball that matches the main release that you are trying to build, and extract it into the same directory. <span class="anchor" id="line-129"></span><span class="anchor" id="line-130"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_won.27t_Apache_compile_with_my_system.27s_cc.3F">Why won't Apache compile with my system's cc?</h2> 
    <span class="anchor" id="line-131"></span>
    <p class="line874">If the server won't compile on your system, it is probably due to one of the following causes: <span class="anchor" id="line-132"></span><span class="anchor" id="line-133"></span></p>
    <dl>
     <dt>
      The Configure script doesn't recognize your system environment.
     </dt>
     <dd>
      This might be either because it's completely unknown or because the specific environment (include files, OS version, et cetera) isn't explicitly handled. If this happens, you may need to port the server to your OS yourself. 
      <span class="anchor" id="line-134"></span>
     </dd>
     <dt>
      Your system's C compiler is garbage.
     </dt>
     <dd>
      Some operating systems include a default C compiler that is either not ANSI C-compliant or suffers from other deficiencies. The usual recommendation in cases like this is to acquire, install, and use gcc. 
      <span class="anchor" id="line-135"></span>
     </dd>
     <dt>
      Your include files may be confused.
     </dt>
     <dd>
      In some cases, we have found that a compiler installation or system upgrade has left the C header files in an inconsistent state. Make sure that your include directory tree is in sync with the compiler and the operating system. 
      <span class="anchor" id="line-136"></span>
     </dd>
     <dt>
      Your operating system or compiler may be out of revision.
     </dt>
     <dd>
      Software vendors (including those that develop operating systems) issue new releases for a reason; sometimes to add functionality, but more often to fix bugs that have been discovered. Try upgrading your compiler and/or your operating system. 
      <span class="anchor" id="line-137"></span>
      <span class="anchor" id="line-138"></span>
     </dd>
    </dl>
    <p class="line862">The Apache Group tests the ability to build the server on many different platforms. Unfortunately, we can't test all of the OS platforms there are. If you have verified that none of the above issues is the cause of your problem, and it hasn't been reported before, please submit a problem report. Be sure to include complete details, such as the compiler &amp; OS versions and exact error messages. <span class="anchor" id="line-139"></span><span class="anchor" id="line-140"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_do_I_get_complaints_about_redefinition_of_.22struct_iovec.22_when_compiling_under_Linux.3F">Why do I get complaints about redefinition of "struct iovec" when compiling under Linux?</h2> 
    <span class="anchor" id="line-141"></span>
    <p class="line874">This is a conflict between your C library includes and your kernel includes. You need to make sure that the versions of both are matched properly. There are two workarounds, either one will solve the problem: <span class="anchor" id="line-142"></span><span class="anchor" id="line-143"></span></p>
    <p class="line874">Remove the definition of struct iovec from your C library includes. It is located in /usr/include/sys/uio.h. Or, Add -DNO_WRITEV to the EXTRA_CFLAGS line in your Configuration and reconfigure/rebuild. This hurts performance and should only be used as a last resort. <span class="anchor" id="line-144"></span><span class="anchor" id="line-145"></span></p>
    <p class="line867"> </p>
    <h2 id="I.27m_using_gcc_and_I_get_some_compilation_errors.2C_what_is_wrong.3F">I'm using gcc and I get some compilation errors, what is wrong?</h2> 
    <span class="anchor" id="line-146"></span>
    <p class="line874">GCC parses your system header files and produces a modified subset which it uses for compiling. This behavior ties GCC tightly to the version of your operating system. So, for example, if you were running IRIX 5.3 when you built GCC and then upgrade to IRIX 6.2 later, you will have to rebuild GCC. Similarly for Solaris 2.4, 2.5, or 2.5.1 when you upgrade to 2.6. Sometimes you can type "gcc -v" and it will tell you the version of the operating system it was built against. <span class="anchor" id="line-147"></span><span class="anchor" id="line-148"></span></p>
    <p class="line874">If you fail to do this, then it is very likely that Apache will fail to build. One of the most common errors is with readv, writev, or uio.h. This is not a bug with Apache. You will need to re-install GCC. <span class="anchor" id="line-149"></span><span class="anchor" id="line-150"></span></p>
    <p class="line867"> </p>
    <h1 id="Error_Log_Messages_and_Problems_Starting_Apache">Error Log Messages and Problems Starting Apache</h1> 
    <span class="anchor" id="line-151"></span>
    <p class="line867"> </p>
    <h2 id="Why_do_I_get_.22setgid:_Invalid_argument.22_at_startup.3F">Why do I get "setgid: Invalid argument" at startup?</h2> 
    <span class="anchor" id="line-152"></span>
    <p class="line874">Your Group directive (probably in conf/httpd.conf) needs to name a group that actually exists in the /etc/group file (or your system's equivalent). This problem is also frequently seen when a negative number is used in the Group directive (e.g., "Group #-1"). Using a group name -- not group number -- found in your system's group database should solve this problem in all cases. <span class="anchor" id="line-153"></span><span class="anchor" id="line-154"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_am_I_getting_.22httpd:_could_not_set_socket_option_TCP_NODELAY.22_in_my_error_log.3F">Why am I getting "httpd: could not set socket option TCP_NODELAY" in my error log?</h2> 
    <span class="anchor" id="line-155"></span>
    <p class="line874">This message almost always indicates that the client disconnected before Apache reached the point of calling setsockopt() for the connection. It shouldn't occur for more than about 1% of the requests your server handles, and it's advisory only in any case. <span class="anchor" id="line-156"></span><span class="anchor" id="line-157"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_am_I_getting_.22connection_reset_by_peer.22_in_my_error_log.3F">Why am I getting "connection reset by peer" in my error log?</h2> 
    <span class="anchor" id="line-158"></span>
    <p class="line874">This is a normal message and nothing about which to be alarmed. It simply means that the client canceled the connection before it had been completely set up - such as by the end-user pressing the "Stop" button. People's patience being what it is, sites with response-time problems or slow network links may experience this more than high capacity ones or those with large pipes to the network. <span class="anchor" id="line-159"></span><span class="anchor" id="line-160"></span></p>
    <p class="line867"> </p>
    <h2 id="The_errorlog_says_Apache_dumped_core.2C_but_where.27s_the_dump_file.3F">The errorlog says Apache dumped core, but where's the dump file?</h2> 
    <span class="anchor" id="line-161"></span>
    <p class="line862">The error log message about dumped core includes the directory where the dump file <em>should</em> be located. However, many Unixes do not allow a process that has called setuid() to dump core for security reasons ('Is this still a problem?'); the typical Apache setup has the server started as root to bind to port 80, after which it uses setuid() to change UIDs to a non-privileged user to serve requests. <span class="anchor" id="line-162"></span><span class="anchor" id="line-163"></span></p>
    <p class="line874">Dealing with this is extremely operating system-specific, and may require rebuilding your system kernel. Consult your operating system documentation or vendor for more information about whether your system does this and how to bypass it. If there is a documented way of bypassing it, it is recommended that you bypass it only for the httpd server process if possible. <span class="anchor" id="line-164"></span><span class="anchor" id="line-165"></span></p>
    <p class="line862">The canonical location for Apache's core-dump files is the <a class="nonexistent" href="/httpd/ServerRoot">ServerRoot</a> directory. The location can be set via the <a class="nonexistent" href="/httpd/CoreDumpDirectory">CoreDumpDirectory</a> directive to a different directory. Make sure that this directory is writable by the user the server runs as (as opposed to the user the server is started as). <span class="anchor" id="line-166"></span><span class="anchor" id="line-167"></span></p>
    <p class="line867"> </p>
    <h2 id="When_I_run_it_under_Linux_I_get_.22shmget:_function_not_found.22.2C_what_should_I_do.3F">When I run it under Linux I get "shmget: function not found", what should I do?</h2> 
    <span class="anchor" id="line-168"></span>
    <p class="line874">Your kernel has been built without SysV IPC support. You will have to rebuild the kernel with that support enabled (it's under the "General Setup" submenu). Documentation for kernel building is beyond the scope of this FAQ; you should consult the Kernel HOWTO, or the documentation provided with your distribution, or a Linux newsgroup/mailing list. As a last-resort workaround, you can comment out the #define USE_SHMGET_SCOREBOARD definition in the LINUX section of src/conf.h and rebuild the server (prior to 1.3b4, simply removing #define HAVE_SHMGET would have sufficed). This will produce a server which is slower and less reliable. <span class="anchor" id="line-169"></span><span class="anchor" id="line-170"></span></p>
    <p class="line867"> </p>
    <h2 id="Server_hangs.2C_or_fails_to_start.2C_and.2For_error_log_fills_with_.22fcntl:_F_SETLKW:_No_record_locks_available.22_or_similar_messages">Server hangs, or fails to start, and/or error log fills with "fcntl: F_SETLKW: No record locks available" or similar messages</h2> 
    <span class="anchor" id="line-171"></span>
    <p class="line874">These are symptoms of a file locking problem, which usually means that the server is trying to use a synchronization file on an NFS filesystem. <span class="anchor" id="line-172"></span><span class="anchor" id="line-173"></span></p>
    <p class="line874">Because of its parallel-operation model, the Apache Web server needs to provide some form of synchronization when accessing certain resources. One of these synchronization methods involves taking out locks on a file, which means that the filesystem whereon the lockfile resides must support locking. In many cases this means it can't be kept on an NFS-mounted filesystem. <span class="anchor" id="line-174"></span><span class="anchor" id="line-175"></span></p>
    <p class="line874">To cause the Web server to work around the NFS locking limitations, include a line such as the following in your server configuration files: <span class="anchor" id="line-176"></span><span class="anchor" id="line-177"></span></p>
    <p class="line867"><span class="anchor" id="line-178"></span><span class="anchor" id="line-179"></span></p>
    <pre><span class="anchor" id="line-1-1"></span>LockFile /var/run/apache-lock</pre>
    <span class="anchor" id="line-180"></span>
    <p class="line862">The directory should not be generally writable (e.g., don't use /var/tmp). See the <a class="nonexistent" href="/httpd/LockFile">LockFile</a> documentation for more information. <span class="anchor" id="line-181"></span><span class="anchor" id="line-182"></span></p>
    <p class="line867"> </p>
    <h2 id="When_I_try_to_start_Apache_from_a_DOS_window.2C_I_get_a_message_like_.22Cannot_determine_host_name._Use_ServerName_directive_to_set_it_manually..22_What_does_this_mean.3F">When I try to start Apache from a DOS window, I get a message like "Cannot determine host name. Use ServerName directive to set it manually." What does this mean?</h2> 
    <span class="anchor" id="line-183"></span>
    <p class="line862">It means what it says; the Apache software can't determine the hostname of your system. Edit your conf\httpd.conf file, look for the string "<a class="nonexistent" href="/httpd/ServerName">ServerName</a>", and make sure there's an uncommented directive such as <span class="anchor" id="line-184"></span><span class="anchor" id="line-185"></span></p>
    <p class="line867"><a class="nonexistent" href="/httpd/ServerName">ServerName</a> localhost or <span class="anchor" id="line-186"></span><span class="anchor" id="line-187"></span></p>
    <p class="line867"><a class="nonexistent" href="/httpd/ServerName">ServerName</a> www.foo.com in the file. Correct it if there one there with wrong information, or add one if you don't already have one. <span class="anchor" id="line-188"></span><span class="anchor" id="line-189"></span></p>
    <p class="line874">Also, make sure that your Windows system has DNS enabled. See the TCP/IP setup component of the Networking or Internet Options control panel. <span class="anchor" id="line-190"></span><span class="anchor" id="line-191"></span></p>
    <p class="line862">After verifying that DNS is enabled and that you have a valid hostname in your <a class="nonexistent" href="/httpd/ServerName">ServerName</a> directive, try to start the server again. <span class="anchor" id="line-192"></span><span class="anchor" id="line-193"></span></p>
    <p class="line867"> </p>
    <h2 id="When_I_try_to_start_Apache_on_Windows.2C_I_get_a_message_like_.22System_error_1067_has_occurred._The_process_terminated_unexpectedly..22_What_does_this_mean.3F">When I try to start Apache on Windows, I get a message like "System error 1067 has occurred. The process terminated unexpectedly." What does this mean?</h2> 
    <span class="anchor" id="line-194"></span>
    <p class="line874">This message means that the Web server was unable to start correctly for one reason or another. To find out why, execute the following commands in a DOS window: <span class="anchor" id="line-195"></span><span class="anchor" id="line-196"></span></p>
    <ul>
     <li style="list-style-type:none">c: cd "\Program Files\Apache Group\Apache" apache <span class="anchor" id="line-197"></span><span class="anchor" id="line-198"></span></li>
    </ul>
    <p class="line874">(If you don't get the prompt back, hit Control-C to cause Apache to exit.) <span class="anchor" id="line-199"></span><span class="anchor" id="line-200"></span></p>
    <p class="line874">The error you see will probably be one of those preceding this question in the FAQ. <span class="anchor" id="line-201"></span><span class="anchor" id="line-202"></span></p>
    <p class="line874">First check the Windows NT Event Log for Application errors using the Windows NT/2000 Event Viewer program. Any errors that occur prior to opening the Apache error log will be stored here, if Apache is run as a Service on NT or 2000. As with any error, also check your Apache error log. <span class="anchor" id="line-203"></span><span class="anchor" id="line-204"></span></p>
    <p class="line867"> </p>
    <h2 id="On_a_SuSE_Linux_system.2C_I_try_and_configure_access_control_using_basic_authentication._Although_I_follow_the_example_exactly.2C_authentication_fails.2C_and_an_error_message_.22admin:_not_a_valid_FDN:_.....22_is_logged.">On a SuSE Linux system, I try and configure access control using basic authentication. Although I follow the example exactly, authentication fails, and an error message "admin: not a valid FDN: ...." is logged.</h2> 
    <span class="anchor" id="line-205"></span>
    <p class="line874">In the SuSE distribution, additional 3rd party authentication modules have been added and activated by default. These modules interfere with the Apache standard modules and cause Basic authentication to fail. Our recommendation is to comment all those modules in /etc/httpd/suse_addmodule.conf and /etc/httpd/suse_loadmodule.conf which are not actually required for running your server. <span class="anchor" id="line-206"></span><span class="anchor" id="line-207"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_am_I_getting_server_restart_messages_periodically.2C_when_I_did_not_restart_the_server.3F">Why am I getting server restart messages periodically, when I did not restart the server?</h2> 
    <span class="anchor" id="line-208"></span>
    <p class="line874">Problem: You are noticing restart messages in your error log, periodically, when you know you did not restart the server yourself: <span class="anchor" id="line-209"></span><span class="anchor" id="line-210"></span></p>
    <p class="line867"><span class="anchor" id="line-211"></span><span class="anchor" id="line-212"></span><span class="anchor" id="line-213"></span></p>
    <pre><span class="anchor" id="line-1-2"></span>  [Thu Jun  6 04:02:01 2002] [notice] SIGHUP received.  Attempting to restart
<span class="anchor" id="line-2-1"></span>  [Thu Jun  6 04:02:02 2002] [notice] Apache configured -- resuming normal operations</pre>
    <span class="anchor" id="line-214"></span>
    <p class="line874">Check your cron jobs to see when/if your server logs are being rotated. Compare the time of rotation to the error message time. If they are the same, you can somewhat safely assume that the restart is due to your server logs being rotated. <span class="anchor" id="line-215"></span><span class="anchor" id="line-216"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_am_I_getting_.22module_module-name_is_not_compatible_with_this_version_of_Apache.22_messages_in_my_error_log.3F">Why am I getting "module module-name is not compatible with this version of Apache" messages in my error log?</h2> 
    <span class="anchor" id="line-217"></span>
    <p class="line874">Module Magic Number (MMN) is a constant defined in Apache source that is associated with binary compatibility of modules. It is changed when internal Apache structures, function calls and other significant parts of API change in such a way that binary compatibility cannot be guaranteed any more. On MMN change, all third party modules have to be at least recompiled, sometimes even slightly changed in order to work with the new version of Apache. <span class="anchor" id="line-218"></span><span class="anchor" id="line-219"></span></p>
    <p class="line874">If you're getting the above error messages, contact the vendor of the module for the new binary, or compile it if you have access to the source code. <span class="anchor" id="line-220"></span><span class="anchor" id="line-221"></span></p>
    <p class="line867"> </p>
    <h2 id="I.27ve_downloaded_a_module_from_a_source_I_trust.2C_but_my_LoadModule_line_is_a_syntax_error.3F">I've downloaded a module from a source I trust, but my LoadModule line is a syntax error?</h2> 
    <span class="anchor" id="line-222"></span>
    <p class="line874">Have you checked for simple errors like a typo, or an incorrect path to the module? <span class="anchor" id="line-223"></span><span class="anchor" id="line-224"></span></p>
    <p class="line862">Another reason you may be unable to load a module is if it relies on libraries (Unix-family .so or Windows .dll) that are not loaded into the server. Such libraries can be loaded using the <strong><a class="nonexistent" href="/httpd/LoadFile">LoadFile</a></strong> directive, which must appear <strong>before</strong> your <a class="nonexistent" href="/httpd/LoadModule">LoadModule</a> line in the configuration. The module's provider should document any such dependencies. <span class="anchor" id="line-225"></span><span class="anchor" id="line-226"></span></p>
    <p class="line874">There's a particular Gotcha on Windows: <span class="anchor" id="line-227"></span><span class="anchor" id="line-228"></span></p>
    <ul>
     <li style="list-style-type:none"><span class="anchor" id="line-229"></span><span class="anchor" id="line-230"></span><pre><span class="anchor" id="line-1-3"></span>httpd: Syntax error on line nn of C:/IBM/HTTP/conf/httpd.conf: Cannot load C:/IBM/HTTP/modules/mod_foo.so into server: The specified module could not be found.</pre><span class="anchor" id="line-231"></span><span class="anchor" id="line-232"></span></li>
    </ul>
    <p class="line874">Googling the error message tells us there's a missing library, but there doesn't appear to be, and the identical configuration works on one computer but fails with this message on another. What gives? <span class="anchor" id="line-233"></span><span class="anchor" id="line-234"></span></p>
    <p class="line874">This error may happen because you need to install the Windows C Runtime Libraries on the target machine. Note that this doesn't mean you need to load them explicitly into HTTPD, just install them on the host machine! This is likely to affect users of IBM's httpd trying to load modules not supplied by IBM, and might arise in other circumstances where the server and the module are compiled using different build options. <span class="anchor" id="line-235"></span><span class="anchor" id="line-236"></span></p>
    <p class="line867"> </p>
    <h1 id="Configuration_Questions">Configuration Questions</h1> 
    <span class="anchor" id="line-237"></span>
    <p class="line867"> </p>
    <h2 id="Why_can.27t_I_run_more_than_.3Cn.3E_virtual_hosts.3F">Why can't I run more than &lt;n&gt; virtual hosts?</h2> 
    <span class="anchor" id="line-238"></span>
    <p class="line874">You are probably running into resource limitations in your operating system. The most common limitation is the per-process limit on file descriptors, which is almost always the cause of problems seen when adding virtual hosts. Apache often does not give an intuitive error message because it is normally some library routine (such as gethostbyname()) which needs file descriptors and doesn't complain intelligibly when it can't get them. <span class="anchor" id="line-239"></span><span class="anchor" id="line-240"></span></p>
    <p class="line874">Each log file requires a file descriptor, which means that if you are using separate access and error logs for each virtual host, each virtual host needs two file descriptors. Each Listen directive also needs a file descriptor. <span class="anchor" id="line-241"></span><span class="anchor" id="line-242"></span></p>
    <p class="line862">Typical values for &lt;n&gt; that we've seen are in the neighborhood of 1024 or 2048. When the server bumps into the file descriptor limit, it may dump core with a SIGSEGV, it might just hang, or it may limp along and you'll see (possibly meaningful) errors in the error log. One common problem that occurs when you run into a file descriptor limit is that CGI scripts stop being executed properly. <span class="anchor" id="line-243"></span><span class="anchor" id="line-244"></span></p>
    <p class="line874">As to what you can do about this: <span class="anchor" id="line-245"></span><span class="anchor" id="line-246"></span></p>
    <dl>
     <dt>
      Reduce the number of Listen directives
     </dt>
     <dd>
      If there are no other servers running on the machine on the same port then you normally don't need any Listen directives at all. By default Apache listens to all addresses on port 80. 
      <span class="anchor" id="line-247"></span>
     </dd>
     <dt>
      Reduce the number of log files
     </dt>
     <dd>
      You can use mod_log_config to log all requests to a single log file while including the name of the virtual host in the log file. You can then write a script to split the logfile into separate files later if necessary. Such a script is provided with the Apache distribution in the src/support/split-logfile file. 
      <span class="anchor" id="line-248"></span>
     </dd>
     <dt>
      Increase the number of file descriptors available to the server
     </dt>
     <dd>
      (see your system's documentation on the limit or ulimit commands). For some systems, information on how to do this is available in the performance hints page. There is a specific note for FreeBSD below. 
      <span class="anchor" id="line-249"></span>
     </dd>
     <dt>
      "Don't do that" - try to run with fewer virtual hosts
     </dt>
     <dd>
      <p class="line891"><br> <span class="anchor" id="line-250"></span><span class="anchor" id="line-251"></span></p>
     </dd>
    </dl>
    <p class="line874">Spread your operation across multiple server processes (using Listen for example, but see the first point) and/or ports. Since this is an operating-system limitation, there's not much else available in the way of solutions. <span class="anchor" id="line-252"></span><span class="anchor" id="line-253"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_doesn.27t_my_ErrorDocument_401_work.3F">Why doesn't my ErrorDocument 401 work?</h2> 
    <span class="anchor" id="line-254"></span>
    <p class="line862">You need to use it with a URL in the form "/foo/bar" and not one with a method and hostname such as "<a class="http" href="http://host/foo/bar">http://host/foo/bar</a>". See the <a class="nonexistent" href="/httpd/ErrorDocument">ErrorDocument</a> documentation for details. This was incorrectly documented in the past. <span class="anchor" id="line-255"></span><span class="anchor" id="line-256"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_does_Apache_send_a_cookie_on_every_response.3F">Why does Apache send a cookie on every response?</h2> 
    <span class="anchor" id="line-257"></span>
    <p class="line862">Apache does not automatically send a cookie on every response, unless you have re-compiled it with the mod_usertrack module, and specifically enabled it with the <a class="nonexistent" href="/httpd/CookieTracking">CookieTracking</a> directive. This module may help track users, and uses cookies to do this. If you are not using the data generated by mod_usertrack, do not compile it into Apache. <span class="anchor" id="line-258"></span><span class="anchor" id="line-259"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_don.27t_my_cookies_work.3F">Why don't my cookies work?</h2> 
    <span class="anchor" id="line-260"></span>
    <p class="line874">Apache httpd passes on your Set-Cookie header, like any other header. If cookies do not work it will be because your script does not work properly or your browser does not use cookies or is not set-up to accept them. <span class="anchor" id="line-261"></span><span class="anchor" id="line-262"></span></p>
    <p class="line867"> </p>
    <h2 id="How_do_I_add_browsers_and_referrers_to_my_logs.3F">How do I add browsers and referrers to my logs?</h2> 
    <span class="anchor" id="line-263"></span>
    <p class="line862">Apache provides a couple of different ways of doing this. The recommended method is to compile the mod_log_config module into your configuration and use the <a class="nonexistent" href="/httpd/CustomLog">CustomLog</a> directive. <span class="anchor" id="line-264"></span><span class="anchor" id="line-265"></span></p>
    <p class="line874">You can either log the additional information in files other than your normal transfer log, or you can add them to the records already being written. For example: <span class="anchor" id="line-266"></span><span class="anchor" id="line-267"></span></p>
    <p class="line867"><a class="nonexistent" href="/httpd/CustomLog">CustomLog</a> logs/access_log "%h %l %u %t \"%r\" %s %b \"%{Referer}i\" \"%{User-Agent}i\"" <span class="anchor" id="line-268"></span><span class="anchor" id="line-269"></span></p>
    <p class="line874">This will add the values of the User-agent: and Referer: headers, which indicate the client and the referring page, respectively, to the end of each line in the access log. <span class="anchor" id="line-270"></span><span class="anchor" id="line-271"></span></p>
    <p class="line862">You may want to check out the Apache Week article entitled: <a class="http" href="http://www.apacheweek.com/features/logfiles">"Gathering Visitor Information: Customizing Your Logfiles"</a>. <span class="anchor" id="line-272"></span><span class="anchor" id="line-273"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_does_accessing_directories_only_work_when_I_include_the_trailing_.22.2F.22_.28e.g..2C_http:.2F.2Ffoo.domain.com.2F.2BAH4-user.2F.29_but_not_when_I_omit_it_.28e.g..2C_http:.2F.2Ffoo.domain.com.2F.2BAH4-user.29.3F">Why does accessing directories only work when I include the trailing "/" (e.g., http://foo.domain.com/~user/) but not when I omit it (e.g., http://foo.domain.com/~user)?</h2> 
    <span class="anchor" id="line-274"></span>
    <p class="line874">When you access a directory without a trailing "/", Apache needs to send what is called a redirect to the client to tell it to add the trailing slash. If it did not do so, relative URLs would not work properly. When it sends the redirect, it needs to know the name of the server so that it can include it in the redirect. There are two ways for Apache to find this out; either it can guess, or you can tell it. If your DNS is configured correctly, it can normally guess without any problems. If it is not, however, then you need to tell it. <span class="anchor" id="line-275"></span><span class="anchor" id="line-276"></span></p>
    <p class="line862">Add a <a class="nonexistent" href="/httpd/ServerName">ServerName</a> directive to the config file to tell it what the domain name of the server is. <span class="anchor" id="line-277"></span><span class="anchor" id="line-278"></span></p>
    <p class="line874">The other thing that can occasionally cause this symptom is a misunderstanding of the Alias directive, resulting in an alias working with a trailing slash, and not without one. The Alias directive is very literal, and aliases what you tell it to. Consider the following example: <span class="anchor" id="line-279"></span><span class="anchor" id="line-280"></span></p>
    <ul>
     <li style="list-style-type:none">Alias /example/ /home/www/example/ <span class="anchor" id="line-281"></span><span class="anchor" id="line-282"></span></li>
    </ul>
    <p class="line862">The above directive creates an alias for URLs starting with /example/, but does not alias URLs starting with /example. That is to say, a URL such as <a class="http" href="http://servername.com/example/">http://servername.com/example/</a> will get the desired content, but a URL such as <a class="http" href="http://servername.com/example">http://servername.com/example</a> will result in a "file not found" error. <span class="anchor" id="line-283"></span><span class="anchor" id="line-284"></span></p>
    <p class="line874">The following Alias, on the other hand, will work for both cases: <span class="anchor" id="line-285"></span><span class="anchor" id="line-286"></span></p>
    <ul>
     <li style="list-style-type:none">Alias /example /home/www/example <span class="anchor" id="line-287"></span><span class="anchor" id="line-288"></span></li>
    </ul>
    <p class="line867"> </p>
    <h2 id="Why_doesn.27t_mod_info_list_any_directives.3F">Why doesn't mod_info list any directives?</h2> 
    <span class="anchor" id="line-289"></span>
    <p class="line874">The mod_info module allows you to use a Web browser to see how your server is configured. Among the information it displays is the list of modules and their configuration directives. The "current" values for the directives are not necessarily those of the running server; they are extracted from the configuration files themselves at the time of the request. If the files have been changed since the server was last reloaded, the display will not match the values actively in use. If the files and the path to the files are not readable by the user as which the server is running (see the User directive), then mod_info cannot read them in order to list their values. An entry will be made in the error log in this event, however. <span class="anchor" id="line-290"></span><span class="anchor" id="line-291"></span></p>
    <p class="line867"> </p>
    <h2 id="My_.htaccess_files_are_being_ignored.">My .htaccess files are being ignored.</h2> 
    <span class="anchor" id="line-292"></span>
    <p class="line862">This is almost always due to your <a class="nonexistent" href="/httpd/AllowOverride">AllowOverride</a> directive being set incorrectly for the directory in question. If it is set to None then .htaccess files will not even be looked for. That is a good thing. If you have access to edit the httpd.conf, you should not use .htaccess files, ever. If your customers do need support for .htaccess, make sure that <a class="nonexistent" href="/httpd/AllowOverride">AllowOverride</a> is set to something sensible (i.e.: Not All). Be certain it covers the directory you are trying to use the .htaccess file in. This is normally accomplished by ensuring it is inside the proper Directory container. <span class="anchor" id="line-293"></span><span class="anchor" id="line-294"></span></p>
    <p class="line862">You can tell if this is your problem by adding nonsense text to your .htaccess file and reloading the page. If you <em>do not</em> get a server error, then Apache httpd is not reading your .htaccess file. <span class="anchor" id="line-295"></span><span class="anchor" id="line-296"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_do_I_get_a_.22Forbidden.22_message_whenever_I_try_to_access_a_particular_directory.3F">Why do I get a "Forbidden" message whenever I try to access a particular directory?</h2> 
    <span class="anchor" id="line-297"></span>
    <p class="line874">This message is generally caused because either <span class="anchor" id="line-298"></span><span class="anchor" id="line-299"></span></p>
    <ul>
     <li>The underlying file system permissions do not allow the User/Group under which Apache is running to access the necessary files; or <span class="anchor" id="line-300"></span></li>
     <li>The Apache configuration has some access restrictions in place which forbid access to the files. <span class="anchor" id="line-301"></span><span class="anchor" id="line-302"></span></li>
    </ul>
    <p class="line874">You can determine which case applies to your situation by checking the error log. <span class="anchor" id="line-303"></span><span class="anchor" id="line-304"></span></p>
    <p class="line862">In the case where file system permission are at fault, see <a href="/httpd/13PermissionDenied">(13) Permission Denied</a> for more info. <span class="anchor" id="line-305"></span><span class="anchor" id="line-306"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_do_my_files_appear_correctly_in_Internet_Explorer.2C_but_show_up_as_source_or_trigger_a_save_window_with_Netscape.3B_or.2C_Why_doesn.27t_Internet_Explorer_render_my_text.2Fplain_document_correctly.3F">Why do my files appear correctly in Internet Explorer, but show up as source or trigger a save window with Netscape; or, Why doesn't Internet Explorer render my text/plain document correctly?</h2> 
    <span class="anchor" id="line-307"></span>
    <p class="line874">MS Internet Explorer (MSIE) and Netscape handle mime type detection in different ways, and therefore will display the document differently. In particular, IE sometimes relies on the file extension or the contents of the file to determine the mime type. This can happen when the server specifies a mime type of application/octet-stream or text/plain. This behavior violates the the HTTP standard and makes it impossible to deliver plain text documents to MSIE clients in some cases. More details are available on MSIE's mime type detection behavior in an MSDN article and a note by Alan J. Flavell. <span class="anchor" id="line-308"></span><span class="anchor" id="line-309"></span></p>
    <p class="line862">The best you can do as a server administrator is to accurately configure the mime type of your documents by editing the mime.types file or using an <a class="nonexistent" href="/httpd/AddType">AddType</a> directive in the Apache configuration files. In some cases, you may be able to fool MSIE into rendering text/plain documents correctly by assuring they have a .txt filename extension, but this will not work if MSIE thinks the content looks like another file type. <span class="anchor" id="line-310"></span><span class="anchor" id="line-311"></span></p>
    <p class="line867"> </p>
    <h2 id="My_site_is_accessible_under_many_different_hostnames.3B_how_do_I_redirect_clients_so_that_they_see_only_a_single_name.3F">My site is accessible under many different hostnames; how do I redirect clients so that they see only a single name?</h2> 
    <span class="anchor" id="line-312"></span>
    <p class="line874">Many sites map a variety of hostnames to the same content. For example, www.example.com, example.com and www.example.net may all refer to the same site. It is best to make sure that, regardless of the name clients use to access the site, they will be redirected to a single, canonical hostname. This makes the site easier to maintain and assures that there will be only one version of the site in proxy caches and search engines. <span class="anchor" id="line-313"></span><span class="anchor" id="line-314"></span></p>
    <p class="line874">There are two techniques to implement canonical hostnames: <span class="anchor" id="line-315"></span><span class="anchor" id="line-316"></span></p>
    <p class="line867"> </p>
    <h3 id="Use_mod_rewrite_as_described_in_the_.22Canonical_Hostnames.22_section_of_the_URL_Rewriting_Guide.">Use mod_rewrite as described in the "Canonical Hostnames" section of the URL Rewriting Guide.</h3> 
    <span class="anchor" id="line-317"></span>
    <p class="line862">See <a class="http" href="http://httpd.apache.org/docs/current/rewrite/remapping.html#canonicalhost">http://httpd.apache.org/docs/current/rewrite/remapping.html#canonicalhost</a> . <span class="anchor" id="line-318"></span><span class="anchor" id="line-319"></span></p>
    <p class="line867"> </p>
    <h3 id="Use_name-based_virtual_hosting:">Use name-based virtual hosting:</h3> 
    <span class="anchor" id="line-320"></span>
    <ul>
     <li style="list-style-type:none"><span class="anchor" id="line-321"></span><span class="anchor" id="line-322"></span><span class="anchor" id="line-323"></span><span class="anchor" id="line-324"></span><span class="anchor" id="line-325"></span><span class="anchor" id="line-326"></span><span class="anchor" id="line-327"></span><span class="anchor" id="line-328"></span><span class="anchor" id="line-329"></span><span class="anchor" id="line-330"></span><span class="anchor" id="line-331"></span><span class="anchor" id="line-332"></span><pre><span class="anchor" id="line-1-4"></span>NameVirtualHost *:80
<span class="anchor" id="line-2-2"></span>&lt;VirtualHost *:80&gt;
<span class="anchor" id="line-3-1"></span>  ServerName www.example.net
<span class="anchor" id="line-4"></span>  ServerAlias example.com
<span class="anchor" id="line-5"></span>  Redirect permanent / http://www.example.com/
<span class="anchor" id="line-6"></span>&lt;/VirtualHost&gt;
<span class="anchor" id="line-7"></span>
<span class="anchor" id="line-8"></span>&lt;VirtualHost *:80&gt;
<span class="anchor" id="line-9"></span>  ServerName www.example.com
<span class="anchor" id="line-10"></span>  DocumentRoot /usr/local/apache/htdocs
<span class="anchor" id="line-11"></span>&lt;/VirtualHost&gt;</pre><span class="anchor" id="line-333"></span><span class="anchor" id="line-334"></span></li>
    </ul>
    <p class="line867"> </p>
    <h2 id="Why_can_I_access_my_website_from_the_server_or_from_my_local_network.2C_but_I_can.27t_access_it_from_elsewhere_on_the_Internet.3F">Why can I access my website from the server or from my local network, but I can't access it from elsewhere on the Internet?</h2> 
    <span class="anchor" id="line-335"></span>
    <p class="line862">There are many possible reasons for this, and almost all of them are related to the configuration of your network, not the configuration of the Apache HTTP Server. One of the most common problems is that a firewall blocks access to the default HTTP port 80. In particular, many consumer ISPs block access to this port. You can see if this is the case by changing any Port and Listen directives in httpd.conf to use port 8000 and then request your site using <a class="http" href="http://yourhost.example.com:8000/">http://yourhost.example.com:8000/</a>. (Of course, a very restrictive firewall may block this port as well.) <span class="anchor" id="line-336"></span><span class="anchor" id="line-337"></span></p>
    <p class="line867"> </p>
    <h2 id="How_do_I_turn_automatic_directory_listings_on_or_off.3F">How do I turn automatic directory listings on or off?</h2> 
    <span class="anchor" id="line-338"></span>
    <p class="line862">If a client requests a URL that designates a directory and the directory does not contain a filename that matches the <a class="nonexistent" href="/httpd/DirectoryIndex">DirectoryIndex</a> directive, then mod_autoindex can be configured to present a listing of the directory contents. <span class="anchor" id="line-339"></span><span class="anchor" id="line-340"></span></p>
    <p class="line874">To turn on automatic directory indexing, find the Options directive that applies to the directory and add the Indexes keyword. For example: <span class="anchor" id="line-341"></span><span class="anchor" id="line-342"></span></p>
    <ul>
     <li style="list-style-type:none"><span class="anchor" id="line-343"></span><span class="anchor" id="line-344"></span><span class="anchor" id="line-345"></span><span class="anchor" id="line-346"></span><pre><span class="anchor" id="line-1-5"></span>&lt;Directory /path/to/directory&gt;
<span class="anchor" id="line-2-3"></span>   Options +Indexes
<span class="anchor" id="line-3-2"></span>&lt;/Directory&gt;</pre><span class="anchor" id="line-347"></span><span class="anchor" id="line-348"></span></li>
    </ul>
    <p class="line874">To turn off automatic directory indexing, remove the Indexes keyword from the appropriate Options line. To turn off directory listing for a particular subdirectory, you can use Options -Indexes. For example: <span class="anchor" id="line-349"></span><span class="anchor" id="line-350"></span></p>
    <ul>
     <li style="list-style-type:none"><span class="anchor" id="line-351"></span><span class="anchor" id="line-352"></span><span class="anchor" id="line-353"></span><span class="anchor" id="line-354"></span><pre><span class="anchor" id="line-1-6"></span>&lt;Directory /path/to/directory&gt;
<span class="anchor" id="line-2-4"></span>   Options -Indexes
<span class="anchor" id="line-3-3"></span>&lt;/Directory&gt;</pre><span class="anchor" id="line-355"></span><span class="anchor" id="line-356"></span></li>
    </ul>
    <p class="line867"> </p>
    <h2 id="Why_do_my_Options_directives_not_have_the_desired_effect.3F">Why do my Options directives not have the desired effect?</h2> 
    <span class="anchor" id="line-357"></span>
    <p class="line862">Directives placed in the configuration files are applied in a very particular order, as described by <a class="http" href="http://httpd.apache.org/docs/current/sections.html">How Directory, Location, and Files sections work</a>. In addition, each Options directive has the effect of resetting the options to none before adding the specified options (unless only "+" and "-" options are used). The consequence is that Options set in the main server or virtual host context (outside any directory, location, or files section) will usually have no effect, because they are overridden by more specific Options directives. For example, in the following <span class="anchor" id="line-358"></span><span class="anchor" id="line-359"></span></p>
    <p class="line867"><span class="anchor" id="line-360"></span><span class="anchor" id="line-361"></span><span class="anchor" id="line-362"></span><span class="anchor" id="line-363"></span><span class="anchor" id="line-364"></span></p>
    <pre><span class="anchor" id="line-1-7"></span>&lt;Directory /usr/local/apache/htdocs&gt;
<span class="anchor" id="line-2-5"></span>    Options Indexes
<span class="anchor" id="line-3-4"></span>&lt;/Directory&gt;
<span class="anchor" id="line-4-1"></span>Options Includes ExecCGI</pre>
    <span class="anchor" id="line-365"></span>
    <p class="line874">Includes and ExecCGI will be off in the /usr/local/apache/htdocs directory. <span class="anchor" id="line-366"></span><span class="anchor" id="line-367"></span></p>
    <p class="line862">You can usually avoid problems by either finding the Options directive that already applies to a specific directory and changing it, or by putting your Options directive inside the most specific possible &lt;Directory&gt; section. <span class="anchor" id="line-368"></span><span class="anchor" id="line-369"></span></p>
    <p class="line867"> </p>
    <h2 id="How_can_I_change_the_information_that_Apache_returns_about_itself_in_the_headers.3F">How can I change the information that Apache returns about itself in the headers?</h2> 
    <span class="anchor" id="line-370"></span>
    <p class="line874">When a client connects to Apache, part of the information returned in the headers is the name "Apache" Additional information that can be sent is the version number, such as "2.2.17", the operating system, and a list of non-standard modules you have installed. <span class="anchor" id="line-371"></span><span class="anchor" id="line-372"></span></p>
    <p class="line874">For example: <span class="anchor" id="line-373"></span><span class="anchor" id="line-374"></span></p>
    <p class="line874">Server: Apache/2.2.17 (Unix) mod_perl/1.26 Frequently, people want to remove this information, under the mistaken understanding that this will make the system more secure. This is probably not the case, as the same exploits will likely be attempted regardless of the header information you provide. <span class="anchor" id="line-375"></span><span class="anchor" id="line-376"></span></p>
    <p class="line874">There are, however, two answers to this question: the correct answer, and the answer that you are probably looking for. <span class="anchor" id="line-377"></span><span class="anchor" id="line-378"></span></p>
    <p class="line862">The correct answer to this question is that you should use the <a class="nonexistent" href="/httpd/ServerTokens">ServerTokens</a> directive to alter the quantity of information which is passed in the headers. Setting this directive to Prod will pass the least possible amount of information: <span class="anchor" id="line-379"></span><span class="anchor" id="line-380"></span></p>
    <p class="line874">Server: Apache The answer you are probably looking for is how to make Apache lie about what what it is, ie send something like: <span class="anchor" id="line-381"></span><span class="anchor" id="line-382"></span></p>
    <p class="line874">Server: Bob's Happy HTTPd Server In order to do this, you will need to modify the Apache source code and rebuild Apache. This is not advised, as it is almost certain not to provide you with the added security you think that you are gaining. The exact method of doing this is left as an exercise for the reader, as we are not keen on helping you do something that is intrinsically a bad idea. <span class="anchor" id="line-383"></span><span class="anchor" id="line-384"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_do_I_see_requests_for_other_sites_appearing_in_my_log_files.3F">Why do I see requests for other sites appearing in my log files?</h2> 
    <span class="anchor" id="line-385"></span>
    <p class="line874">An access_log entry showing this situation could look like this: <span class="anchor" id="line-386"></span><span class="anchor" id="line-387"></span></p>
    <p class="line862">63.251.56.142 - - [25/Jul/2002:12:48:04 -0700] "GET <a class="http" href="http://www.yahoo.com/">http://www.yahoo.com/</a> HTTP/1.0" 200 1456 The question is: why did a request for www.yahoo.com come to your server instead of Yahoo's server? And why does the response have a status code of 200 (success)? <span class="anchor" id="line-388"></span><span class="anchor" id="line-389"></span></p>
    <p class="line862">This is usually the result of malicious clients trying to exploit open proxy servers to access a website without revealing their true location. If you find entries like this in your log, the first thing to do is to make sure you have properly configured your server not to proxy for unknown clients. If you don't need to provide a proxy server at all, you should simply assure that the <a class="nonexistent" href="/httpd/ProxyRequests">ProxyRequests</a> directive is not set on. If you do need to run a proxy server, then you must ensure that you secure your server properly so that only authorized clients can use it. <span class="anchor" id="line-390"></span><span class="anchor" id="line-391"></span></p>
    <p class="line874">If your server is configured properly, then the attempt to proxy through your server will fail. If you see a status code of 404 (file not found) in the log, then you know that the request failed. If you see a status code of 200 (success), that does not necessarily mean that the attempt to proxy succeeded. RFC2616 section 5.1.2 mandates that Apache must accept requests with absolute URLs in the request-URI, even for non-proxy requests. Since Apache has no way to know all the different names that your server may be known under, it cannot simply reject hostnames it does not recognize. Instead, it will serve requests for unknown sites locally by stripping off the hostname and using the default server or virtual host. Therefore you can compare the size of the file (1456 in the above example) to the size of the corresponding file in your default server. If they are the same, then the proxy attempt failed, since a document from your server was delivered, not a document from www.yahoo.com. <span class="anchor" id="line-392"></span><span class="anchor" id="line-393"></span></p>
    <p class="line874">If you wish to prevent this type of request entirely, then you need to let Apache know what hostnames to accept and what hostnames to reject. You do this by configuring name-virtual hosts, where the first listed host is the default host that will catch and reject unknown hostnames. For example: <span class="anchor" id="line-394"></span><span class="anchor" id="line-395"></span></p>
    <p class="line867"><span class="anchor" id="line-396"></span><span class="anchor" id="line-397"></span><span class="anchor" id="line-398"></span><span class="anchor" id="line-399"></span><span class="anchor" id="line-400"></span><span class="anchor" id="line-401"></span><span class="anchor" id="line-402"></span><span class="anchor" id="line-403"></span><span class="anchor" id="line-404"></span><span class="anchor" id="line-405"></span><span class="anchor" id="line-406"></span><span class="anchor" id="line-407"></span><span class="anchor" id="line-408"></span><span class="anchor" id="line-409"></span><span class="anchor" id="line-410"></span><span class="anchor" id="line-411"></span><span class="anchor" id="line-412"></span></p>
    <pre><span class="anchor" id="line-1-8"></span>NameVirtualHost *:80
<span class="anchor" id="line-2-6"></span>
<span class="anchor" id="line-3-5"></span>&lt;VirtualHost *:80&gt;
<span class="anchor" id="line-4-2"></span>  ServerName default.only
<span class="anchor" id="line-5-1"></span>  &lt;Location /&gt;
<span class="anchor" id="line-6-1"></span>    Order allow,deny
<span class="anchor" id="line-7-1"></span>    Deny from all
<span class="anchor" id="line-8-1"></span>  &lt;/Location&gt;
<span class="anchor" id="line-9-1"></span>&lt;/VirtualHost&gt;
<span class="anchor" id="line-10-1"></span>
<span class="anchor" id="line-11-1"></span>&lt;VirtualHost *:80&gt;
<span class="anchor" id="line-12"></span>  ServerName realhost1.example.com
<span class="anchor" id="line-13"></span>  ServerAlias alias1.example.com alias2.example.com
<span class="anchor" id="line-14"></span>  DocumentRoot /path/to/site1
<span class="anchor" id="line-15"></span>&lt;/VirtualHost&gt;
<span class="anchor" id="line-16"></span>...</pre>
    <span class="anchor" id="line-413"></span>
    <p class="line867"> </p>
    <h1 id="Dynamic_Content_.28CGI_and_SSI.29">Dynamic Content (CGI and SSI)</h1> 
    <span class="anchor" id="line-414"></span>
    <p class="line867"> </p>
    <h2 id="How_do_I_enable_CGI_execution_in_directories_other_than_the_ScriptAlias.3F">How do I enable CGI execution in directories other than the ScriptAlias?</h2> 
    <span class="anchor" id="line-415"></span>
    <p class="line862">Apache recognizes all files in a directory named as a <a class="nonexistent" href="/httpd/ScriptAlias">ScriptAlias</a> as being eligible for execution rather than processing as normal documents. This applies regardless of the file name, so scripts in a <a class="nonexistent" href="/httpd/ScriptAlias">ScriptAlias</a> directory don't need to be named "*.cgi" or "*.pl" or whatever. In other words, all files in a <a class="nonexistent" href="/httpd/ScriptAlias">ScriptAlias</a> directory are scripts, as far as Apache is concerned. <span class="anchor" id="line-416"></span><span class="anchor" id="line-417"></span></p>
    <p class="line862">To persuade Apache to execute scripts in other locations, such as in directories where normal documents may also live, you must tell it how to recognize them - and also that it's okay to execute them. For this, you need to use something like the <a class="nonexistent" href="/httpd/AddHandler">AddHandler</a> directive. <span class="anchor" id="line-418"></span><span class="anchor" id="line-419"></span></p>
    <p class="line862">In an appropriate section of your server configuration files, add a line such as <a class="nonexistent" href="/httpd/AddHandler">AddHandler</a> cgi-script .cgi The server will then recognize that all files in that location (and its logical descendants) that end in ".cgi" are script files, not documents. <span class="anchor" id="line-420"></span><span class="anchor" id="line-421"></span></p>
    <p class="line874">Make sure that the directory location is covered by an Options declaration that includes the ExecCGI option. In some situations, you might not want to actually allow all files named "*.cgi" to be executable. Perhaps all you want is to enable a particular file in a normal directory to be executable. This can be alternatively accomplished via mod_rewrite and the following steps: <span class="anchor" id="line-422"></span><span class="anchor" id="line-423"></span></p>
    <p class="line874">Locally add to the corresponding .htaccess file a ruleset similar to this one: <span class="anchor" id="line-424"></span><span class="anchor" id="line-425"></span></p>
    <p class="line867"><span class="anchor" id="line-426"></span><span class="anchor" id="line-427"></span><span class="anchor" id="line-428"></span><span class="anchor" id="line-429"></span></p>
    <pre><span class="anchor" id="line-1-9"></span>RewriteEngine on
<span class="anchor" id="line-2-7"></span>RewriteBase /~foo/bar/
<span class="anchor" id="line-3-6"></span>RewriteRule ^quux\.cgi$ - [T=application/x-httpd-cgi]</pre>
    <span class="anchor" id="line-430"></span>
    <p class="line862">Make sure that the directory location is covered by an Options declaration that includes the ExecCGI and <a class="nonexistent" href="/httpd/FollowSymLinks">FollowSymLinks</a> option. <span class="anchor" id="line-431"></span><span class="anchor" id="line-432"></span></p>
    <p class="line867"> </p>
    <h2 id="What_does_it_mean_when_my_CGIs_fail_with_.22Premature_end_of_script_headers.22.3F">What does it mean when my CGIs fail with "Premature end of script headers"?</h2> 
    <span class="anchor" id="line-433"></span>
    <p class="line874">It means just what it says: the server was expecting a complete set of HTTP headers (one or more followed by a blank line), and didn't get them. <span class="anchor" id="line-434"></span><span class="anchor" id="line-435"></span></p>
    <p class="line874">The most common cause of this problem is the script dying before sending the complete set of headers, or possibly any at all, to the server. To see if this is the case, try running the script standalone from an interactive session, rather than as a script under the server. If you get error messages, this is almost certainly the cause of the "premature end of script headers" message. Even if the CGI runs fine from the command line, remember that the environment and permissions may be different when running under the web server. The CGI can only access resources allowed for the User and Group specified in your Apache configuration. In addition, the environment will not be the same as the one provided on the command line, but it can be adjusted using the directives provided by mod_env. <span class="anchor" id="line-436"></span><span class="anchor" id="line-437"></span></p>
    <p class="line874">The second most common cause of this (aside from people not outputting the required headers at all) is a result of an interaction with Perl's output buffering. To make Perl flush its buffers after each output statement, insert the following statements around the print or write statements that send your HTTP headers: <span class="anchor" id="line-438"></span><span class="anchor" id="line-439"></span></p>
    <p class="line867"><span class="anchor" id="line-440"></span><span class="anchor" id="line-441"></span><span class="anchor" id="line-442"></span><span class="anchor" id="line-443"></span><span class="anchor" id="line-444"></span><span class="anchor" id="line-445"></span><span class="anchor" id="line-446"></span><span class="anchor" id="line-447"></span><span class="anchor" id="line-448"></span></p>
    <pre><span class="anchor" id="line-1-10"></span>{
<span class="anchor" id="line-2-8"></span> my $current_file_handle = select (STDOUT);
<span class="anchor" id="line-3-7"></span> local $| = 1;
<span class="anchor" id="line-4-3"></span> #
<span class="anchor" id="line-5-2"></span> # print your HTTP headers here
<span class="anchor" id="line-6-2"></span> #
<span class="anchor" id="line-7-2"></span> select ($current_file_handle);
<span class="anchor" id="line-8-2"></span>}</pre>
    <span class="anchor" id="line-449"></span>
    <p class="line874">This is generally only necessary when you are calling external programs from your script that send output to stdout, or if there will be a long delay between the time the headers are sent and the actual content starts being emitted. To maximize performance, you should turn buffer-flushing back off (with $| = 0 or the equivalent) after the statements that send the headers, as displayed above. <span class="anchor" id="line-450"></span><span class="anchor" id="line-451"></span></p>
    <p class="line874">If your script isn't written in Perl, do the equivalent thing for whatever language you are using (e.g., for C, call fflush() after writing the headers). <span class="anchor" id="line-452"></span><span class="anchor" id="line-453"></span></p>
    <p class="line874">Another cause for the "premature end of script headers" message are the RLimitCPU and RLimitMEM directives. You may get the message if the CGI script was killed due to a resource limit. <span class="anchor" id="line-454"></span><span class="anchor" id="line-455"></span></p>
    <p class="line874">In addition, a configuration problem in suEXEC, mod_perl, or another third party module can often interfere with the execution of your CGI and cause the "premature end of script headers" message. <span class="anchor" id="line-456"></span><span class="anchor" id="line-457"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_do_I_keep_getting_.22Method_Not_Allowed.22_for_form_POST_requests.3F">Why do I keep getting "Method Not Allowed" for form POST requests?</h2> 
    <span class="anchor" id="line-458"></span>
    <p class="line862">This is almost always due to Apache not being configured to treat the file you are trying to POST to as a CGI script. You can not POST to a normal HTML file; the operation has no meaning. See the FAQ entry on CGIs outside <a class="nonexistent" href="/httpd/ScriptAliased">ScriptAliased</a> directories for details on how to configure Apache to treat the file in question as a CGI. <span class="anchor" id="line-459"></span><span class="anchor" id="line-460"></span></p>
    <p class="line867"> </p>
    <h2 id="How_do_I_enable_SSI_.28parsed_HTML.29.3F">How do I enable SSI (parsed HTML)?</h2> 
    <span class="anchor" id="line-461"></span>
    <p class="line874">SSI (an acronym for Server-Side Include) directives allow static HTML documents to be enhanced at run-time (e.g., when delivered to a client by Apache). The format of SSI directives is covered in the mod_include manual; suffice it to say that Apache supports not only SSI but xSSI (eXtended SSI) directives. <span class="anchor" id="line-462"></span><span class="anchor" id="line-463"></span></p>
    <p class="line874">Processing a document at run-time is called parsing it; hence the term "parsed HTML" sometimes used for documents that contain SSI instructions. Parsing tends to be resource-consumptive compared to serving static files, and is not enabled by default. It can also interfere with the cachability of your documents, which can put a further load on your server. (See the next question for more information about this.) <span class="anchor" id="line-464"></span><span class="anchor" id="line-465"></span></p>
    <p class="line874">To enable SSI processing, you need to <span class="anchor" id="line-466"></span><span class="anchor" id="line-467"></span></p>
    <ul>
     <li>Build your server with the mod_include module. This is normally compiled in by default. <span class="anchor" id="line-468"></span></li>
     <li>Make sure your server configuration files have an Options directive which permits Includes. <span class="anchor" id="line-469"></span></li>
     <li>Make sure that the directory where you want the SSI documents to live is covered by the "INCLUDEES" content filter, either explicitly or in some ancestral location. That can be done with the following directives: <span class="anchor" id="line-470"></span><span class="anchor" id="line-471"></span></li>
    </ul>
    <p class="line867"><span class="anchor" id="line-472"></span><span class="anchor" id="line-473"></span><span class="anchor" id="line-474"></span></p>
    <pre><span class="anchor" id="line-1-11"></span>AddType text/html .shtml
<span class="anchor" id="line-2-9"></span>AddOutputFilter INCLUDES .shtml</pre>
    <span class="anchor" id="line-475"></span>
    <p class="line874">This indicates that all files ending in ".shtml" in that location (or its descendants) should be parsed. Note that using ".html" will cause all normal HTML files to be parsed, which may put an inordinate load on your server. <span class="anchor" id="line-476"></span><span class="anchor" id="line-477"></span></p>
    <p class="line862">For additional information, see the <a class="http" href="http://httpd.apache.org/docs/current/mod/mod_include.html">mod_include documentation</a>. <span class="anchor" id="line-478"></span><span class="anchor" id="line-479"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_don.27t_my_parsed_files_get_cached.3F">Why don't my parsed files get cached?</h2> 
    <span class="anchor" id="line-480"></span>
    <p class="line874">Since the server is performing run-time processing of your SSI directives, which may change the content shipped to the client, it can't know at the time it starts parsing what the final size of the result will be, or whether the parsed result will always be the same. This means that it can't generate Content-Length or Last-Modified headers. Caches commonly work by comparing the Last-Modified of what's in the cache with that being delivered by the server. Since the server isn't sending that header for a parsed document, whatever's doing the caching can't tell whether the document has changed or not - and so fetches it again to be on the safe side. <span class="anchor" id="line-481"></span><span class="anchor" id="line-482"></span></p>
    <p class="line874">You can work around this in some cases by causing an Expires header to be generated. (See the mod_expires documentation for more details.) Another possibility is to use the XBitHack Full mechanism, which tells Apache to send (under certain circumstances detailed in the XBitHack directive description) a Last-Modified header based upon the last modification time of the file being parsed. Note that this may actually be lying to the client if the parsed file doesn't change but the SSI-inserted content does; if the included content changes often, this can result in stale copies being cached. <span class="anchor" id="line-483"></span><span class="anchor" id="line-484"></span></p>
    <p class="line867"> </p>
    <h2 id="How_can_I_have_my_script_output_parsed.3F">How can I have my script output parsed?</h2> 
    <span class="anchor" id="line-485"></span>
    <p class="line874">So you want to include SSI directives in the output from your CGI script, but can't figure out how to do it? The short answer is "you can't." This is potentially a security liability and, more importantly, it can not be cleanly implemented under the current server API. The best workaround is for your script itself to do what the SSIs would be doing. After all, it's generating the rest of the content. <span class="anchor" id="line-486"></span><span class="anchor" id="line-487"></span></p>
    <p class="line867"> </p>
    <h2 id="SSIs_don.27t_work_for_VirtualHosts_and.2For_user_home_directories.">SSIs don't work for VirtualHosts and/or user home directories.</h2> 
    <span class="anchor" id="line-488"></span>
    <p class="line862">This is almost always due to having some setting in your config file that sets "Options Includes" or some other setting for your <a class="nonexistent" href="/httpd/DocumentRoot">DocumentRoot</a> but not for other directories. If you set it inside a Directory section, then that setting will only apply to that directory. <span class="anchor" id="line-489"></span><span class="anchor" id="line-490"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_is_the_environment_variable_REMOTE_USER_not_set.3F">Why is the environment variable REMOTE_USER not set?</h2> 
    <span class="anchor" id="line-491"></span>
    <p class="line862">This variable is set and thus available in SSI or CGI scripts if and only if the requested document was protected by access authentication. For an explanation on how to implement these restrictions, see <a class="http" href="http://www.apacheweek.com/features/userauth">Apache Week's articles on Using User Authentication or DBM User Authentication</a>. <span class="anchor" id="line-492"></span><span class="anchor" id="line-493"></span></p>
    <p class="line874">Hint: When using a CGI script to receive the data of a HTML FORM, notice that protecting the document containing the FORM is not sufficient to provide REMOTE_USER to the CGI script. You have to protect the CGI script, too. Or alternatively only the CGI script (then authentication happens only after filling out the form). <span class="anchor" id="line-494"></span><span class="anchor" id="line-495"></span></p>
    <p class="line867"> </p>
    <h2 id="How_do_I_allow_each_of_my_user_directories_to_have_a_cgi-bin_directory.3F">How do I allow each of my user directories to have a cgi-bin directory?</h2> 
    <span class="anchor" id="line-496"></span>
    <p class="line874">Remember that CGI execution does not need to be restricted only to cgi-bin directories. You can allow CGI script execution in arbitrary parts of your filesystem. <span class="anchor" id="line-497"></span><span class="anchor" id="line-498"></span></p>
    <p class="line862">There are many ways to give each user directory a cgi-bin directory such that anything requested as <a class="http" href="http://example.com/~user/cgi-bin/program">http://example.com/~user/cgi-bin/program</a> will be executed as a CGI script. Two alternatives are: <span class="anchor" id="line-499"></span><span class="anchor" id="line-500"></span></p>
    <p class="line874">Place the cgi-bin directory next to the public_html directory: <span class="anchor" id="line-501"></span><span class="anchor" id="line-502"></span></p>
    <p class="line867"><span class="anchor" id="line-503"></span><span class="anchor" id="line-504"></span><span class="anchor" id="line-505"></span><span class="anchor" id="line-506"></span><span class="anchor" id="line-507"></span><span class="anchor" id="line-508"></span><span class="anchor" id="line-509"></span></p>
    <pre><span class="anchor" id="line-1-12"></span>ScriptAliasMatch ^/~([^/]*)/cgi-bin/(.*) /home/$1/cgi-bin/$2
<span class="anchor" id="line-2-10"></span>Place the cgi-bin directory underneath the public_html directory:
<span class="anchor" id="line-3-8"></span>&lt;Directory /home/*/public_html/cgi-bin&gt;
<span class="anchor" id="line-4-4"></span>    Options ExecCGI
<span class="anchor" id="line-5-3"></span>    SetHandler cgi-script
<span class="anchor" id="line-6-3"></span>&lt;/Directory&gt;</pre>
    <span class="anchor" id="line-510"></span>
    <p class="line874">If you are using suexec, the first technique will not work because CGI scripts must be stored under the public_html directory. <span class="anchor" id="line-511"></span><span class="anchor" id="line-512"></span></p>
    <p class="line867"> </p>
    <h1 id="Authentication_and_Access_Restrictions">Authentication and Access Restrictions</h1> 
    <span class="anchor" id="line-513"></span>
    <p class="line867"> </p>
    <h2 id="Why_isn.27t_restricting_access_by_host_or_domain_name_working_correctly.3F">Why isn't restricting access by host or domain name working correctly?</h2> 
    <span class="anchor" id="line-514"></span>
    <p class="line874">Two of the most common causes of this are: <span class="anchor" id="line-515"></span><span class="anchor" id="line-516"></span></p>
    <dl>
     <dt>
      An error, inconsistency, or unexpected mapping in the DNS registration
     </dt>
     <dd>
      <p class="line891"><br> <span class="anchor" id="line-517"></span><span class="anchor" id="line-518"></span></p>
     </dd>
    </dl>
    <p class="line862">This happens frequently: your configuration restricts access to Host.<a class="nonexistent" href="/httpd/FooBar">FooBar</a>.Com, but you can't get in from that host. The usual reason for this is that Host.<a class="nonexistent" href="/httpd/FooBar">FooBar</a>.Com is actually an alias for another name, and when Apache performs the address-to-name lookup it's getting the real name, not Host.<a class="nonexistent" href="/httpd/FooBar">FooBar</a>.Com. You can verify this by checking the reverse lookup yourself. The easiest way to work around it is to specify the correct host name in your configuration. <span class="anchor" id="line-519"></span><span class="anchor" id="line-520"></span></p>
    <dl>
     <dt>
      Inadequate checking and verification in your configuration of Apache
     </dt>
     <dd>
      <p class="line891"><br> <span class="anchor" id="line-521"></span><span class="anchor" id="line-522"></span></p>
     </dd>
    </dl>
    <p class="line874">If you intend to perform access checking and restriction based upon the client's host or domain name, you really need to configure Apache to double-check the origin information it's supplied. You do this by adding this to your configuration: <span class="anchor" id="line-523"></span><span class="anchor" id="line-524"></span></p>
    <p class="line867"><span class="anchor" id="line-525"></span><span class="anchor" id="line-526"></span></p>
    <pre><span class="anchor" id="line-1-13"></span>HostnameLookups Double</pre>
    <span class="anchor" id="line-527"></span>
    <p class="line874">This will cause Apache to be very paranoid about making sure a particular host address is really assigned to the name it claims to be. Note that this can incur a significant performance penalty, however, because of all the name resolution requests being sent to a nameserver. <span class="anchor" id="line-528"></span><span class="anchor" id="line-529"></span></p>
    <p class="line867"> </p>
    <h2 id="How_do_I_set_up_Apache_to_require_a_username_and_password_to_access_certain_documents.3F">How do I set up Apache to require a username and password to access certain documents?</h2> 
    <span class="anchor" id="line-530"></span>
    <p class="line862">There are several ways to do this; some of the more popular ones are to use the <a class="http" href="http://httpd.apache.org/docs/current/mod/mod_authn_file.html">mod_authn_file</a>, <a class="http" href="http://httpd.apache.org/docs/current/mod/mod_authn_dbd.html">mod_authn_dbd</a>, or <a class="http" href="http://httpd.apache.org/docs/current/mod/mod_authnz_ldap.html">mod_authnz_ldap</a> modules. <span class="anchor" id="line-531"></span><span class="anchor" id="line-532"></span></p>
    <p class="line862">For an explanation on how to implement these restrictions, see <a class="http" href="http://httpd.apache.org/docs/current/howto/auth.html">the authentication tutorial in the Apache HTTP Server documentation</a>. <span class="anchor" id="line-533"></span><span class="anchor" id="line-534"></span></p>
    <p class="line867"> </p>
    <h2 id="How_do_I_set_up_Apache_to_allow_access_to_certain_documents_only_if_a_site_is_either_a_local_site_or_the_user_supplies_a_password_and_username.3F">How do I set up Apache to allow access to certain documents only if a site is either a local site or the user supplies a password and username?</h2> 
    <span class="anchor" id="line-535"></span>
    <p class="line874">Use the Satisfy directive, in particular the Satisfy Any directive, to require that only one of the access restrictions be met. For example, adding the following configuration to a .htaccess or server configuration file would restrict access to people who either are accessing the site from a host under domain.com or who can supply a valid username and password: <span class="anchor" id="line-536"></span><span class="anchor" id="line-537"></span></p>
    <p class="line867"><span class="anchor" id="line-538"></span><span class="anchor" id="line-539"></span><span class="anchor" id="line-540"></span><span class="anchor" id="line-541"></span><span class="anchor" id="line-542"></span><span class="anchor" id="line-543"></span><span class="anchor" id="line-544"></span><span class="anchor" id="line-545"></span></p>
    <pre><span class="anchor" id="line-1-14"></span>Deny from all
<span class="anchor" id="line-2-11"></span>Allow from .domain.com
<span class="anchor" id="line-3-9"></span>AuthType Basic
<span class="anchor" id="line-4-5"></span>AuthUserFile /usr/local/apache/conf/htpasswd.users
<span class="anchor" id="line-5-4"></span>AuthName "special directory"
<span class="anchor" id="line-6-4"></span>Require valid-user
<span class="anchor" id="line-7-3"></span>Satisfy any</pre>
    <span class="anchor" id="line-546"></span>
    <p class="line862">See the user authentication question and the <a class="http" href="http://httpd.apache.org/docs/current/mod/mod_authz_host.html">mod_authnz_host module</a> for details on how the above directives work. <span class="anchor" id="line-547"></span><span class="anchor" id="line-548"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_does_my_authentication_give_me_a_server_error.3F">Why does my authentication give me a server error?</h2> 
    <span class="anchor" id="line-549"></span>
    <p class="line874">Under normal circumstances, the Apache access control modules will pass unrecognized user IDs on to the next access control module in line. Only if the user ID is recognized and the password is validated (or not) will it give the usual success or "authentication failed" messages. <span class="anchor" id="line-550"></span><span class="anchor" id="line-551"></span></p>
    <p class="line874">However, if the last access module in line 'declines' the validation request (because it has never heard of the user ID or because it is not configured), the http_request handler will give one of the following, confusing, errors: <span class="anchor" id="line-552"></span><span class="anchor" id="line-553"></span></p>
    <ul>
     <li>check access <span class="anchor" id="line-554"></span></li>
     <li>check user. No user file? <span class="anchor" id="line-555"></span></li>
     <li>check access. No groups file? <span class="anchor" id="line-556"></span><span class="anchor" id="line-557"></span></li>
    </ul>
    <p class="line862">This does not mean that you have to add an '<a class="nonexistent" href="/httpd/AuthUserFile">AuthUserFile</a> /dev/null' line as some magazines suggest! <span class="anchor" id="line-558"></span><span class="anchor" id="line-559"></span></p>
    <p class="line862">The solution is to ensure that at least the last module is authoritative and CONFIGURED. By default, mod_auth is authoritative and will give an OK/Denied, but only if it is configured with the proper <a class="nonexistent" href="/httpd/AuthUserFile">AuthUserFile</a>. Likewise, if a valid group is required. (Remember that the modules are processed in the reverse order from that in which they appear in your compile-time Configuration file.) <span class="anchor" id="line-560"></span><span class="anchor" id="line-561"></span></p>
    <p class="line874">A typical situation for this error is when you are using the mod_auth_dbm, mod_auth_msql, mod_auth_mysql, mod_auth_anon or mod_auth_cookie modules on their own. These are by default not authoritative, and this will pass the buck on to the (non-existent) next authentication module when the user ID is not in their respective database. Just add the appropriate 'XXXAuthoritative yes' line to the configuration. <span class="anchor" id="line-562"></span><span class="anchor" id="line-563"></span></p>
    <p class="line874">In general it is a good idea (though not terribly efficient) to have the file-based mod_auth a module of last resort. This allows you to access the web server with a few special passwords even if the databases are down or corrupted. This does cost a file open/seek/close for each request in a protected area. <span class="anchor" id="line-564"></span><span class="anchor" id="line-565"></span></p>
    <p class="line867"> </p>
    <h2 id="Do_I_have_to_keep_the_.28SQL.29_authentication_information_on_the_same_machine.3F">Do I have to keep the (SQL) authentication information on the same machine?</h2> 
    <span class="anchor" id="line-566"></span>
    <p class="line874">Some organizations feel very strongly about keeping the authentication information on a different machine than the webserver. With the mod_auth_msql, mod_auth_mysql, and other SQL modules connecting to (R)DBMses this is quite possible. Just configure an explicit host to contact. <span class="anchor" id="line-567"></span><span class="anchor" id="line-568"></span></p>
    <p class="line874">Be aware that with mSQL and Oracle, opening and closing these database connections is very expensive and time consuming. You might want to look at the code in the auth_* modules and play with the compile time flags to alleviate this somewhat, if your RDBMS licences allow for it. <span class="anchor" id="line-569"></span><span class="anchor" id="line-570"></span></p>
    <p class="line867"> </p>
    <h2 id="Can_I_use_my_.2Fetc.2Fpasswd_file_for_Web_page_authentication.3F">Can I use my /etc/passwd file for Web page authentication?</h2> 
    <span class="anchor" id="line-571"></span>
    <p class="line874">Yes, you can - but it's a very bad idea. Here are some of the reasons: <span class="anchor" id="line-572"></span><span class="anchor" id="line-573"></span></p>
    <ul>
     <li>The Web technology provides no governors on how often or how rapidly password (authentication failure) retries can be made. That means that someone can hammer away at your system's root password using the Web, using a dictionary or similar mass attack, just as fast as the wire and your server can handle the requests. Most operating systems these days include attack detection (such as n failed passwords for the same account within m seconds) and evasion (breaking the connection, disabling the account under attack, disabling all logins from that source, et cetera), but the Web does not. <span class="anchor" id="line-574"></span></li>
     <li>An account under attack isn't notified (unless the server is heavily modified); there's no "You have 19483 login failures" message when the legitimate owner logs in. <span class="anchor" id="line-575"></span></li>
     <li>Without an exhaustive and error-prone examination of the server logs, you can't tell whether an account has been compromised. Detecting that an attack has occurred, or is in progress, is fairly obvious, though - if you look at the logs. <span class="anchor" id="line-576"></span></li>
     <li>Web authentication passwords (at least for Basic authentication) generally fly across the wire, and through intermediate proxy systems, in what amounts to plain text. "O'er the net we go/Caching all the way;/O what fun it is to surf/Giving my password away!" <span class="anchor" id="line-577"></span></li>
     <li>Since HTTP is stateless, information about the authentication is transmitted each and every time a request is made to the server. Essentially, the client caches it after the first successful access, and transmits it without asking for all subsequent requests to the same server. <span class="anchor" id="line-578"></span></li>
     <li>It's relatively trivial for someone on your system to put up a page that will steal the cached password from a client's cache without them knowing. Can you say "password grabber"? <span class="anchor" id="line-579"></span><span class="anchor" id="line-580"></span></li>
    </ul>
    <p class="line874">If you still want to do this in light of the above disadvantages, the method is left as an exercise for the reader. It'll void your Apache warranty, though, and you'll lose all accumulated UNIX guru points. <span class="anchor" id="line-581"></span><span class="anchor" id="line-582"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_does_Apache_ask_for_my_password_twice_before_serving_a_file.3F">Why does Apache ask for my password twice before serving a file?</h2> 
    <span class="anchor" id="line-583"></span>
    <p class="line862">If the hostname under which you are accessing the server is different than the hostname specified in the <a class="nonexistent" href="/httpd/ServerName">ServerName</a> directive, then depending on the setting of the <a class="nonexistent" href="/httpd/UseCanonicalName">UseCanonicalName</a> directive, Apache will redirect you to a new hostname when constructing self-referential URLs. This happens, for example, in the case where you request a directory without including the trailing slash. <span class="anchor" id="line-584"></span><span class="anchor" id="line-585"></span></p>
    <p class="line874">When this happens, Apache will ask for authentication once under the original hostname, perform the redirect, and then ask again under the new hostname. For security reasons, the browser must prompt again for the password when the host name changes. <span class="anchor" id="line-586"></span><span class="anchor" id="line-587"></span></p>
    <p class="line874">To eliminate this problem you should <span class="anchor" id="line-588"></span><span class="anchor" id="line-589"></span></p>
    <ul>
     <li>Always use the trailing slash when requesting directories; <span class="anchor" id="line-590"></span></li>
     <li><p class="line862">Change the <a class="nonexistent" href="/httpd/ServerName">ServerName</a> to match the name you are using in the URL; <span class="anchor" id="line-591"></span></p></li>
     <li><p class="line862">and/or Set <a class="nonexistent" href="/httpd/UseCanonicalName">UseCanonicalName</a> off. <span class="anchor" id="line-592"></span><span class="anchor" id="line-593"></span></p></li>
    </ul>
    <p class="line867"> </p>
    <h2 id="How_can_I_prevent_people_from_.22stealing.22_the_images_from_my_web_site.3F">How can I prevent people from "stealing" the images from my web site?</h2> 
    <span class="anchor" id="line-594"></span>
    <p class="line874">The goal here is to prevent people from inlining your images directly from their web site, but accessing them only if they appear inline in your pages. <span class="anchor" id="line-595"></span><span class="anchor" id="line-596"></span></p>
    <p class="line862">This can be accomplished with a combination of <a class="nonexistent" href="/httpd/SetEnvIf">SetEnvIf</a> and the Deny and Allow directives. However, it is important to understand that any access restriction based on the REFERER header is intrinsically problematic due to the fact that browsers can send an incorrect REFERER, either because they want to circumvent your restriction or simply because they don't send the right thing (or anything at all). <span class="anchor" id="line-597"></span><span class="anchor" id="line-598"></span></p>
    <p class="line874">The following configuration will produce the desired effect if the browser passes correct REFERER headers. <span class="anchor" id="line-599"></span><span class="anchor" id="line-600"></span></p>
    <p class="line867"><span class="anchor" id="line-601"></span><span class="anchor" id="line-602"></span><span class="anchor" id="line-603"></span><span class="anchor" id="line-604"></span><span class="anchor" id="line-605"></span><span class="anchor" id="line-606"></span><span class="anchor" id="line-607"></span><span class="anchor" id="line-608"></span><span class="anchor" id="line-609"></span></p>
    <pre><span class="anchor" id="line-1-15"></span>SetEnvIf REFERER "www\.mydomain\.com" linked_from_here
<span class="anchor" id="line-2-12"></span>SetEnvIf REFERER "^$" linked_from_here
<span class="anchor" id="line-3-10"></span>
<span class="anchor" id="line-4-6"></span>&lt;Directory /www/images&gt;
<span class="anchor" id="line-5-5"></span>    Order deny,allow
<span class="anchor" id="line-6-5"></span>    Deny from all
<span class="anchor" id="line-7-4"></span>    Allow from env=linked_from_here
<span class="anchor" id="line-8-3"></span>&lt;/Directory&gt;</pre>
    <span class="anchor" id="line-610"></span>
    <p class="line874">Further examples can be found in the Environment Variables documentation. <span class="anchor" id="line-611"></span><span class="anchor" id="line-612"></span></p>
    <p class="line867"> </p>
    <h1 id="URL_Rewriting">URL Rewriting</h1> 
    <span class="anchor" id="line-613"></span>
    <p class="line867"> </p>
    <h2 id="Where_can_I_find_mod_rewrite_rulesets_which_already_solve_particular_URL-related_problems.3F">Where can I find mod_rewrite rulesets which already solve particular URL-related problems?</h2> 
    <span class="anchor" id="line-614"></span>
    <p class="line862">There is a collection of practical solutions that can be found in the <a class="http" href="http://httpd.apache.org/docs/current/rewrite/">URL Rewriting Guide</a>. If you have more interesting rulesets which solve particular problems not currently covered in this document, open a doc suggestion in bugzilla to add it. The other webmasters will thank you for avoiding the reinvention of the wheel. <span class="anchor" id="line-615"></span><span class="anchor" id="line-616"></span></p>
    <p class="line867"> </p>
    <h2 id="Where_can_I_find_any_published_information_about_URL-manipulations_and_mod_rewrite.3F">Where can I find any published information about URL-manipulations and mod_rewrite?</h2> 
    <span class="anchor" id="line-617"></span>
    <p class="line862">There is an article from Ralf S. Engelschall about URL-manipulations based on mod_rewrite in the "iX Multiuser Multitasking Magazin" issue #12/96. The German (original) version can be read online at &lt;<a class="http" href="http://www.heise.de/ix/artikel/1996/12/149/>">http://www.heise.de/ix/artikel/1996/12/149/&gt;</a>, the English (translated) version can be found at &lt;<a class="http" href="http://www.heise.de/ix/artikel/E/1996/12/149/>">http://www.heise.de/ix/artikel/E/1996/12/149/&gt;</a>. <span class="anchor" id="line-618"></span><span class="anchor" id="line-619"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_is_mod_rewrite_so_difficult_to_learn_and_seems_so_complicated.3F">Why is mod_rewrite so difficult to learn and seems so complicated?</h2> 
    <span class="anchor" id="line-620"></span>
    <p class="line874">Hmmm... there are a lot of reasons. First, mod_rewrite itself is a powerful module which can help you in really all aspects of URL rewriting, so it can be no trivial module per definition. To accomplish its hard job it uses software leverage and makes use of a powerful regular expression library by Henry Spencer. And regular expressions itself can be difficult to newbies, while providing the most flexible power to the advanced hacker. <span class="anchor" id="line-621"></span><span class="anchor" id="line-622"></span></p>
    <p class="line862">On the other hand mod_rewrite has to work inside the Apache API environment and needs to do some tricks to fit there. For instance the Apache API really was not designed for URL rewriting at the .htaccess level of processing. Or the problem of multiple rewrites in sequence, which is also not handled by the API per design. To provide this features mod_rewrite has to do some special (but API compliant!) handling which leads to difficult processing inside the Apache kernel. While the user usually doesn't see anything of this processing, it can be difficult to find problems when some of your <a class="nonexistent" href="/httpd/RewriteRules">RewriteRules</a> seem not to work. <span class="anchor" id="line-623"></span><span class="anchor" id="line-624"></span></p>
    <p class="line867"> </p>
    <h2 id="What_can_I_do_if_my_RewriteRules_don.27t_work_as_expected.3F">What can I do if my RewriteRules don't work as expected?</h2> 
    <span class="anchor" id="line-625"></span>
    <p class="line862">Use "<a href="/httpd/RewriteLog">RewriteLog</a> somefile" and "<a href="/httpd/RewriteLogLevel">RewriteLogLevel</a> 9" and have a precise look at the steps the rewriting engine performs. This is really the only one and best way to debug your rewriting configuration. <span class="anchor" id="line-626"></span><span class="anchor" id="line-627"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_don.27t_some_of_my_URLs_get_prefixed_with_DocumentRoot_when_using_mod_rewrite.3F">Why don't some of my URLs get prefixed with DocumentRoot when using mod_rewrite?</h2> 
    <span class="anchor" id="line-628"></span>
    <p class="line862">If the rule starts with /somedir/... make sure that really no /somedir exists on the filesystem if you don't want to lead the URL to match this directory, i.e., there must be no root directory named somedir on the filesystem. Because if there is such a directory, the URL will not get prefixed with <a class="nonexistent" href="/httpd/DocumentRoot">DocumentRoot</a>. This behavior looks ugly, but is really important for some other aspects of URL rewriting. <span class="anchor" id="line-629"></span><span class="anchor" id="line-630"></span></p>
    <p class="line867"> </p>
    <h2 id="How_can_I_make_all_my_URLs_case-insensitive_with_mod_rewrite.3F">How can I make all my URLs case-insensitive with mod_rewrite?</h2> 
    <span class="anchor" id="line-631"></span>
    <p class="line874">You can't! The reasons are: first, that, case translations for arbitrary length URLs cannot be done via regex patterns and corresponding substitutions. One needs a per-character pattern like the sed/Perl tr|..|..| feature. Second, just making URLs always upper or lower case does not solve the whole problem of case-INSENSITIVE URLs, because URLs actually have to be rewritten to the correct case-variant for the file residing on the filesystem in order to allow Apache to access the file. And the Unix filesystem is always case-SENSITIVE. <span class="anchor" id="line-632"></span><span class="anchor" id="line-633"></span></p>
    <p class="line874">But there is a module named mod_speling.c in the Apache distribution. Try this module to help correct people who use mis-cased URLs. <span class="anchor" id="line-634"></span><span class="anchor" id="line-635"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_are_RewriteRules_in_my_VirtualHost_parts_ignored.3F">Why are RewriteRules in my VirtualHost parts ignored?</h2> 
    <span class="anchor" id="line-636"></span>
    <p class="line862">Because you have to enable the engine for every virtual host explicitly due to security concerns. Just add a "<a class="nonexistent" href="/httpd/RewriteEngine">RewriteEngine</a> on" to your virtual host configuration parts. <span class="anchor" id="line-637"></span><span class="anchor" id="line-638"></span></p>
    <p class="line867"> </p>
    <h2 id="How_can_I_use_strings_with_whitespaces_in_RewriteRule.27s_ENV_flag.3F">How can I use strings with whitespaces in RewriteRule's ENV flag?</h2> 
    <span class="anchor" id="line-639"></span>
    <p class="line862">There is only one ugly solution: You have to surround the complete flag argument by quotation marks ("[E=...]"). Notice: The argument to quote here is not the argument to the E-flag, it is the argument of the Apache config file parser, i.e., the third argument of the <a href="/httpd/RewriteRule">RewriteRule</a> here. So you have to write "[E=any text with whitespaces]". <span class="anchor" id="line-640"></span><span class="anchor" id="line-641"></span></p>
    <p class="line867"> </p>
    <h1 id="Features">Features</h1> 
    <span class="anchor" id="line-642"></span>
    <p class="line867"> </p>
    <h2 id="Does_or_will_Apache_act_as_a_Proxy_server.3F">Does or will Apache act as a Proxy server?</h2> 
    <span class="anchor" id="line-643"></span>
    <p class="line867"><a class="http" href="http://httpd.apache.org/docs/current/mod/mod_proxy.html">mod_proxy</a> provides proxying functionality for a variety of protocols. <span class="anchor" id="line-644"></span><span class="anchor" id="line-645"></span></p>
    <p class="line867"> </p>
    <h2 id="What_are_.22multiviews.22.3F">What are "multiviews"?</h2> 
    <span class="anchor" id="line-646"></span>
    <p class="line862">"Multiviews" is the general name given to the Apache server's ability to provide language-specific document variants in response to a request. This is documented quite thoroughly in the content negotiation description page. In addition, Apache Week carried an article on this subject entitled <a class="http" href="http://www.apacheweek.com/features/negotiation">"Content Negotiation Explained"</a>. <span class="anchor" id="line-647"></span><span class="anchor" id="line-648"></span></p>
    <p class="line867"> </p>
    <h2 id="Why_can.27t_I_publish_to_my_Apache_server_using_PUT_on_Netscape_Gold_and_other_programs.3F">Why can't I publish to my Apache server using PUT on Netscape Gold and other programs?</h2> 
    <span class="anchor" id="line-649"></span>
    <p class="line862">Because you need to install and configure a script to handle the uploaded files. This script is often called a "PUT" handler. There are several available, but they may have security problems. Using FTP uploads may be easier and more secure, at least for now. For more information, see the <a class="http" href="http://www.apacheweek.com/features/put">Apache Week article Publishing Pages with PUT</a>. <span class="anchor" id="line-650"></span><span class="anchor" id="line-651"></span></p>
    <p class="line867"> </p>
    <h2 id="How_can_I_attach_a_footer_to_my_documents_without_using_SSI.3F">How can I attach a footer to my documents without using SSI?</h2> 
    <span class="anchor" id="line-652"></span>
    <p class="line874">You can make arbitrary changes to static documents by configuring an Action which launches a CGI script. The CGI is then responsible for setting a content-type and delivering the requested document (the location of which is passed in the PATH_TRANSLATED environment variable), along with whatever footer is needed. <span class="anchor" id="line-653"></span><span class="anchor" id="line-654"></span></p>
    <p class="line874">Busy sites may not want to run a CGI script on every request, and should consider using an Apache module to add the footer. There are several third party modules available through the Apache Module Registry which will add footers to documents. These include mod_trailer, PHP (php3_auto_append_file), mod_layout, and mod_perl (Apache::Sandwich). <span class="anchor" id="line-655"></span><span class="anchor" id="line-656"></span></p>
    <p class="line867"> </p>
    <h2 id="Does_Apache_include_a_search_engine.3F">Does Apache include a search engine?</h2> 
    <span class="anchor" id="line-657"></span>
    <p class="line874">Apache does not include a search engine, but there are many good commercial and free search engines which can be used easily with Apache. Some of them are listed on the Web Site Search Tools page. Open source search engines that are often used with Apache include ht://Dig and SWISH-E. <span class="anchor" id="line-658"></span><span class="anchor" id="line-659"></span></p>
    <p class="line867"> </p>
    <h2 id="How_can_I_rotate_my_log_files.3F">How can I rotate my log files?</h2> 
    <span class="anchor" id="line-660"></span>
    <p class="line874">The simple answer: by piping the transfer log into an appropriate log file rotation utility. <span class="anchor" id="line-661"></span><span class="anchor" id="line-662"></span></p>
    <p class="line874">The longer answer: In the src/support/ directory, you will find a utility called rotatelogs which can be used like this: <span class="anchor" id="line-663"></span><span class="anchor" id="line-664"></span></p>
    <p class="line867"><span class="anchor" id="line-665"></span><span class="anchor" id="line-666"></span></p>
    <pre><span class="anchor" id="line-1-16"></span>   TransferLog "|/path/to/rotatelogs /path/to/logs/access_log 86400</pre>
    <span class="anchor" id="line-667"></span>
    <p class="line862">to enable daily rotation of the log files. A more sophisticated solution of a logfile rotation utility is available under the name cronolog from Andrew Ford's site at <a class="http" href="http://www.cronolog.org/">http://www.cronolog.org/</a>. It can automatically create logfile subdirectories based on time and date, and can have a constant symlink point to the rotating logfiles. (As of version 1.6.1, cronolog is available under the Apache License). Use it like this: <span class="anchor" id="line-668"></span><span class="anchor" id="line-669"></span></p>
    <p class="line867"><span class="anchor" id="line-670"></span><span class="anchor" id="line-671"></span></p>
    <pre><span class="anchor" id="line-1-17"></span>   CustomLog "|/path/to/cronolog --symlink=/usr/local/apache/logs/access_log /usr/local/apache/logs/%Y/%m/access_log" combined</pre>
    <span class="anchor" id="line-672"></span>
    <p class="line867"> </p>
    <h2 id="How_do_I_keep_certain_requests_from_appearing_in_my_logs.3F">How do I keep certain requests from appearing in my logs?</h2> 
    <span class="anchor" id="line-673"></span>
    <p class="line862">The maximum flexibility for removing unwanted information from log files is obtained by post-processing the logs, or using piped-logs to feed the logs through a program which does whatever you want. However, Apache does offer the ability to prevent requests from ever appearing in the log files. You can do this by using the <a class="nonexistent" href="/httpd/SetEnvIf">SetEnvIf</a> directive to set an environment variable for certain requests and then using the conditional <a class="nonexistent" href="/httpd/CustomLog">CustomLog</a> syntax to prevent logging when the environment variable is set. <span class="anchor" id="line-674"></span><span class="anchor" id="line-675"></span></p>
    <p class="line867"> </p>
    <h2 id="Does_Apache_support_any_sort_of_database_integration.3F">Does Apache support any sort of database integration?</h2> 
    <span class="anchor" id="line-676"></span>
    <p class="line874">No. Apache is a Web (HTTP) server, not an application server. The base package does not include any such functionality. See the PHP project and the mod_perl project for examples of modules that allow you to work with databases from within the Apache environment. <span class="anchor" id="line-677"></span><span class="anchor" id="line-678"></span></p>
    <p class="line867"> </p>
    <h2 id="Can_I_use_Active_Server_Pages_.28ASP.29_with_Apache.3F">Can I use Active Server Pages (ASP) with Apache?</h2> 
    <span class="anchor" id="line-679"></span>
    <p class="line874">The base Apache Web Server package does not include ASP support. However, a number of projects provide ASP or ASP-like functionality for Apache. Some of these are: <span class="anchor" id="line-680"></span><span class="anchor" id="line-681"></span></p>
    <ul>
     <li>Apache::ASP <span class="anchor" id="line-682"></span></li>
     <li>mod_mono <span class="anchor" id="line-683"></span><span class="anchor" id="line-684"></span></li>
    </ul>
    <p class="line874">See also the related projects page to find out more. <span class="anchor" id="line-685"></span><span class="anchor" id="line-686"></span></p>
    <p class="line867"> </p>
    <h2 id="Does_Apache_come_with_Java_support.3F">Does Apache come with Java support?</h2> 
    <span class="anchor" id="line-687"></span>
    <p class="line862">The base Apache Web server package does not include support for Java, Java Server Pages, Enterprise Java Beans, or Java servlets. Those features are available as add-ons from other Apache projects such as <a class="http" href="http://projects.apache.org/projects/geronimo.html">Geronimo</a> and <a class="http" href="http://tomcat.apache.org/">Tomcat</a>. <span class="anchor" id="line-688"></span><span class="anchor" id="bottom"></span></p>
   </div>
   <p id="pageinfo" class="info" lang="en" dir="ltr">FAQ (last edited 2015-12-16 23:37:10 by <span title="thumbs @ 192.252.134.234[192.252.134.234]"><a class="nonexistent" href="/httpd/thumbs" title="thumbs @ 192.252.134.234[192.252.134.234]">thumbs</a></span>)</p> 
   <div id="pagebottom"></div> 
  </div> 
  <div id="footer"> 
   <ul class="editbar">
    <li><span class="disabled">Immutable Page</span></li>
    <li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onclick="toggleComments();return false;">Comments</a></li>
    <li><a class="nbinfo" href="/httpd/FAQ?action=info" rel="nofollow">Info</a></li>
    <li><a class="nbattachments" href="/httpd/FAQ?action=AttachFile" rel="nofollow">Attachments</a></li>
    <li> 
     <form class="actionsmenu" method="GET" action="/httpd/FAQ"> 
      <div> 
       <label>More Actions:</label> 
       <select name="action" onchange="if ((this.selectedIndex != 0) &amp;&amp;
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;"> <option value="raw">Raw Text</option> <option value="print">Print View</option> <option value="RenderAsDocbook">Render as Docbook</option> <option value="refresh">Delete Cache</option> <option value="show" disabled class="disabled">------------------------</option> <option value="SpellCheck">Check Spelling</option> <option value="LikePages">Like Pages</option> <option value="LocalSiteMap">Local Site Map</option> <option value="show" disabled class="disabled">------------------------</option> <option value="RenamePage" disabled class="disabled">Rename Page</option> <option value="CopyPage">Copy Page</option> <option value="DeletePage" disabled class="disabled">Delete Page</option> <option value="show" disabled class="disabled">------------------------</option> <option value="MyPages">My Pages</option> <option value="show" disabled class="disabled">Subscribe User</option> <option value="show" disabled class="disabled">------------------------</option> <option value="show" disabled class="disabled">Remove Spam</option> <option value="show" disabled class="disabled">Revert to this revision</option> <option value="PackagePages">Package Pages</option> <option value="SyncPages">Sync Pages</option> <option value="show" disabled class="disabled">------------------------</option> <option value="Load">Load</option> <option value="Save">Save</option> <option value="SlideShow">SlideShow</option> </select> 
       <input type="submit" value="Do"> 
      </div> 
      <script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script> 
     </form> </li>
   </ul> 
   <ul id="credits"> 
    <li><a href="http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li>
    <li><a href="http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li>
    <li><a href="http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li>
    <li><a href="http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li> 
   </ul> 
  </div>   
 </body>
</html>