<!doctype html>
<html lang="en" dir="ltr" class="client-nojs">
 <head> 
  <title>SimpleJSON - Unify Community Wiki</title> 
  <meta charset="UTF-8"> 
  <meta name="generator" content="MediaWiki 1.19.24"> 
  <link rel="shortcut icon" href="/favicon.ico"> 
  <link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="Unify Community Wiki (en)"> 
  <link rel="EditURI" type="application/rsd+xml" href="http://wiki.unity3d.com/api.php?action=rsd"> 
  <link rel="copyright" href="http://creativecommons.org/licenses/by-sa/3.0/"> 
  <link rel="alternate" type="application/atom+xml" title="Unify Community Wiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom"> 
  <link rel="stylesheet" href="http://wiki.unity3d.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.vector&amp;only=styles&amp;skin=vector&amp;*"> 
  <meta name="ResourceLoaderDynamicStyles" content=""> 
  <link rel="stylesheet" href="http://wiki.unity3d.com/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*"> 
  <style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}a.new,#quickbar a.new{color:#ba0000}

/* cache key: mediawiki:resourceloader:filter:minify-css:7:c88e2bcd56513749bec09a7e29cb3ffa */
</style> 
  <script src="http://wiki.unity3d.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script> 
  <script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"SimpleJSON","wgTitle":"SimpleJSON","wgCurRevisionId":19892,"wgArticleId":4805,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["C Sharp","Scripts","Utility","JSON","JavaScript"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgRelevantPageName":"SimpleJSON","wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script>
  <script>if(window.mw){
mw.loader.implement("user.options",function($){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,
"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;},{},{});mw.loader.implement("user.tokens",function($){mw.user.tokens.set({"editToken":"+\\","watchToken":false});;},{},{});

/* cache key: mediawiki:resourceloader:filter:minify-js:7:9983699ab6150ffa89a90653b2338ac8 */
}</script> 
  <script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script> 
  <style type="text/css">/*<![CDATA[*/
.source-csharp {line-height: normal;}
.source-csharp li, .source-csharp pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for csharp
 * CSS class: source-csharp, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.csharp.source-csharp .de1, .csharp.source-csharp .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
.csharp.source-csharp  {font-family:monospace;}
.csharp.source-csharp .imp {font-weight: bold; color: red;}
.csharp.source-csharp li, .csharp.source-csharp .li1 {font-weight: normal; vertical-align:top;}
.csharp.source-csharp .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.csharp.source-csharp .li2 {font-weight: bold; vertical-align:top;}
.csharp.source-csharp .kw1 {color: #0600FF; font-weight: bold;}
.csharp.source-csharp .kw2 {color: #FF8000; font-weight: bold;}
.csharp.source-csharp .kw3 {color: #008000;}
.csharp.source-csharp .kw4 {color: #6666cc; font-weight: bold;}
.csharp.source-csharp .kw5 {color: #000000;}
.csharp.source-csharp .co1 {color: #008080; font-style: italic;}
.csharp.source-csharp .co2 {color: #008080;}
.csharp.source-csharp .co3 {color: #008080;}
.csharp.source-csharp .coMULTI {color: #008080; font-style: italic;}
.csharp.source-csharp .es0 {color: #008080; font-weight: bold;}
.csharp.source-csharp .es_h {color: #008080; font-weight: bold;}
.csharp.source-csharp .br0 {color: #008000;}
.csharp.source-csharp .sy0 {color: #008000;}
.csharp.source-csharp .st0 {color: #666666;}
.csharp.source-csharp .st_h {color: #666666;}
.csharp.source-csharp .nu0 {color: #FF0000;}
.csharp.source-csharp .me1 {color: #0000FF;}
.csharp.source-csharp .me2 {color: #0000FF;}
.csharp.source-csharp .ln-xtra, .csharp.source-csharp li.ln-xtra, .csharp.source-csharp div.ln-xtra {background-color: #ffc;}
.csharp.source-csharp span.xtra { display:block; }

/*]]>*/
</style>
  <style type="text/css">/*<![CDATA[*/
.source-javascript {line-height: normal;}
.source-javascript li, .source-javascript pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for javascript
 * CSS class: source-javascript, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.javascript.source-javascript .de1, .javascript.source-javascript .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
.javascript.source-javascript  {font-family:monospace;}
.javascript.source-javascript .imp {font-weight: bold; color: red;}
.javascript.source-javascript li, .javascript.source-javascript .li1 {font-weight: normal; vertical-align:top;}
.javascript.source-javascript .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.javascript.source-javascript .li2 {font-weight: bold; vertical-align:top;}
.javascript.source-javascript .kw1 {color: #000066; font-weight: bold;}
.javascript.source-javascript .kw2 {color: #003366; font-weight: bold;}
.javascript.source-javascript .kw3 {color: #000066;}
.javascript.source-javascript .co1 {color: #006600; font-style: italic;}
.javascript.source-javascript .co2 {color: #009966; font-style: italic;}
.javascript.source-javascript .coMULTI {color: #006600; font-style: italic;}
.javascript.source-javascript .es0 {color: #000099; font-weight: bold;}
.javascript.source-javascript .br0 {color: #009900;}
.javascript.source-javascript .sy0 {color: #339933;}
.javascript.source-javascript .st0 {color: #3366CC;}
.javascript.source-javascript .nu0 {color: #CC0000;}
.javascript.source-javascript .me1 {color: #660066;}
.javascript.source-javascript .ln-xtra, .javascript.source-javascript li.ln-xtra, .javascript.source-javascript div.ln-xtra {background-color: #ffc;}
.javascript.source-javascript span.xtra { display:block; }

/*]]>*/
</style>
  <!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]-->
 </head> 
 <body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-SimpleJSON skin-vector action-view"> 
  <div id="mw-page-base" class="noprint"></div> 
  <div id="mw-head-base" class="noprint"></div> 
  <!-- content --> 
  <div id="content" class="mw-body"> 
   <a id="top"></a> 
   <div id="mw-js-message" style="display:none;"></div> 
   <!-- firstHeading --> 
   <h1 id="firstHeading" class="firstHeading"> <span dir="auto">SimpleJSON</span> </h1> 
   <!-- /firstHeading --> 
   <!-- bodyContent --> 
   <div id="bodyContent"> 
    <!-- tagline --> 
    <div id="siteSub">
     From Unify Community Wiki
    </div> 
    <!-- /tagline --> 
    <!-- subtitle --> 
    <div id="contentSub"></div> 
    <!-- /subtitle --> 
    <!-- jumpto --> 
    <div id="jump-to-nav" class="mw-jump">
      Jump to: 
     <a href="#mw-head">navigation</a>, 
     <a href="#p-search">search</a> 
    </div> 
    <!-- /jumpto --> 
    <!-- bodycontent --> 
    <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
     <p><br> </p> 
     <table id="toc" class="toc">
      <tbody>
       <tr>
        <td>
         <div id="toctitle">
          <h2>Contents</h2>
         </div> 
         <ul> 
          <li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li> 
          <li class="toclevel-1 tocsection-2"><a href="#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a> 
           <ul> 
            <li class="toclevel-2 tocsection-3"><a href="#CSharp"><span class="tocnumber">2.1</span> <span class="toctext">CSharp</span></a></li> 
            <li class="toclevel-2 tocsection-4"><a href="#UnityScript_.28Unity.27s_Javascript.29"><span class="tocnumber">2.2</span> <span class="toctext">UnityScript (Unity's Javascript)</span></a></li> 
           </ul> </li> 
          <li class="toclevel-1 tocsection-5"><a href="#Examples_.28C.23_.2F_UnityScript.29"><span class="tocnumber">3</span> <span class="toctext">Examples (C# / UnityScript)</span></a></li> 
          <li class="toclevel-1 tocsection-6"><a href="#SimpleJSON.cs"><span class="tocnumber">4</span> <span class="toctext">SimpleJSON.cs</span></a></li> 
         </ul> </td>
       </tr>
      </tbody>
     </table> 
     <h2> <span class="mw-headline" id="Description"> Description </span></h2> 
     <p>SimpleJSON is an easy to use JSON parser and builder. It uses strong typed classes for the different JSONTypes. The parser / builder does now distinguish between different value types. Number, boolean and null will now be handled correctly. </p>
     <p>The whole framework should conform to <a rel="nofollow" class="external text" href="http://tools.ietf.org/html/rfc4627">rfc4627</a> </p> 
     <h2> <span class="mw-headline" id="Usage"> Usage </span></h2> 
     <p>To use SimpleJSON in Unity you just have to copy the SimpleJSON.cs file into your projects "plugins" folder inside your assets folder. </p>
     <p>If you want to use the compression feature when it comes to saving and loading you have to download the <a rel="nofollow" class="external text" href="http://www.icsharpcode.net/opensource/sharpziplib/">SharpZipLib</a> assembly and place it next to the SimpleJSON.cs file. In addition you have to uncomment the define at the top of the SimpleJSON.cs file. </p>
     <p>For language specific usage see below. </p> 
     <h3> <span class="mw-headline" id="CSharp"> CSharp </span></h3> 
     <p>Like most assemblies SimpleJSON is contained in its own namespace to avoid name collisions. </p>
     <p>To use SimpleJSON in C# you have to add this line at the top of your script: </p> 
     <div dir="ltr" class="mw-geshi mw-content-ltr">
      <div class="csharp source-csharp">
       <pre class="de1"><span class="kw1">using</span> <span class="co3">SimpleJSON</span><span class="sy0">;</span></pre>
      </div>
     </div> 
     <h3> <span class="mw-headline" id="UnityScript_.28Unity.27s_Javascript.29"> UnityScript (Unity's Javascript) </span></h3> 
     <p>To use SimpleJSON in UnityScript you have to add this line at the top of your script: </p> 
     <div dir="ltr" class="mw-geshi mw-content-ltr">
      <div class="javascript source-javascript">
       <pre class="de1"><span class="kw2">import</span> SimpleJSON<span class="sy0">;</span></pre>
      </div>
     </div> 
     <p>For UnityScript it's vital to place the SimpleJSON.cs (and SharpZipLib if needed) into a <a rel="nofollow" class="external text" href="http://docs.unity3d.com/412/Documentation/ScriptReference/index.Script_compilation_28Advanced29.html">higher compilation group</a> than the UnityScript file that should use it. The usual place is the Plugins folder which should work in most cases. </p> 
     <h2> <span class="mw-headline" id="Examples_.28C.23_.2F_UnityScript.29"> Examples (C# / UnityScript) </span></h2> 
     <p>This is the JSON string which will be used in this example: </p> 
     <div dir="ltr" class="mw-geshi mw-content-ltr">
      <div class="javascript source-javascript">
       <pre class="de1"><span class="br0">{</span>
    <span class="st0">"version"</span><span class="sy0">:</span> <span class="st0">"1.0"</span><span class="sy0">,</span>
    <span class="st0">"data"</span><span class="sy0">:</span> <span class="br0">{</span>
        <span class="st0">"sampleArray"</span><span class="sy0">:</span> <span class="br0">[</span>
            <span class="st0">"string value"</span><span class="sy0">,</span>
            <span class="nu0">5</span><span class="sy0">,</span>
            <span class="br0">{</span>
                <span class="st0">"name"</span><span class="sy0">:</span> <span class="st0">"sub object"</span>
            <span class="br0">}</span>
        <span class="br0">]</span>
    <span class="br0">}</span>
<span class="br0">}</span></pre>
      </div>
     </div> 
     <p><br> </p> 
     <div dir="ltr" class="mw-geshi mw-content-ltr">
      <div class="csharp source-csharp">
       <pre class="de1">var N <span class="sy0">=</span> JSON<span class="sy0">.</span><span class="me1">Parse</span><span class="br0">(</span>the_JSON_string<span class="br0">)</span><span class="sy0">;</span>
var versionString <span class="sy0">=</span> N<span class="br0">[</span><span class="st0">"version"</span><span class="br0">]</span><span class="sy0">.</span><span class="me1">Value</span><span class="sy0">;</span>        <span class="co1">// versionString will be a string containing "1.0"</span>
var versionNumber <span class="sy0">=</span> N<span class="br0">[</span><span class="st0">"version"</span><span class="br0">]</span><span class="sy0">.</span><span class="me1">AsFloat</span><span class="sy0">;</span>      <span class="co1">// versionNumber will be a float containing 1.0</span>
var name <span class="sy0">=</span> N<span class="br0">[</span><span class="st0">"data"</span><span class="br0">]</span><span class="br0">[</span><span class="st0">"sampleArray"</span><span class="br0">]</span><span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><span class="br0">[</span><span class="st0">"name"</span><span class="br0">]</span><span class="sy0">;</span><span class="co1">// name will be a string containing "sub object"</span>
&nbsp;
<span class="co1">//C#</span>
<span class="kw4">string</span> val <span class="sy0">=</span> N<span class="br0">[</span><span class="st0">"data"</span><span class="br0">]</span><span class="br0">[</span><span class="st0">"sampleArray"</span><span class="br0">]</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="sy0">;</span>      <span class="co1">// val contains "string value"</span>
&nbsp;
<span class="co1">//UnityScript</span>
var val <span class="sy0">:</span> <span class="kw4">String</span> <span class="sy0">=</span> N<span class="br0">[</span><span class="st0">"data"</span><span class="br0">]</span><span class="br0">[</span><span class="st0">"sampleArray"</span><span class="br0">]</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="sy0">;</span><span class="co1">// val contains "string value"</span>
&nbsp;
var i <span class="sy0">=</span> N<span class="br0">[</span><span class="st0">"data"</span><span class="br0">]</span><span class="br0">[</span><span class="st0">"sampleArray"</span><span class="br0">]</span><span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><span class="sy0">.</span><span class="me1">AsInt</span><span class="sy0">;</span>     <span class="co1">// i will be an integer containing 5</span>
N<span class="br0">[</span><span class="st0">"data"</span><span class="br0">]</span><span class="br0">[</span><span class="st0">"sampleArray"</span><span class="br0">]</span><span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><span class="sy0">.</span><span class="me1">AsInt</span> <span class="sy0">=</span> i<span class="sy0">+</span><span class="nu0">6</span><span class="sy0">;</span>       <span class="co1">// the second value in sampleArray will contain "11"</span>
&nbsp;
N<span class="br0">[</span><span class="st0">"additional"</span><span class="br0">]</span><span class="br0">[</span><span class="st0">"second"</span><span class="br0">]</span><span class="br0">[</span><span class="st0">"name"</span><span class="br0">]</span> <span class="sy0">=</span> <span class="st0">"FooBar"</span><span class="sy0">;</span>  <span class="co1">// this will create a new object named "additional" in this object create another</span>
                                               <span class="co1">//object "second" in this object add a string variable "name"</span>
&nbsp;
var mCount <span class="sy0">=</span> N<span class="br0">[</span><span class="st0">"countries"</span><span class="br0">]</span><span class="br0">[</span><span class="st0">"germany"</span><span class="br0">]</span><span class="br0">[</span><span class="st0">"moronCount"</span><span class="br0">]</span><span class="sy0">.</span><span class="me1">AsInt</span><span class="sy0">;</span> <span class="co1">// this will return 0 and create all the required objects and</span>
                                                            <span class="co1">// initialize "moronCount" with 0.</span>
&nbsp;
<span class="kw1">if</span> <span class="br0">(</span>N<span class="br0">[</span><span class="st0">"wrong"</span><span class="br0">]</span> <span class="sy0">!=</span> <span class="kw1">null</span><span class="br0">)</span>                        <span class="co1">// this won't execute the if-statement since "wrong" doesn't exist</span>
<span class="br0">{</span><span class="br0">}</span>
<span class="kw1">if</span> <span class="br0">(</span>N<span class="br0">[</span><span class="st0">"wrong"</span><span class="br0">]</span><span class="sy0">.</span><span class="me1">AsInt</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span>                     <span class="co1">// this will execute the if-statement and in addition add the "wrong" value.</span>
<span class="br0">{</span><span class="br0">}</span>
&nbsp;
N<span class="br0">[</span><span class="st0">"data"</span><span class="br0">]</span><span class="br0">[</span><span class="st0">"sampleArray"</span><span class="br0">]</span><span class="br0">[</span><span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span> <span class="sy0">=</span> <span class="st0">"Test"</span><span class="sy0">;</span>         <span class="co1">// this will add another string to the end of the array</span>
N<span class="br0">[</span><span class="st0">"data"</span><span class="br0">]</span><span class="br0">[</span><span class="st0">"sampleArray"</span><span class="br0">]</span><span class="br0">[</span><span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">[</span><span class="st0">"name"</span><span class="br0">]</span> <span class="sy0">=</span> <span class="st0">"FooBar"</span><span class="sy0">;</span> <span class="co1">// this will add another object to the end of the array which contains a string named "name"</span>
&nbsp;
N<span class="br0">[</span><span class="st0">"data"</span><span class="br0">]</span> <span class="sy0">=</span> <span class="st0">"erased"</span><span class="sy0">;</span>                          <span class="co1">// this will replace the object stored in data with the string "erased"</span></pre>
      </div>
     </div> 
     <p><br> </p> 
     <h2> <span class="mw-headline" id="SimpleJSON.cs"> SimpleJSON.cs </span></h2> 
     <div dir="ltr" class="mw-geshi mw-content-ltr">
      <div class="csharp source-csharp">
       <pre class="de1"><span class="co1">//#define USE_SharpZipLib</span>
<span class="co2">#if&nbsp;!UNITY_WEBPLAYER</span>
<span class="co2">#define USE_FileIO</span>
<span class="co2">#endif</span>
<span class="coMULTI">/* * * * *
 * A simple JSON Parser / builder
 * ------------------------------
 * 
 * It mainly has been written as a simple JSON parser. It can build a JSON string
 * from the node-tree, or generate a node tree from any valid JSON string.
 * 
 * If you want to use compression when saving to file / stream / B64 you have to include
 * SharpZipLib ( http://www.icsharpcode.net/opensource/sharpziplib/ ) in your project and
 * define "USE_SharpZipLib" at the top of the file
 * 
 * Written by Bunny83 
 * 2012-06-09
 * 
 *
 * Features / attributes:
 * - provides strongly typed node classes and lists / dictionaries
 * - provides easy access to class members / array items / data values
 * - the parser now properly identifies types. So generating JSON with this framework should work.
 * - only double quotes (") are used for quoting strings.
 * - provides "casting" properties to easily convert to / from those types:
 *   int / float / double / bool
 * - provides a common interface for each node so no explicit casting is required.
 * - the parser tries to avoid errors, but if malformed JSON is parsed the result is more or less undefined
 * - It can serialize/deserialize a node tree into/from an experimental compact binary format. It might
 *   be handy if you want to store things in a file and don't want it to be easily modifiable
 * 
 * 
 * 2012-12-17 Update:
 * - Added internal JSONLazyCreator class which simplifies the construction of a JSON tree
 *   Now you can simple reference any item that doesn't exist yet and it will return a JSONLazyCreator
 *   The class determines the required type by it's further use, creates the type and removes itself.
 * - Added binary serialization / deserialization.
 * - Added support for BZip2 zipped binary format. Requires the SharpZipLib ( http://www.icsharpcode.net/opensource/sharpziplib/ )
 *   The usage of the SharpZipLib library can be disabled by removing or commenting out the USE_SharpZipLib define at the top
 * - The serializer uses different types when it comes to store the values. Since my data values
 *   are all of type string, the serializer will "try" which format fits best. The order is: int, float, double, bool, string.
 *   It's not the most efficient way but for a moderate amount of data it should work on all platforms.
 * 
 * 2017-03-08 Update:
 * - Optimised parsing by using a StringBuilder for token. This prevents performance issues when large
 *   string data fields are contained in the json data.
 * - Finally refactored the badly named JSONClass into JSONObject.
 * - Replaced the old JSONData class by distict typed classes ( JSONString, JSONNumber, JSONBool, JSONNull ) this
 *   allows to propertly convert the node tree back to json without type information loss. The actual value
 *   parsing now happens at parsing time and not when you actually access one of the casting properties.
 * 
 * 2017-04-11 Update:
 * - Fixed parsing bug where empty string values have been ignored.
 * - Optimised "ToString" by using a StringBuilder internally. This should heavily improve performance for large files
 * - Changed the overload of "ToString(string aIndent)" to "ToString(int aIndent)"
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) 2012-2017 Markus Göbel
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 * * * * */</span>
<span class="kw1">using</span> <span class="co3">System</span><span class="sy0">;</span>
<span class="kw1">using</span> <span class="co3">System.Collections</span><span class="sy0">;</span>
<span class="kw1">using</span> <span class="co3">System.Collections.Generic</span><span class="sy0">;</span>
<span class="kw1">using</span> <span class="co3">System.Linq</span><span class="sy0">;</span>
<span class="kw1">using</span> <span class="co3">System.Text</span><span class="sy0">;</span>
&nbsp;
<span class="kw1">namespace</span> SimpleJSON
<span class="br0">{</span>
    <span class="kw1">public</span> <span class="kw4">enum</span> JSONNodeType
    <span class="br0">{</span>
        Array <span class="sy0">=</span> <span class="nu0">1</span>,
        <span class="kw4">Object</span> <span class="sy0">=</span> <span class="nu0">2</span>,
        <span class="kw4">String</span> <span class="sy0">=</span> <span class="nu0">3</span>,
        Number <span class="sy0">=</span> <span class="nu0">4</span>,
        NullValue <span class="sy0">=</span> <span class="nu0">5</span>,
        Boolean <span class="sy0">=</span> <span class="nu0">6</span>,
        None <span class="sy0">=</span> <span class="nu0">7</span>,
    <span class="br0">}</span>
    <span class="kw1">public</span> <span class="kw4">enum</span> JSONTextMode
    <span class="br0">{</span>
        Compact,
        Indent
    <span class="br0">}</span>
&nbsp;
    <span class="kw1">public</span> abstract <span class="kw1">partial</span> <span class="kw4">class</span> JSONNode
    <span class="br0">{</span>
        <span class="co2">#region common interface</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">virtual</span> JSONNode <span class="kw1">this</span><span class="br0">[</span><span class="kw4">int</span> aIndex<span class="br0">]</span> <span class="br0">{</span> get <span class="br0">{</span> <span class="kw1">return</span> <span class="kw1">null</span><span class="sy0">;</span> <span class="br0">}</span> set <span class="br0">{</span> <span class="br0">}</span> <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">virtual</span> JSONNode <span class="kw1">this</span><span class="br0">[</span><span class="kw4">string</span> aKey<span class="br0">]</span> <span class="br0">{</span> get <span class="br0">{</span> <span class="kw1">return</span> <span class="kw1">null</span><span class="sy0">;</span> <span class="br0">}</span> set <span class="br0">{</span> <span class="br0">}</span> <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">virtual</span> <span class="kw4">string</span> Value <span class="br0">{</span> get <span class="br0">{</span> <span class="kw1">return</span> <span class="st0">""</span><span class="sy0">;</span> <span class="br0">}</span> set <span class="br0">{</span> <span class="br0">}</span> <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">virtual</span> <span class="kw4">int</span> Count <span class="br0">{</span> get <span class="br0">{</span> <span class="kw1">return</span> <span class="nu0">0</span><span class="sy0">;</span> <span class="br0">}</span> <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">virtual</span> <span class="kw4">bool</span> IsNumber <span class="br0">{</span> get <span class="br0">{</span> <span class="kw1">return</span> <span class="kw1">false</span><span class="sy0">;</span> <span class="br0">}</span> <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">virtual</span> <span class="kw4">bool</span> IsString <span class="br0">{</span> get <span class="br0">{</span> <span class="kw1">return</span> <span class="kw1">false</span><span class="sy0">;</span> <span class="br0">}</span> <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">virtual</span> <span class="kw4">bool</span> IsBoolean <span class="br0">{</span> get <span class="br0">{</span> <span class="kw1">return</span> <span class="kw1">false</span><span class="sy0">;</span> <span class="br0">}</span> <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">virtual</span> <span class="kw4">bool</span> IsNull <span class="br0">{</span> get <span class="br0">{</span> <span class="kw1">return</span> <span class="kw1">false</span><span class="sy0">;</span> <span class="br0">}</span> <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">virtual</span> <span class="kw4">bool</span> IsArray <span class="br0">{</span> get <span class="br0">{</span> <span class="kw1">return</span> <span class="kw1">false</span><span class="sy0">;</span> <span class="br0">}</span> <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">virtual</span> <span class="kw4">bool</span> IsObject <span class="br0">{</span> get <span class="br0">{</span> <span class="kw1">return</span> <span class="kw1">false</span><span class="sy0">;</span> <span class="br0">}</span> <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">virtual</span> <span class="kw4">void</span> Add<span class="br0">(</span><span class="kw4">string</span> aKey, JSONNode aItem<span class="br0">)</span>
        <span class="br0">{</span>
        <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">virtual</span> <span class="kw4">void</span> Add<span class="br0">(</span>JSONNode aItem<span class="br0">)</span>
        <span class="br0">{</span>
            Add<span class="br0">(</span><span class="st0">""</span>, aItem<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">virtual</span> JSONNode Remove<span class="br0">(</span><span class="kw4">string</span> aKey<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">return</span> <span class="kw1">null</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">virtual</span> JSONNode Remove<span class="br0">(</span><span class="kw4">int</span> aIndex<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">return</span> <span class="kw1">null</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">virtual</span> JSONNode Remove<span class="br0">(</span>JSONNode aNode<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">return</span> aNode<span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">virtual</span> IEnumerable<span class="sy0">&lt;</span>JSONNode<span class="sy0">&gt;</span> Children
        <span class="br0">{</span>
            get
            <span class="br0">{</span>
                <span class="kw1">yield</span> <span class="kw1">break</span><span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> IEnumerable<span class="sy0">&lt;</span>JSONNode<span class="sy0">&gt;</span> DeepChildren
        <span class="br0">{</span>
            get
            <span class="br0">{</span>
                <span class="kw1">foreach</span> <span class="br0">(</span>var C <span class="kw1">in</span> Children<span class="br0">)</span>
                    <span class="kw1">foreach</span> <span class="br0">(</span>var D <span class="kw1">in</span> C<span class="sy0">.</span><span class="me1">DeepChildren</span><span class="br0">)</span>
                        <span class="kw1">yield</span> <span class="kw1">return</span> D<span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">string</span> ToString<span class="br0">(</span><span class="br0">)</span>
        <span class="br0">{</span>
            StringBuilder sb <span class="sy0">=</span> <span class="kw3">new</span> StringBuilder<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
            WriteToStringBuilder<span class="br0">(</span>sb, <span class="nu0">0</span>, <span class="nu0">0</span>, JSONTextMode<span class="sy0">.</span><span class="me1">Compact</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="kw1">return</span> sb<span class="sy0">.</span><span class="me1">ToString</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">virtual</span> <span class="kw4">string</span> ToString<span class="br0">(</span><span class="kw4">int</span> aIndent<span class="br0">)</span>
        <span class="br0">{</span>
            StringBuilder sb <span class="sy0">=</span> <span class="kw3">new</span> StringBuilder<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
            WriteToStringBuilder<span class="br0">(</span>sb, <span class="nu0">0</span>, aIndent, JSONTextMode<span class="sy0">.</span><span class="me1">Indent</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="kw1">return</span> sb<span class="sy0">.</span><span class="me1">ToString</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
        <span class="kw1">internal</span> abstract <span class="kw4">void</span> WriteToStringBuilder<span class="br0">(</span>StringBuilder aSB, <span class="kw4">int</span> aIndent, <span class="kw4">int</span> aIndentInc, JSONTextMode aMode<span class="br0">)</span><span class="sy0">;</span>
&nbsp;
        <span class="co2">#endregion common interface</span>
&nbsp;
        <span class="co2">#region typecasting properties</span>
&nbsp;
        <span class="kw1">public</span> abstract JSONNodeType Tag <span class="br0">{</span> get<span class="sy0">;</span> <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">virtual</span> <span class="kw4">double</span> AsDouble
        <span class="br0">{</span>
            get
            <span class="br0">{</span>
                <span class="kw4">double</span> v <span class="sy0">=</span> <span class="nu0">0.0</span><span class="sy0">;</span>
                <span class="kw1">if</span> <span class="br0">(</span><span class="kw4">double</span><span class="sy0">.</span><span class="me1">TryParse</span><span class="br0">(</span>Value, <span class="kw1">out</span> v<span class="br0">)</span><span class="br0">)</span>
                    <span class="kw1">return</span> v<span class="sy0">;</span>
                <span class="kw1">return</span> <span class="nu0">0.0</span><span class="sy0">;</span>
            <span class="br0">}</span>
            set
            <span class="br0">{</span>
                Value <span class="sy0">=</span> value<span class="sy0">.</span><span class="me1">ToString</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">virtual</span> <span class="kw4">int</span> AsInt
        <span class="br0">{</span>
            get <span class="br0">{</span> <span class="kw1">return</span> <span class="br0">(</span><span class="kw4">int</span><span class="br0">)</span>AsDouble<span class="sy0">;</span> <span class="br0">}</span>
            set <span class="br0">{</span> AsDouble <span class="sy0">=</span> value<span class="sy0">;</span> <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">virtual</span> <span class="kw4">float</span> AsFloat
        <span class="br0">{</span>
            get <span class="br0">{</span> <span class="kw1">return</span> <span class="br0">(</span><span class="kw4">float</span><span class="br0">)</span>AsDouble<span class="sy0">;</span> <span class="br0">}</span>
            set <span class="br0">{</span> AsDouble <span class="sy0">=</span> value<span class="sy0">;</span> <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">virtual</span> <span class="kw4">bool</span> AsBool
        <span class="br0">{</span>
            get
            <span class="br0">{</span>
                <span class="kw4">bool</span> v <span class="sy0">=</span> <span class="kw1">false</span><span class="sy0">;</span>
                <span class="kw1">if</span> <span class="br0">(</span><span class="kw4">bool</span><span class="sy0">.</span><span class="me1">TryParse</span><span class="br0">(</span>Value, <span class="kw1">out</span> v<span class="br0">)</span><span class="br0">)</span>
                    <span class="kw1">return</span> v<span class="sy0">;</span>
                <span class="kw1">return</span> <span class="sy0">!</span><span class="kw4">string</span><span class="sy0">.</span><span class="me1">IsNullOrEmpty</span><span class="br0">(</span>Value<span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
            set
            <span class="br0">{</span>
                Value <span class="sy0">=</span> <span class="br0">(</span>value<span class="br0">)</span> <span class="sy0">?</span> <span class="st0">"true"</span> <span class="sy0">:</span> <span class="st0">"false"</span><span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">virtual</span> JSONArray AsArray
        <span class="br0">{</span>
            get
            <span class="br0">{</span>
                <span class="kw1">return</span> <span class="kw1">this</span> <span class="kw1">as</span> JSONArray<span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">virtual</span> JSONObject AsObject
        <span class="br0">{</span>
            get
            <span class="br0">{</span>
                <span class="kw1">return</span> <span class="kw1">this</span> <span class="kw1">as</span> JSONObject<span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
&nbsp;
        <span class="co2">#endregion typecasting properties</span>
&nbsp;
        <span class="co2">#region operators</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw1">implicit</span> <span class="kw1">operator</span> JSONNode<span class="br0">(</span><span class="kw4">string</span> s<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">return</span> <span class="kw3">new</span> JSONString<span class="br0">(</span>s<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw1">implicit</span> <span class="kw1">operator</span> <span class="kw4">string</span><span class="br0">(</span>JSONNode d<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">return</span> <span class="br0">(</span>d <span class="sy0">==</span> <span class="kw1">null</span><span class="br0">)</span> <span class="sy0">?</span> <span class="kw1">null</span> <span class="sy0">:</span> d<span class="sy0">.</span><span class="me1">Value</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw1">implicit</span> <span class="kw1">operator</span> JSONNode<span class="br0">(</span><span class="kw4">double</span> n<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">return</span> <span class="kw3">new</span> JSONNumber<span class="br0">(</span>n<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw1">implicit</span> <span class="kw1">operator</span> <span class="kw4">double</span><span class="br0">(</span>JSONNode d<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">return</span> <span class="br0">(</span>d <span class="sy0">==</span> <span class="kw1">null</span><span class="br0">)</span> <span class="sy0">?</span> <span class="nu0">0</span> <span class="sy0">:</span> d<span class="sy0">.</span><span class="me1">AsDouble</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw1">implicit</span> <span class="kw1">operator</span> JSONNode<span class="br0">(</span><span class="kw4">float</span> n<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">return</span> <span class="kw3">new</span> JSONNumber<span class="br0">(</span>n<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw1">implicit</span> <span class="kw1">operator</span> <span class="kw4">float</span><span class="br0">(</span>JSONNode d<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">return</span> <span class="br0">(</span>d <span class="sy0">==</span> <span class="kw1">null</span><span class="br0">)</span> <span class="sy0">?</span> <span class="nu0">0</span> <span class="sy0">:</span> d<span class="sy0">.</span><span class="me1">AsFloat</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw1">implicit</span> <span class="kw1">operator</span> JSONNode<span class="br0">(</span><span class="kw4">int</span> n<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">return</span> <span class="kw3">new</span> JSONNumber<span class="br0">(</span>n<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw1">implicit</span> <span class="kw1">operator</span> <span class="kw4">int</span><span class="br0">(</span>JSONNode d<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">return</span> <span class="br0">(</span>d <span class="sy0">==</span> <span class="kw1">null</span><span class="br0">)</span> <span class="sy0">?</span> <span class="nu0">0</span> <span class="sy0">:</span> d<span class="sy0">.</span><span class="me1">AsInt</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw1">implicit</span> <span class="kw1">operator</span> JSONNode<span class="br0">(</span><span class="kw4">bool</span> b<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">return</span> <span class="kw3">new</span> JSONBool<span class="br0">(</span>b<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw1">implicit</span> <span class="kw1">operator</span> <span class="kw4">bool</span><span class="br0">(</span>JSONNode d<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">return</span> <span class="br0">(</span>d <span class="sy0">==</span> <span class="kw1">null</span><span class="br0">)</span> <span class="sy0">?</span> <span class="kw1">false</span> <span class="sy0">:</span> d<span class="sy0">.</span><span class="me1">AsBool</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">bool</span> <span class="kw1">operator</span> <span class="sy0">==</span><span class="br0">(</span>JSONNode a, <span class="kw4">object</span> b<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">if</span> <span class="br0">(</span>ReferenceEquals<span class="br0">(</span>a, b<span class="br0">)</span><span class="br0">)</span>
                <span class="kw1">return</span> <span class="kw1">true</span><span class="sy0">;</span>
            <span class="kw4">bool</span> aIsNull <span class="sy0">=</span> a <span class="kw3">is</span> JSONNull <span class="sy0">||</span> ReferenceEquals<span class="br0">(</span>a, <span class="kw1">null</span><span class="br0">)</span> <span class="sy0">||</span> a <span class="kw3">is</span> JSONLazyCreator<span class="sy0">;</span>
            <span class="kw4">bool</span> bIsNull <span class="sy0">=</span> b <span class="kw3">is</span> JSONNull <span class="sy0">||</span> ReferenceEquals<span class="br0">(</span>b, <span class="kw1">null</span><span class="br0">)</span> <span class="sy0">||</span> b <span class="kw3">is</span> JSONLazyCreator<span class="sy0">;</span>
            <span class="kw1">if</span> <span class="br0">(</span>aIsNull <span class="sy0">&amp;&amp;</span> bIsNull<span class="br0">)</span>
                <span class="kw1">return</span> <span class="kw1">true</span><span class="sy0">;</span>
            <span class="kw1">return</span> a<span class="sy0">.</span><span class="me1">Equals</span><span class="br0">(</span>b<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">bool</span> <span class="kw1">operator</span> <span class="sy0">!=</span><span class="br0">(</span>JSONNode a, <span class="kw4">object</span> b<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">return</span> <span class="sy0">!</span><span class="br0">(</span>a <span class="sy0">==</span> b<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">bool</span> Equals<span class="br0">(</span><span class="kw4">object</span> obj<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">return</span> ReferenceEquals<span class="br0">(</span><span class="kw1">this</span>, obj<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">int</span> GetHashCode<span class="br0">(</span><span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">return</span> <span class="kw1">base</span><span class="sy0">.</span><span class="me1">GetHashCode</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="co2">#endregion operators</span>
        <span class="kw1">internal</span> <span class="kw1">static</span> StringBuilder m_EscapeBuilder <span class="sy0">=</span> <span class="kw3">new</span> StringBuilder<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="kw1">internal</span> <span class="kw1">static</span> <span class="kw4">string</span> Escape<span class="br0">(</span><span class="kw4">string</span> aText<span class="br0">)</span>
        <span class="br0">{</span>
            m_EscapeBuilder<span class="sy0">.</span><span class="me1">Length</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
            <span class="kw1">if</span> <span class="br0">(</span>m_EscapeBuilder<span class="sy0">.</span><span class="me1">Capacity</span> <span class="sy0">&lt;</span> aText<span class="sy0">.</span><span class="me1">Length</span> <span class="sy0">+</span> aText<span class="sy0">.</span><span class="me1">Length</span> <span class="sy0">/</span> <span class="nu0">10</span><span class="br0">)</span>
                m_EscapeBuilder<span class="sy0">.</span><span class="me1">Capacity</span> <span class="sy0">=</span> aText<span class="sy0">.</span><span class="me1">Length</span> <span class="sy0">+</span> aText<span class="sy0">.</span><span class="me1">Length</span> <span class="sy0">/</span> <span class="nu0">10</span><span class="sy0">;</span>
            <span class="kw1">foreach</span> <span class="br0">(</span><span class="kw4">char</span> c <span class="kw1">in</span> aText<span class="br0">)</span>
            <span class="br0">{</span>
                <span class="kw1">switch</span> <span class="br0">(</span>c<span class="br0">)</span>
                <span class="br0">{</span>
                    <span class="kw1">case</span> <span class="st0">'<span class="es0">\\</span>'</span><span class="sy0">:</span>
                        m_EscapeBuilder<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">"<span class="es0">\\</span><span class="es0">\\</span>"</span><span class="br0">)</span><span class="sy0">;</span>
                        <span class="kw1">break</span><span class="sy0">;</span>
                    <span class="kw1">case</span> <span class="st0">'<span class="es0">\"</span>'</span><span class="sy0">:</span>
                        m_EscapeBuilder<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">"<span class="es0">\\</span><span class="es0">\"</span>"</span><span class="br0">)</span><span class="sy0">;</span>
                        <span class="kw1">break</span><span class="sy0">;</span>
                    <span class="kw1">case</span> <span class="st0">'<span class="es0">\n</span>'</span><span class="sy0">:</span>
                        m_EscapeBuilder<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">"<span class="es0">\\</span>n"</span><span class="br0">)</span><span class="sy0">;</span>
                        <span class="kw1">break</span><span class="sy0">;</span>
                    <span class="kw1">case</span> <span class="st0">'<span class="es0">\r</span>'</span><span class="sy0">:</span>
                        m_EscapeBuilder<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">"<span class="es0">\\</span>r"</span><span class="br0">)</span><span class="sy0">;</span>
                        <span class="kw1">break</span><span class="sy0">;</span>
                    <span class="kw1">case</span> <span class="st0">'<span class="es0">\t</span>'</span><span class="sy0">:</span>
                        m_EscapeBuilder<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">"<span class="es0">\\</span>t"</span><span class="br0">)</span><span class="sy0">;</span>
                        <span class="kw1">break</span><span class="sy0">;</span>
                    <span class="kw1">case</span> <span class="st0">'<span class="es0">\b</span>'</span><span class="sy0">:</span>
                        m_EscapeBuilder<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">"<span class="es0">\\</span>b"</span><span class="br0">)</span><span class="sy0">;</span>
                        <span class="kw1">break</span><span class="sy0">;</span>
                    <span class="kw1">case</span> <span class="st0">'<span class="es0">\f</span>'</span><span class="sy0">:</span>
                        m_EscapeBuilder<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">"<span class="es0">\\</span>f"</span><span class="br0">)</span><span class="sy0">;</span>
                        <span class="kw1">break</span><span class="sy0">;</span>
                    <span class="kw1">default</span><span class="sy0">:</span>
                        m_EscapeBuilder<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span>c<span class="br0">)</span><span class="sy0">;</span>
                        <span class="kw1">break</span><span class="sy0">;</span>
                <span class="br0">}</span>
            <span class="br0">}</span>
            <span class="kw4">string</span> result <span class="sy0">=</span> m_EscapeBuilder<span class="sy0">.</span><span class="me1">ToString</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
            m_EscapeBuilder<span class="sy0">.</span><span class="me1">Length</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
            <span class="kw1">return</span> result<span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">static</span> <span class="kw4">void</span> ParseElement<span class="br0">(</span>JSONNode ctx, <span class="kw4">string</span> token, <span class="kw4">string</span> tokenName, <span class="kw4">bool</span> quoted<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">if</span> <span class="br0">(</span>quoted<span class="br0">)</span>
            <span class="br0">{</span>
                ctx<span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span>tokenName, token<span class="br0">)</span><span class="sy0">;</span>
                <span class="kw1">return</span><span class="sy0">;</span>
            <span class="br0">}</span>
            <span class="kw4">string</span> tmp <span class="sy0">=</span> token<span class="sy0">.</span><span class="me1">ToLower</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="kw1">if</span> <span class="br0">(</span>tmp <span class="sy0">==</span> <span class="st0">"false"</span> <span class="sy0">||</span> tmp <span class="sy0">==</span> <span class="st0">"true"</span><span class="br0">)</span>
                ctx<span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span>tokenName, tmp <span class="sy0">==</span> <span class="st0">"true"</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>tmp <span class="sy0">==</span> <span class="st0">"null"</span><span class="br0">)</span>
                ctx<span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span>tokenName, <span class="kw1">null</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="kw1">else</span>
            <span class="br0">{</span>
                <span class="kw4">double</span> val<span class="sy0">;</span>
                <span class="kw1">if</span> <span class="br0">(</span><span class="kw4">double</span><span class="sy0">.</span><span class="me1">TryParse</span><span class="br0">(</span>token, <span class="kw1">out</span> val<span class="br0">)</span><span class="br0">)</span>
                    ctx<span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span>tokenName, val<span class="br0">)</span><span class="sy0">;</span>
                <span class="kw1">else</span>
                    ctx<span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span>tokenName, token<span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">static</span> JSONNode Parse<span class="br0">(</span><span class="kw4">string</span> aJSON<span class="br0">)</span>
        <span class="br0">{</span>
            Stack<span class="sy0">&lt;</span>JSONNode<span class="sy0">&gt;</span> stack <span class="sy0">=</span> <span class="kw3">new</span> Stack<span class="sy0">&lt;</span>JSONNode<span class="sy0">&gt;</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
            JSONNode ctx <span class="sy0">=</span> <span class="kw1">null</span><span class="sy0">;</span>
            <span class="kw4">int</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
            StringBuilder Token <span class="sy0">=</span> <span class="kw3">new</span> StringBuilder<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="kw4">string</span> TokenName <span class="sy0">=</span> <span class="st0">""</span><span class="sy0">;</span>
            <span class="kw4">bool</span> QuoteMode <span class="sy0">=</span> <span class="kw1">false</span><span class="sy0">;</span>
            <span class="kw4">bool</span> TokenIsQuoted <span class="sy0">=</span> <span class="kw1">false</span><span class="sy0">;</span>
            <span class="kw1">while</span> <span class="br0">(</span>i <span class="sy0">&lt;</span> aJSON<span class="sy0">.</span><span class="me1">Length</span><span class="br0">)</span>
            <span class="br0">{</span>
                <span class="kw1">switch</span> <span class="br0">(</span>aJSON<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span>
                <span class="br0">{</span>
                    <span class="kw1">case</span> <span class="st0">'{'</span><span class="sy0">:</span>
                        <span class="kw1">if</span> <span class="br0">(</span>QuoteMode<span class="br0">)</span>
                        <span class="br0">{</span>
                            Token<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span>aJSON<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span>
                            <span class="kw1">break</span><span class="sy0">;</span>
                        <span class="br0">}</span>
                        stack<span class="sy0">.</span><span class="me1">Push</span><span class="br0">(</span><span class="kw3">new</span> JSONObject<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
                        <span class="kw1">if</span> <span class="br0">(</span>ctx <span class="sy0">!=</span> <span class="kw1">null</span><span class="br0">)</span>
                        <span class="br0">{</span>
                            ctx<span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span>TokenName, stack<span class="sy0">.</span><span class="me1">Peek</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
                        <span class="br0">}</span>
                        TokenName <span class="sy0">=</span> <span class="st0">""</span><span class="sy0">;</span>
                        Token<span class="sy0">.</span><span class="me1">Length</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
                        ctx <span class="sy0">=</span> stack<span class="sy0">.</span><span class="me1">Peek</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                        <span class="kw1">break</span><span class="sy0">;</span>
&nbsp;
                    <span class="kw1">case</span> <span class="st0">'['</span><span class="sy0">:</span>
                        <span class="kw1">if</span> <span class="br0">(</span>QuoteMode<span class="br0">)</span>
                        <span class="br0">{</span>
                            Token<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span>aJSON<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span>
                            <span class="kw1">break</span><span class="sy0">;</span>
                        <span class="br0">}</span>
&nbsp;
                        stack<span class="sy0">.</span><span class="me1">Push</span><span class="br0">(</span><span class="kw3">new</span> JSONArray<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
                        <span class="kw1">if</span> <span class="br0">(</span>ctx <span class="sy0">!=</span> <span class="kw1">null</span><span class="br0">)</span>
                        <span class="br0">{</span>
                            ctx<span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span>TokenName, stack<span class="sy0">.</span><span class="me1">Peek</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
                        <span class="br0">}</span>
                        TokenName <span class="sy0">=</span> <span class="st0">""</span><span class="sy0">;</span>
                        Token<span class="sy0">.</span><span class="me1">Length</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
                        ctx <span class="sy0">=</span> stack<span class="sy0">.</span><span class="me1">Peek</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                        <span class="kw1">break</span><span class="sy0">;</span>
&nbsp;
                    <span class="kw1">case</span> <span class="st0">'}'</span><span class="sy0">:</span>
                    <span class="kw1">case</span> <span class="st0">']'</span><span class="sy0">:</span>
                        <span class="kw1">if</span> <span class="br0">(</span>QuoteMode<span class="br0">)</span>
                        <span class="br0">{</span>
&nbsp;
                            Token<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span>aJSON<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span>
                            <span class="kw1">break</span><span class="sy0">;</span>
                        <span class="br0">}</span>
                        <span class="kw1">if</span> <span class="br0">(</span>stack<span class="sy0">.</span><span class="me1">Count</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span>
                            <span class="kw1">throw</span> <span class="kw3">new</span> Exception<span class="br0">(</span><span class="st0">"JSON Parse: Too many closing brackets"</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;
                        stack<span class="sy0">.</span><span class="me1">Pop</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                        <span class="kw1">if</span> <span class="br0">(</span>Token<span class="sy0">.</span><span class="me1">Length</span> <span class="sy0">&gt;</span> <span class="nu0">0</span> <span class="sy0">||</span> TokenIsQuoted<span class="br0">)</span>
                        <span class="br0">{</span>
                            ParseElement<span class="br0">(</span>ctx, Token<span class="sy0">.</span><span class="me1">ToString</span><span class="br0">(</span><span class="br0">)</span>, TokenName, TokenIsQuoted<span class="br0">)</span><span class="sy0">;</span>
                            TokenIsQuoted <span class="sy0">=</span> <span class="kw1">false</span><span class="sy0">;</span>
                        <span class="br0">}</span>
                        TokenName <span class="sy0">=</span> <span class="st0">""</span><span class="sy0">;</span>
                        Token<span class="sy0">.</span><span class="me1">Length</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
                        <span class="kw1">if</span> <span class="br0">(</span>stack<span class="sy0">.</span><span class="me1">Count</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">)</span>
                            ctx <span class="sy0">=</span> stack<span class="sy0">.</span><span class="me1">Peek</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                        <span class="kw1">break</span><span class="sy0">;</span>
&nbsp;
                    <span class="kw1">case</span> <span class="st0">':'</span><span class="sy0">:</span>
                        <span class="kw1">if</span> <span class="br0">(</span>QuoteMode<span class="br0">)</span>
                        <span class="br0">{</span>
                            Token<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span>aJSON<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span>
                            <span class="kw1">break</span><span class="sy0">;</span>
                        <span class="br0">}</span>
                        TokenName <span class="sy0">=</span> Token<span class="sy0">.</span><span class="me1">ToString</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                        Token<span class="sy0">.</span><span class="me1">Length</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
                        TokenIsQuoted <span class="sy0">=</span> <span class="kw1">false</span><span class="sy0">;</span>
                        <span class="kw1">break</span><span class="sy0">;</span>
&nbsp;
                    <span class="kw1">case</span> <span class="st0">'"'</span><span class="sy0">:</span>
                        QuoteMode <span class="sy0">^=</span> <span class="kw1">true</span><span class="sy0">;</span>
                        TokenIsQuoted <span class="sy0">|=</span> QuoteMode<span class="sy0">;</span>
                        <span class="kw1">break</span><span class="sy0">;</span>
&nbsp;
                    <span class="kw1">case</span> <span class="st0">','</span><span class="sy0">:</span>
                        <span class="kw1">if</span> <span class="br0">(</span>QuoteMode<span class="br0">)</span>
                        <span class="br0">{</span>
                            Token<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span>aJSON<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span>
                            <span class="kw1">break</span><span class="sy0">;</span>
                        <span class="br0">}</span>
                        <span class="kw1">if</span> <span class="br0">(</span>Token<span class="sy0">.</span><span class="me1">Length</span> <span class="sy0">&gt;</span> <span class="nu0">0</span> <span class="sy0">||</span> TokenIsQuoted<span class="br0">)</span>
                        <span class="br0">{</span>
                            ParseElement<span class="br0">(</span>ctx, Token<span class="sy0">.</span><span class="me1">ToString</span><span class="br0">(</span><span class="br0">)</span>, TokenName, TokenIsQuoted<span class="br0">)</span><span class="sy0">;</span>
                            TokenIsQuoted <span class="sy0">=</span> <span class="kw1">false</span><span class="sy0">;</span>
                        <span class="br0">}</span>
                        TokenName <span class="sy0">=</span> <span class="st0">""</span><span class="sy0">;</span>
                        Token<span class="sy0">.</span><span class="me1">Length</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
                        TokenIsQuoted <span class="sy0">=</span> <span class="kw1">false</span><span class="sy0">;</span>
                        <span class="kw1">break</span><span class="sy0">;</span>
&nbsp;
                    <span class="kw1">case</span> <span class="st0">'<span class="es0">\r</span>'</span><span class="sy0">:</span>
                    <span class="kw1">case</span> <span class="st0">'<span class="es0">\n</span>'</span><span class="sy0">:</span>
                        <span class="kw1">break</span><span class="sy0">;</span>
&nbsp;
                    <span class="kw1">case</span> <span class="st0">' '</span><span class="sy0">:</span>
                    <span class="kw1">case</span> <span class="st0">'<span class="es0">\t</span>'</span><span class="sy0">:</span>
                        <span class="kw1">if</span> <span class="br0">(</span>QuoteMode<span class="br0">)</span>
                            Token<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span>aJSON<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span>
                        <span class="kw1">break</span><span class="sy0">;</span>
&nbsp;
                    <span class="kw1">case</span> <span class="st0">'<span class="es0">\\</span>'</span><span class="sy0">:</span>
                        <span class="sy0">++</span>i<span class="sy0">;</span>
                        <span class="kw1">if</span> <span class="br0">(</span>QuoteMode<span class="br0">)</span>
                        <span class="br0">{</span>
                            <span class="kw4">char</span> C <span class="sy0">=</span> aJSON<span class="br0">[</span>i<span class="br0">]</span><span class="sy0">;</span>
                            <span class="kw1">switch</span> <span class="br0">(</span>C<span class="br0">)</span>
                            <span class="br0">{</span>
                                <span class="kw1">case</span> <span class="st0">'t'</span><span class="sy0">:</span>
                                    Token<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">'<span class="es0">\t</span>'</span><span class="br0">)</span><span class="sy0">;</span>
                                    <span class="kw1">break</span><span class="sy0">;</span>
                                <span class="kw1">case</span> <span class="st0">'r'</span><span class="sy0">:</span>
                                    Token<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">'<span class="es0">\r</span>'</span><span class="br0">)</span><span class="sy0">;</span>
                                    <span class="kw1">break</span><span class="sy0">;</span>
                                <span class="kw1">case</span> <span class="st0">'n'</span><span class="sy0">:</span>
                                    Token<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">'<span class="es0">\n</span>'</span><span class="br0">)</span><span class="sy0">;</span>
                                    <span class="kw1">break</span><span class="sy0">;</span>
                                <span class="kw1">case</span> <span class="st0">'b'</span><span class="sy0">:</span>
                                    Token<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">'<span class="es0">\b</span>'</span><span class="br0">)</span><span class="sy0">;</span>
                                    <span class="kw1">break</span><span class="sy0">;</span>
                                <span class="kw1">case</span> <span class="st0">'f'</span><span class="sy0">:</span>
                                    Token<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">'<span class="es0">\f</span>'</span><span class="br0">)</span><span class="sy0">;</span>
                                    <span class="kw1">break</span><span class="sy0">;</span>
                                <span class="kw1">case</span> <span class="st0">'u'</span><span class="sy0">:</span>
                                    <span class="br0">{</span>
                                        <span class="kw4">string</span> s <span class="sy0">=</span> aJSON<span class="sy0">.</span><span class="me1">Substring</span><span class="br0">(</span>i <span class="sy0">+</span> <span class="nu0">1</span>, <span class="nu0">4</span><span class="br0">)</span><span class="sy0">;</span>
                                        Token<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="br0">(</span><span class="kw4">char</span><span class="br0">)</span><span class="kw4">int</span><span class="sy0">.</span><span class="me1">Parse</span><span class="br0">(</span>
                                            s,
                                            <span class="kw5">System.<span class="me1">Globalization</span></span><span class="sy0">.</span><span class="me1">NumberStyles</span><span class="sy0">.</span><span class="me1">AllowHexSpecifier</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
                                        i <span class="sy0">+=</span> <span class="nu0">4</span><span class="sy0">;</span>
                                        <span class="kw1">break</span><span class="sy0">;</span>
                                    <span class="br0">}</span>
                                <span class="kw1">default</span><span class="sy0">:</span>
                                    Token<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span>C<span class="br0">)</span><span class="sy0">;</span>
                                    <span class="kw1">break</span><span class="sy0">;</span>
                            <span class="br0">}</span>
                        <span class="br0">}</span>
                        <span class="kw1">break</span><span class="sy0">;</span>
&nbsp;
                    <span class="kw1">default</span><span class="sy0">:</span>
                        Token<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span>aJSON<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span><span class="sy0">;</span>
                        <span class="kw1">break</span><span class="sy0">;</span>
                <span class="br0">}</span>
                <span class="sy0">++</span>i<span class="sy0">;</span>
            <span class="br0">}</span>
            <span class="kw1">if</span> <span class="br0">(</span>QuoteMode<span class="br0">)</span>
            <span class="br0">{</span>
                <span class="kw1">throw</span> <span class="kw3">new</span> Exception<span class="br0">(</span><span class="st0">"JSON Parse: Quotation marks seems to be messed up."</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
            <span class="kw1">return</span> ctx<span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">virtual</span> <span class="kw4">void</span> Serialize<span class="br0">(</span><span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">BinaryWriter</span> aWriter<span class="br0">)</span>
        <span class="br0">{</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw4">void</span> SaveToStream<span class="br0">(</span><span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">Stream</span> aData<span class="br0">)</span>
        <span class="br0">{</span>
            var W <span class="sy0">=</span> <span class="kw3">new</span> <span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">BinaryWriter</span><span class="br0">(</span>aData<span class="br0">)</span><span class="sy0">;</span>
            Serialize<span class="br0">(</span>W<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
<span class="co2">#if USE_SharpZipLib</span>
		<span class="kw1">public</span> <span class="kw4">void</span> SaveToCompressedStream<span class="br0">(</span><span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">Stream</span> aData<span class="br0">)</span>
		<span class="br0">{</span>
			<span class="kw1">using</span> <span class="br0">(</span>var gzipOut <span class="sy0">=</span> <span class="kw3">new</span> ICSharpCode<span class="sy0">.</span><span class="me1">SharpZipLib</span><span class="sy0">.</span><span class="me1">BZip2</span><span class="sy0">.</span><span class="me1">BZip2OutputStream</span><span class="br0">(</span>aData<span class="br0">)</span><span class="br0">)</span>
			<span class="br0">{</span>
				gzipOut<span class="sy0">.</span><span class="me1">IsStreamOwner</span> <span class="sy0">=</span> <span class="kw1">false</span><span class="sy0">;</span>
				SaveToStream<span class="br0">(</span>gzipOut<span class="br0">)</span><span class="sy0">;</span>
				gzipOut<span class="sy0">.</span><span class="me1">Close</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
			<span class="br0">}</span>
		<span class="br0">}</span>
&nbsp;
		<span class="kw1">public</span> <span class="kw4">void</span> SaveToCompressedFile<span class="br0">(</span><span class="kw4">string</span> aFileName<span class="br0">)</span>
		<span class="br0">{</span>
&nbsp;
<span class="co2">#if USE_FileIO</span>
			<span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">Directory</span><span class="sy0">.</span><span class="me1">CreateDirectory</span><span class="br0">(</span><span class="br0">(</span><span class="kw3">new</span> <span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">FileInfo</span><span class="br0">(</span>aFileName<span class="br0">)</span><span class="br0">)</span><span class="sy0">.</span><span class="me1">Directory</span><span class="sy0">.</span><span class="me1">FullName</span><span class="br0">)</span><span class="sy0">;</span>
			<span class="kw1">using</span><span class="br0">(</span>var F <span class="sy0">=</span> <span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">File</span><span class="sy0">.</span><span class="me1">OpenWrite</span><span class="br0">(</span>aFileName<span class="br0">)</span><span class="br0">)</span>
			<span class="br0">{</span>
				SaveToCompressedStream<span class="br0">(</span>F<span class="br0">)</span><span class="sy0">;</span>
			<span class="br0">}</span>
&nbsp;
<span class="co2">#else</span>
			<span class="kw1">throw</span> <span class="kw3">new</span> Exception<span class="br0">(</span><span class="st0">"Can't use File IO stuff in the webplayer"</span><span class="br0">)</span><span class="sy0">;</span>
<span class="co2">#endif</span>
		<span class="br0">}</span>
		<span class="kw1">public</span> <span class="kw4">string</span> SaveToCompressedBase64<span class="br0">(</span><span class="br0">)</span>
		<span class="br0">{</span>
			<span class="kw1">using</span> <span class="br0">(</span>var stream <span class="sy0">=</span> <span class="kw3">new</span> <span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">MemoryStream</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span>
			<span class="br0">{</span>
				SaveToCompressedStream<span class="br0">(</span>stream<span class="br0">)</span><span class="sy0">;</span>
				stream<span class="sy0">.</span><span class="me1">Position</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
				<span class="kw1">return</span> <span class="kw5">System</span><span class="sy0">.</span><span class="me1">Convert</span><span class="sy0">.</span><span class="me1">ToBase64String</span><span class="br0">(</span>stream<span class="sy0">.</span><span class="me1">ToArray</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
			<span class="br0">}</span>
		<span class="br0">}</span>
&nbsp;
<span class="co2">#else</span>
        <span class="kw1">public</span> <span class="kw4">void</span> SaveToCompressedStream<span class="br0">(</span><span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">Stream</span> aData<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">throw</span> <span class="kw3">new</span> Exception<span class="br0">(</span><span class="st0">"Can't use compressed functions. You need include the SharpZipLib and uncomment the define at the top of SimpleJSON"</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw4">void</span> SaveToCompressedFile<span class="br0">(</span><span class="kw4">string</span> aFileName<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">throw</span> <span class="kw3">new</span> Exception<span class="br0">(</span><span class="st0">"Can't use compressed functions. You need include the SharpZipLib and uncomment the define at the top of SimpleJSON"</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw4">string</span> SaveToCompressedBase64<span class="br0">(</span><span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">throw</span> <span class="kw3">new</span> Exception<span class="br0">(</span><span class="st0">"Can't use compressed functions. You need include the SharpZipLib and uncomment the define at the top of SimpleJSON"</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
<span class="co2">#endif</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw4">void</span> SaveToFile<span class="br0">(</span><span class="kw4">string</span> aFileName<span class="br0">)</span>
        <span class="br0">{</span>
<span class="co2">#if USE_FileIO</span>
            <span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">Directory</span><span class="sy0">.</span><span class="me1">CreateDirectory</span><span class="br0">(</span><span class="br0">(</span><span class="kw3">new</span> <span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">FileInfo</span><span class="br0">(</span>aFileName<span class="br0">)</span><span class="br0">)</span><span class="sy0">.</span><span class="me1">Directory</span><span class="sy0">.</span><span class="me1">FullName</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="kw1">using</span> <span class="br0">(</span>var F <span class="sy0">=</span> <span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">File</span><span class="sy0">.</span><span class="me1">OpenWrite</span><span class="br0">(</span>aFileName<span class="br0">)</span><span class="br0">)</span>
            <span class="br0">{</span>
                SaveToStream<span class="br0">(</span>F<span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
<span class="co2">#else</span>
			<span class="kw1">throw</span> <span class="kw3">new</span> Exception <span class="br0">(</span><span class="st0">"Can't use File IO stuff in the webplayer"</span><span class="br0">)</span><span class="sy0">;</span>
<span class="co2">#endif</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw4">string</span> SaveToBase64<span class="br0">(</span><span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">using</span> <span class="br0">(</span>var stream <span class="sy0">=</span> <span class="kw3">new</span> <span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">MemoryStream</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span>
            <span class="br0">{</span>
                SaveToStream<span class="br0">(</span>stream<span class="br0">)</span><span class="sy0">;</span>
                stream<span class="sy0">.</span><span class="me1">Position</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
                <span class="kw1">return</span> <span class="kw5">System</span><span class="sy0">.</span><span class="me1">Convert</span><span class="sy0">.</span><span class="me1">ToBase64String</span><span class="br0">(</span>stream<span class="sy0">.</span><span class="me1">ToArray</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">static</span> JSONNode Deserialize<span class="br0">(</span><span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">BinaryReader</span> aReader<span class="br0">)</span>
        <span class="br0">{</span>
            JSONNodeType type <span class="sy0">=</span> <span class="br0">(</span>JSONNodeType<span class="br0">)</span>aReader<span class="sy0">.</span><span class="me1">ReadByte</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="kw1">switch</span> <span class="br0">(</span>type<span class="br0">)</span>
            <span class="br0">{</span>
                <span class="kw1">case</span> JSONNodeType<span class="sy0">.</span><span class="me1">Array</span><span class="sy0">:</span>
                    <span class="br0">{</span>
                        <span class="kw4">int</span> count <span class="sy0">=</span> aReader<span class="sy0">.</span><span class="me1">ReadInt32</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                        JSONArray tmp <span class="sy0">=</span> <span class="kw3">new</span> JSONArray<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                        <span class="kw1">for</span> <span class="br0">(</span><span class="kw4">int</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> count<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">)</span>
                            tmp<span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span>Deserialize<span class="br0">(</span>aReader<span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
                        <span class="kw1">return</span> tmp<span class="sy0">;</span>
                    <span class="br0">}</span>
                <span class="kw1">case</span> JSONNodeType<span class="sy0">.</span><span class="kw4">Object</span><span class="sy0">:</span>
                    <span class="br0">{</span>
                        <span class="kw4">int</span> count <span class="sy0">=</span> aReader<span class="sy0">.</span><span class="me1">ReadInt32</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                        JSONObject tmp <span class="sy0">=</span> <span class="kw3">new</span> JSONObject<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                        <span class="kw1">for</span> <span class="br0">(</span><span class="kw4">int</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> count<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">)</span>
                        <span class="br0">{</span>
                            <span class="kw4">string</span> key <span class="sy0">=</span> aReader<span class="sy0">.</span><span class="me1">ReadString</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                            var val <span class="sy0">=</span> Deserialize<span class="br0">(</span>aReader<span class="br0">)</span><span class="sy0">;</span>
                            tmp<span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span>key, val<span class="br0">)</span><span class="sy0">;</span>
                        <span class="br0">}</span>
                        <span class="kw1">return</span> tmp<span class="sy0">;</span>
                    <span class="br0">}</span>
                <span class="kw1">case</span> JSONNodeType<span class="sy0">.</span><span class="kw4">String</span><span class="sy0">:</span>
                    <span class="br0">{</span>
                        <span class="kw1">return</span> <span class="kw3">new</span> JSONString<span class="br0">(</span>aReader<span class="sy0">.</span><span class="me1">ReadString</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
                    <span class="br0">}</span>
                <span class="kw1">case</span> JSONNodeType<span class="sy0">.</span><span class="me1">Number</span><span class="sy0">:</span>
                    <span class="br0">{</span>
                        <span class="kw1">return</span> <span class="kw3">new</span> JSONNumber<span class="br0">(</span>aReader<span class="sy0">.</span><span class="me1">ReadDouble</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
                    <span class="br0">}</span>
                <span class="kw1">case</span> JSONNodeType<span class="sy0">.</span><span class="me1">Boolean</span><span class="sy0">:</span>
                    <span class="br0">{</span>
                        <span class="kw1">return</span> <span class="kw3">new</span> JSONBool<span class="br0">(</span>aReader<span class="sy0">.</span><span class="me1">ReadBoolean</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
                    <span class="br0">}</span>
                <span class="kw1">case</span> JSONNodeType<span class="sy0">.</span><span class="me1">NullValue</span><span class="sy0">:</span>
                    <span class="br0">{</span>
                        <span class="kw1">return</span> <span class="kw3">new</span> JSONNull<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                    <span class="br0">}</span>
                <span class="kw1">default</span><span class="sy0">:</span>
                    <span class="br0">{</span>
                        <span class="kw1">throw</span> <span class="kw3">new</span> Exception<span class="br0">(</span><span class="st0">"Error deserializing JSON. Unknown tag: "</span> <span class="sy0">+</span> type<span class="br0">)</span><span class="sy0">;</span>
                    <span class="br0">}</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
<span class="co2">#if USE_SharpZipLib</span>
		<span class="kw1">public</span> <span class="kw1">static</span> JSONNode LoadFromCompressedStream<span class="br0">(</span><span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">Stream</span> aData<span class="br0">)</span>
		<span class="br0">{</span>
			var zin <span class="sy0">=</span> <span class="kw3">new</span> ICSharpCode<span class="sy0">.</span><span class="me1">SharpZipLib</span><span class="sy0">.</span><span class="me1">BZip2</span><span class="sy0">.</span><span class="me1">BZip2InputStream</span><span class="br0">(</span>aData<span class="br0">)</span><span class="sy0">;</span>
			<span class="kw1">return</span> LoadFromStream<span class="br0">(</span>zin<span class="br0">)</span><span class="sy0">;</span>
		<span class="br0">}</span>
		<span class="kw1">public</span> <span class="kw1">static</span> JSONNode LoadFromCompressedFile<span class="br0">(</span><span class="kw4">string</span> aFileName<span class="br0">)</span>
		<span class="br0">{</span>
<span class="co2">#if USE_FileIO</span>
			<span class="kw1">using</span><span class="br0">(</span>var F <span class="sy0">=</span> <span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">File</span><span class="sy0">.</span><span class="me1">OpenRead</span><span class="br0">(</span>aFileName<span class="br0">)</span><span class="br0">)</span>
			<span class="br0">{</span>
				<span class="kw1">return</span> LoadFromCompressedStream<span class="br0">(</span>F<span class="br0">)</span><span class="sy0">;</span>
			<span class="br0">}</span>
<span class="co2">#else</span>
			<span class="kw1">throw</span> <span class="kw3">new</span> Exception<span class="br0">(</span><span class="st0">"Can't use File IO stuff in the webplayer"</span><span class="br0">)</span><span class="sy0">;</span>
<span class="co2">#endif</span>
		<span class="br0">}</span>
		<span class="kw1">public</span> <span class="kw1">static</span> JSONNode LoadFromCompressedBase64<span class="br0">(</span><span class="kw4">string</span> aBase64<span class="br0">)</span>
		<span class="br0">{</span>
			var tmp <span class="sy0">=</span> <span class="kw5">System</span><span class="sy0">.</span><span class="me1">Convert</span><span class="sy0">.</span><span class="me1">FromBase64String</span><span class="br0">(</span>aBase64<span class="br0">)</span><span class="sy0">;</span>
			var stream <span class="sy0">=</span> <span class="kw3">new</span> <span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">MemoryStream</span><span class="br0">(</span>tmp<span class="br0">)</span><span class="sy0">;</span>
			stream<span class="sy0">.</span><span class="me1">Position</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
			<span class="kw1">return</span> LoadFromCompressedStream<span class="br0">(</span>stream<span class="br0">)</span><span class="sy0">;</span>
		<span class="br0">}</span>
<span class="co2">#else</span>
        <span class="kw1">public</span> <span class="kw1">static</span> JSONNode LoadFromCompressedFile<span class="br0">(</span><span class="kw4">string</span> aFileName<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">throw</span> <span class="kw3">new</span> Exception<span class="br0">(</span><span class="st0">"Can't use compressed functions. You need include the SharpZipLib and uncomment the define at the top of SimpleJSON"</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">static</span> JSONNode LoadFromCompressedStream<span class="br0">(</span><span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">Stream</span> aData<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">throw</span> <span class="kw3">new</span> Exception<span class="br0">(</span><span class="st0">"Can't use compressed functions. You need include the SharpZipLib and uncomment the define at the top of SimpleJSON"</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">static</span> JSONNode LoadFromCompressedBase64<span class="br0">(</span><span class="kw4">string</span> aBase64<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">throw</span> <span class="kw3">new</span> Exception<span class="br0">(</span><span class="st0">"Can't use compressed functions. You need include the SharpZipLib and uncomment the define at the top of SimpleJSON"</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
<span class="co2">#endif</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">static</span> JSONNode LoadFromStream<span class="br0">(</span><span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">Stream</span> aData<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">using</span> <span class="br0">(</span>var R <span class="sy0">=</span> <span class="kw3">new</span> <span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">BinaryReader</span><span class="br0">(</span>aData<span class="br0">)</span><span class="br0">)</span>
            <span class="br0">{</span>
                <span class="kw1">return</span> Deserialize<span class="br0">(</span>R<span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">static</span> JSONNode LoadFromFile<span class="br0">(</span><span class="kw4">string</span> aFileName<span class="br0">)</span>
        <span class="br0">{</span>
<span class="co2">#if USE_FileIO</span>
            <span class="kw1">using</span> <span class="br0">(</span>var F <span class="sy0">=</span> <span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">File</span><span class="sy0">.</span><span class="me1">OpenRead</span><span class="br0">(</span>aFileName<span class="br0">)</span><span class="br0">)</span>
            <span class="br0">{</span>
                <span class="kw1">return</span> LoadFromStream<span class="br0">(</span>F<span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
<span class="co2">#else</span>
			<span class="kw1">throw</span> <span class="kw3">new</span> Exception <span class="br0">(</span><span class="st0">"Can't use File IO stuff in the webplayer"</span><span class="br0">)</span><span class="sy0">;</span>
<span class="co2">#endif</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">static</span> JSONNode LoadFromBase64<span class="br0">(</span><span class="kw4">string</span> aBase64<span class="br0">)</span>
        <span class="br0">{</span>
            var tmp <span class="sy0">=</span> <span class="kw5">System</span><span class="sy0">.</span><span class="me1">Convert</span><span class="sy0">.</span><span class="me1">FromBase64String</span><span class="br0">(</span>aBase64<span class="br0">)</span><span class="sy0">;</span>
            var stream <span class="sy0">=</span> <span class="kw3">new</span> <span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">MemoryStream</span><span class="br0">(</span>tmp<span class="br0">)</span><span class="sy0">;</span>
            stream<span class="sy0">.</span><span class="me1">Position</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
            <span class="kw1">return</span> LoadFromStream<span class="br0">(</span>stream<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
    <span class="br0">}</span>
    <span class="co1">// End of JSONNode</span>
&nbsp;
    <span class="kw1">public</span> <span class="kw4">class</span> JSONArray <span class="sy0">:</span> JSONNode, IEnumerable
    <span class="br0">{</span>
        <span class="kw1">private</span> List<span class="sy0">&lt;</span>JSONNode<span class="sy0">&gt;</span> m_List <span class="sy0">=</span> <span class="kw3">new</span> List<span class="sy0">&lt;</span>JSONNode<span class="sy0">&gt;</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="kw1">public</span> <span class="kw4">bool</span> inline <span class="sy0">=</span> <span class="kw1">false</span><span class="sy0">;</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> JSONNodeType Tag <span class="br0">{</span> get <span class="br0">{</span> <span class="kw1">return</span> JSONNodeType<span class="sy0">.</span><span class="me1">Array</span><span class="sy0">;</span> <span class="br0">}</span> <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">bool</span> IsArray <span class="br0">{</span> get <span class="br0">{</span> <span class="kw1">return</span> <span class="kw1">true</span><span class="sy0">;</span> <span class="br0">}</span> <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> JSONNode <span class="kw1">this</span><span class="br0">[</span><span class="kw4">int</span> aIndex<span class="br0">]</span>
        <span class="br0">{</span>
            get
            <span class="br0">{</span>
                <span class="kw1">if</span> <span class="br0">(</span>aIndex <span class="sy0">&lt;</span> <span class="nu0">0</span> <span class="sy0">||</span> aIndex <span class="sy0">&gt;=</span> m_List<span class="sy0">.</span><span class="me1">Count</span><span class="br0">)</span>
                    <span class="kw1">return</span> <span class="kw3">new</span> JSONLazyCreator<span class="br0">(</span><span class="kw1">this</span><span class="br0">)</span><span class="sy0">;</span>
                <span class="kw1">return</span> m_List<span class="br0">[</span>aIndex<span class="br0">]</span><span class="sy0">;</span>
            <span class="br0">}</span>
            set
            <span class="br0">{</span>
                <span class="kw1">if</span> <span class="br0">(</span>value <span class="sy0">==</span> <span class="kw1">null</span><span class="br0">)</span>
                    value <span class="sy0">=</span> <span class="kw3">new</span> JSONNull<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                <span class="kw1">if</span> <span class="br0">(</span>aIndex <span class="sy0">&lt;</span> <span class="nu0">0</span> <span class="sy0">||</span> aIndex <span class="sy0">&gt;=</span> m_List<span class="sy0">.</span><span class="me1">Count</span><span class="br0">)</span>
                    m_List<span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span>value<span class="br0">)</span><span class="sy0">;</span>
                <span class="kw1">else</span>
                    m_List<span class="br0">[</span>aIndex<span class="br0">]</span> <span class="sy0">=</span> value<span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> JSONNode <span class="kw1">this</span><span class="br0">[</span><span class="kw4">string</span> aKey<span class="br0">]</span>
        <span class="br0">{</span>
            get <span class="br0">{</span> <span class="kw1">return</span> <span class="kw3">new</span> JSONLazyCreator<span class="br0">(</span><span class="kw1">this</span><span class="br0">)</span><span class="sy0">;</span> <span class="br0">}</span>
            set
            <span class="br0">{</span>
                <span class="kw1">if</span> <span class="br0">(</span>value <span class="sy0">==</span> <span class="kw1">null</span><span class="br0">)</span>
                    value <span class="sy0">=</span> <span class="kw3">new</span> JSONNull<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                m_List<span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span>value<span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">int</span> Count
        <span class="br0">{</span>
            get <span class="br0">{</span> <span class="kw1">return</span> m_List<span class="sy0">.</span><span class="me1">Count</span><span class="sy0">;</span> <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">void</span> Add<span class="br0">(</span><span class="kw4">string</span> aKey, JSONNode aItem<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">if</span> <span class="br0">(</span>aItem <span class="sy0">==</span> <span class="kw1">null</span><span class="br0">)</span>
                aItem <span class="sy0">=</span> <span class="kw3">new</span> JSONNull<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
            m_List<span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span>aItem<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> JSONNode Remove<span class="br0">(</span><span class="kw4">int</span> aIndex<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">if</span> <span class="br0">(</span>aIndex <span class="sy0">&lt;</span> <span class="nu0">0</span> <span class="sy0">||</span> aIndex <span class="sy0">&gt;=</span> m_List<span class="sy0">.</span><span class="me1">Count</span><span class="br0">)</span>
                <span class="kw1">return</span> <span class="kw1">null</span><span class="sy0">;</span>
            JSONNode tmp <span class="sy0">=</span> m_List<span class="br0">[</span>aIndex<span class="br0">]</span><span class="sy0">;</span>
            m_List<span class="sy0">.</span><span class="me1">RemoveAt</span><span class="br0">(</span>aIndex<span class="br0">)</span><span class="sy0">;</span>
            <span class="kw1">return</span> tmp<span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> JSONNode Remove<span class="br0">(</span>JSONNode aNode<span class="br0">)</span>
        <span class="br0">{</span>
            m_List<span class="sy0">.</span><span class="me1">Remove</span><span class="br0">(</span>aNode<span class="br0">)</span><span class="sy0">;</span>
            <span class="kw1">return</span> aNode<span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> IEnumerable<span class="sy0">&lt;</span>JSONNode<span class="sy0">&gt;</span> Children
        <span class="br0">{</span>
            get
            <span class="br0">{</span>
                <span class="kw1">foreach</span> <span class="br0">(</span>JSONNode N <span class="kw1">in</span> m_List<span class="br0">)</span>
                    <span class="kw1">yield</span> <span class="kw1">return</span> N<span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> IEnumerator GetEnumerator<span class="br0">(</span><span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">foreach</span> <span class="br0">(</span>JSONNode N <span class="kw1">in</span> m_List<span class="br0">)</span>
                <span class="kw1">yield</span> <span class="kw1">return</span> N<span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">void</span> Serialize<span class="br0">(</span><span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">BinaryWriter</span> aWriter<span class="br0">)</span>
        <span class="br0">{</span>
            aWriter<span class="sy0">.</span><span class="me1">Write</span><span class="br0">(</span><span class="br0">(</span><span class="kw4">byte</span><span class="br0">)</span>JSONNodeType<span class="sy0">.</span><span class="me1">Array</span><span class="br0">)</span><span class="sy0">;</span>
            aWriter<span class="sy0">.</span><span class="me1">Write</span><span class="br0">(</span>m_List<span class="sy0">.</span><span class="me1">Count</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="kw1">for</span> <span class="br0">(</span><span class="kw4">int</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> m_List<span class="sy0">.</span><span class="me1">Count</span><span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">)</span>
            <span class="br0">{</span>
                m_List<span class="br0">[</span>i<span class="br0">]</span><span class="sy0">.</span><span class="me1">Serialize</span><span class="br0">(</span>aWriter<span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">internal</span> <span class="kw1">override</span> <span class="kw4">void</span> WriteToStringBuilder<span class="br0">(</span>StringBuilder aSB, <span class="kw4">int</span> aIndent, <span class="kw4">int</span> aIndentInc, JSONTextMode aMode<span class="br0">)</span>
        <span class="br0">{</span>
            aSB<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">'['</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="kw4">int</span> count <span class="sy0">=</span> m_List<span class="sy0">.</span><span class="me1">Count</span><span class="sy0">;</span>
            <span class="kw1">if</span> <span class="br0">(</span>inline<span class="br0">)</span>
                aMode <span class="sy0">=</span> JSONTextMode<span class="sy0">.</span><span class="me1">Compact</span><span class="sy0">;</span>
            <span class="kw1">for</span> <span class="br0">(</span><span class="kw4">int</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> count<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">)</span>
            <span class="br0">{</span>
                <span class="kw1">if</span> <span class="br0">(</span>i <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">)</span>
                    aSB<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">','</span><span class="br0">)</span><span class="sy0">;</span>
                <span class="kw1">if</span> <span class="br0">(</span>aMode <span class="sy0">==</span> JSONTextMode<span class="sy0">.</span><span class="me1">Indent</span><span class="br0">)</span>
                    aSB<span class="sy0">.</span><span class="me1">AppendLine</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;
                <span class="kw1">if</span> <span class="br0">(</span>aMode <span class="sy0">==</span> JSONTextMode<span class="sy0">.</span><span class="me1">Indent</span><span class="br0">)</span>
                    aSB<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">' '</span>, aIndent <span class="sy0">+</span> aIndentInc<span class="br0">)</span><span class="sy0">;</span>
                m_List<span class="br0">[</span>i<span class="br0">]</span><span class="sy0">.</span><span class="me1">WriteToStringBuilder</span><span class="br0">(</span>aSB, aIndent <span class="sy0">+</span> aIndentInc, aIndentInc, aMode<span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
            <span class="kw1">if</span> <span class="br0">(</span>aMode <span class="sy0">==</span> JSONTextMode<span class="sy0">.</span><span class="me1">Indent</span><span class="br0">)</span>
                aSB<span class="sy0">.</span><span class="me1">AppendLine</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">' '</span>, aIndent<span class="br0">)</span><span class="sy0">;</span>
            aSB<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">']'</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
    <span class="br0">}</span>
    <span class="co1">// End of JSONArray</span>
&nbsp;
    <span class="kw1">public</span> <span class="kw4">class</span> JSONObject <span class="sy0">:</span> JSONNode, IEnumerable
    <span class="br0">{</span>
        <span class="kw1">private</span> Dictionary<span class="sy0">&lt;</span><span class="kw4">string</span>, JSONNode<span class="sy0">&gt;</span> m_Dict <span class="sy0">=</span> <span class="kw3">new</span> Dictionary<span class="sy0">&lt;</span><span class="kw4">string</span>, JSONNode<span class="sy0">&gt;</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw4">bool</span> inline <span class="sy0">=</span> <span class="kw1">false</span><span class="sy0">;</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> JSONNodeType Tag <span class="br0">{</span> get <span class="br0">{</span> <span class="kw1">return</span> JSONNodeType<span class="sy0">.</span><span class="kw4">Object</span><span class="sy0">;</span> <span class="br0">}</span> <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">bool</span> IsObject <span class="br0">{</span> get <span class="br0">{</span> <span class="kw1">return</span> <span class="kw1">true</span><span class="sy0">;</span> <span class="br0">}</span> <span class="br0">}</span>
&nbsp;
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> JSONNode <span class="kw1">this</span><span class="br0">[</span><span class="kw4">string</span> aKey<span class="br0">]</span>
        <span class="br0">{</span>
            get
            <span class="br0">{</span>
                <span class="kw1">if</span> <span class="br0">(</span>m_Dict<span class="sy0">.</span><span class="me1">ContainsKey</span><span class="br0">(</span>aKey<span class="br0">)</span><span class="br0">)</span>
                    <span class="kw1">return</span> m_Dict<span class="br0">[</span>aKey<span class="br0">]</span><span class="sy0">;</span>
                <span class="kw1">else</span>
                    <span class="kw1">return</span> <span class="kw3">new</span> JSONLazyCreator<span class="br0">(</span><span class="kw1">this</span>, aKey<span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
            set
            <span class="br0">{</span>
                <span class="kw1">if</span> <span class="br0">(</span>value <span class="sy0">==</span> <span class="kw1">null</span><span class="br0">)</span>
                    value <span class="sy0">=</span> <span class="kw3">new</span> JSONNull<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                <span class="kw1">if</span> <span class="br0">(</span>m_Dict<span class="sy0">.</span><span class="me1">ContainsKey</span><span class="br0">(</span>aKey<span class="br0">)</span><span class="br0">)</span>
                    m_Dict<span class="br0">[</span>aKey<span class="br0">]</span> <span class="sy0">=</span> value<span class="sy0">;</span>
                <span class="kw1">else</span>
                    m_Dict<span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span>aKey, value<span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> JSONNode <span class="kw1">this</span><span class="br0">[</span><span class="kw4">int</span> aIndex<span class="br0">]</span>
        <span class="br0">{</span>
            get
            <span class="br0">{</span>
                <span class="kw1">if</span> <span class="br0">(</span>aIndex <span class="sy0">&lt;</span> <span class="nu0">0</span> <span class="sy0">||</span> aIndex <span class="sy0">&gt;=</span> m_Dict<span class="sy0">.</span><span class="me1">Count</span><span class="br0">)</span>
                    <span class="kw1">return</span> <span class="kw1">null</span><span class="sy0">;</span>
                <span class="kw1">return</span> m_Dict<span class="sy0">.</span><span class="me1">ElementAt</span><span class="br0">(</span>aIndex<span class="br0">)</span><span class="sy0">.</span><span class="me1">Value</span><span class="sy0">;</span>
            <span class="br0">}</span>
            set
            <span class="br0">{</span>
                <span class="kw1">if</span> <span class="br0">(</span>value <span class="sy0">==</span> <span class="kw1">null</span><span class="br0">)</span>
                    value <span class="sy0">=</span> <span class="kw3">new</span> JSONNull<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                <span class="kw1">if</span> <span class="br0">(</span>aIndex <span class="sy0">&lt;</span> <span class="nu0">0</span> <span class="sy0">||</span> aIndex <span class="sy0">&gt;=</span> m_Dict<span class="sy0">.</span><span class="me1">Count</span><span class="br0">)</span>
                    <span class="kw1">return</span><span class="sy0">;</span>
                <span class="kw4">string</span> key <span class="sy0">=</span> m_Dict<span class="sy0">.</span><span class="me1">ElementAt</span><span class="br0">(</span>aIndex<span class="br0">)</span><span class="sy0">.</span><span class="me1">Key</span><span class="sy0">;</span>
                m_Dict<span class="br0">[</span>key<span class="br0">]</span> <span class="sy0">=</span> value<span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">int</span> Count
        <span class="br0">{</span>
            get <span class="br0">{</span> <span class="kw1">return</span> m_Dict<span class="sy0">.</span><span class="me1">Count</span><span class="sy0">;</span> <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">void</span> Add<span class="br0">(</span><span class="kw4">string</span> aKey, JSONNode aItem<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">if</span> <span class="br0">(</span>aItem <span class="sy0">==</span> <span class="kw1">null</span><span class="br0">)</span>
                aItem <span class="sy0">=</span> <span class="kw3">new</span> JSONNull<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;
            <span class="kw1">if</span> <span class="br0">(</span><span class="sy0">!</span><span class="kw4">string</span><span class="sy0">.</span><span class="me1">IsNullOrEmpty</span><span class="br0">(</span>aKey<span class="br0">)</span><span class="br0">)</span>
            <span class="br0">{</span>
                <span class="kw1">if</span> <span class="br0">(</span>m_Dict<span class="sy0">.</span><span class="me1">ContainsKey</span><span class="br0">(</span>aKey<span class="br0">)</span><span class="br0">)</span>
                    m_Dict<span class="br0">[</span>aKey<span class="br0">]</span> <span class="sy0">=</span> aItem<span class="sy0">;</span>
                <span class="kw1">else</span>
                    m_Dict<span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span>aKey, aItem<span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
            <span class="kw1">else</span>
                m_Dict<span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span>Guid<span class="sy0">.</span><span class="me1">NewGuid</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">.</span><span class="me1">ToString</span><span class="br0">(</span><span class="br0">)</span>, aItem<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> JSONNode Remove<span class="br0">(</span><span class="kw4">string</span> aKey<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">if</span> <span class="br0">(</span><span class="sy0">!</span>m_Dict<span class="sy0">.</span><span class="me1">ContainsKey</span><span class="br0">(</span>aKey<span class="br0">)</span><span class="br0">)</span>
                <span class="kw1">return</span> <span class="kw1">null</span><span class="sy0">;</span>
            JSONNode tmp <span class="sy0">=</span> m_Dict<span class="br0">[</span>aKey<span class="br0">]</span><span class="sy0">;</span>
            m_Dict<span class="sy0">.</span><span class="me1">Remove</span><span class="br0">(</span>aKey<span class="br0">)</span><span class="sy0">;</span>
            <span class="kw1">return</span> tmp<span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> JSONNode Remove<span class="br0">(</span><span class="kw4">int</span> aIndex<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">if</span> <span class="br0">(</span>aIndex <span class="sy0">&lt;</span> <span class="nu0">0</span> <span class="sy0">||</span> aIndex <span class="sy0">&gt;=</span> m_Dict<span class="sy0">.</span><span class="me1">Count</span><span class="br0">)</span>
                <span class="kw1">return</span> <span class="kw1">null</span><span class="sy0">;</span>
            var item <span class="sy0">=</span> m_Dict<span class="sy0">.</span><span class="me1">ElementAt</span><span class="br0">(</span>aIndex<span class="br0">)</span><span class="sy0">;</span>
            m_Dict<span class="sy0">.</span><span class="me1">Remove</span><span class="br0">(</span>item<span class="sy0">.</span><span class="me1">Key</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="kw1">return</span> item<span class="sy0">.</span><span class="me1">Value</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> JSONNode Remove<span class="br0">(</span>JSONNode aNode<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">try</span>
            <span class="br0">{</span>
                var item <span class="sy0">=</span> m_Dict<span class="sy0">.</span><span class="kw1">Where</span><span class="br0">(</span>k <span class="sy0">=&gt;</span> k<span class="sy0">.</span><span class="me1">Value</span> <span class="sy0">==</span> aNode<span class="br0">)</span><span class="sy0">.</span><span class="me1">First</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                m_Dict<span class="sy0">.</span><span class="me1">Remove</span><span class="br0">(</span>item<span class="sy0">.</span><span class="me1">Key</span><span class="br0">)</span><span class="sy0">;</span>
                <span class="kw1">return</span> aNode<span class="sy0">;</span>
            <span class="br0">}</span>
            <span class="kw1">catch</span>
            <span class="br0">{</span>
                <span class="kw1">return</span> <span class="kw1">null</span><span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> IEnumerable<span class="sy0">&lt;</span>JSONNode<span class="sy0">&gt;</span> Children
        <span class="br0">{</span>
            get
            <span class="br0">{</span>
                <span class="kw1">foreach</span> <span class="br0">(</span>KeyValuePair<span class="sy0">&lt;</span><span class="kw4">string</span>, JSONNode<span class="sy0">&gt;</span> N <span class="kw1">in</span> m_Dict<span class="br0">)</span>
                    <span class="kw1">yield</span> <span class="kw1">return</span> N<span class="sy0">.</span><span class="me1">Value</span><span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> IEnumerator GetEnumerator<span class="br0">(</span><span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">foreach</span> <span class="br0">(</span>KeyValuePair<span class="sy0">&lt;</span><span class="kw4">string</span>, JSONNode<span class="sy0">&gt;</span> N <span class="kw1">in</span> m_Dict<span class="br0">)</span>
                <span class="kw1">yield</span> <span class="kw1">return</span> N<span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">void</span> Serialize<span class="br0">(</span><span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">BinaryWriter</span> aWriter<span class="br0">)</span>
        <span class="br0">{</span>
            aWriter<span class="sy0">.</span><span class="me1">Write</span><span class="br0">(</span><span class="br0">(</span><span class="kw4">byte</span><span class="br0">)</span>JSONNodeType<span class="sy0">.</span><span class="kw4">Object</span><span class="br0">)</span><span class="sy0">;</span>
            aWriter<span class="sy0">.</span><span class="me1">Write</span><span class="br0">(</span>m_Dict<span class="sy0">.</span><span class="me1">Count</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="kw1">foreach</span> <span class="br0">(</span><span class="kw4">string</span> K <span class="kw1">in</span> m_Dict<span class="sy0">.</span><span class="me1">Keys</span><span class="br0">)</span>
            <span class="br0">{</span>
                aWriter<span class="sy0">.</span><span class="me1">Write</span><span class="br0">(</span>K<span class="br0">)</span><span class="sy0">;</span>
                m_Dict<span class="br0">[</span>K<span class="br0">]</span><span class="sy0">.</span><span class="me1">Serialize</span><span class="br0">(</span>aWriter<span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
        <span class="kw1">internal</span> <span class="kw1">override</span> <span class="kw4">void</span> WriteToStringBuilder<span class="br0">(</span>StringBuilder aSB, <span class="kw4">int</span> aIndent, <span class="kw4">int</span> aIndentInc, JSONTextMode aMode<span class="br0">)</span>
        <span class="br0">{</span>
            aSB<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">'{'</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="kw4">bool</span> first <span class="sy0">=</span> <span class="kw1">true</span><span class="sy0">;</span>
            <span class="kw1">if</span> <span class="br0">(</span>inline<span class="br0">)</span>
                aMode <span class="sy0">=</span> JSONTextMode<span class="sy0">.</span><span class="me1">Compact</span><span class="sy0">;</span>
            <span class="kw1">foreach</span> <span class="br0">(</span>var k <span class="kw1">in</span> m_Dict<span class="br0">)</span>
            <span class="br0">{</span>
                <span class="kw1">if</span> <span class="br0">(</span><span class="sy0">!</span>first<span class="br0">)</span>
                    aSB<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">','</span><span class="br0">)</span><span class="sy0">;</span>
                first <span class="sy0">=</span> <span class="kw1">false</span><span class="sy0">;</span>
                <span class="kw1">if</span> <span class="br0">(</span>aMode <span class="sy0">==</span> JSONTextMode<span class="sy0">.</span><span class="me1">Indent</span><span class="br0">)</span>
                    aSB<span class="sy0">.</span><span class="me1">AppendLine</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                <span class="kw1">if</span> <span class="br0">(</span>aMode <span class="sy0">==</span> JSONTextMode<span class="sy0">.</span><span class="me1">Indent</span><span class="br0">)</span>
                    aSB<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">' '</span>, aIndent <span class="sy0">+</span> aIndentInc<span class="br0">)</span><span class="sy0">;</span>
                aSB<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">'<span class="es0">\"</span>'</span><span class="br0">)</span><span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span>Escape<span class="br0">(</span>k<span class="sy0">.</span><span class="me1">Key</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">'<span class="es0">\"</span>'</span><span class="br0">)</span><span class="sy0">;</span>
                <span class="kw1">if</span> <span class="br0">(</span>aMode <span class="sy0">==</span> JSONTextMode<span class="sy0">.</span><span class="me1">Compact</span><span class="br0">)</span>
                    aSB<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">':'</span><span class="br0">)</span><span class="sy0">;</span>
                <span class="kw1">else</span>
                    aSB<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">"&nbsp;: "</span><span class="br0">)</span><span class="sy0">;</span>
                k<span class="sy0">.</span><span class="me1">Value</span><span class="sy0">.</span><span class="me1">WriteToStringBuilder</span><span class="br0">(</span>aSB, aIndent <span class="sy0">+</span> aIndentInc, aIndentInc, aMode<span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
            <span class="kw1">if</span> <span class="br0">(</span>aMode <span class="sy0">==</span> JSONTextMode<span class="sy0">.</span><span class="me1">Indent</span><span class="br0">)</span>
                aSB<span class="sy0">.</span><span class="me1">AppendLine</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">' '</span>, aIndent<span class="br0">)</span><span class="sy0">;</span>
            aSB<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">'}'</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
    <span class="br0">}</span>
    <span class="co1">// End of JSONObject</span>
&nbsp;
    <span class="kw1">public</span> <span class="kw4">class</span> JSONString <span class="sy0">:</span> JSONNode
    <span class="br0">{</span>
        <span class="kw1">private</span> <span class="kw4">string</span> m_Data<span class="sy0">;</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> JSONNodeType Tag <span class="br0">{</span> get <span class="br0">{</span> <span class="kw1">return</span> JSONNodeType<span class="sy0">.</span><span class="kw4">String</span><span class="sy0">;</span> <span class="br0">}</span> <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">bool</span> IsString <span class="br0">{</span> get <span class="br0">{</span> <span class="kw1">return</span> <span class="kw1">true</span><span class="sy0">;</span> <span class="br0">}</span> <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">string</span> Value
        <span class="br0">{</span>
            get <span class="br0">{</span> <span class="kw1">return</span> m_Data<span class="sy0">;</span> <span class="br0">}</span>
            set
            <span class="br0">{</span>
                m_Data <span class="sy0">=</span> value<span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> JSONString<span class="br0">(</span><span class="kw4">string</span> aData<span class="br0">)</span>
        <span class="br0">{</span>
            m_Data <span class="sy0">=</span> aData<span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">void</span> Serialize<span class="br0">(</span><span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">BinaryWriter</span> aWriter<span class="br0">)</span>
        <span class="br0">{</span>
            aWriter<span class="sy0">.</span><span class="me1">Write</span><span class="br0">(</span><span class="br0">(</span><span class="kw4">byte</span><span class="br0">)</span>JSONNodeType<span class="sy0">.</span><span class="kw4">String</span><span class="br0">)</span><span class="sy0">;</span>
            aWriter<span class="sy0">.</span><span class="me1">Write</span><span class="br0">(</span>m_Data<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
        <span class="kw1">internal</span> <span class="kw1">override</span> <span class="kw4">void</span> WriteToStringBuilder<span class="br0">(</span>StringBuilder aSB, <span class="kw4">int</span> aIndent, <span class="kw4">int</span> aIndentInc, JSONTextMode aMode<span class="br0">)</span>
        <span class="br0">{</span>
            aSB<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">'<span class="es0">\"</span>'</span><span class="br0">)</span><span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span>Escape<span class="br0">(</span>m_Data<span class="br0">)</span><span class="br0">)</span><span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">'<span class="es0">\"</span>'</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">bool</span> Equals<span class="br0">(</span><span class="kw4">object</span> obj<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">if</span> <span class="br0">(</span><span class="kw1">base</span><span class="sy0">.</span><span class="me1">Equals</span><span class="br0">(</span>obj<span class="br0">)</span><span class="br0">)</span>
                <span class="kw1">return</span> <span class="kw1">true</span><span class="sy0">;</span>
            <span class="kw4">string</span> s <span class="sy0">=</span> obj <span class="kw1">as</span> <span class="kw4">string</span><span class="sy0">;</span>
            <span class="kw1">if</span> <span class="br0">(</span>s <span class="sy0">!=</span> <span class="kw1">null</span><span class="br0">)</span>
                <span class="kw1">return</span> m_Data <span class="sy0">==</span> s<span class="sy0">;</span>
            JSONString s2 <span class="sy0">=</span> obj <span class="kw1">as</span> JSONString<span class="sy0">;</span>
            <span class="kw1">if</span> <span class="br0">(</span>s2 <span class="sy0">!=</span> <span class="kw1">null</span><span class="br0">)</span>
                <span class="kw1">return</span> m_Data <span class="sy0">==</span> s2<span class="sy0">.</span><span class="me1">m_Data</span><span class="sy0">;</span>
            <span class="kw1">return</span> <span class="kw1">false</span><span class="sy0">;</span>
        <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">int</span> GetHashCode<span class="br0">(</span><span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">return</span> m_Data<span class="sy0">.</span><span class="me1">GetHashCode</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
    <span class="br0">}</span>
    <span class="co1">// End of JSONString</span>
&nbsp;
    <span class="kw1">public</span> <span class="kw4">class</span> JSONNumber <span class="sy0">:</span> JSONNode
    <span class="br0">{</span>
        <span class="kw1">private</span> <span class="kw4">double</span> m_Data<span class="sy0">;</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> JSONNodeType Tag <span class="br0">{</span> get <span class="br0">{</span> <span class="kw1">return</span> JSONNodeType<span class="sy0">.</span><span class="me1">Number</span><span class="sy0">;</span> <span class="br0">}</span> <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">bool</span> IsNumber <span class="br0">{</span> get <span class="br0">{</span> <span class="kw1">return</span> <span class="kw1">true</span><span class="sy0">;</span> <span class="br0">}</span> <span class="br0">}</span>
&nbsp;
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">string</span> Value
        <span class="br0">{</span>
            get <span class="br0">{</span> <span class="kw1">return</span> m_Data<span class="sy0">.</span><span class="me1">ToString</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span> <span class="br0">}</span>
            set
            <span class="br0">{</span>
                <span class="kw4">double</span> v<span class="sy0">;</span>
                <span class="kw1">if</span> <span class="br0">(</span><span class="kw4">double</span><span class="sy0">.</span><span class="me1">TryParse</span><span class="br0">(</span>value, <span class="kw1">out</span> v<span class="br0">)</span><span class="br0">)</span>
                    m_Data <span class="sy0">=</span> v<span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">double</span> AsDouble
        <span class="br0">{</span>
            get <span class="br0">{</span> <span class="kw1">return</span> m_Data<span class="sy0">;</span> <span class="br0">}</span>
            set <span class="br0">{</span> m_Data <span class="sy0">=</span> value<span class="sy0">;</span> <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> JSONNumber<span class="br0">(</span><span class="kw4">double</span> aData<span class="br0">)</span>
        <span class="br0">{</span>
            m_Data <span class="sy0">=</span> aData<span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> JSONNumber<span class="br0">(</span><span class="kw4">string</span> aData<span class="br0">)</span>
        <span class="br0">{</span>
            Value <span class="sy0">=</span> aData<span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">void</span> Serialize<span class="br0">(</span><span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">BinaryWriter</span> aWriter<span class="br0">)</span>
        <span class="br0">{</span>
            aWriter<span class="sy0">.</span><span class="me1">Write</span><span class="br0">(</span><span class="br0">(</span><span class="kw4">byte</span><span class="br0">)</span>JSONNodeType<span class="sy0">.</span><span class="me1">Number</span><span class="br0">)</span><span class="sy0">;</span>
            aWriter<span class="sy0">.</span><span class="me1">Write</span><span class="br0">(</span>m_Data<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
        <span class="kw1">internal</span> <span class="kw1">override</span> <span class="kw4">void</span> WriteToStringBuilder<span class="br0">(</span>StringBuilder aSB, <span class="kw4">int</span> aIndent, <span class="kw4">int</span> aIndentInc, JSONTextMode aMode<span class="br0">)</span>
        <span class="br0">{</span>
            aSB<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span>m_Data<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
        <span class="kw1">private</span> <span class="kw1">static</span> <span class="kw4">bool</span> IsNumeric<span class="br0">(</span><span class="kw4">object</span> value<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">return</span> value <span class="kw3">is</span> <span class="kw4">int</span> <span class="sy0">||</span> value <span class="kw3">is</span> <span class="kw4">uint</span>
                <span class="sy0">||</span> value <span class="kw3">is</span> <span class="kw4">float</span> <span class="sy0">||</span> value <span class="kw3">is</span> <span class="kw4">double</span>
                <span class="sy0">||</span> value <span class="kw3">is</span> <span class="kw4">decimal</span>
                <span class="sy0">||</span> value <span class="kw3">is</span> <span class="kw4">long</span> <span class="sy0">||</span> value <span class="kw3">is</span> <span class="kw4">ulong</span>
                <span class="sy0">||</span> value <span class="kw3">is</span> <span class="kw4">short</span> <span class="sy0">||</span> value <span class="kw3">is</span> <span class="kw4">ushort</span>
                <span class="sy0">||</span> value <span class="kw3">is</span> <span class="kw4">sbyte</span> <span class="sy0">||</span> value <span class="kw3">is</span> <span class="kw4">byte</span><span class="sy0">;</span>
        <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">bool</span> Equals<span class="br0">(</span><span class="kw4">object</span> obj<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">if</span> <span class="br0">(</span>obj <span class="sy0">==</span> <span class="kw1">null</span><span class="br0">)</span>
                <span class="kw1">return</span> <span class="kw1">false</span><span class="sy0">;</span>
            <span class="kw1">if</span> <span class="br0">(</span><span class="kw1">base</span><span class="sy0">.</span><span class="me1">Equals</span><span class="br0">(</span>obj<span class="br0">)</span><span class="br0">)</span>
                <span class="kw1">return</span> <span class="kw1">true</span><span class="sy0">;</span>
            JSONNumber s2 <span class="sy0">=</span> obj <span class="kw1">as</span> JSONNumber<span class="sy0">;</span>
            <span class="kw1">if</span> <span class="br0">(</span>s2 <span class="sy0">!=</span> <span class="kw1">null</span><span class="br0">)</span>
                <span class="kw1">return</span> m_Data <span class="sy0">==</span> s2<span class="sy0">.</span><span class="me1">m_Data</span><span class="sy0">;</span>
            <span class="kw1">if</span> <span class="br0">(</span>IsNumeric<span class="br0">(</span>obj<span class="br0">)</span><span class="br0">)</span>
                <span class="kw1">return</span> Convert<span class="sy0">.</span><span class="me1">ToDouble</span><span class="br0">(</span>obj<span class="br0">)</span> <span class="sy0">==</span> m_Data<span class="sy0">;</span>
            <span class="kw1">return</span> <span class="kw1">false</span><span class="sy0">;</span>
        <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">int</span> GetHashCode<span class="br0">(</span><span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">return</span> m_Data<span class="sy0">.</span><span class="me1">GetHashCode</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
    <span class="br0">}</span>
    <span class="co1">// End of JSONNumber</span>
&nbsp;
    <span class="kw1">public</span> <span class="kw4">class</span> JSONBool <span class="sy0">:</span> JSONNode
    <span class="br0">{</span>
        <span class="kw1">private</span> <span class="kw4">bool</span> m_Data<span class="sy0">;</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> JSONNodeType Tag <span class="br0">{</span> get <span class="br0">{</span> <span class="kw1">return</span> JSONNodeType<span class="sy0">.</span><span class="me1">Boolean</span><span class="sy0">;</span> <span class="br0">}</span> <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">bool</span> IsBoolean <span class="br0">{</span> get <span class="br0">{</span> <span class="kw1">return</span> <span class="kw1">true</span><span class="sy0">;</span> <span class="br0">}</span> <span class="br0">}</span>
&nbsp;
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">string</span> Value
        <span class="br0">{</span>
            get <span class="br0">{</span> <span class="kw1">return</span> m_Data<span class="sy0">.</span><span class="me1">ToString</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span> <span class="br0">}</span>
            set
            <span class="br0">{</span>
                <span class="kw4">bool</span> v<span class="sy0">;</span>
                <span class="kw1">if</span> <span class="br0">(</span><span class="kw4">bool</span><span class="sy0">.</span><span class="me1">TryParse</span><span class="br0">(</span>value, <span class="kw1">out</span> v<span class="br0">)</span><span class="br0">)</span>
                    m_Data <span class="sy0">=</span> v<span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">bool</span> AsBool
        <span class="br0">{</span>
            get <span class="br0">{</span> <span class="kw1">return</span> m_Data<span class="sy0">;</span> <span class="br0">}</span>
            set <span class="br0">{</span> m_Data <span class="sy0">=</span> value<span class="sy0">;</span> <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> JSONBool<span class="br0">(</span><span class="kw4">bool</span> aData<span class="br0">)</span>
        <span class="br0">{</span>
            m_Data <span class="sy0">=</span> aData<span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> JSONBool<span class="br0">(</span><span class="kw4">string</span> aData<span class="br0">)</span>
        <span class="br0">{</span>
            Value <span class="sy0">=</span> aData<span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">void</span> Serialize<span class="br0">(</span><span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">BinaryWriter</span> aWriter<span class="br0">)</span>
        <span class="br0">{</span>
            aWriter<span class="sy0">.</span><span class="me1">Write</span><span class="br0">(</span><span class="br0">(</span><span class="kw4">byte</span><span class="br0">)</span>JSONNodeType<span class="sy0">.</span><span class="me1">Boolean</span><span class="br0">)</span><span class="sy0">;</span>
            aWriter<span class="sy0">.</span><span class="me1">Write</span><span class="br0">(</span>m_Data<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
        <span class="kw1">internal</span> <span class="kw1">override</span> <span class="kw4">void</span> WriteToStringBuilder<span class="br0">(</span>StringBuilder aSB, <span class="kw4">int</span> aIndent, <span class="kw4">int</span> aIndentInc, JSONTextMode aMode<span class="br0">)</span>
        <span class="br0">{</span>
            aSB<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="br0">(</span>m_Data<span class="br0">)</span> <span class="sy0">?</span> <span class="st0">"true"</span> <span class="sy0">:</span> <span class="st0">"false"</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">bool</span> Equals<span class="br0">(</span><span class="kw4">object</span> obj<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">if</span> <span class="br0">(</span>obj <span class="sy0">==</span> <span class="kw1">null</span><span class="br0">)</span>
                <span class="kw1">return</span> <span class="kw1">false</span><span class="sy0">;</span>
            <span class="kw1">if</span> <span class="br0">(</span>obj <span class="kw3">is</span> <span class="kw4">bool</span><span class="br0">)</span>
                <span class="kw1">return</span> m_Data <span class="sy0">==</span> <span class="br0">(</span><span class="kw4">bool</span><span class="br0">)</span>obj<span class="sy0">;</span>
            <span class="kw1">return</span> <span class="kw1">false</span><span class="sy0">;</span>
        <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">int</span> GetHashCode<span class="br0">(</span><span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">return</span> m_Data<span class="sy0">.</span><span class="me1">GetHashCode</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
    <span class="br0">}</span>
    <span class="co1">// End of JSONBool</span>
&nbsp;
    <span class="kw1">public</span> <span class="kw4">class</span> JSONNull <span class="sy0">:</span> JSONNode
    <span class="br0">{</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> JSONNodeType Tag <span class="br0">{</span> get <span class="br0">{</span> <span class="kw1">return</span> JSONNodeType<span class="sy0">.</span><span class="me1">NullValue</span><span class="sy0">;</span> <span class="br0">}</span> <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">bool</span> IsNull <span class="br0">{</span> get <span class="br0">{</span> <span class="kw1">return</span> <span class="kw1">true</span><span class="sy0">;</span> <span class="br0">}</span> <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">string</span> Value
        <span class="br0">{</span>
            get <span class="br0">{</span> <span class="kw1">return</span> <span class="st0">"null"</span><span class="sy0">;</span> <span class="br0">}</span>
            set <span class="br0">{</span> <span class="br0">}</span>
        <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">bool</span> AsBool
        <span class="br0">{</span>
            get <span class="br0">{</span> <span class="kw1">return</span> <span class="kw1">false</span><span class="sy0">;</span> <span class="br0">}</span>
            set <span class="br0">{</span> <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">bool</span> Equals<span class="br0">(</span><span class="kw4">object</span> obj<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">if</span> <span class="br0">(</span><span class="kw4">object</span><span class="sy0">.</span><span class="me1">ReferenceEquals</span><span class="br0">(</span><span class="kw1">this</span>, obj<span class="br0">)</span><span class="br0">)</span>
                <span class="kw1">return</span> <span class="kw1">true</span><span class="sy0">;</span>
            <span class="kw1">return</span> <span class="br0">(</span>obj <span class="kw3">is</span> JSONNull<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">int</span> GetHashCode<span class="br0">(</span><span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">return</span> <span class="nu0">0</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">void</span> Serialize<span class="br0">(</span><span class="kw5">System.<span class="me1">IO</span></span><span class="sy0">.</span><span class="me1">BinaryWriter</span> aWriter<span class="br0">)</span>
        <span class="br0">{</span>
            aWriter<span class="sy0">.</span><span class="me1">Write</span><span class="br0">(</span><span class="br0">(</span><span class="kw4">byte</span><span class="br0">)</span>JSONNodeType<span class="sy0">.</span><span class="me1">NullValue</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
        <span class="kw1">internal</span> <span class="kw1">override</span> <span class="kw4">void</span> WriteToStringBuilder<span class="br0">(</span>StringBuilder aSB, <span class="kw4">int</span> aIndent, <span class="kw4">int</span> aIndentInc, JSONTextMode aMode<span class="br0">)</span>
        <span class="br0">{</span>
            aSB<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">"null"</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
    <span class="br0">}</span>
    <span class="co1">// End of JSONNull</span>
&nbsp;
    <span class="kw1">internal</span> <span class="kw4">class</span> JSONLazyCreator <span class="sy0">:</span> JSONNode
    <span class="br0">{</span>
        <span class="kw1">private</span> JSONNode m_Node <span class="sy0">=</span> <span class="kw1">null</span><span class="sy0">;</span>
        <span class="kw1">private</span> <span class="kw4">string</span> m_Key <span class="sy0">=</span> <span class="kw1">null</span><span class="sy0">;</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> JSONNodeType Tag <span class="br0">{</span> get <span class="br0">{</span> <span class="kw1">return</span> JSONNodeType<span class="sy0">.</span><span class="me1">None</span><span class="sy0">;</span> <span class="br0">}</span> <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> JSONLazyCreator<span class="br0">(</span>JSONNode aNode<span class="br0">)</span>
        <span class="br0">{</span>
            m_Node <span class="sy0">=</span> aNode<span class="sy0">;</span>
            m_Key <span class="sy0">=</span> <span class="kw1">null</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> JSONLazyCreator<span class="br0">(</span>JSONNode aNode, <span class="kw4">string</span> aKey<span class="br0">)</span>
        <span class="br0">{</span>
            m_Node <span class="sy0">=</span> aNode<span class="sy0">;</span>
            m_Key <span class="sy0">=</span> aKey<span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">private</span> <span class="kw4">void</span> Set<span class="br0">(</span>JSONNode aVal<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">if</span> <span class="br0">(</span>m_Key <span class="sy0">==</span> <span class="kw1">null</span><span class="br0">)</span>
            <span class="br0">{</span>
                m_Node<span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span>aVal<span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
            <span class="kw1">else</span>
            <span class="br0">{</span>
                m_Node<span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span>m_Key, aVal<span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
            m_Node <span class="sy0">=</span> <span class="kw1">null</span><span class="sy0">;</span> <span class="co1">// Be GC friendly.</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> JSONNode <span class="kw1">this</span><span class="br0">[</span><span class="kw4">int</span> aIndex<span class="br0">]</span>
        <span class="br0">{</span>
            get
            <span class="br0">{</span>
                <span class="kw1">return</span> <span class="kw3">new</span> JSONLazyCreator<span class="br0">(</span><span class="kw1">this</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
            set
            <span class="br0">{</span>
                var tmp <span class="sy0">=</span> <span class="kw3">new</span> JSONArray<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                tmp<span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span>value<span class="br0">)</span><span class="sy0">;</span>
                Set<span class="br0">(</span>tmp<span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> JSONNode <span class="kw1">this</span><span class="br0">[</span><span class="kw4">string</span> aKey<span class="br0">]</span>
        <span class="br0">{</span>
            get
            <span class="br0">{</span>
                <span class="kw1">return</span> <span class="kw3">new</span> JSONLazyCreator<span class="br0">(</span><span class="kw1">this</span>, aKey<span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
            set
            <span class="br0">{</span>
                var tmp <span class="sy0">=</span> <span class="kw3">new</span> JSONObject<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                tmp<span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span>aKey, value<span class="br0">)</span><span class="sy0">;</span>
                Set<span class="br0">(</span>tmp<span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">void</span> Add<span class="br0">(</span>JSONNode aItem<span class="br0">)</span>
        <span class="br0">{</span>
            var tmp <span class="sy0">=</span> <span class="kw3">new</span> JSONArray<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
            tmp<span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span>aItem<span class="br0">)</span><span class="sy0">;</span>
            Set<span class="br0">(</span>tmp<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">void</span> Add<span class="br0">(</span><span class="kw4">string</span> aKey, JSONNode aItem<span class="br0">)</span>
        <span class="br0">{</span>
            var tmp <span class="sy0">=</span> <span class="kw3">new</span> JSONObject<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
            tmp<span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span>aKey, aItem<span class="br0">)</span><span class="sy0">;</span>
            Set<span class="br0">(</span>tmp<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">bool</span> <span class="kw1">operator</span> <span class="sy0">==</span><span class="br0">(</span>JSONLazyCreator a, <span class="kw4">object</span> b<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">if</span> <span class="br0">(</span>b <span class="sy0">==</span> <span class="kw1">null</span><span class="br0">)</span>
                <span class="kw1">return</span> <span class="kw1">true</span><span class="sy0">;</span>
            <span class="kw1">return</span> <span class="kw5">System</span><span class="sy0">.</span><span class="kw4">Object</span><span class="sy0">.</span><span class="me1">ReferenceEquals</span><span class="br0">(</span>a, b<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">bool</span> <span class="kw1">operator</span> <span class="sy0">!=</span><span class="br0">(</span>JSONLazyCreator a, <span class="kw4">object</span> b<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">return</span> <span class="sy0">!</span><span class="br0">(</span>a <span class="sy0">==</span> b<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">bool</span> Equals<span class="br0">(</span><span class="kw4">object</span> obj<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">if</span> <span class="br0">(</span>obj <span class="sy0">==</span> <span class="kw1">null</span><span class="br0">)</span>
                <span class="kw1">return</span> <span class="kw1">true</span><span class="sy0">;</span>
            <span class="kw1">return</span> <span class="kw5">System</span><span class="sy0">.</span><span class="kw4">Object</span><span class="sy0">.</span><span class="me1">ReferenceEquals</span><span class="br0">(</span><span class="kw1">this</span>, obj<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">int</span> GetHashCode<span class="br0">(</span><span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">return</span> <span class="nu0">0</span><span class="sy0">;</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">int</span> AsInt
        <span class="br0">{</span>
            get
            <span class="br0">{</span>
                JSONNumber tmp <span class="sy0">=</span> <span class="kw3">new</span> JSONNumber<span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span><span class="sy0">;</span>
                Set<span class="br0">(</span>tmp<span class="br0">)</span><span class="sy0">;</span>
                <span class="kw1">return</span> <span class="nu0">0</span><span class="sy0">;</span>
            <span class="br0">}</span>
            set
            <span class="br0">{</span>
                JSONNumber tmp <span class="sy0">=</span> <span class="kw3">new</span> JSONNumber<span class="br0">(</span>value<span class="br0">)</span><span class="sy0">;</span>
                Set<span class="br0">(</span>tmp<span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">float</span> AsFloat
        <span class="br0">{</span>
            get
            <span class="br0">{</span>
                JSONNumber tmp <span class="sy0">=</span> <span class="kw3">new</span> JSONNumber<span class="br0">(</span>0<span class="sy0">.</span>0f<span class="br0">)</span><span class="sy0">;</span>
                Set<span class="br0">(</span>tmp<span class="br0">)</span><span class="sy0">;</span>
                <span class="kw1">return</span> 0<span class="sy0">.</span>0f<span class="sy0">;</span>
            <span class="br0">}</span>
            set
            <span class="br0">{</span>
                JSONNumber tmp <span class="sy0">=</span> <span class="kw3">new</span> JSONNumber<span class="br0">(</span>value<span class="br0">)</span><span class="sy0">;</span>
                Set<span class="br0">(</span>tmp<span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">double</span> AsDouble
        <span class="br0">{</span>
            get
            <span class="br0">{</span>
                JSONNumber tmp <span class="sy0">=</span> <span class="kw3">new</span> JSONNumber<span class="br0">(</span><span class="nu0">0.0</span><span class="br0">)</span><span class="sy0">;</span>
                Set<span class="br0">(</span>tmp<span class="br0">)</span><span class="sy0">;</span>
                <span class="kw1">return</span> <span class="nu0">0.0</span><span class="sy0">;</span>
            <span class="br0">}</span>
            set
            <span class="br0">{</span>
                JSONNumber tmp <span class="sy0">=</span> <span class="kw3">new</span> JSONNumber<span class="br0">(</span>value<span class="br0">)</span><span class="sy0">;</span>
                Set<span class="br0">(</span>tmp<span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> <span class="kw4">bool</span> AsBool
        <span class="br0">{</span>
            get
            <span class="br0">{</span>
                JSONBool tmp <span class="sy0">=</span> <span class="kw3">new</span> JSONBool<span class="br0">(</span><span class="kw1">false</span><span class="br0">)</span><span class="sy0">;</span>
                Set<span class="br0">(</span>tmp<span class="br0">)</span><span class="sy0">;</span>
                <span class="kw1">return</span> <span class="kw1">false</span><span class="sy0">;</span>
            <span class="br0">}</span>
            set
            <span class="br0">{</span>
                JSONBool tmp <span class="sy0">=</span> <span class="kw3">new</span> JSONBool<span class="br0">(</span>value<span class="br0">)</span><span class="sy0">;</span>
                Set<span class="br0">(</span>tmp<span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> JSONArray AsArray
        <span class="br0">{</span>
            get
            <span class="br0">{</span>
                JSONArray tmp <span class="sy0">=</span> <span class="kw3">new</span> JSONArray<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                Set<span class="br0">(</span>tmp<span class="br0">)</span><span class="sy0">;</span>
                <span class="kw1">return</span> tmp<span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
&nbsp;
        <span class="kw1">public</span> <span class="kw1">override</span> JSONObject AsObject
        <span class="br0">{</span>
            get
            <span class="br0">{</span>
                JSONObject tmp <span class="sy0">=</span> <span class="kw3">new</span> JSONObject<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
                Set<span class="br0">(</span>tmp<span class="br0">)</span><span class="sy0">;</span>
                <span class="kw1">return</span> tmp<span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
        <span class="kw1">internal</span> <span class="kw1">override</span> <span class="kw4">void</span> WriteToStringBuilder<span class="br0">(</span>StringBuilder aSB, <span class="kw4">int</span> aIndent, <span class="kw4">int</span> aIndentInc, JSONTextMode aMode<span class="br0">)</span>
        <span class="br0">{</span>
            aSB<span class="sy0">.</span><span class="me1">Append</span><span class="br0">(</span><span class="st0">"null"</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
    <span class="br0">}</span>
    <span class="co1">// End of JSONLazyCreator</span>
&nbsp;
    <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">class</span> JSON
    <span class="br0">{</span>
        <span class="kw1">public</span> <span class="kw1">static</span> JSONNode Parse<span class="br0">(</span><span class="kw4">string</span> aJSON<span class="br0">)</span>
        <span class="br0">{</span>
            <span class="kw1">return</span> JSONNode<span class="sy0">.</span><span class="me1">Parse</span><span class="br0">(</span>aJSON<span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
    <span class="br0">}</span>
<span class="br0">}</span></pre>
      </div>
     </div> 
     <!-- 
NewPP limit report
Preprocessor node count: 62/1000000
Post?expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
--> 
     <!-- Saved in parser cache with key mediawiki:pcache:idhash:4805-0!*!*!!en!*!* and timestamp 20171007181048 --> 
    </div> 
    <!-- /bodycontent --> 
    <!-- printfooter --> 
    <div class="printfooter">
      Retrieved from "
     <a href="http://wiki.unity3d.com/index.php?title=SimpleJSON&amp;oldid=19892">http://wiki.unity3d.com/index.php?title=SimpleJSON&amp;oldid=19892</a>" 
    </div> 
    <!-- /printfooter --> 
    <!-- catlinks --> 
    <div id="catlinks" class="catlinks">
     <div id="mw-normal-catlinks" class="mw-normal-catlinks">
      <a href="/index.php/Special:Categories" title="Special:Categories">Categories</a>: 
      <ul>
       <li><a href="/index.php/Category:C_Sharp" title="Category:C Sharp">C Sharp</a></li>
       <li><a href="/index.php?title=Category:Scripts&amp;action=edit&amp;redlink=1" class="new" title="Category:Scripts (page does not exist)">Scripts</a></li>
       <li><a href="/index.php?title=Category:Utility&amp;action=edit&amp;redlink=1" class="new" title="Category:Utility (page does not exist)">Utility</a></li>
       <li><a href="/index.php?title=Category:JSON&amp;action=edit&amp;redlink=1" class="new" title="Category:JSON (page does not exist)">JSON</a></li>
       <li><a href="/index.php/Category:JavaScript" title="Category:JavaScript">JavaScript</a></li>
      </ul>
     </div>
    </div> 
    <!-- /catlinks --> 
    <div class="visualClear"></div> 
    <!-- debughtml --> 
    <!-- /debughtml --> 
   </div> 
   <!-- /bodyContent --> 
  </div> 
  <!-- /content --> 
  <!-- header --> 
  <div id="mw-head" class="noprint"> 
   <!-- 0 --> 
   <div id="p-personal" class=""> 
    <h5>Personal tools</h5> 
    <ul> 
     <li id="pt-login"><a href="/index.php?title=Special:UserLogin&amp;returnto=SimpleJSON" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in / create account</a></li> 
    </ul> 
   </div> 
   <!-- /0 --> 
   <div id="left-navigation"> 
    <!-- 0 --> 
    <div id="p-namespaces" class="vectorTabs"> 
     <h5>Namespaces</h5> 
     <ul> 
      <li id="ca-nstab-main" class="selected"><span><a href="/index.php/SimpleJSON" title="View the content page [c]" accesskey="c">Page</a></span></li> 
      <li id="ca-talk"><span><a href="/index.php/Talk:SimpleJSON" title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li> 
     </ul> 
    </div> 
    <!-- /0 --> 
    <!-- 1 --> 
    <div id="p-variants" class="vectorMenu emptyPortlet"> 
     <h4> </h4> 
     <h5><span>Variants</span><a href="#"></a></h5> 
     <div class="menu"> 
      <ul> 
      </ul> 
     </div> 
    </div> 
    <!-- /1 --> 
   </div> 
   <div id="right-navigation"> 
    <!-- 0 --> 
    <div id="p-views" class="vectorTabs"> 
     <h5>Views</h5> 
     <ul> 
      <li id="ca-view" class="selected"><span><a href="/index.php/SimpleJSON">Read</a></span></li> 
      <li id="ca-viewsource"><span><a href="/index.php?title=SimpleJSON&amp;action=edit" title="This page is protected.
You can view its source [e]" accesskey="e">View source</a></span></li> 
      <li id="ca-history" class="collapsible"><span><a href="/index.php?title=SimpleJSON&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></span></li> 
     </ul> 
    </div> 
    <!-- /0 --> 
    <!-- 1 --> 
    <div id="p-cactions" class="vectorMenu emptyPortlet"> 
     <h5><span>Actions</span><a href="#"></a></h5> 
     <div class="menu"> 
      <ul> 
      </ul> 
     </div> 
    </div> 
    <!-- /1 --> 
    <!-- 2 --> 
    <div id="p-search"> 
     <h5><label for="searchInput">Search</label></h5> 
     <form action="/index.php" id="searchform"> 
      <div> 
       <input type="search" name="search" title="Search Unify Community Wiki [f]" accesskey="f" id="searchInput"> 
       <input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton"> 
       <input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton"> 
       <input type="hidden" name="title" value="Special:Search"> 
      </div> 
     </form> 
    </div> 
    <!-- /2 --> 
   </div> 
  </div> 
  <!-- /header --> 
  <!-- panel --> 
  <div id="mw-panel" class="noprint"> 
   <!-- logo --> 
   <div id="p-logo">
    <a style="background-image: url(/images/wiki.png);" href="/index.php/Main_Page" title="Visit the main page"></a>
   </div> 
   <!-- /logo --> 
   <!-- Navigation --> 
   <div class="portal" id="p-Navigation"> 
    <h5>Navigation</h5> 
    <div class="body"> 
     <ul> 
      <li id="n-mainpage"><a href="/index.php/Main_Page" title="Visit the main page [z]" accesskey="z">Main Page</a></li> 
      <li id="n-Extensions"><a href="/index.php/Extensions">Extensions</a></li> 
      <li id="n-Particle-Library"><a href="/index.php/Particle_Library">Particle Library</a></li> 
      <li id="n-Programming"><a href="/index.php/Programming">Programming</a></li> 
      <li id="n-Scripts"><a href="/index.php/Scripts">Scripts</a></li> 
      <li id="n-Shaders"><a href="/index.php/Shaders">Shaders</a></li> 
      <li id="n-Wizards"><a href="/index.php/Wizards">Wizards</a></li> 
     </ul> 
    </div> 
   </div> 
   <!-- /Navigation --> 
   <!-- Extras --> 
   <div class="portal" id="p-Extras"> 
    <h5>Extras</h5> 
    <div class="body"> 
     <ul> 
      <li id="n-Tips.2C-Tricks.2C-Tools"><a href="/index.php/Tips">Tips, Tricks, Tools</a></li> 
      <li id="n-Tutorials"><a href="/index.php/Tutorials">Tutorials</a></li> 
      <li id="n-Unity-Projects"><a href="/index.php/Unity_Projects">Unity Projects</a></li> 
      <li id="n-Contests"><a href="/index.php/Contests">Contests</a></li> 
      <li id="n-IRC-Chatroom"><a href="/index.php/IRC">IRC Chatroom</a></li> 
     </ul> 
    </div> 
   </div> 
   <!-- /Extras --> 
   <!-- Quick Links --> 
   <div class="portal" id="p-Quick_Links"> 
    <h5>Quick Links</h5> 
    <div class="body"> 
     <ul> 
      <li id="n-portal"><a href="/index.php/Unify:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li> 
      <li id="n-recentchanges"><a href="/index.php/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li> 
      <li id="n-New-Pages"><a href="/index.php/Special:NewPages">New Pages</a></li> 
      <li id="n-help"><a href="/index.php/Help:Contents" title="The place to find out">Help</a></li> 
     </ul> 
    </div> 
   </div> 
   <!-- /Quick Links --> 
   <!-- SEARCH --> 
   <!-- /SEARCH --> 
   <!-- TOOLBOX --> 
   <div class="portal" id="p-tb"> 
    <h5>Tools</h5> 
    <div class="body"> 
     <ul> 
      <li id="t-whatlinkshere"><a href="/index.php/Special:WhatLinksHere/SimpleJSON" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li> 
      <li id="t-recentchangeslinked"><a href="/index.php/Special:RecentChangesLinked/SimpleJSON" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li> 
      <li id="t-specialpages"><a href="/index.php/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li> 
      <li><a href="/index.php?title=SimpleJSON&amp;printable=yes" rel="alternate">Printable version</a></li> 
      <li id="t-permalink"><a href="/index.php?title=SimpleJSON&amp;oldid=19892" title="Permanent link to this revision of the page">Permanent link</a></li> 
     </ul> 
    </div> 
   </div> 
   <!-- /TOOLBOX --> 
   <!-- LANGUAGES --> 
   <!-- /LANGUAGES --> 
  </div> 
  <!-- /panel --> 
  <!-- footer --> 
  <div id="footer"> 
   <ul id="footer-info"> 
    <li id="footer-info-lastmod"> This page was last modified on 12 April 2017, at 03:26.</li> 
    <li id="footer-info-viewcount">This page has been accessed 310,240 times.</li> 
    <li id="footer-info-copyright">Content is available under <a class="external" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution Share Alike</a>.</li> 
   </ul> 
   <ul id="footer-places"> 
    <li id="footer-places-privacy"><a href="/index.php/Unify:Privacy_policy" title="Unify:Privacy policy">Privacy policy</a></li> 
    <li id="footer-places-about"><a href="/index.php/Unify:About" title="Unify:About">About Unify Community Wiki</a></li> 
    <li id="footer-places-disclaimer"><a href="/index.php/Unify:General_disclaimer" title="Unify:General disclaimer">Disclaimers</a></li> 
   </ul> 
   <ul id="footer-icons" class="noprint"> 
    <li id="footer-copyrightico"> <a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="/skins/common/images/cc-by-sa.png" alt="Creative Commons Attribution Share Alike" width="88" height="31"></a> </li> 
    <li id="footer-poweredbyico"> <a href="//www.mediawiki.org/"><img src="/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31"></a> </li> 
   </ul> 
   <div style="clear:both"></div> 
  </div> 
  <!-- /footer --> 
  <script src="http://wiki.unity3d.com/load.php?debug=false&amp;lang=en&amp;modules=skins.vector&amp;only=scripts&amp;skin=vector&amp;*"></script> 
  <script>if(window.mw){
mw.loader.load(["mediawiki.user","mediawiki.page.ready"], null, true);
}</script> 
  <script src="http://wiki.unity3d.com/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script> 
  <!-- Served in 0.033 secs. -->   
 </body>
</html>