<!doctype html>
<html lang="en">
 <head id="ctl00_Head1">
  <meta charset="utf-8">
  <title>
	Token Based authentication in Node.js using JSON Web Tokens | DotNetCurry
</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Node.js based applications can be made more secured using Token Based Authentication. We will see how to use the Json Web Token package for this purpose.">
  <meta name="keywords" content="Node.js">
  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico">
  <link rel="icon" type="image/ico" href="/images/favicon.ico">
  <link rel="canonical" href="http://www.dotnetcurry.com/nodejs/1302/nodejs-token-based-authentication-security">
  <link href="/content/site?v=bz5rkOxE0Z-2ie35centVjfytGYrUzABZnVlDj6guqg1" rel="stylesheet"> 
  <style>.async-hide { opacity: 0 !important} </style> 
  <script>(function(a,s,y,n,c,h,i,d,e){s.className+=' '+y;h.start=1*new Date;
h.end=i=function(){s.className=s.className.replace(RegExp(' ?'+y),'')};
(a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;
})(window,document.documentElement,'async-hide','dataLayer',4000,
{'GTM-NJXQ5BG':true});</script> 
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-2417460-4', 'auto');
  ga('require', 'GTM-NJXQ5BG');
  ga('send', 'pageview');
</script> 
  <!--<script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-2417460-4']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

    </script>--> 
  <!--<script type='text/javascript'>
        var googletag = googletag || {};
        googletag.cmd = googletag.cmd || [];
        (function () {
            var gads = document.createElement('script');
            gads.async = true;
            gads.type = 'text/javascript';
            var useSSL = 'https:' == document.location.protocol;
            gads.src = (useSSL ? 'https:' : 'http:') +
            '//www.googletagservices.com/tag/js/gpt.js';
            var node = document.getElementsByTagName('script')[0];
            node.parentNode.insertBefore(gads, node);
        })();
    </script>

    <script type='text/javascript'>
            googletag.cmd.push(function () {
                googletag.defineSlot('/1066383/DNC_RightSidebarMiddle', [300, 150], 'div-gpt-ad-1409027380098-0').addService(googletag.pubads());
                googletag.defineSlot('/1066383/DNC_RightSidebarTop', [300, 150], 'div-gpt-ad-1409027380098-1').addService(googletag.pubads());
                googletag.defineSlot('/1066383/DNC_RightSidebarBottom', [300, 150], 'div-gpt-ad-1414828690713-0').addService(googletag.pubads());
                googletag.defineSlot('/1066383/DNC_BottomText', [500, 20], 'div-gpt-ad-1415012728575-0').addService(googletag.pubads());
                googletag.pubads().enableSingleRequest();
		googletag.pubads().collapseEmptyDivs();
                googletag.enableServices();
            });
    </script>
	--> 
  <!-- Facebook Pixel Code --> 
  <script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '1902706389940870', {
em: 'insert_email_variable'
});
fbq('track', 'PageView');
</script> 
  <noscript>
   &lt;img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=1902706389940870&amp;amp;ev=PageView&amp;amp;noscript=1"&gt;
  </noscript> 
  <!-- DO NOT MODIFY --> 
  <!-- End Facebook Pixel Code --> 
  <!-- Twitter universal website tag code May 30 --> 
  <script>
!function(e,t,n,s,u,a){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments);
},s.version='1.1',s.queue=[],u=t.createElement(n),u.async=!0,u.src='//static.ads-twitter.com/uwt.js',
a=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(u,a))}(window,document,'script');
// Insert Twitter Pixel ID and Standard Event data below
twq('init','nw0gz');
twq('track','PageView');
</script> 
  <!-- End Twitter universal website tag code --> 
 </head> 
 <body> 
  <form name="aspnetForm" method="post" action="./nodejs-token-based-authentication-security?ID=1302" id="aspnetForm"> 
   <div> 
    <input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwULLTIxMDM5OTU0OTVkZFZGDsruNSwSPtJYuo9YStIxJ5fY"> 
   </div> 
   <div> 
    <input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="A9C58E29"> 
   </div> 
   <!-- header --> 
   <div class="clearfix logoheader"> 
    <div class="col-md-3 column"> 
     <a href="/"><img src="http://www.dotnetcurry.com/images/logo_blck_new.png" alt="DotNetCurry Logo"></a> 
    </div> 
    <div class="col-md-9 column"> 
     <nav class="navbar navbar-default navbar-static-top" role="navigation"> 
      <div class="navbar-header"> 
       <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"> <span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button> 
      </div> 
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> 
       <ul class="nav navbar-nav"> 
        <li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">.NET Tutorials<strong class="caret"></strong></a> 
         <ul class="dropdown-menu"> 
          <li><a href="http://www.dotnetcurry.com/tutorials/aspnet" target="_self">ASP.NET</a></li> 
          <li><a href="http://www.dotnetcurry.com/tutorials/aspnet-mvc" target="_self">ASP.NET MVC</a></li> 
          <li><a href="http://www.dotnetcurry.com/tutorials/patterns-practices" target="_self">Design Patterns</a></li> 
          <li><a href="http://www.dotnetcurry.com/tutorials/jquery-aspnet" target="_self">jQuery &amp; ASP.NET</a></li> 
          <li><a href="http://www.dotnetcurry.com/tutorials/visualstudio" target="_self">Visual Studio &amp; TFS</a></li> 
          <li><a href="http://www.dotnetcurry.com/tutorials/sharepoint" target="_self">SharePoint</a></li> 
          <li><a href="http://www.dotnetcurry.com/tutorials/windows-azure" target="_self">Windows Azure</a></li> 
          <li><a href="http://www.dotnetcurry.com/tutorials/software-gardening" target="_self">Software Gardening</a></li> 
          <li><a href="http://www.dotnetcurry.com/tutorials/dotnetframework" target="_self">.NET Framework</a></li> 
          <li><a href="http://www.dotnetcurry.com/tutorials/csharp" target="_self">C#</a></li> 
          <li><a href="http://www.dotnetcurry.com/tutorials/linq" target="_self">LINQ</a></li> 
          <li><a href="http://www.dotnetcurry.com/tutorials/xamarin" target="_self">Xamarin</a></li> 
          <li><a href="http://www.dotnetcurry.com/tutorials/entityframework" target="_self">Entity Framework</a></li> 
          <li><a href="http://www.dotnetcurry.com/tutorials/winforms" target="_self">WinForms</a></li> 
          <li><a href="http://www.dotnetcurry.com/tutorials/wpf" target="_self">WPF</a></li> 
          <li><a href="http://www.dotnetcurry.com/tutorials/wcf" target="_self">WCF</a></li> 
          <li><a href="http://www.dotnetcurry.com/tutorials/windows-store" target="_self">UWP &amp; Windows Store</a></li> 
          <li><a href="http://www.dotnetcurry.com/tutorials/windowsphone" target="_self">Windows Phone</a></li> 
          <li><a href="http://www.dotnetcurry.com/tutorials/dotnetinterview" target="_self">.NET Interview Q&amp;A</a></li> 
          <li><a href="http://www.dotnetcurry.com/tutorials/product-articles-review" target="_self">.NET Product Reviews</a></li> 
          <li class="divider"></li> 
          <li><a href="http://www.dotnetcurry.com/magazine">Download .NET Magazines</a></li> 
         </ul> </li> 
        <li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">JavaScript Tuts<strong class="caret"></strong></a> 
         <ul class="dropdown-menu"> 
          <li><a href="http://www.dotnetcurry.com/tutorials/html5-javascript" target="_self">HTML5 and JavaScript</a></li> 
          <li><a href="http://www.dotnetcurry.com/tutorials/angularjs" target="_self">AngularJS</a></li> 
          <li><a href="http://www.dotnetcurry.com/tutorials/nodejs" target="_self">Node.js</a></li> 
          <li><a href="http://www.dotnetcurry.com/tutorials/typescript" target="_self">TypeScript</a></li> 
          <li><a href="http://www.dotnetcurry.com/tutorials/reactjs" target="_self">ReactJS</a></li> 
         </ul> </li> 
        <li class="book"><a href="http://www.dotnetcurry.com/magazine" target="_self">.NET Magazines</a> </li> 
        <li><a href="/WriteForUs.aspx" target="_self">Write For Us</a> </li> 
        <li><a href="/About.aspx" target="_self">About</a> </li> 
        <li><a href="/Contact.aspx" target="_self">Contact</a> </li> 
        <li><a href="http://www.dotnetcurry.net/s/dnc-products" target="_blank">Developer Tools</a> </li> 
       </ul> 
      </div> 
     </nav> 
    </div> 
   </div> 
   <div class="container"> 
    <div class="clearfix divborder"> 
     <div class="col-md-8 column"> 
      <div class="col-md-12 articlebox row"> 
       <div class="articletitle"> 
        <h1 class="articlehead"> <span id="ctl00_MainContent_lblTitle">Token Based authentication in Node.js using JSON Web Tokens</span> </h1> 
        <b>Posted by: </b> 
        <a id="ctl00_MainContent_lnkAddedBy" href="../../Author.aspx?AuthorName=Mahesh Sabnis">Mahesh Sabnis</a> , on 8/27/2016, in 
        <b> Category </b> 
        <a id="ctl00_MainContent_lnkCategory" href="../../BrowseArticles.aspx?CatID=81">Node.js</a> 
        <br> 
       </div> 
       <div class="articlestats"> 
        <div class="stats1"> 
         <b>Views: </b> 18283 
         <br> 
        </div> 
        <!-- twitter --> 
        <!--<div class="topsy_widget_data tweet stats2">
			<a href="https://twitter.com/share" class="twitter-share-button" data-via="dotnetcurry" data-count="none">Tweet</a>
			<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                    </div>        

                    <div class="stats3">
			<div class="fb-like" data-href="https://www.facebook.com/DotNetCurry/" data-layout="button" data-action="like" data-show-faces="false" data-share="false"></div>
 <div class="fb-share-button" data-layout="button"></div>
                    </div> 

                    <div class="stats3">                        
			<script type="IN/Share"></script>
                    </div> --> 
       </div> 
       <div class="articleabstract"> 
        <b>Abstract: </b> Node.js based applications can be made more secured using Token Based Authentication. We will see how to use the Json Web Token package for this purpose. 
       </div> 
       <a class="resp-sharing-button__link" id="fbsharelinktop" target="_blank" aria-label=""> 
        <div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small">
         <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid"> 
          <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewbox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"> 
           <g> 
            <path d="M18.768,7.465H14.5V5.56c0-0.896,0.594-1.105,1.012-1.105s2.988,0,2.988,0V0.513L14.171,0.5C10.244,0.5,9.5,3.438,9.5,5.32 v2.145h-3v4h3c0,5.212,0,12,0,12h5c0,0,0-6.85,0-12h3.851L18.768,7.465z" /> 
           </g> 
          </svg> 
         </div> 
        </div> </a> 
       <a class="resp-sharing-button__link" id="twtsharelinktop" target="_blank" aria-label=""> 
        <div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small">
         <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid"> 
          <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewbox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"> 
           <g> 
            <path d="M23.444,4.834c-0.814,0.363-1.5,0.375-2.228,0.016c0.938-0.562,0.981-0.957,1.32-2.019c-0.878,0.521-1.851,0.9-2.886,1.104 C18.823,3.053,17.642,2.5,16.335,2.5c-2.51,0-4.544,2.036-4.544,4.544c0,0.356,0.04,0.703,0.117,1.036 C8.132,7.891,4.783,6.082,2.542,3.332C2.151,4.003,1.927,4.784,1.927,5.617c0,1.577,0.803,2.967,2.021,3.782 C3.203,9.375,2.503,9.171,1.891,8.831C1.89,8.85,1.89,8.868,1.89,8.888c0,2.202,1.566,4.038,3.646,4.456 c-0.666,0.181-1.368,0.209-2.053,0.079c0.579,1.804,2.257,3.118,4.245,3.155C5.783,18.102,3.372,18.737,1,18.459 C3.012,19.748,5.399,20.5,7.966,20.5c8.358,0,12.928-6.924,12.928-12.929c0-0.198-0.003-0.393-0.012-0.588 C21.769,6.343,22.835,5.746,23.444,4.834z" /> 
           </g> 
          </svg> 
         </div> 
        </div> </a> 
       <!--<a class="resp-sharing-button__link" id="googsharelinktop" target="_blank" aria-label="">
  <div class="resp-sharing-button resp-sharing-button--google resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
        <g>
            <path d="M11.366,12.928c-0.729-0.516-1.393-1.273-1.404-1.505c0-0.425,0.038-0.627,0.988-1.368 c1.229-0.962,1.906-2.228,1.906-3.564c0-1.212-0.37-2.289-1.001-3.044h0.488c0.102,0,0.2-0.033,0.282-0.091l1.364-0.989 c0.169-0.121,0.24-0.338,0.176-0.536C14.102,1.635,13.918,1.5,13.709,1.5H7.608c-0.667,0-1.345,0.118-2.011,0.347 c-2.225,0.766-3.778,2.66-3.778,4.605c0,2.755,2.134,4.845,4.987,4.91c-0.056,0.22-0.084,0.434-0.084,0.645 c0,0.425,0.108,0.827,0.33,1.216c-0.026,0-0.051,0-0.079,0c-2.72,0-5.175,1.334-6.107,3.32C0.623,17.06,0.5,17.582,0.5,18.098 c0,0.501,0.129,0.984,0.382,1.438c0.585,1.046,1.843,1.861,3.544,2.289c0.877,0.223,1.82,0.335,2.8,0.335 c0.88,0,1.718-0.114,2.494-0.338c2.419-0.702,3.981-2.482,3.981-4.538C13.701,15.312,13.068,14.132,11.366,12.928z M3.66,17.443 c0-1.435,1.823-2.693,3.899-2.693h0.057c0.451,0.005,0.892,0.072,1.309,0.2c0.142,0.098,0.28,0.192,0.412,0.282 c0.962,0.656,1.597,1.088,1.774,1.783c0.041,0.175,0.063,0.35,0.063,0.519c0,1.787-1.333,2.693-3.961,2.693 C5.221,20.225,3.66,19.002,3.66,17.443z M5.551,3.89c0.324-0.371,0.75-0.566,1.227-0.566l0.055,0 c1.349,0.041,2.639,1.543,2.876,3.349c0.133,1.013-0.092,1.964-0.601,2.544C8.782,9.589,8.363,9.783,7.866,9.783H7.865H7.844 c-1.321-0.04-2.639-1.6-2.875-3.405C4.836,5.37,5.049,4.462,5.551,3.89z"/>
            <polygon points="23.5,9.5 20.5,9.5 20.5,6.5 18.5,6.5 18.5,9.5 15.5,9.5 15.5,11.5 18.5,11.5 18.5,14.5 20.5,14.5 20.5,11.5  23.5,11.5 	"/>
        </g>
    </svg>
    </div>
  </div>
</a>--> 
       <a class="resp-sharing-button__link" id="linkdinsharelinktop" target="_blank" aria-label=""> 
        <div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--small">
         <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid"> 
          <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24">
           <path d="M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6 0 2.5 1 2.6 2.5 0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z" />
          </svg> 
         </div> 
        </div> </a> 
      </div> 
      <div id="articleBody" class="col-md-12 row"> 
       <p>In this article we will implement Token based security in Node.js applications. Token based authentication is one of the most powerful and useful mechanisms for securing modern web applications. In ASP.NET Web API, we already have support for Token based authentication. Please visit <a href="http://www.dotnetcurry.com/aspnet/1223/secure-aspnet-web-api-using-tokens-owin-angularjs">this link</a> to read about implementing Token based authentication in Web API and Angular client application.</p> 
       <p id="jquery" class="articlead">&nbsp;</p> 
       <p>Note: You can also read about <a href="http://www.dotnetcurry.com/nodejs/1231/basic-authentication-using-nodejs">Basic Authentication in Node.js</a> and <a href="http://www.dotnetcurry.com/nodejs/1237/digest-authentication-nodejs-application">Digest Authentication in Node.js</a>.</p> 
       <p>The application in this article is implemented using Visual Studio Code (VSCode). This is a free IDE by Microsoft used for building Modern Web and Cloud based applications. This can be installed on Windows, Linux and MAC OSX. This new IDE is based on electron and can be downloaded from <a href="http://code.visualstudio.com/">this link</a>. We need to install following prerequisites for implementing application.</p> 
       <p>· Node.js&nbsp; - <a href="https://nodejs.org/en/">https://nodejs.org/en/</a></p> 
       <p>· MongoDB - <a href="https://www.mongodb.org/downloads#production">https://www.mongodb.org/downloads#production</a> (used for creating database)</p> 
       <p>· Mongoose - The driver for performing Read/Write operations with MongoDB.</p> 
       <p>· Express - This will be used to contain logic for implementing routing for http calls.</p> 
       <p>· JsonWebToken - provides mechanism to generate the Token and manage signing for the applications.</p> 
       <h2>Authentication in Node.js API with JSON Web Tokens</h2> 
       <p>The following diagram explains the architecture of the application.</p> 
       <p><img title="node-app-architecture" border="0" alt="node-app-architecture" src="http://www.dotnetcurry.com/images/nodejs/node-token-auth/node-app-architecture.png" width="1390" height="767"></p> 
       <p>The above diagram explains the technical details of the application. The Request will be accepted using Route expression exposed and managed by Express. This further uses the <a href="http://www.dotnetcurry.com/nodejs/1165/connect-mongodb-using-mongoose">Mongoose driver to connect to MongoDB database</a> and contains database and collections for User Information and application data. The JSON Web Token will be used to generate token and manage the sign in for the user.</p> 
       <p>The JSON Web Token (JWT), is a token format used in the authorization headers. This token is used to manage secure communication across two different applications. The use of JWK can be explained using the following image.</p> 
       <p><img title="jwt-behavior" border="0" alt="jwt-behavior" src="http://www.dotnetcurry.com/images/nodejs/node-token-auth/jwt-behavior.png" width="1257" height="709"></p> 
       <p>1. The end-user posts the credentials (username and password) to the server applications.</p> 
       <p>2. The application receives the credentials from a Http request and validates these credentials by querying the database. If the user is validated, the token will be created based on the user information. This token is stored in the response header. This token information, which consist of token, expiration, etc. will be stored on the client-side in the browser’s localStorage or sessionStorage.</p> 
       <p>3. The token will be used for making each request from client to the application. This token information will be present in the request header. The server application is now responsible for validating an incoming token.</p> 
       <p>4. If the token is valid, then the response for the desired result will be send by the service to the client.</p> 
       <p><a href="http://www.dotnetcurry.com/nodejs/1161/connect-mongodb-nodejs-mongodb-driver">Install MongoDB and configure it</a>.&nbsp; Visit the command prompt and execute the following command</p> 
       <p>mongodb &gt; Use UserInformation</p> 
       <p>This will create a new database of name <b>UserInformation. </b>We will use this to create a collection to store user information and the Application data.</p> 
       <h3><b>Node.js with JSON Web Tokens - Example</b></h3> 
       <p><b>Step 1: </b>On your hard drive create a new folder of the name Node_Token_Auth. Open this folder in Visual Studio Code. In this folder add following files</p> 
       <ul> 
        <li>App.js</li> 
        <li>Logic.js</li> 
        <li>Index.html</li> 
       </ul> 
       <p><b>Step 2: </b>Right-Click on app.js and select option <b>Open in Command Prompt. </b>This will open the command prompt. Run the following command from the Command prompt:</p> 
       <pre class="brush: ps;">
Npm install express jsonwebtoken mongoose body-parser –save</pre> 
       <p>This will install packages mentioned in the project under node_modules folder. To install TypeScript Definitions for the above packages run the following commands. This will be useful for intellisense.</p> 
       <pre class="brush: ps;">
npm install -g tsd
tsd query express --action install
tsd query body-parser --action install
tsd query mongoose --action install</pre> 
       <p>We will be creating a client application using Knockout, jQuery, bootstrap and we will host the html page using a http server. To install the http server we need the following package</p> 
       <pre class="brush: ps;">
npm  install -g http-server
npm install – cors</pre> 
       <p>The CORS package is required for Corss-Origin-Resource-Sharing.</p> 
       <p>The other client-side packages will be installed using the following commands:</p> 
       <pre class="brush: ps;">
Npm install jQuery
Npm install knockout
Npm install bootstrap</pre> 
       <p><b>Step 3: </b>In the app.js add the following code</p> 
       <pre class="brush: js;">
///1. Get All Packages
var express = require('express');
var bodyParser = require('body-parser');
var mongoConnect = require('mongoose');
var jsonWebToken = require('jsonwebtoken');
var cors = require('cors');

//2. Declare the Express object
var object = express();
object.use(cors());
//3. The Express Route
var apirouting = express.Router();

//4. Set the port for communication
var communicationPort = 5050;

//5. Object to store MongoDB Connection and Secret
var impObject = {
    'jwtSecret': 'xtytzt00700tytx',
    'connStr': 'mongodb://localhost/UserInformation'
};


//6. The MongoDB Connection
mongoConnect.connect(impObject.connStr);
//7. The Connection object
var db = mongoConnect.Connection; // The Connection object

if (db == 'undefined') {
    console.log("The Connecion issues");
}
//8. The User Schema
var userInfoSchema = mongoConnect.Schema({
    UserName: String,
    Password: String,
});

//9. Map Schema with the Model Object 
var userModel = mongoConnect.model('userModel', userInfoSchema);
//10. Define the Schema for person
var personSchema = mongoConnect.Schema({
    PersonId: String,
    PersonName: String,
    Email: String,
    Age: String
});
//11. Map the Person Schema 
var personModel = mongoConnect.model('Person', personSchema, 'Person');


//12. The Secret 
object.set('jwtSecret', impObject.jwtSecret);

//13. The Body Parser to parse incoming data from request
object.use(bodyParser.urlencoded({ extended: false }));
object.use(bodyParser.json());


//14/ logic for Creating user
apirouting.post('/createuser', function (request, response) {
    // UserName:request.body.UserName
    //request.body.Password
    console.log('The Request is being Processed');
    var user = new userModel({
        UserName: request.body.UserName,
        Password: request.body.Password
    });

    //Lets save the sample user
    user.save(function (error) {
        if (error) {
            console.log('Some Error Occured');
            throw error;
        }
        console.log('User Created...');
        response.json({ createduccessfully: true });
    });
});




//15. Get all users
apirouting.get('/users', function (req, res) {
    userModel.find({}, function (err, users) {
        res.json(users);
    });
});

//16. Lets authenticate user
apirouting.post('/authuser', function (request, response) {
    //16a. we need to check if the user exist
    userModel.findOne({
        UserName: request.body.UserName
    }, function (error, usr) {
        if (error) { console.log('Some error  occured '); throw error; }
        if (!usr) {
            response.json({
                authsuccess: false,
                description: 'User Authentication failed because user not found.'
            });
        } else if (usr) {
            //16b check if the received password matches with the data store
            if (usr.Password != request.body.Password) {
                response.json({
                    authsuccess: false,
                    description: 'User Authentication failed because provided password is wrong.'
                });
            } else {
                //16c. generate the token because we have the username and pasword 
                //matching
                var accessToken = jsonWebToken.sign(usr, object.get('jwtSecret'), {
                    //Set the expiration
                    expiresIn: 3600 //we are setting the expiration time of 1 hr. 
                });
                //send the response to the caller with the accesstoken and data
                console.log('Authentication is done successfully.....');

                //16d.
                response.json({
                    authsuccess: true,
                    description: 'Sending the Access Token',
                    accessToken: accessToken
                });
            }
        }
    });

});
//17.
apirouting.get('/persons', loadPersonData);

//Function to load PersonData
function loadPersonData(req, resp) {
    console.log('In Load Person');


    personModel.find({}, function (err, persons) {
        resp.json(persons);
    });


};

//18.
object.use(apirouting);
object.listen(communicationPort, function () {
    console.log('Listening on  port 5050');
});
//object.listen(communicationPort);

console.log('started listeing on the port ' + communicationPort);</pre> 
       <p>The above code does the following (The line number in the code matches with comment number applied on the above code.)</p> 
       <p>1. This block loads all the required packages for the current application. This loads Express, Mongoose, Json Web Token, cors.</p> 
       <p>2. This step declares an instance for express of name <b>object</b> and it asks the express instance to use CORS.</p> 
       <p>3. This statement defines an instance for the express route object.</p> 
       <p>4. The communication port is set to 5050.</p> 
       <p>5. This is an important step. This is a JavaScript object used to define secret for the Token, and the connection string for Mongo database.</p> 
       <p>6. This statement connects to the mongodb database.</p> 
       <p>7. This statement checks the connection status to verify whether it is successful or not.</p> 
       <p>8. This is a JavaScript object for creating Users Information. This contains UserName and Password properties.</p> 
       <p>9. This statement maps the User Schema with the Collection in the MongoDB. If this is not present then it will be created.</p> 
       <p>10. This is a JavaScript object used to define schema.</p> 
       <p>11. This statement maps the JavaScript object with the Collection in the Mongodb database.</p> 
       <p>12. This statement set the Token Secret using <b>jwtSecret </b>value.</p> 
       <p>13. The block configures the express object to use body-parser so that the posted data can be used and mapped with the JavaScript object while creating users.</p> 
       <p>14. The <b>post </b>function of the express routing object is used to define route <b>/createuser. </b>This reads the User information from the request body and maps it with the <b>userModel </b>object. This object is already mapped with the <b>usermodels</b> collection<b> </b>created in Mongodb. This object has a <b>save() </b>function using which the data will be saved in the Mongo collection.</p> 
       <p>15. The <b>get </b>routing function is used to read all users.</p> 
       <p>16. The <b>post </b>function of the route object defines route of name <b>/authuser. </b>This function has the following specifications</p> 
       <ul> 
        <li>a. Read the username from the body and check if it exist or not, if not, present it with an error message as <b>User Authentication failed because user not found</b><b>. </b></li> 
        <li>b. If the user is present but password does not match then the error message is <b>User Authentication failed because provided password is wrong</b><b>. </b></li> 
        <li>c. If the login is successful then <b>sign() </b>function of <b>jsonWebToken </b>object will be called. This function accepts the current user information and a secret to generate the access token. We can set an expiry for the token using <b>expiresIn </b>property. The token will be responded.</li> 
       </ul> 
       <p>17. The <b>get </b>function of the express rout object define <b>/persons </b>route. This calls the <b>loadPersonData </b>function to return all persons using <b>personModel. </b></p> 
       <p>18. This statement configures the express route object with express object.</p> 
       <p><b>Step 4: </b>In the logic .js, add the following code</p> 
       <pre class="brush: js;">
function securityViewModel() {
    var self = this;
    //1.    
    self.responseData = ko.observable();

    self.userName = ko.observable();

    self.userRegistrationEmail = ko.observable();
    self.userRegistrationPassword = ko.observable();
    self.userRegistrationConfirmPassword = ko.observable();

    self.userLoginEmail = ko.observable();
    self.userLoginPassword = ko.observable();

    self.accessToken = ko.observable();
    self.refreshToken = ko.observable();
    self.Persons = ko.observableArray([]);
    //2.
    self.registerUser = function () {

        self.responseData('');

        var userRegistrationInfo = {
            UserName: self.userRegistrationEmail(),
            Password: self.userRegistrationPassword()
        };

        if (self.userRegistrationConfirmPassword() === self.userRegistrationConfirmPassword()) {
            alert('Passsword Match');
            $.ajax({
                type: 'POST',
                url: 'http://localhost:5050/createuser',
                data: userRegistrationInfo,
                contenttype: 'application/json; charset=utf-8',
                datatype: "json"
            }).done(function (data) {
                self.responseData("User is Successfully " + data);
                self.userRegistrationEmail("");
                self.userRegistrationPassword("");
                self.userRegistrationConfirmPassword("");
            }).error(function (err) {
                self.responseData("Error " + err.status);
            });

        } else {
            alert('Please check the password');
        }


    };
    //3.
    self.clear = function () {
        self.userRegistrationEmail("");
        self.userRegistrationPassword("");
        self.userRegistrationConfirmPassword("");
    };
    //4.
    self.login = function () {

        //This is the information to pass for token based authentication
        var userLogin = {
            UserName: self.userLoginEmail(),
            Password: self.userLoginPassword()
        };
        var data = 'UserName=' + userLogin.UserName + '&amp;Password=' + userLogin.Password;
        alert(data);
        $.ajax({
            type: 'POST',
            url: 'http://localhost:5050/authuser',
            contenttype: 'application/x-www-form-urlencoded',
            data: data
        }).done(function (resp) {
            self.userName(resp.userName);
            //Store the token information in the SessionStorage
            //So that it can be accessed for other views
            sessionStorage.setItem('UserName', resp.UserName);
            sessionStorage.setItem('accessToken', resp.accessToken);
            //  loadData();
        }).error(function (err) {
            self.responseData("Error " + err.status);
        });
    };
    //5.
    self.getData = function () {
        var accessToken = sessionStorage.getItem('accessToken');
        console.log(accessToken);
        var authHeaders = {};
        if (accessToken) {
            authHeaders.Authorization = 'Bearer ' + accessToken;
        }
        $.ajax({
            url: 'http://localhost:5050/persons',
            type: 'GET',
            headers: authHeaders
        }).done(function (resp) {
            alert('data ' + JSON.stringify(resp));
            self.Persons(resp);
        }).error(function (error) {
            self.responseData('Error Occured ' + error.status);
        });
    };

 
};

var secure = new securityViewModel();
ko.applyBindings(secure);</pre> 
       <p>This is the Knockout View Model with following specifications (see code number above and its corresponding explanation below)</p> 
       <p>1. This block defines observable objects User Registrations information, login information, access token, etc.</p> 
       <p>2. The <b>registerUser </b>function calls the <b>/createuser </b>api from the node server to create user.</p> 
       <p>3. The <b>clear</b> function clears entered data from User interface.</p> 
       <p>4. The <b>login</b> function will pass the login user information to the server using <b>/authuser </b>api. If the user is valid, then on the successful completion of the Ajax call, the access token will be stored in the <b>sessionStorage </b>on the client.</p> 
       <p>5. The <b>getData </b>function will use the accessToken on the client side to make calls to /<b>persons </b>api. This call will pass the accessToken in the request header. The call will be successful based on the accessToken.</p> 
       <p><b>Step 5: </b>Add the following markup in the Index.html and set the databinding with the viewmodel created in previous step.</p> 
       <pre class="brush: xml;">
&lt;html&gt;
    &lt;head&gt;
        &lt;link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.min.css"&gt;
    &lt;/head&gt;
    &lt;body&gt;
      &lt;table class="table table-bordered table-striped"&gt;
           &lt;tr&gt;
               &lt;td&gt;
                   &lt;table class="table table-bordered table-striped"&gt;
                       &lt;tr&gt;
                           &lt;td&gt;User Name:&lt;/td&gt;
                           &lt;td&gt;
                               &lt;input type="text" id="unameregister" class="form-control"
                                data-bind="value:userRegistrationEmail"&gt;
                           &lt;/td&gt;
                       &lt;/tr&gt;
                       &lt;tr&gt;
                            &lt;td&gt;Password:&lt;/td&gt;
                           &lt;td&gt;
                               &lt;input type="password" id="pwdregister" class="form-control" 
                                data-bind="value:userRegistrationPassword"&gt;
                           &lt;/td&gt;
                       &lt;/tr&gt;
                       &lt;tr&gt;
                            &lt;td&gt;Confirm Password:&lt;/td&gt;
                           &lt;td&gt;
                               &lt;input type="password" id="confirmpwdregister" class="form-control"
                               data-bind="value:userRegistrationConfirmPassword" &gt;
                           &lt;/td&gt;
                       &lt;/tr&gt;
                       &lt;tr&gt;
                             &lt;td&gt;
                &lt;input type="button" id="btnregister" value="Register" class="btn btn-success"
                 data-bind="click:registerUser"/&gt;
              &lt;/td&gt;
              &lt;td&gt;
                   &lt;input type="button" id="btncancelregister" value="Cancel" 
                   class="btn btn-default" data-bind="click:clear"/&gt;
              &lt;/td&gt;
                       &lt;/tr&gt;
                   &lt;/table&gt;
               &lt;/td&gt;
               &lt;td&gt;
               &lt;table class="table table-bordered table-striped"&gt;
                 &lt;tr&gt;
              &lt;td&gt;
                  User Name:
              &lt;/td&gt;
              &lt;td&gt;
                  &lt;input type="text" id="txtuname" class="form-control"
                   data-bind="value:userLoginEmail"/&gt;
              &lt;/td&gt;
          &lt;/tr&gt;
           &lt;tr&gt;
              &lt;td&gt;
    Password:
              &lt;/td&gt;
              &lt;td&gt;
                  &lt;input type="password" id="txtpwd" class="form-control" 
                   data-bind="value:userLoginPassword"/&gt;
              &lt;/td&gt;
          &lt;/tr&gt;
           &lt;tr&gt;
              &lt;td&gt;
                &lt;input type="button" id="btnlogin" value="Login" class="btn btn-success" 
                 data-bind="click:login"/&gt;
              &lt;/td&gt;
              &lt;td&gt;
                   &lt;input type="button" id="btncancel" value="Cancel" class="btn btn-default"/&gt;
              &lt;/td&gt;
          &lt;/tr&gt;                    
               &lt;/table&gt;
               &lt;/td&gt;
             
           &lt;/tr&gt;
          &lt;tr&gt;
              &lt;td&gt;
                  &lt;input type="button" value="Load Data"  data-bind="click:getData"  class="btn btn-success"&gt;
              &lt;/td&gt;
          &lt;/tr&gt;
              
      &lt;/table&gt;
      &lt;hr/&gt;
      &lt;br/&gt;
      
        <div>
         &nbsp;
        </div>
      &lt;hr/&gt;
      &lt;table class="table table-bordered table-striped"&gt;
          &lt;thead&gt;
              &lt;tr&gt;
                  &lt;th&gt;Person Id&lt;/th&gt;
                  &lt;th&gt;Person Name&lt;/th&gt;
                  &lt;th&gt;Email&lt;/th&gt;
                  &lt;th&gt;Age&lt;/th&gt;
              &lt;/tr&gt;
          &lt;/thead&gt;
          &lt;tbody data-bind="foreach:Persons"&gt;
              &lt;tr&gt;
                  &lt;td&gt;
                      &lt;span data-bind="text:PersonId"&gt;&lt;/span&gt;
                  &lt;/td&gt;
                   &lt;td&gt;
                      &lt;span data-bind="text:PersonName"&gt;&lt;/span&gt;
                  &lt;/td&gt;
                   &lt;td&gt;
                      &lt;span data-bind="text:Email"&gt;&lt;/span&gt;
                  &lt;/td&gt;
                   &lt;td&gt;
                      &lt;span data-bind="text:Age"&gt;&lt;/span&gt;
                  &lt;/td&gt;
              &lt;/tr&gt;
          &lt;/tbody&gt;
      &lt;/table&gt;
    &lt;/body&gt;
    <a href="/node_modules/jquery/dist/jquery.min.js">/node_modules/jquery/dist/jquery.min.js</a>
    <a href="/node_modules/knockout/build/output/knockout-latest.js">/node_modules/knockout/build/output/knockout-latest.js</a>
    <a href="http://logic.js">http://logic.js</a>
    
&lt;/html&gt;</pre> 
       <p><b>Step 6: </b>Right-click on app.js and select the <b>Open in Command Prompt </b>option. Run the following command</p> 
       <pre class="brush: ps;">
Node app</pre> 
       <p>This will start the Node server on 5050 port with all the APIs created using express.</p> 
       <p><img title="node-server" border="0" alt="node-server" src="http://www.dotnetcurry.com/images/nodejs/node-token-auth/node-server.png" width="839" height="168"></p> 
       <p>Right-Click on index.html and select <b>Open in Command Prompt. </b>Run the following command from the command prompt.</p> 
       <pre class="brush: ps;">
http-server</pre> 
       <p>This will start the Http Server on port 8080</p> 
       <p><img title="http-server" border="0" alt="http-server" src="http://www.dotnetcurry.com/images/nodejs/node-token-auth/http-server.png" width="857" height="211"></p> 
       <p>Open the browser and enter the following address</p> 
       <p><a href="http://localhost:8080/Index.html">http://localhost:8080/Index.html</a></p> 
       <p><img title="first-result" border="0" alt="first-result" src="http://www.dotnetcurry.com/images/nodejs/node-token-auth/first-result.png" width="1819" height="803"></p> 
       <p>Enter UserName, Password and Confirm password and click on the register button. Once the user is created, enter the same username and password in the right-hand side text boxes and click on the <b>Login </b>button as shown in the following image.</p> 
       <p>(Note: Open the developer tool in IE using F12 (Chrome CTRL+Shift+I) and the sessionStorage will show Access Token)</p> 
       <p><img title="access-token" border="0" alt="access-token" src="http://www.dotnetcurry.com/images/nodejs/node-token-auth/access-token.png" width="1918" height="813"></p> 
       <p>The Access Token is stored on the client side. Click on the <b>Load Data</b> button, the person data will be loaded as shown in the following image</p> 
       <p><img title="final-result" border="0" alt="final-result" src="http://www.dotnetcurry.com/images/nodejs/node-token-auth/final-result.png" width="1920" height="1029"></p> 
       <p><strong>Conclusion:</strong> Node.js based applications can be made more secured using Token Based Authentication. The Json Web Token package is of much importance here.</p> 
       <!-- DNC_BottomText --> 
       <div class="visible-xs visible-sm visible-md visible-lg"> 
        <div id="dnc-bot-txtad" class="articlead"> 
        </div> 
       </div> 
       <div class="socialbox"> 
        <b>Was this article worth reading? Share it with fellow developers too. Thanks!</b> 
        <br> 
        <!-- Sharingbutton Facebook --> 
        <a class="resp-sharing-button__link" id="fbsharelink" target="_blank" aria-label="Share on Facebook"> 
         <div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--large">
          <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid"> 
           <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewbox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"> 
            <g> 
             <path d="M18.768,7.465H14.5V5.56c0-0.896,0.594-1.105,1.012-1.105s2.988,0,2.988,0V0.513L14.171,0.5C10.244,0.5,9.5,3.438,9.5,5.32 v2.145h-3v4h3c0,5.212,0,12,0,12h5c0,0,0-6.85,0-12h3.851L18.768,7.465z" /> 
            </g> 
           </svg> 
          </div>Share on Facebook
         </div> </a> 
        <!-- Sharingbutton Twitter --> 
        <a class="resp-sharing-button__link" id="twtsharelink" target="_blank" aria-label="Share on Twitter"> 
         <div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--large">
          <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid"> 
           <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewbox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"> 
            <g> 
             <path d="M23.444,4.834c-0.814,0.363-1.5,0.375-2.228,0.016c0.938-0.562,0.981-0.957,1.32-2.019c-0.878,0.521-1.851,0.9-2.886,1.104 C18.823,3.053,17.642,2.5,16.335,2.5c-2.51,0-4.544,2.036-4.544,4.544c0,0.356,0.04,0.703,0.117,1.036 C8.132,7.891,4.783,6.082,2.542,3.332C2.151,4.003,1.927,4.784,1.927,5.617c0,1.577,0.803,2.967,2.021,3.782 C3.203,9.375,2.503,9.171,1.891,8.831C1.89,8.85,1.89,8.868,1.89,8.888c0,2.202,1.566,4.038,3.646,4.456 c-0.666,0.181-1.368,0.209-2.053,0.079c0.579,1.804,2.257,3.118,4.245,3.155C5.783,18.102,3.372,18.737,1,18.459 C3.012,19.748,5.399,20.5,7.966,20.5c8.358,0,12.928-6.924,12.928-12.929c0-0.198-0.003-0.393-0.012-0.588 C21.769,6.343,22.835,5.746,23.444,4.834z" /> 
            </g> 
           </svg> 
          </div>Share on Twitter
         </div> </a> 
        <!-- Sharingbutton LinkedIn --> 
        <a class="resp-sharing-button__link" id="linkdinsharelink" target="_blank" aria-label="Share on LinkedIn"> 
         <div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--large">
          <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid"> 
           <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24">
            <path d="M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6 0 2.5 1 2.6 2.5 0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z" />
           </svg> 
          </div>Share on LinkedIn
         </div> </a> 
        <!-- Sharingbutton Google+ --> 
        <a class="resp-sharing-button__link" id="googsharelink" target="_blank" aria-label="Share on Google+"> 
         <div class="resp-sharing-button resp-sharing-button--google resp-sharing-button--large">
          <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid"> 
           <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewbox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"> 
            <g> 
             <path d="M11.366,12.928c-0.729-0.516-1.393-1.273-1.404-1.505c0-0.425,0.038-0.627,0.988-1.368 c1.229-0.962,1.906-2.228,1.906-3.564c0-1.212-0.37-2.289-1.001-3.044h0.488c0.102,0,0.2-0.033,0.282-0.091l1.364-0.989 c0.169-0.121,0.24-0.338,0.176-0.536C14.102,1.635,13.918,1.5,13.709,1.5H7.608c-0.667,0-1.345,0.118-2.011,0.347 c-2.225,0.766-3.778,2.66-3.778,4.605c0,2.755,2.134,4.845,4.987,4.91c-0.056,0.22-0.084,0.434-0.084,0.645 c0,0.425,0.108,0.827,0.33,1.216c-0.026,0-0.051,0-0.079,0c-2.72,0-5.175,1.334-6.107,3.32C0.623,17.06,0.5,17.582,0.5,18.098 c0,0.501,0.129,0.984,0.382,1.438c0.585,1.046,1.843,1.861,3.544,2.289c0.877,0.223,1.82,0.335,2.8,0.335 c0.88,0,1.718-0.114,2.494-0.338c2.419-0.702,3.981-2.482,3.981-4.538C13.701,15.312,13.068,14.132,11.366,12.928z M3.66,17.443 c0-1.435,1.823-2.693,3.899-2.693h0.057c0.451,0.005,0.892,0.072,1.309,0.2c0.142,0.098,0.28,0.192,0.412,0.282 c0.962,0.656,1.597,1.088,1.774,1.783c0.041,0.175,0.063,0.35,0.063,0.519c0,1.787-1.333,2.693-3.961,2.693 C5.221,20.225,3.66,19.002,3.66,17.443z M5.551,3.89c0.324-0.371,0.75-0.566,1.227-0.566l0.055,0 c1.349,0.041,2.639,1.543,2.876,3.349c0.133,1.013-0.092,1.964-0.601,2.544C8.782,9.589,8.363,9.783,7.866,9.783H7.865H7.844 c-1.321-0.04-2.639-1.6-2.875-3.405C4.836,5.37,5.049,4.462,5.551,3.89z" /> 
             <polygon points="23.5,9.5 20.5,9.5 20.5,6.5 18.5,6.5 18.5,9.5 15.5,9.5 15.5,11.5 18.5,11.5 18.5,14.5 20.5,14.5 20.5,11.5  23.5,11.5 	" /> 
            </g> 
           </svg> 
          </div>Share on Google+
         </div> </a> 
        <!--<ul class="socialshare">
			<li><div class="gplusarticle"><b>Please Share this article if you think it was worth reading. Thanks!</b></div></li>
			<li><div class="fb-share-button" data-layout="button"> </div> </li>
			<li><script type="IN/Share"></script></li>                    
		</ul>--> 
       </div> 
      </div> 
      <div class="footerheading">
       Further Reading - Articles You May Like!
      </div> 
      <div class="col-xs-12 col-sm-12 col-md-12 similarauthor"> 
       <div class="row"> 
        <div class="col-md-12 similararticles"> 
         <a href="http://www.dotnetcurry.com/ShowArticle.aspx?ID=1237" style="color:#4A75AD;font-weight:normal;">Digest Authentication using Node.js</a> 
         <br>
         <br> 
         <a href="http://www.dotnetcurry.com/ShowArticle.aspx?ID=1256" style="color:#4A75AD;font-weight:normal;">Node.js: Implementing Routing using Express.js</a> 
         <br>
         <br> 
         <a href="http://www.dotnetcurry.com/ShowArticle.aspx?ID=1270" style="color:#4A75AD;font-weight:normal;">Using Node.js to read HTML file and send HTML response</a> 
         <br>
         <br> 
         <a href="http://www.dotnetcurry.com/ShowArticle.aspx?ID=1225" style="color:#4A75AD;font-weight:normal;">Calling Externally Hosted Service using Node.js</a> 
         <br>
         <br> 
         <a href="http://www.dotnetcurry.com/ShowArticle.aspx?ID=1242" style="color:#4A75AD;font-weight:normal;">Promises in Node.js using Q - Farewell to Callbacks</a> 
         <br>
         <br> 
         <a href="http://www.dotnetcurry.com/ShowArticle.aspx?ID=1238" style="color:#4A75AD;font-weight:normal;">Connect to SQL Server using Node.js and mssql package</a> 
         <br>
         <br> 
         <span id="ctl00_MainContent_simArticles_lblCategoNam"></span> 
        </div> 
       </div> 
       <div class="row footerheading">
        Author
       </div> 
       <div class="row"> 
        <div class="col-md-12"> 
         <div class="col-md-12 author-wrap img-rounded"> 
          <div class="author-image thumbnail"> 
           <img id="ctl00_MainContent_authorInfo_imgAuthor" onerror="this.onload = null; this.src='/images/authors/NoImage.jpg';" src="../../images/authors/Mahesh%20Sabnis.jpg" style="border-width:0px;"> 
          </div> 
          <div class="author-desc caption">
            Mahesh Sabnis is a DotNetCurry author and Microsoft MVP having over 17 years of experience in IT education and development. He is a Microsoft Certified Trainer (MCT) since 2005 and has conducted various Corporate Training programs for .NET Technologies (all versions). Follow him on twitter @
           <a href="http://twitter.com/maheshdotnet" target="_blank">maheshdotnet</a> 
          </div> 
         </div> 
        </div> 
       </div> 
      </div> 
      <br>
      <br> 
      <div class="col-xs-12 col-sm-12 col-md-12"> 
       <a href="http://www.copyscape.com/" target="blank" rel="nofollow"><img src="/images/copyscape.gif" alt="Page copy protected against web site content infringement 	by Copyscape" title="Do not copy content from the page. Plagiarism will be detected by Copyscape." height="16" border="0"></a> 
      </div> 
      <br>
      <br>
      <br> 
      <hr> 
      <div id="ctl00_MainContent_panComments" class="col-md-12 spacer"> 
       <div class="footerheading">
        Feedback - Leave us some adulation, criticism and everything in between!
       </div> 
       <ul class="tabHeader"> 
        <li><a class="show-comments" href="#t1">Click here to post your Comments</a> </li> 
       </ul> 
       <div class="tabContent"> 
        <div id="t1" class="col-md-12 column"> 
         <div id="disqus_thread"></div> 
         <!--<script type="text/javascript">
            var disqus_shortname = 'dotnetcurry';

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>--> 
        </div> 
        <div id="t2"> 
        </div> 
        <!-- t2 --> 
       </div> 
       <!-- tabcontent --> 
      </div> 
      <!-- Place this render call where appropriate 
<script type="text/javascript">
    (function () {
        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
        po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
</script> 
<script src="//platform.linkedin.com/in.js" type="text/javascript"> lang: en_US</script>

<script>    !function (d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (!d.getElementById(id)) { js = d.createElement(s); js.id = id; js.src = "//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs); } } (document, "script", "twitter-wjs");</script>--> 
      <!-- Finally, to actually run the highlighter, you need to include this JS on your page --> 
     </div> 
     <div id="rightcol" class="col-md-4 column visible-md visible-lg"> 
      <!-- <div class="row">
                      <div class="spacerforsearch">
                        <div class="input-group">
                          <input name="ctl00$searchbox" id="ctl00_searchbox" type="text" class="form-control" placeholder="Search DotNetCurry.com for..." onFocus="this.className = &#39;form-control&#39;" style="border-color:#94C7EF;border-width:1px;border-style:solid;width:100%" />
                          <span class="input-group-btn">
                            <input type="submit" name="ctl00$SearchButton" value="Go!" id="ctl00_SearchButton" class="btn btn-default" type="button" />
                          </span>
                        </div>
                      </div>
                </div> --> 
      <div class="page-header">
       .NET TOOLS
      </div> 
      <div id="creatives" class="form-group"> 
       <div id="ban-pos-1" style="margin-top: 1em; margin-left: 2em;"> 
       </div> 
       <div id="ban-pos-2" style="margin-top: 1em; margin-left: 2em;"> 
       </div> 
       <div id="ban-pos-3" style="margin-top: 1em; margin-left: 2em;"> 
       </div> 
      </div> 
      <!--<div class="page-header">LIKE US ON FACEBOOK</div>
			<div class="fb-page form-group" data-href="https://www.facebook.com/dotnetcurry" data-width="300" data-height="250" data-hide-cover="false" data-show-facepile="true" data-show-posts="false"><div class="fb-xfbml-parse-ignore"><blockquote cite="https://www.facebook.com/dotnetcurry"><a href="https://www.facebook.com/dotnetcurry">DotNetCurry</a></blockquote></div></div>--> 
      <div class="page-header">
       POPULAR ARTICLES
      </div> 
      <div id="latestart" class="sidedivcontent"> 
       <div> 
        <a id="ctl00_toplat_Repeater1_ctl00_lnkTitle" class="top" href="http://www.dotnetcurry.com/ShowArticle.aspx?ID=1286" style="color:#4A75AD;font-weight:normal;">C# 7 - What's New</a> 
        <br>
        <br> 
        <a id="ctl00_toplat_Repeater1_ctl02_lnkTitle" class="top" href="http://www.dotnetcurry.com/ShowArticle.aspx?ID=1366" style="color:#4A75AD;font-weight:normal;">Angular 4 application development with Bootstrap 4 and TypeScript</a> 
        <br>
        <br> 
        <a id="ctl00_toplat_Repeater1_ctl04_lnkTitle" class="top" href="http://www.dotnetcurry.com/ShowArticle.aspx?ID=1372" style="color:#4A75AD;font-weight:normal;">VueJS vs Angular vs ReactJS with Demos</a> 
        <br>
        <br> 
        <a id="ctl00_toplat_Repeater1_ctl06_lnkTitle" class="top" href="http://www.dotnetcurry.com/ShowArticle.aspx?ID=1359" style="color:#4A75AD;font-weight:normal;">JavaScript Frameworks for ASP.NET MVC Developers</a> 
        <br>
        <br> 
        <a id="ctl00_toplat_Repeater1_ctl08_lnkTitle" class="top" href="http://www.dotnetcurry.com/ShowArticle.aspx?ID=1354" style="color:#4A75AD;font-weight:normal;">Using ElasticSearch, Kibana, ASP.NET Core and Docker to Discover and Visualize data</a> 
        <br>
        <br> 
        <a id="ctl00_toplat_Repeater1_ctl10_lnkTitle" class="top" href="http://www.dotnetcurry.com/ShowArticle.aspx?ID=1364" style="color:#4A75AD;font-weight:normal;">Error Handling in Large .NET Projects - Best Practices</a> 
        <br>
        <br> 
        <a id="ctl00_toplat_Repeater1_ctl12_lnkTitle" class="top" href="http://www.dotnetcurry.com/ShowArticle.aspx?ID=1360" style="color:#4A75AD;font-weight:normal;">Concurrent Programming in .NET Core</a> 
        <br>
        <br> 
        <a id="ctl00_toplat_Repeater1_ctl14_lnkTitle" class="top" href="http://www.dotnetcurry.com/ShowArticle.aspx?ID=1369" style="color:#4A75AD;font-weight:normal;">Create and Print PDF in ASP.NET MVC</a> 
        <br>
        <br> 
        <a id="ctl00_toplat_Repeater1_ctl16_lnkTitle" class="top" href="http://www.dotnetcurry.com/ShowArticle.aspx?ID=1031" style="color:#4A75AD;font-weight:normal;">DotNetCurry (DNC) .NET Magazine FAQ</a> 
        <br>
        <br> 
        <a id="ctl00_toplat_Repeater1_ctl18_lnkTitle" class="top" href="http://www.dotnetcurry.com/ShowArticle.aspx?ID=1355" style="color:#4A75AD;font-weight:normal;">Ionic 2 Tutorial - Building a hybrid mobile app using Angular</a> 
        <br>
        <br> 
        <a id="ctl00_toplat_Repeater1_ctl20_lnkTitle" class="top" href="http://www.dotnetcurry.com/ShowArticle.aspx?ID=1368" style="color:#4A75AD;font-weight:normal;">ASP.NET Core MVC Model Binding: Custom Binders</a> 
        <br>
        <br> 
        <a id="ctl00_toplat_Repeater1_ctl22_lnkTitle" class="top" href="http://www.dotnetcurry.com/ShowArticle.aspx?ID=1380" style="color:#4A75AD;font-weight:normal;">Angular 4 Grid with CRUD operations</a> 
        <br>
        <br> 
        <a id="ctl00_toplat_Repeater1_ctl24_lnkTitle" class="top" href="http://www.dotnetcurry.com/ShowArticle.aspx?ID=1365" style="color:#4A75AD;font-weight:normal;">Revisiting SOLID principles</a> 
        <br>
        <br> 
        <a id="ctl00_toplat_Repeater1_ctl26_lnkTitle" class="top" href="http://www.dotnetcurry.com/ShowArticle.aspx?ID=1362" style="color:#4A75AD;font-weight:normal;">Understanding HashSet in C# with Examples</a> 
        <br>
        <br> 
        <a id="ctl00_toplat_Repeater1_ctl28_lnkTitle" class="top" href="http://www.dotnetcurry.com/ShowArticle.aspx?ID=1374" style="color:#4A75AD;font-weight:normal;">Using Bitbucket for Git in Visual Studio 2017</a> 
        <br> 
        <br> 
        <br> 
       </div> 
      </div> 
      <div class="page-header">
       FREE DOWNLOAD
      </div> 
      <div class="sidedivcontent"> 
       <a href="http://goo.gl/OCkSV"><img src="/magazine/pictures/magcover/dnc-magazine-all-issues.png" style="width:300px;" alt="Free DNC .NET Magazine"></a> 
      </div> 
      <div class="page-header">
       JQUERY COOKBOOK
      </div> 
      <div class="sidedivcontent"> 
       <a href="http://www.dotnetcurry.net/s/dnc-jqcookbook"><img src="http://www.dotnetcurry.com/images/books/300x300-jqckbk.png" alt="jQuery CookBook"></a> 
      </div>
     </div> 
     <div class="page-header">
      LIST OF TUTORIALS
     </div> 
     <div class="sidedivcontent"> 
      <a href="http://www.dotnetcurry.com/tutorials/aspnet" target="_self">ASP.NET and WebAPI Tutorials</a>
      <br> 
      <a href="http://www.dotnetcurry.com/tutorials/aspnet-mvc" target="_self">ASP.NET MVC Tutorials</a>
      <br> 
      <a href="http://www.dotnetcurry.com/tutorials/jquery-aspnet" target="_self">jQuery &amp; ASP.NET Tutorials</a>
      <br> 
      <a href="http://www.dotnetcurry.com/tutorials/visualstudio" target="_self">Visual Studio &amp; TFS Tutorials</a>
      <br> 
      <a href="http://www.dotnetcurry.com/tutorials/sharepoint" target="_self">SharePoint Tutorials</a>
      <br> 
      <a href="http://www.dotnetcurry.com/tutorials/windows-azure" target="_self">Windows Azure Tutorials</a>
      <br> 
      <a href="http://www.dotnetcurry.com/tutorials/html5-javascript" target="_self">HTML5 and JavaScript Tutorials</a>
      <br> 
      <a href="http://www.dotnetcurry.com/tutorials/angularjs" target="_self">AngularJS Tutorials</a>
      <br> 
      <a href="http://www.dotnetcurry.com/tutorials/dotnetframework" target="_self">.NET Framework Tutorials</a>
      <br> 
      <a href="http://www.dotnetcurry.com/tutorials/csharp" target="_self">C# Tutorials</a>
      <br> 
      <a href="http://www.dotnetcurry.com/tutorials/linq" target="_self">LINQ Tutorials</a>
      <br> 
      <a href="http://www.dotnetcurry.com/tutorials/entityframework" target="_self">Entity Framework Tutorials</a>
      <br> 
      <a href="http://www.dotnetcurry.com/tutorials/winforms" target="_self">WinForms Tutorials</a>
      <br> 
      <a href="http://www.dotnetcurry.com/tutorials/wpf" target="_self">WPF Tutorials</a>
      <br> 
      <a href="http://www.dotnetcurry.com/tutorials/wcf" target="_self">WCF Tutorials</a>
      <br> 
      <a href="http://www.dotnetcurry.com/tutorials/windowsphone" target="_self">Windows Phone Tutorials</a>
      <br> 
      <a href="http://www.dotnetcurry.com/tutorials/dotnetinterview" target="_self">.NET Interview Q&amp;A</a>
      <br> 
      <a href="http://www.dotnetcurry.com/tutorials/product-articles-review" target="_self">.NET Product Reviews</a>
      <br> 
     </div> 
    </div> 
   </div>  
   <!-- container --> 
   <!-- footer --> 
   <footer class="footer-distributed"> 
    <div class="footer-right"> 
     <a href="http://www.facebook.com/dotnetcurry"><i class="fa fa-facebook"></i></a> 
     <a href="http://www.twitter.com/dotnetcurry"><i class="fa fa-twitter"></i></a> 
     <a href="https://github.com/dotnetcurry"><i class="fa fa-github"></i></a> 
    </div> 
    <div class="footer-left"> 
     <p class="footer-links"> <a href="/">Home</a> · <a href="/ShowCategories.aspx">Articles</a> · <a href="/WriteForUs.aspx">Write For Us</a> · <a href="/About.aspx">About</a> · <a href="/magazine">Free .NET Magazines</a> · <a href="/Contact.aspx">Contact</a> </p> 
     <p>DotNetCurry.com © 2007-2017</p> 
    </div> 
   </footer> 
  </form> 
  <script src="//ajax.aspnetcdn.com/ajax/jQuery/jquery-1.11.3.min.js"></script> 
  <script src="/bundles/scriptsmin?v=_mFiq3p1V5xKCvyHPoMSOOeQloYPkPanFGAQEJxOjJ41"></script> 
  <script src="/bundles/framework?v=lQt98WT0qeyZtkvC--uIPB-GjM-JuGU4xs2FWKwwNqc1"></script> 
  <script type="text/javascript">
               SyntaxHighlighter.defaults['auto-links'] = false;
               SyntaxHighlighter.defaults['gutter'] = false;
               SyntaxHighlighter.defaults['toolbar'] = false;
               SyntaxHighlighter.all()
    </script> 
  <script>
                   $(function () {
                       $('.tabHeader').children().first().addClass('current');
                       $('.tabContent').children().first().addClass('current');


                       $('.tabHeader li').click(function (e) {
                           e.preventDefault();

                           $(this).siblings('.current').removeClass('current');
                           $(this).addClass('current');

                           $('.tabContent').children('.current').removeClass('current');
                           $('.tabContent').children().eq($(this).index()).addClass('current');
                       });
                   });
    </script>   
 </body>
</html>