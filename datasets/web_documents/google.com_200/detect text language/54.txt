<!doctype html>
<html>
 <head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta property="og:url" content="https://www.olark.com/api/index">
  <title>Olark JavaScript API</title>
  <meta property="og:title" content="Olark">
  <meta property="og:type" content="article">
  <meta property="og:type:article:author" content="Olark">
  <meta property="og:image" content="">
  <meta name="description" content="The Olark Live Chat Javascript AP documentation demonstrates how users can customize the chat widget on their website.">
  <meta property="og:description" content="The Olark Live Chat Javascript AP documentation demonstrates how users can customize the chat widget on their website.">
  <link rel="stylesheet" href="/css/master.css">
  <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
 </head>
 <body id="api_index">
  <script src="//use.typekit.net/nps7bym.js"></script>
  <script>try{Typekit.load();}catch(e){}
</script>
  <script data-main="/js/main" src="/js/lib/require.js"></script>
  <script>//Segment.io
//<![CDATA[
!function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};
analytics.SNIPPET_VERSION="3.0.1";
analytics.load("skpn2o50ooslt1t0endk");

(function(){
    var pageName;
    
    if(document.head.querySelector) {
      var metaTag = document.head.querySelector("meta[name=pageName]");
      pageName = metaTag && metaTag.content;
    };
    // Always send true URL to segment.io
    analytics.page(pageName, {path:document.location.pathname, url:document.location.href});
})();

}}();
//]]>

<!-- Start Visual Website Optimizer Asynchronous Code -->
//<![CDATA[
var _vwo_code=(function(){
var account_id=150968,
settings_tolerance=2000,
library_tolerance=2500,
use_existing_jquery=false,
// DO NOT EDIT BELOW THIS LINE
f=false,d=document;return{use_existing_jquery:function(){return use_existing_jquery;},library_tolerance:function(){return library_tolerance;},finish:function(){if(!f){f=true;var a=d.getElementById('_vis_opt_path_hides');if(a)a.parentNode.removeChild(a);}},finished:function(){return f;},load:function(a){var b=d.createElement('script');b.src=a;b.type='text/javascript';b.innerText;b.onerror=function(){_vwo_code.finish();};d.getElementsByTagName('head')[0].appendChild(b);},init:function(){settings_timer=setTimeout('_vwo_code.finish()',settings_tolerance);this.load('//dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&r='+Math.random());var a=d.createElement('style'),b='body{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;}',h=d.getElementsByTagName('head')[0];a.setAttribute('id','_vis_opt_path_hides');a.setAttribute('type','text/css');if(a.styleSheet)a.styleSheet.cssText=b;else a.appendChild(d.createTextNode(b));h.appendChild(a);return settings_timer;}};}());_vwo_settings_timer=_vwo_code.init();
//]]>
<!-- End Visual Website Optimizer Asynchronous Code --></script>
  <!--include _banner-->
  <div class="container">
   <div class="header_nav featuretour_nav">
    <h1 class="header_logo"><a href="/" class="webmech_header_nav_index"><img src="/img/common/layout/logo.svg">
      <div class="alt_text">
       Olark live chat software
      </div></a></h1>
    <ul class="left_nav header_nav_text float_left">
     <li><a href="/integrations" class="top-nav-link">Integrations</a></li>
     <li><a href="/features" class="top-nav-link">Features</a></li>
     <li><a href="/pricing" class="top-nav-link">Pricing</a></li>
    </ul>
    <div class="logged-out">
     <ul class="right_nav header_nav_text float_right">
      <li><a href="/dashboard" class="login-link">Log in</a></li>
      <li><a href="/pricing" class="header_nav_signup">Free trial</a></li>
      <li class="mobile-menu-button"></li>
     </ul>
    </div>
   </div>
  </div>
  <nav class="mobile-nav">
   <div class="mobile-menu-open">
    <img src="/img/common/layout/menu-open.svg">
   </div>
   <div class="mobile-menu">
    <div class="mobile-nav-primary">
     <div class="mobile-menu-close">
      <img src="/img/common/layout/menu-close.svg">
     </div>
     <ul>
      <li><a href="/features" class="nav-link-mobile">Features</a></li>
      <li><a href="/integrations" class="nav-link-mobile">Integrations</a></li>
      <li><a href="/pricing" class="nav-link-mobile">Pricing</a></li>
      <li><a href="/login" class="nav-link-mobile">Log in</a></li>
     </ul>
    </div>
    <div class="mobile-nav-secondary">
     <ul class="mobile-nav-secondary-list">
      <li><a href="/help" class="mobile-nav-secondary-link">Help Center</a></li>
      <li><a href="/about" class="mobile-nav-secondary-link">Our Team</a></li>
      <li><a href="/values" class="mobile-nav-secondary-link">Values</a></li>
      <li><a href="/jobs" class="mobile-nav-secondary-link">Jobs</a></li>
     </ul>
     <ul class="mobile-nav-secondary-list">
      <li><a href="/contact" class="mobile-nav-secondary-link">Contact</a></li>
      <li><a href="https://blog.olark.com" class="mobile-nav-secondary-link">Blog</a></li>
      <li><a href="/faq" class="mobile-nav-secondary-link">FAQ</a></li>
      <li><a href="/sales" class="mobile-nav-secondary-link">Talk to Sales</a></li>
     </ul>
    </div>
   </div>
  </nav>
  <div class="header">
   <div class="pattern">
    <div class="container">
     <h1 class="jumbotron">Javascript API</h1>
     <h5 class="sub-heading">Our documentation to help you customize Olark to fit your website</h5>
    </div>
   </div>
  </div>
  <div class="api-wrapper">
   <div class="api-menu-left">
    <h3>
     <div class="api-menu-title">
      API Functions
     </div></h3>
    <div class="api-nav">
     <form class="toggle-api-display">
      <label class="api-options"><input type="radio" name="api-toggle" checked class="api-toggle">Show titles</label>
      <label class="api-options"><input type="radio" name="api-toggle" class="api-toggle">Show API calls</label>
     </form>
     <a data-category="ag" class="api-primary">Attention Grabber</a>
     <a href="#features.attention_grabber" data-api-call="features.attention_grabber" data-category="ag" class="api-secondary api-menu-link"><span class="api-name">Enable Attention Grabber</span><span class="api-path">features.attention_grabber</span></a>
     <a href="#CalloutBubble.bubble_image_url" data-api-call="CalloutBubble.bubble_image_url" data-category="ag" class="api-secondary api-menu-link"><span class="api-name">Online Attention Grabber image</span><span class="api-path">CalloutBubble.bubble_image_url</span></a>
     <a href="#CalloutBubble.bubble_image_url_offline" data-api-call="CalloutBubble.bubble_image_url_offline" data-category="ag" class="api-secondary api-menu-link"><span class="api-name">Offline Attention Grabber image</span><span class="api-path">CalloutBubble.bubble_image_url_offline</span></a>
     <a href="#CalloutBubble.bubble_width" data-api-call="CalloutBubble.bubble_width" data-category="ag" class="api-secondary api-menu-link"><span class="api-name">Attention Grabber image width</span><span class="api-path">CalloutBubble.bubble_width</span></a>
     <a href="#CalloutBubble.bubble_height" data-api-call="CalloutBubble.bubble_height" data-category="ag" class="api-secondary api-menu-link"><span class="api-name">Attention Grabber image height</span><span class="api-path">CalloutBubble.bubble_height</span></a>
     <a href="#CalloutBubble.slide" data-api-call="CalloutBubble.slide" data-category="ag" class="api-secondary api-menu-link"><span class="api-name">Attention Grabber animation</span><span class="api-path">CalloutBubble.slide</span></a>
     <a data-category="appearance" class="api-primary">Chat box appearance</a>
     <a href="#system.hb_show_as_tab" data-api-call="system.hb_show_as_tab" data-category="appearance" class="api-secondary api-menu-link"><span class="api-name">Show as Tab</span><span class="api-path">system.hb_show_as_tab</span></a>
     <a href="#system.hb_primary_color" data-api-call="system.hb_primary_color" data-category="appearance" class="api-secondary api-menu-link"><span class="api-name">Set Theme Color</span><span class="api-path">system.hb_primary_color</span></a>
     <a href="#system.hb_position" data-api-call="system.hb_position" data-category="appearance" class="api-secondary api-menu-link"><span class="api-name">Change Chatbox Position</span><span class="api-path">system.hb_position</span></a>
     <a href="#system.hb_disable_mobile" data-api-call="system.hb_disable_mobile" data-category="appearance" class="api-secondary api-menu-link"><span class="api-name">Disable the Mobile Chatbox</span><span class="api-path">system.hb_disable_mobile</span></a>
     <a href="#system.hb_detached" data-api-call="system.hb_detached" data-category="appearance" class="api-secondary api-menu-link"><span class="api-name">Floating Chatbox (Experimental)</span><span class="api-path">system.hb_detached</span></a>
     <a href="#system.hb_dark_theme" data-api-call="system.hb_dark_theme" data-category="appearance" class="api-secondary api-menu-link"><span class="api-name">Set Dark Theme</span><span class="api-path">system.hb_dark_theme</span></a>
     <a href="#system.hb_custom_style_secondary_color" data-api-call="system.hb_custom_style_secondary_color" data-category="appearance" class="api-secondary api-menu-link"><span class="api-name">Change the Color of Visitor Messages</span><span class="api-path">system.hb_custom_style_secondary_color</span></a>
     <a href="#system.hb_custom_style_font" data-api-call="system.hb_custom_style_font" data-category="appearance" class="api-secondary api-menu-link"><span class="api-name">Change Font Family</span><span class="api-path">system.hb_custom_style_font</span></a>
     <a href="#system.hb_custom_style_corners" data-api-call="system.hb_custom_style_corners" data-category="appearance" class="api-secondary api-menu-link"><span class="api-name">Change the Border Radius</span><span class="api-path">system.hb_custom_style_corners</span></a>
     <a href="#system.hb_chatbox_size" data-api-call="system.hb_chatbox_size" data-category="appearance" class="api-secondary api-menu-link"><span class="api-name">Change Chatbox Size</span><span class="api-path">system.hb_chatbox_size</span></a>
     <a href="#system.right_to_left" data-api-call="system.right_to_left" data-category="appearance" class="api-secondary api-menu-link"><span class="api-name">Change Text Position</span><span class="api-path">system.right_to_left</span></a>
     <a href="#system.hb_show_button_text" data-api-call="system.hb_show_button_text" data-category="appearance" class="api-secondary api-menu-link"><span class="api-name">Show Button Text</span><span class="api-path">system.hb_show_button_text</span></a>
     <a data-category="box" class="api-primary">Chat box behavior</a>
     <a href="#api.box.show" data-api-call="api.box.show" data-category="box" class="api-secondary api-menu-link"><span class="api-name">Show the chatbox</span><span class="api-path">api.box.show</span></a>
     <a href="#api.box.hide" data-api-call="api.box.hide" data-category="box" class="api-secondary api-menu-link"><span class="api-name">Hide the chatbox</span><span class="api-path">api.box.hide</span></a>
     <a href="#api.box.expand" data-api-call="api.box.expand" data-category="box" class="api-secondary api-menu-link"><span class="api-name">Expand the chatbox</span><span class="api-path">api.box.expand</span></a>
     <a href="#api.box.shrink" data-api-call="api.box.shrink" data-category="box" class="api-secondary api-menu-link"><span class="api-name">Minimize the chatbox</span><span class="api-path">api.box.shrink</span></a>
     <a href="#api.box.setLocale" data-api-call="api.box.setLocale" data-category="box" class="api-secondary api-menu-link"><span class="api-name">Dynamically change the chatbox language</span><span class="api-path">api.box.setLocale</span></a>
     <a href="#api.box.onShow" data-api-call="api.box.onShow" data-category="box" class="api-secondary api-menu-link"><span class="api-name">On chatbox show</span><span class="api-path">api.box.onShow</span></a>
     <a href="#api.box.onHide" data-api-call="api.box.onHide" data-category="box" class="api-secondary api-menu-link"><span class="api-name">On chatbox hide</span><span class="api-path">api.box.onHide</span></a>
     <a href="#api.box.onExpand" data-api-call="api.box.onExpand" data-category="box" class="api-secondary api-menu-link"><span class="api-name">On chatbox expand</span><span class="api-path">api.box.onExpand</span></a>
     <a href="#api.box.onShrink" data-api-call="api.box.onShrink" data-category="box" class="api-secondary api-menu-link"><span class="api-name">On chatbox minimize</span><span class="api-path">api.box.onShrink</span></a>
     <a data-category="chat" class="api-primary">Chat conversation</a>
     <a href="#api.chat.onReady" data-api-call="api.chat.onReady" data-category="chat" class="api-secondary api-menu-link"><span class="api-name">On chatbox load</span><span class="api-path">api.chat.onReady</span></a>
     <a href="#api.chat.setOperatorGroup" data-api-call="api.chat.setOperatorGroup" data-category="chat" class="api-secondary api-menu-link"><span class="api-name">Change operator group</span><span class="api-path">api.chat.setOperatorGroup</span></a>
     <a href="#api.chat.onOperatorsAvailable" data-api-call="api.chat.onOperatorsAvailable" data-category="chat" class="api-secondary api-menu-link"><span class="api-name">On operators available</span><span class="api-path">api.chat.onOperatorsAvailable</span></a>
     <a href="#api.chat.onOperatorsAway" data-api-call="api.chat.onOperatorsAway" data-category="chat" class="api-secondary api-menu-link"><span class="api-name">On operators unavailable</span><span class="api-path">api.chat.onOperatorsAway</span></a>
     <a href="#api.chat.onBeginConversation" data-api-call="api.chat.onBeginConversation" data-category="chat" class="api-secondary api-menu-link"><span class="api-name">On conversation start</span><span class="api-path">api.chat.onBeginConversation</span></a>
     <a href="#api.chat.onMessageToOperator" data-api-call="api.chat.onMessageToOperator" data-category="chat" class="api-secondary api-menu-link"><span class="api-name">On message to operator</span><span class="api-path">api.chat.onMessageToOperator</span></a>
     <a href="#api.chat.onMessageToVisitor" data-api-call="api.chat.onMessageToVisitor" data-category="chat" class="api-secondary api-menu-link"><span class="api-name">On message to visitor</span><span class="api-path">api.chat.onMessageToVisitor</span></a>
     <a href="#api.chat.onCommandFromOperator" data-api-call="api.chat.onCommandFromOperator" data-category="chat" class="api-secondary api-menu-link"><span class="api-name">On operator command</span><span class="api-path">api.chat.onCommandFromOperator</span></a>
     <a href="#api.chat.sendMessageToVisitor" data-api-call="api.chat.sendMessageToVisitor" data-category="chat" class="api-secondary api-menu-link"><span class="api-name">Send message to visitor</span><span class="api-path">api.chat.sendMessageToVisitor</span></a>
     <a href="#api.chat.sendNotificationToOperator" data-api-call="api.chat.sendNotificationToOperator" data-category="chat" class="api-secondary api-menu-link"><span class="api-name">Send operator notification</span><span class="api-path">api.chat.sendNotificationToOperator</span></a>
     <a href="#api.chat.sendNotificationToVisitor" data-api-call="api.chat.sendNotificationToVisitor" data-category="chat" class="api-secondary api-menu-link"><span class="api-name">Send visitor notification</span><span class="api-path">api.chat.sendNotificationToVisitor</span></a>
     <a href="#api.chat.onOfflineMessageToOperator" data-api-call="api.chat.onOfflineMessageToOperator" data-category="chat" class="api-secondary api-menu-link"><span class="api-name">Offline message sent</span><span class="api-path">api.chat.onOfflineMessageToOperator</span></a>
     <a data-category="configure" class="api-primary">Configure the chat box</a>
     <a href="#features.feedback" data-api-call="features.feedback" data-category="configure" class="api-secondary api-menu-link"><span class="api-name">Enable Chat Ratings</span><span class="api-path">features.feedback</span></a>
     <a href="#features.prechat_survey" data-api-call="features.prechat_survey" data-category="configure" class="api-secondary api-menu-link"><span class="api-name">Enable Pre-chat Survey</span><span class="api-path">features.prechat_survey</span></a>
     <a href="#box.start_expanded" data-api-call="box.start_expanded" data-category="configure" class="api-secondary api-menu-link"><span class="api-name">Expand chatbox on load</span><span class="api-path">box.start_expanded</span></a>
     <a href="#box.start_hidden" data-api-call="box.start_hidden" data-category="configure" class="api-secondary api-menu-link"><span class="api-name">Start chatbox hidden</span><span class="api-path">box.start_hidden</span></a>
     <a href="#box.inline" data-api-call="box.inline" data-category="configure" class="api-secondary api-menu-link"><span class="api-name">Load chatbox in DOM element</span><span class="api-path">box.inline</span></a>
     <a href="#system.give_location_to_operator" data-api-call="system.give_location_to_operator" data-category="configure" class="api-secondary api-menu-link"><span class="api-name">Page change notifications</span><span class="api-path">system.give_location_to_operator</span></a>
     <a href="#system.disable_default_visitor_information" data-api-call="system.disable_default_visitor_information" data-category="configure" class="api-secondary api-menu-link"><span class="api-name">Pre-chat visitor notifications</span><span class="api-path">system.disable_default_visitor_information</span></a>
     <a href="#system.localization" data-api-call="system.localization" data-category="configure" class="api-secondary api-menu-link"><span class="api-name">Configure the default language</span><span class="api-path">system.localization</span></a>
     <a href="#system.group" data-api-call="system.group" data-category="configure" class="api-secondary api-menu-link"><span class="api-name">Set operator group</span><span class="api-path">system.group</span></a>
     <a href="#system.allowed_domains" data-api-call="system.allowed_domains" data-category="configure" class="api-secondary api-menu-link"><span class="api-name">Allowed domains</span><span class="api-path">system.allowed_domains</span></a>
     <a href="#system.is_single_page_application" data-api-call="system.is_single_page_application" data-category="configure" class="api-secondary api-menu-link"><span class="api-name">Single page applications</span><span class="api-path">system.is_single_page_application</span></a>
     <a href="#system.chat_does_not_follow_external_links" data-api-call="system.chat_does_not_follow_external_links" data-category="configure" class="api-secondary api-menu-link"><span class="api-name">Prevent non-local URL wrapping</span><span class="api-path">system.chat_does_not_follow_external_links</span></a>
     <a data-category="ga" class="api-primary">Google Analytics</a>
     <a href="#features.google_analytics" data-api-call="features.google_analytics" data-category="ga" class="api-secondary api-menu-link"><span class="api-name">Enable Google Analytics</span><span class="api-path">features.google_analytics</span></a>
     <a href="#system.google_analytics_id" data-api-call="system.google_analytics_id" data-category="ga" class="api-secondary api-menu-link"><span class="api-name">Set Google Analytics ID</span><span class="api-path">system.google_analytics_id</span></a>
     <a data-category="greeter" class="api-primary">Greeter</a>
     <a href="#WelcomeAssist.welcome_new_visitors" data-api-call="WelcomeAssist.welcome_new_visitors" data-category="greeter" class="api-secondary api-menu-link"><span class="api-name">Switch on the Greeter</span><span class="api-path">WelcomeAssist.welcome_new_visitors</span></a>
     <a href="#features.greeter" data-api-call="features.greeter" data-category="greeter" class="api-secondary api-menu-link"><span class="api-name">Enable Greeter</span><span class="api-path">features.greeter</span></a>
     <a href="#WelcomeAssist.welcome_delay_in_seconds" data-api-call="WelcomeAssist.welcome_delay_in_seconds" data-category="greeter" class="api-secondary api-menu-link"><span class="api-name">Set Greeter delay in seconds</span><span class="api-path">WelcomeAssist.welcome_delay_in_seconds</span></a>
     <a href="#WelcomeAssist.welcome_messages" data-api-call="WelcomeAssist.welcome_messages" data-category="greeter" class="api-secondary api-menu-link"><span class="api-name">Set Greeter Welcome Messages</span><span class="api-path">WelcomeAssist.welcome_messages</span></a>
     <a href="#WelcomeAssist.notify_operator_of_new_visitors" data-api-call="WelcomeAssist.notify_operator_of_new_visitors" data-category="greeter" class="api-secondary api-menu-link"><span class="api-name">Notify operators of first-time visitors</span><span class="api-path">WelcomeAssist.notify_operator_of_new_visitors</span></a>
     <a data-category="prechat" class="api-primary">Pre-chat survey</a>
     <a href="#system.ask_for_name" data-api-call="system.ask_for_name" data-category="prechat" class="api-secondary api-menu-link"><span class="api-name">Require name</span><span class="api-path">system.ask_for_name</span></a>
     <a href="#system.ask_for_email" data-api-call="system.ask_for_email" data-category="prechat" class="api-secondary api-menu-link"><span class="api-name">Require email</span><span class="api-path">system.ask_for_email</span></a>
     <a href="#system.ask_for_phone" data-api-call="system.ask_for_phone" data-category="prechat" class="api-secondary api-menu-link"><span class="api-name">Require phone number</span><span class="api-path">system.ask_for_phone</span></a>
     <a data-category="rules" class="api-primary">Targeted Chat</a>
     <a href="#api.rules.defineRule" data-api-call="api.rules.defineRule" data-category="rules" class="api-secondary api-menu-link"><span class="api-name">Define Targeted Chat rules</span><span class="api-path">api.rules.defineRule</span></a>
     <a data-category="visitor" class="api-primary">Visitor information</a>
     <a href="#api.visitor.getDetails" data-api-call="api.visitor.getDetails" data-category="visitor" class="api-secondary api-menu-link"><span class="api-name">Get visitor details</span><span class="api-path">api.visitor.getDetails</span></a>
     <a href="#api.chat.updateVisitorNickname" data-api-call="api.chat.updateVisitorNickname" data-category="visitor" class="api-secondary api-menu-link"><span class="api-name">Update visitor nickname</span><span class="api-path">api.chat.updateVisitorNickname</span></a>
     <a href="#api.chat.updateVisitorStatus" data-api-call="api.chat.updateVisitorStatus" data-category="visitor" class="api-secondary api-menu-link"><span class="api-name">Update visitor status</span><span class="api-path">api.chat.updateVisitorStatus</span></a>
     <a href="#api.visitor.updateFullName" data-api-call="api.visitor.updateFullName" data-category="visitor" class="api-secondary api-menu-link"><span class="api-name">Update visitor name</span><span class="api-path">api.visitor.updateFullName</span></a>
     <a href="#api.visitor.updateEmailAddress" data-api-call="api.visitor.updateEmailAddress" data-category="visitor" class="api-secondary api-menu-link"><span class="api-name">Update visitor email</span><span class="api-path">api.visitor.updateEmailAddress</span></a>
     <a href="#api.visitor.updatePhoneNumber" data-api-call="api.visitor.updatePhoneNumber" data-category="visitor" class="api-secondary api-menu-link"><span class="api-name">Update visitor phone</span><span class="api-path">api.visitor.updatePhoneNumber</span></a>
     <a href="#api.visitor.updateCustomFields" data-api-call="api.visitor.updateCustomFields" data-category="visitor" class="api-secondary api-menu-link"><span class="api-name">Update CRM custom fields</span><span class="api-path">api.visitor.updateCustomFields</span></a>
    </div>
   </div>
   <div id="start" class="api-content">
    <div class="content_background api-content-background">
     <div class="api-intro">
      <h3 id="getting-started-with-the-api">Getting started with the API</h3> 
      <p>We offer a powerful Javascript API that gives you flexibility and control over the behavior of the Olark chat box. You can decide, how, when and where to display the chat box on your site, as well as view and update visitor information.</p> 
      <ol> 
       <li>Make sure you have the <a href="/install">latest Olark embed code</a>.</li> 
       <li>Use the <a href="/help/develop">!develop command</a> from the operator-side of the chat to reveal visitor-side developer tools.</li> 
       <li><p>For <code>olark.configure</code> API calls, place them in your existing Olark before <code>olark.identify</code> as shown below:</p> <pre class="prettyprint">
/* custom configuration goes here (www.olark.com/documentation) */
// ? Your configuration here
olark.identify('1234-456-78-9810');
</pre> </li> 
      </ol> 
      <p>We encourage developers to write their own JavaScript to extend the Olark functionality on their sites. We're very excited when we see examples of the API used in creative ways. Let us know if you have an interesting implementation and we may publish it. Email <a href="mailto:karl@olark.com">karl@olark.com</a> with your creations!</p> 
      <h3 id="support">Support</h3> 
      <p>If you have a problem with an API call, such as it not returning the correct value or not performing the intended action, email <a href="mailto:support@olark.com">support@olark.com</a> with a link to a page where we can test the functionality and information about the steps that you've taken to debug so far.</p> 
      <p><strong>Testing and Debugging</strong></p> 
      <p>The API is intended to be self-serve. Although we can't debug or write JavaScript for you, there are some helpful ways to test your own code during development:</p> 
      <ul> 
       <li><a href="https://developer.chrome.com/devtools/docs/javascript-debugging#breakpoints">Debugging with breakpoints</a></li> 
       <li><a href="https://developer.chrome.com/devtools/docs/javascript-debugging#exceptions">Exceptions</a></li> 
       <li><a href="https://developer.chrome.com/devtools/docs/javascript-debugging#pretty-print">Pretty Print</a></li> 
       <li><a href="http://codepen.io/">CodePen</a> and <a href="http://jsfiddle.net/">JSfiddle</a> – HTML, CSS, and JavaScript code editors in your browser with instant previews.</li> 
      </ul> 
      <p><strong>Learning JavaScript</strong></p> 
      <p>If you're new to JavaScript entirely, you might want to start with one of these courses:</p> 
      <ul> 
       <li><a href="http://www.codecademy.com/en/tracks/javascript">Codecademy</a>, <a href="https://www.codeschool.com/paths/javascript">Code School</a> and <a href="http://teamtreehouse.com/features/javascript">Treehouse</a> – Online JavaScript courses.</li> 
       <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">Mozilla Developer Network</a></li> 
      </ul> 
      <p><strong>Localization</strong></p> 
      <p>You can translate the chat box into any language in your <a href="http://www.olark.com/customize/config?customize_form_pane=behavior">text settings</a> and editing the text.</p> 
      <p>If you need to work with multiple languages, use our API to <a href="http://www.olark.com/help/languages">localize language strings</a>.</p> 
     </div>
     <div class="api-content-calls">
      <div id="features.attention_grabber" data-category="ag" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#features.attention_grabber">Enable Attention Grabber</a></h2>
        <div class="article-content">
         <p>You can enable the Attention Grabber on a page by page basis using this API call.</p> 
         <h3 id="show-attention-grabber-on-checkout-page">Show Attention Grabber on checkout page</h3> 
         <p>If you'd like to reach out to people on your checkout page to ensure you make the sale, or offer a discount, you might wish to show the Attention Grabber on that page only.</p> 
         <pre><code>// Check if the page URL contains 'checkout'
if(window.location.href.indexOf("checkout") &gt;= 0){

    // Enable the Attention Grabber
    olark.configure('features.attention_grabber', true );

}
else {

    // Otherwise disable the Attention Grabber
    olark.configure('features.attention_grabber', false );

}
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Enable the Attention Grabber
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('features.attention_grabber', true );</pre>
       </div>
      </div>
      <div id="CalloutBubble.bubble_image_url" data-category="ag" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#CalloutBubble.bubble_image_url">Online Attention Grabber image</a></h2>
        <div class="article-content">
         <p>Sets the Attention Grabber image while your operators are set to available.</p> 
         <p>Like the other Attention Grabber calls, this works on a page by page basis. You can choose an online Attention Grabber for use across the entire site in the <a href="https://www.olark.com/extensions/attention_grabber">Attention Grabber settings</a></p> 
         <p>This call would be useful if you wanted a different image on a particular page, such as the contact page, or if you only wanted the Attention Grabber to appear on one page.</p> 
         <p>You would add it under the existing Olark code on the page like this:</p> 
         <pre><code>olark.configure('CalloutBubble.bubble_image_url', 'path/to/file' );
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Online Attention Grabber image
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('CalloutBubble.bubble_image_url', 'path/to/file' );</pre>
       </div>
      </div>
      <div id="CalloutBubble.bubble_image_url_offline" data-category="ag" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#CalloutBubble.bubble_image_url_offline">Offline Attention Grabber image</a></h2>
        <div class="article-content">
         <p>Sets the Attention Grabber image while all your operators are set to away or offline.</p> 
         <p>Like the other Attention Grabber calls, this works on a page by page basis. You can choose an offline Attention Grabber for use across the entire site in the <a href="https://www.olark.com/extensions/attention_grabber">Attention Grabber settings</a></p> 
         <p>This call would be useful if you wanted a different image on a particular page, such as the contact page, or if you only wanted the Attention Grabber to appear on one page.</p> 
         <p>You would add it under the existing Olark code on the page like this:</p> 
         <pre><code>olark.configure('CalloutBubble.bubble_image_url_offline', 'path/to/file' );
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Offline Attention Grabber image
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('CalloutBubble.bubble_image_url_offline', 'path/to/file' );</pre>
       </div>
      </div>
      <div id="CalloutBubble.bubble_width" data-category="ag" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#CalloutBubble.bubble_width">Attention Grabber image width</a></h2>
        <div class="article-content">
         <p>Set the Attention Grabber image width in pixels.</p> 
         <p>For example:</p> 
         <pre><code>olark.configure('CalloutBubble.bubble_width', 100 );
</code></pre>
         <p>Results in an attention grabber with a width of 100px.</p> 
         <p>This only works if you either, have the Attention Grabber switched on in the <a href="https://www.olark.com/extensions/attention_grabber">Attention Grabber settings</a>, or are using the API call to <a href="#features.attention_grabber">Enable the Attention Grabber</a>.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Attention Grabber image width
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('CalloutBubble.bubble_width', integer );</pre>
       </div>
      </div>
      <div id="CalloutBubble.bubble_height" data-category="ag" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#CalloutBubble.bubble_height">Attention Grabber image height</a></h2>
        <div class="article-content">
         <p>Set the Attention Grabber image height in pixels.</p> 
         <p>For example:</p> 
         <pre><code>olark.configure('CalloutBubble.bubble_height', 25 );
</code></pre>
         <p>Results in an attention grabber with a height of 25px.</p> 
         <p>This only works if you either, have the Attention Grabber switched on in the <a href="https://www.olark.com/extensions/attention_grabber">Attention Grabber settings</a>, or are using the API call to <a href="#features.attention_grabber">Enable the Attention Grabber</a>.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Attention Grabber image height
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('CalloutBubble.bubble_height', integer );</pre>
       </div>
      </div>
      <div id="CalloutBubble.slide" data-category="ag" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#CalloutBubble.slide">Attention Grabber animation</a></h2>
        <div class="article-content">
         <p>Enables the Attention Grabber slide-out animation.</p> 
         <h3 id="animate-attention-grabber-on-checkout-page">Animate Attention Grabber on checkout page</h3> 
         <p>If you'd like to reach out to people on your checkout page to ensure you make the sale, or offer a discount, you might wish to animate the <a href="https://www.olark.com/help/attention-grabbers">Attention Grabber</a> on that page only, to give it extra prominence.</p> 
         <pre><code>// Check if the page URL contains 'checkout'
if(window.location.href.indexOf("checkout") &gt;= 0){

    // Enable the Attention Grabber
    olark.configure('CalloutBubble.slide', true );

}
</code></pre>
         <p>When the Attention Grabber slides out, it looks like this:</p> 
         <p><img src="/img/api/callout_bubble_slide.gif" alt=""></p> 
         <p>Alternatively, should you enable the slide out action on the <a href="https://www.olark.com/extensions/attention_grabber">Attention Grabber settings</a> page, you can disable this animation per page by switching the <code>true</code> to <code>false</code> in the example above.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Enable the Attention Grabber animation
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('CalloutBubble.slide', true );</pre>
       </div>
      </div>
      <div id="system.hb_show_as_tab" data-category="appearance" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#system.hb_show_as_tab">Show as Tab</a></h2>
        <div class="article-content">
         <p>Show the chatbox as a tab. This can also be changed site wide from the <a href="https://www.olark.com/settings/theme">Theme Settings Page.</a></p> 
         <p><img src="/img/api/show-as-tab.jpg" alt="tab"></p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Show as tab
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('system.hb_show_as_tab', true );</pre>
       </div>
      </div>
      <div id="system.hb_primary_color" data-category="appearance" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#system.hb_primary_color">Set Theme Color</a></h2>
        <div class="article-content">
         <p>Set the primary color of the chatbox. This can also be changed site wide from the <a href="https://www.olark.com/settings/theme">Theme Settings Page.</a></p> 
         <p>This configure call will only accept a hex string. For example</p> 
         <pre><code>olark.configure('system.hb_primary_color', '#744da8');
</code></pre>
         <p><img src="/img/api/primary-color.jpg" alt="themes"></p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Set theme color
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('system.hb_primary_color', string);</pre>
       </div>
      </div>
      <div id="system.hb_position" data-category="appearance" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#system.hb_position">Change Chatbox Position</a></h2>
        <div class="article-content">
         <p>Change the position of the chatbox. This can also be changed site wide from the <a href="https://www.olark.com/settings/theme">Theme Settings Page.</a></p> 
         <p><img src="/img/api/chatbox-position.jpg" alt="postition"></p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Change chatbox position
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('system.hb_position', 'left');</pre>
       </div>
      </div>
      <div id="system.hb_disable_mobile" data-category="appearance" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#system.hb_disable_mobile">Disable the Mobile Chatbox</a></h2>
        <div class="article-content">
         <p>Disable the mobile chatbox. This can also be changed site wide from the <a href="https://www.olark.com/settings/theme">Theme Settings Page.</a></p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Disbale the Mobile Chatbox
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('system.hb_disable_mobile', true );</pre>
       </div>
      </div>
      <div id="system.hb_detached" data-category="appearance" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#system.hb_detached">Floating Chatbox (Experimental)</a></h2>
        <div class="article-content">
         <p>Normally, the chatbox is anchored to the bottom of the webpage. This detaches the chatbox from the bottom of the page, allowing it to float near the bottom instead.</p> 
         <pre><code>olark.configure('system.hb_detached', true);
</code></pre>
         <p><img src="/img/api/chatbox-detached.jpg" alt="themes"></p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Floating chatbox (experimental)
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('system.hb_detached', true );</pre>
       </div>
      </div>
      <div id="system.hb_dark_theme" data-category="appearance" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#system.hb_dark_theme">Set Dark Theme</a></h2>
        <div class="article-content">
         <p>Choose a light or dark theme for the chatbox. This can also be changed site wide from the <a href="https://www.olark.com/settings/theme">Theme Settings Page.</a></p> 
         <p><img src="/img/api/themes.jpg" alt="themes"></p> 
         <p>You can enable a dark theme on a specific page. You can also do this for your entire site from the <a href="https://www.olark.com/settings/theme">Theme Settings Page</a>.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Set dark or light theme
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('system.hb_dark_theme', true );</pre>
       </div>
      </div>
      <div id="system.hb_custom_style_secondary_color" data-category="appearance" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#system.hb_custom_style_secondary_color">Change the Color of Visitor Messages</a></h2>
        <div class="article-content">
         <p>Change the color of your visitor messages. This configuration key will only accept hex values.</p> 
         <pre><code>olark.configure('system.hb_custom_style', {
  general: {
    fonts: [''],
    corners: '',
    secondaryColor: '#ffe6ff'
  }
});
</code></pre>
         <p><img src="/img/api/api-secondary-color.png" alt="secondary color"></p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Change the color of visitor messages
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('system.hb_custom_style', { 
	general: { 
		fonts: [''], 
		corners: '', 
		secondaryColor: '#ffe6ff' 
	} 
 });</pre>
       </div>
      </div>
      <div id="system.hb_custom_style_font" data-category="appearance" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#system.hb_custom_style_font">Change Font Family</a></h2>
        <div class="article-content">
         <p>Choose what font you'd like the chatbox to have. Use this call with an Array of valid loaded fonts. Note that the fonts must be loaded on your site for the chatbox to be able to use them.</p> 
         <pre><code>olark.configure('system.hb_custom_style', {
  general: {
    fonts: ['Bitter', 'serif'],
    corners: '',
    secondaryColor: ''
  }
});
</code></pre>
         <p><img src="/img/api/api-font.png" alt="font"></p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Change the font of the chatbox
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('system.hb_custom_style', { 
	general: { 
		fonts: ['Bitter', 'serif'], 
		corners: '', 
		secondaryColor: '' 
	} 
 });</pre>
       </div>
      </div>
      <div id="system.hb_custom_style_corners" data-category="appearance" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#system.hb_custom_style_corners">Change the Border Radius</a></h2>
        <div class="article-content">
         <p>We have two options that allow you to have 'soft' or 'hard' corners for the chatbox. By default the chatbox will have soft corners.</p> 
         <pre><code>olark.configure('system.hb_custom_style', {
  general: {
    fonts: [''],
    corners: 'hard',
    secondaryColor: ''
  }
});
</code></pre>
         <p><img src="/img/api/api_corners.png" alt="corners"></p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Change the border radius for the corners of the chatbox
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('system.hb_custom_style', { 
	general: { 
		fonts: [''], 
		corners: 'soft', 
		secondaryColor: '' 
	} 
 });</pre>
       </div>
      </div>
      <div id="system.hb_chatbox_size" data-category="appearance" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#system.hb_chatbox_size">Change Chatbox Size</a></h2>
        <div class="article-content">
         <p>Change the size of the chatbox. The chatbox can be configured to appear in one of three different sizes: small, medium, or large. By default, it uses the medium size. Changing the size of the chatbox will also modify the size of the chat button.</p> 
         <p>This configure call will only accept a string value indicating the size you would like to use. For example</p> 
         <pre><code>olark.configure('system.hb_chatbox_size', 'sm'); // Small
</code></pre>
         <p><img src="/img/api/chatbox-size-small.jpg" alt="themes"></p> 
         <pre><code>olark.configure('system.hb_chatbox_size', 'md'); // Medium
</code></pre>
         <p><img src="/img/api/chatbox-size-medium.jpg" alt="themes"></p> 
         <pre><code>olark.configure('system.hb_chatbox_size', 'lg'); // Large
</code></pre>
         <p><img src="/img/api/chatbox-size-large.jpg" alt="themes"></p> 
         <h3 id="experimental">Experimental</h3> 
         <p>You can also configure the chatbox to take up the full height of the web page and slide in from the side as opposed to the bottom, like a "side drawer". This configuration uses medium size defaults.</p> 
         <pre><code>olark.configure('system.hb_chatbox_size', 'dr'); // Side drawer
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Change chatbox size
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('system.hb_chatbox_size', 'sm');</pre>
       </div>
      </div>
      <div id="system.right_to_left" data-category="appearance" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#system.right_to_left">Change Text Position</a></h2>
        <div class="article-content">
         <p>Change the text position for right to left language support. This can also be changed site wide from the <a href="https://www.olark.com/settings/theme">Theme Settings Page.</a></p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Change text position
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('system.right_to_left', true );</pre>
       </div>
      </div>
      <div id="system.hb_show_button_text" data-category="appearance" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#system.hb_show_button_text">Show Button Text</a></h2>
        <div class="article-content">
         <p>Show the button text on the chatbox icon. This can also be changed site wide from the <a href="https://www.olark.com/settings/theme">Theme Settings Page.</a></p> 
         <p><img src="/img/api/disable-button-text.jpg" alt="button text"></p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Show button text
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('system.hb_show_button_text', true );</pre>
       </div>
      </div>
      <div id="api.box.show" data-category="box" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.box.show">Show the chatbox</a></h2>
        <div class="article-content">
         <p>Shows the chatbox. Showing the chatbox will make it appear on the page. This will override settings such as <em>Invisible Olark</em>.</p> 
         <p><img src="/img/api/api_show.gif" alt=""></p> 
         <p>Should you wish to show the widget on specific pages, you can also create these rules using our <a href="https://www.olark.com/extensions/targeting">Targeted Chat</a> tool, instead of updating the code on your page.</p> 
         <h3 id="show-the-chatbox-on-error">Show the chatbox on error</h3> 
         <p>If a visitor runs into an error, you might want to make sure that the chatbox is displayed:</p> 
         <pre><code>&lt;script&gt;
// If you have a script that returns error codes, show the Olark chatbox
if (errorOnPage) {
    olark('api.box.show');
}
&lt;/script&gt;
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Unhide the chat box
        </div>
        <pre class="prettyprint lang-javascript">olark('api.box.show');</pre>
       </div>
      </div>
      <div id="api.box.hide" data-category="box" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.box.hide">Hide the chatbox</a></h2>
        <div class="article-content">
         <p>Hides the chatbox. This box will make the chatbox disappear on the page, but operators will still be able to see visitors in their visitor list.</p> 
         <p><img src="/img/api/api_hide.gif" alt=""></p> 
         <h3 id="hide-the-chatbox-if-not-logged-in">Hide the chatbox if not logged in</h3> 
         <p>You might want Olark to be loaded in the background on a particular page, but not show immediately. Here's how that might look in PHP:</p> 
         <pre><code>&lt;?php
// Check to see if the user is logged in
if (!$user_logged_in)
{
    // Hide the chat box
    olark('api.box.hide');
}
?&gt;
</code></pre>
         <p>You can also use our <a href="https://www.olark.com/help/targeted-chat">Targeted Chat</a> tool to hide the widget, without altering the code of your website.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Hide the chat box
        </div>
        <pre class="prettyprint lang-javascript">olark('api.box.hide');</pre>
       </div>
      </div>
      <div id="api.box.expand" data-category="box" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.box.expand">Expand the chatbox</a></h2>
        <div class="article-content">
         <p>Expands the chatbox to its fully expanded height. It will also <strong>show</strong> the chatbox if not already visible, in the same way as <code>api.box.show</code>.</p> 
         <p>Using this API call overrides any existing Targeted Chat rules that may hide the chatbox.</p> 
         <p><img src="/img/api/api_expand.gif" alt=""></p> 
         <h3 id="click-to-chat-link">Click to chat link</h3> 
         <p>A classic use of the Javascript API is to make your own click-to-chat button. Clicking this button will show the Olark chatbox and expand it to its maximum height.</p> 
         <p>To make your own click-to-chat button, add the <code>api.box.expand</code> call as the value for the <code>onclick</code> event:</p> 
         <pre><code>&lt;a href="javascript:void(0);" onclick="olark('api.box.expand')"&gt;
    Click here to chat!
&lt;/a&gt;
</code></pre>
         <p>We have a more detailed <a href="/help/addimage">click-to-chat tutorial</a> in our help section, including an example of a CSS-only implementation.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Expand the chat box
        </div>
        <pre class="prettyprint lang-javascript">olark('api.box.expand');</pre>
       </div>
      </div>
      <div id="api.box.shrink" data-category="box" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.box.shrink">Minimize the chatbox</a></h2>
        <div class="article-content">
         <p>Minimizes the chatbox. Opposite of <code>api.box.expand</code>.</p> 
         <p><img src="/img/api/api_shrink.gif" alt=""></p> 
         <h3 id="click-to-minimize-button">Click-to-minimize button</h3> 
         <p>If you have your own click to chat button, you might also want to make <em>click to minimize</em> button:</p> 
         <pre><code>&lt;a href="javascript:void(0);" onclick="olark('api.box.shrink')"&gt;
    Minimize chat
&lt;/a&gt;
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Minimize the chat box
        </div>
        <pre class="prettyprint lang-javascript">olark('api.box.shrink');</pre>
       </div>
      </div>
      <div id="api.box.setLocale" data-category="box" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.box.setLocale">Dynamically change the chatbox language</a></h2>
        <div class="article-content">
         <p>You can dynamically change the chatbox language after the page has loaded. By using this call the default localization strings provided by Olark will be used and will override any text you have set in the Behavior &amp; Text dashboard. This call, however, will not override any language configuration calls like <code>olark.configure('locale.welcome_title', 'Foo')</code>, the string provided by that call always takes highest priority.</p> 
         <p>You can see a list of languages we support <a href="https://www.olark.com/api/#system.localization">here</a>.</p> 
         <p><img src="/img/api/api_setLocale.gif" alt=""></p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Dynamically change the chatbox language
        </div>
        <pre class="prettyprint lang-javascript">olark('api.box.setLocale', 'en-US')</pre>
       </div>
      </div>
      <div id="api.box.onShow" data-category="box" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.box.onShow">On chatbox show</a></h2>
        <div class="article-content">
         <p>Whenever the chatbox is shown (unhidden), the given callback function will be triggered.</p> 
         <p><img src="/img/api/api_onShow.gif" alt=""></p> 
         <h3 id="update-visitor-status-when-chat-box-visible">Update visitor status when chat box visible</h3> 
         <p>If you have chosen to have your chatbox hidden by default, you can indicate in your buddy list that a visitor can now see the chatbox. This means they might be about to send a message:</p> 
         <pre><code>olark('api.box.onShow', function() {
    olark('api.chat.updateVisitorNickname', {
        snippet: "is visible"
    });
});
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Monitor when the chat box unhides
        </div>
        <pre class="prettyprint lang-javascript">olark('api.box.onShow', function() {
	// Your callback function
});</pre>
       </div>
      </div>
      <div id="api.box.onHide" data-category="box" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.box.onHide">On chatbox hide</a></h2>
        <div class="article-content">
         <p>Whenever the chatbox is hidden, the given callback function will be triggered.</p> 
         <p><img src="/img/api/api_onHide.gif" alt=""></p> 
         <h3 id="notify-an-operator-when-a-visitor-closes-the-chat-box">Notify an operator when a visitor closes the chat box</h3> 
         <p>You can notify your operator that the visitor has closed the chatbox if you have already started chatting:</p> 
         <pre><code>&lt;script&gt;
// Checks to see if the coversation has started
olark('api.chat.onBeginConversation', function(){

    // Triggers when the chat box has been hidden
    olark('api.box.onHide', function() {

        // Notifies the operator. The visitor does not see this.
        olark('api.chat.sendNotificationToOperator', {body: "Visitor hid the chatbox"})

    });

});
&lt;/script&gt;
</code></pre>
         <p>You could just as easily replace the <code>onHide</code> call, to be <code>onShrink</code> if you wanted to report to the operator when the visitors minimizes the chat widget.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Monitor when the chat box is hidden
        </div>
        <pre class="prettyprint lang-javascript">olark('api.box.onHide', function() {
	// Your callback function
});</pre>
       </div>
      </div>
      <div id="api.box.onExpand" data-category="box" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.box.onExpand">On chatbox expand</a></h2>
        <div class="article-content">
         <p>Whenever the chatbox is expanded, the given callback function will be triggered.</p> 
         <p><img src="/img/api/api_onExpand.gif" alt=""></p> 
         <h3 id="watch-for-visitors-clicking-the-chatbox">Watch for visitors clicking the chatbox</h3> 
         <p>A visitor to your site might expand the chatbox, but not initiate a conversation. You can check to see if a conversation has started and if not, send the visitor a message after 3 seconds.</p> 
         <pre><code>&lt;script&gt;
// Triggers when the chat box has been expanded
olark('api.box.onExpand', function() {

    // Use getDetails to grab visitor information
    olark('api.visitor.getDetails', function(details){

        // isConversing tells you if any messages has been exchanged
        // between the visitor and the operator
        if (!details.isConversing) {

            // Wait 3 seconds (3000 milliseconds)
            setTimeout(function(){

                // Use the API to send the visitor a message
                olark('api.chat.sendMessageToVisitor', {
                    body: "Let me know if you have any questions."
                });

            }, 3000);

        }

    });

});
&lt;/script&gt;
</code></pre>
         <h3 id="track-when-visitors-expand-your-olark-widget">Track when visitors expand your Olark widget</h3> 
         <p>If you are trying to track when visitors interact with the Olark widget, to perhaps test out different methods of presenting the widget, you can use this following example to do so.</p> 
         <pre><code>&lt;script&gt;
olark('api.box.onExpand', function(event) {

    // Example code
     yourAnalytics.track("visitor_expanded_olark");

});
&lt;/script&gt;
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Monitor when the chat box expands
        </div>
        <pre class="prettyprint lang-javascript">olark('api.box.onExpand', function() {
	// Your callback function
});</pre>
       </div>
      </div>
      <div id="api.box.onShrink" data-category="box" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.box.onShrink">On chatbox minimize</a></h2>
        <div class="article-content">
         <p>Whenever the chatbox becomes minimized, the given callback function will be triggered.</p> 
         <p><img src="/img/api/api_onShrink.gif" alt=""></p> 
         <h3 id="track-when-visitors-minimize-your-olark-widget">Track when visitors minimize your Olark widget</h3> 
         <p>If you are trying to track when visitors shrink the Olark widget, to perhaps track via analytics the efficacy of different auto-messaging rules, you can use this following example to do so.</p> 
         <pre><code>&lt;script&gt;
olark('api.box.onShrink', function(event) {

    // Example code
     yourAnalytics.track("visitor_minimized_olark");

});
&lt;/script&gt;
</code></pre>
         <h3 id="notify-an-operator-when-a-visitor-minimizes-the-chat-box">Notify an operator when a visitor minimizes the chat box</h3> 
         <p>You can notify your operator that the visitor has minimized the widget if you have already started chatting:</p> 
         <pre><code>&lt;script&gt;
// Checks to see if the coversation has started
olark('api.chat.onBeginConversation', function(){

    // Triggers when the chat box has been hidden
    olark('api.box.onShrink', function() {

        // Notifies the operator. The visitor does not see this.
        olark('api.chat.sendNotificationToOperator', {body: "Visitor shrank the chatbox"})

    });

});
&lt;/script&gt;
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Monitor for the chat box minimizing
        </div>
        <pre class="prettyprint lang-javascript">olark('api.box.onShrink', function() {
	// Your callback function
});</pre>
       </div>
      </div>
      <div id="api.chat.onReady" data-category="chat" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.chat.onReady">On chatbox load</a></h2>
        <div class="article-content">
         <p>Use this API call to detect when the Olark chatbox has loaded. You can create your own callback function once the onReady event fires.</p> 
         <p>For example, you would use onReady if you need to manipulate elements on your page only when you know for sure that Olark has loaded. You might be doing an A/B test for live chat, and want to send an event to your analytics when Olark has loaded on a page.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Check Olark has loaded
        </div>
        <pre class="prettyprint lang-javascript">olark('api.chat.onReady', function(){
	// Your callback function
});</pre>
       </div>
      </div>
      <div id="api.chat.setOperatorGroup" data-category="chat" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.chat.setOperatorGroup">Change operator group</a></h2>
        <div class="article-content">
         <blockquote> 
          <p><strong>Note:</strong> This method requires a <a href="https://www.olark.com/featurelist">plan</a> that supports the Groups feature.</p> 
         </blockquote> 
         <p>Locks the visitor to a specific group of operators. All messages from the visitor will now go to that group of operators instead of all operators. See the <a href="https://www.olark.com/op">operator configuration page</a> to find the Group ID.</p> 
         <h3 id="choose-operator-group-by-button-click">Choose operator group by button click</h3> 
         <p>When the visitor clicks the <strong>Talk to our Sales Team</strong> button, lock to the Sales Group specifically.</p> 
         <pre><code>&lt;script&gt;
    document.getElementById('talk-to-sales').onclick = function() {

        olark('api.chat.setOperatorGroup', {
            group: 'abcdef123456'
        });

        olark('api.box.expand');

    }
&lt;/script&gt;
</code></pre>
         <p>This example assumes that the Sales Group ID is 'abcdef123456'. You can find the Group ID on the <a href="https://www.olark.com/op">operator configuration page</a>.</p> 
         <h3 id="switch-to-a-backup-operator-group">Switch to a backup operator group</h3> 
         <p>This is a special rule that notifies a backup group of operators when a customer initiates a conversation but doesn't receive a response within a minute.</p> 
         <blockquote> 
          <p><strong>Note:</strong> This script may not work well without routing to ALL operators enabled in the <a href="https://www.olark.com/customize/advanced">Advanced settings</a>.</p> 
         </blockquote> 
         <pre><code>&lt;script&gt;
// Creates a new Targeted Chat rule
olark('api.rules.defineRule', {

    id: '44',
    description: "notify backup team if customers aren't responded to within 60 seconds ",
    condition: function(pass) {

        // Retrieve info about the chat
        olark('api.visitor.getDetails', function(details) {

            // Trigger this action if message hasn't been responded to within 60 seconds (NOTE: This will trigger if an operator initiates a message)

            if ((details.messageCountForThisVisit &lt; 2) &amp;&amp; (details.secondsSinceLastMessage &gt; 60) &amp;&amp; (details.isConversing)) {
                pass();
            }

        });
    },
    action: function() {

        // Change the group to the backup group using their Group ID
        olark('api.chat.setOperatorGroup', {
            group: 'YOURBACKUPGROUPID'
        });

        // Send a notification to the backup group operators
        olark('api.chat.sendNotificationToOperator',
        {
            body: "Visitor has been waiting more than 60 seconds"
        });

    },

    // Trigger the rule page change if customer still hasn't received response
    perPage: true

});
&lt;/script&gt;
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Lock the visitor to an operator group
        </div>
        <pre class="prettyprint lang-javascript">olark('api.chat.setOperatorGroup', {
	group: // Group ID from https://www.olark.com/op
});</pre>
        <div class="snippet-title">
         Arguments
        </div>
        <ul class="snippet-list">
         <li><strong>options.group</strong><br><span>the Group ID that you want to lock to</span></li>
        </ul>
       </div>
      </div>
      <div id="api.chat.onOperatorsAvailable" data-category="chat" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.chat.onOperatorsAvailable">On operators available</a></h2>
        <div class="article-content">
         <p>Whenever any operator comes online, the given <code>callback</code> will be triggered.</p> 
         <h3 id="indicate-you-have-operators-available">Indicate you have operators available</h3> 
         <p>Show a green icon whenever you have operators available to chat, or a red one when you are away:</p> 
         <pre><code>&lt;!-- HTML element to show chatbox status --&gt;
&lt;div id="chat-indicator"&gt;Live chat&lt;/div&gt;

&lt;style type="text/css"&gt;

    /* Operators available */
    .green-icon {
        background-color: green;
    }

    /* Operators offline */
    .red-icon {
        background-color: red;
    }

&lt;/style&gt;

&lt;script&gt;
olark('api.chat.onOperatorsAvailable', function() {

    // Identify the element, and give it a class name
    document.getElementById('chat-indicator').className = 'green-icon';

});
olark('api.chat.onOperatorsAway', function() {

    // Identify the element, and give it a class name
    document.getElementById('chat-indicator').className = 'red-icon';

});
&lt;/script&gt;
</code></pre>
         <p>Here is an example of what it might look like with a little styling. In this example, we also added selectors to change the text as well as the color.</p> 
         <pre><code>&lt;style type="text/css"&gt;

    /* Operators available */
    .green-icon {
    background-color: green;
    }
    .green-icon::after {
    ????content: ": on";
    }

    /* Operators offline */
    .red-icon {
    background-color: red;
    }
    .red-icon::after {
    ????content: ": off";
    }
&lt;/style&gt;
</code></pre>
         <p><img src="/img/api/api_onOperatorsAvailable.gif" alt=""></p> 
         <p><em>Please note:</em> This call will only fire if an operator's state changes. It cannot be queried.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Trigger for when operators are available
        </div>
        <pre class="prettyprint lang-javascript">olark('api.chat.onOperatorsAvailable', function() {
	// Your callback function
});</pre>
       </div>
      </div>
      <div id="api.chat.onOperatorsAway" data-category="chat" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.chat.onOperatorsAway">On operators unavailable</a></h2>
        <div class="article-content">
         <p>Whenever all operators are offline, the given <code>callback</code> will be triggered.</p> 
         <h3 id="indicate-your-operators-are-offline">Indicate your operators are offline</h3> 
         <p>Show a red icon whenever you have operators available to chat:</p> 
         <pre><code>&lt;!-- HTML element to show chatbox status --&gt;
&lt;div id="chat-indicator"&gt;Live chat&lt;/div&gt;

&lt;style type="text/css"&gt;

    /* Operators available */
    .green-icon {
        background-color: green;
    }

    /* Operators offline */
    .red-icon {
        background-color: red;
    }

&lt;/style&gt;

&lt;script&gt;
olark('api.chat.onOperatorsAvailable', function() {

    // Identify the element, and give it a class name
    document.getElementById('chat-indicator').className = 'green-icon';

});
olark('api.chat.onOperatorsAway', function() {

    // Identify the element, and give it a class name
    document.getElementById('chat-indicator').className = 'red-icon';

});
&lt;/script&gt;
</code></pre>
         <p>Here is an example of what it might look like with a little styling. In this example, we also added selectors to change the text as well as the color.</p> 
         <pre><code>&lt;style type="text/css"&gt;

    /* Operators available */
    .green-icon {
    background-color: green;
    }
    .green-icon::after {
    ????content: ": on";
    }

    /* Operators offline */
    .red-icon {
    background-color: red;
    }
    .red-icon::after {
    ????content: ": off";
    }
&lt;/style&gt;
</code></pre>
         <p><img src="/img/api/api_onOperatorsAvailable.gif" alt=""></p> 
         <p><em>Please note:</em> This call will only fire if an operator's state changes. It cannot be queried.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Trigger for when operators are away
        </div>
        <pre class="prettyprint lang-javascript">olark('api.chat.onOperatorsAway', function() {
	// Your callback function
});</pre>
       </div>
      </div>
      <div id="api.chat.onBeginConversation" data-category="chat" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.chat.onBeginConversation">On conversation start</a></h2>
        <div class="article-content">
         <p>Whenever a visitor or operator sends the first message, the given callback function will be triggered.</p> 
         <h3 id="show-premium-users-in-visitor-list">Show premium users in visitor list</h3> 
         <p>Olark already sends some nice information to the operator when the chat first begins, but you can send your own information too. Here's how you might highlight that a visitor to your site is a premium customer:</p> 
         <pre><code>&lt;script&gt;
// Triggers when the first message has been sent
// Including automated messages from the Greeter or Targeted Chat rules
olark('api.chat.onBeginConversation', function() {

    // Get the data from your own server as to whether the visitor is a premium account
    if (currentVisitorIsPremium) {

        // Notifies the operator - the visitor does not see this
        olark('api.chat.sendNotificationToOperator', {
            body: "This is a premium customer"
        });

    }

});
&lt;/script&gt;
</code></pre>
         <h3 id="send-an-automatic-response-if-an-operator-does-not-answer-within-x-seconds">Send an automatic response if an operator does not answer within X seconds</h3> 
         <p>While we encourage you to be as human as possible during your interactions, and avoiding as much canned copy as you can, we do recognize the fact that sometimes something comes up and you cannot answer a visitor's chat right away. This example will send a response to a visitor after 60 seconds if the operator does not reply:</p> 
         <pre><code>&lt;script&gt;
var maxMilliseconds = 60*1000; // make sure the visitor doesn't receive a reply within 60 seconds
var replyTimer = null;

olark("api.chat.onMessageToOperator", function() {
    replyTimer = setTimeout(function() {
    replyTimer = null;
    olark("api.chat.sendMessageToVisitor", {
        body: "Sorry! I'm a little busy at the moment but will get back with you soon."
        });
    }, maxMilliseconds);
});

olark("api.chat.onMessageToVisitor", function() {
    if (replyTimer) {
        clearTimeout(replyTimer);
    }
});
&lt;/script&gt;
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Monitor when a conversation begins
        </div>
        <pre class="prettyprint lang-javascript">olark('api.chat.onBeginConversation', function() {
	// Your callback function
});</pre>
       </div>
      </div>
      <div id="api.chat.onMessageToOperator" data-category="chat" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.chat.onMessageToOperator">On message to operator</a></h2>
        <div class="article-content">
         <p>Whenever a message is sent to the operator, this will call the given <code>callback</code> with an <code>event</code> object.</p> 
         <h3 id="track-messages-to-operators">Track messages to operators</h3> 
         <p>Use your favorite analytics system to keep track of visitors who have sent a message to an operator (since they might be more valuable):</p> 
         <pre><code>&lt;script&gt;
olark('api.chat.onMessageToOperator', function(event) {
    yourAnalytics.track("chatted_with_operator");
});
&lt;/script&gt;
</code></pre>
         <h3 id="track-positive-reactions">Track positive reactions</h3> 
         <p>Maybe you want to keep track of positive vs. negative reactions. You could watch when people send you smileys, indicating that they are happy:</p> 
         <pre><code>&lt;script&gt;
olark('api.chat.onMessageToOperator', function(event) {
    if (event.message.body.indexOf(":)") != -1) {
        yourAnalytics.track("customer_is_happy");
    }
});
&lt;/script&gt;
</code></pre>
         <p>If these statistics sounds cool to you, you should probably try enabling our <a href="https://www.olark.com/extensions/google_analytics">Google Analytics</a> plugin for a more in-depth integration with Google Analytics.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Check for a message being sent to the operator
        </div>
        <pre class="prettyprint lang-javascript">olark('api.chat.onMessageToOperator', function(event) {
	// Your callback function
});</pre>
        <div class="snippet-title">
         Arguments
        </div>
        <ul class="snippet-list">
         <li><strong>event.message.body</strong><br><span>the contents of the message</span></li>
        </ul>
       </div>
      </div>
      <div id="api.chat.onMessageToVisitor" data-category="chat" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.chat.onMessageToVisitor">On message to visitor</a></h2>
        <div class="article-content">
         <p>Whenever a message is sent to the visitor, this will call the given <code>callback</code> with an <code>event</code> object.</p> 
         <h3 id="track-operator-response-times">Track operator response times</h3> 
         <p>Use your favorite analytics system to keep track of how long it takes an operator to respond to a visitor:</p> 
         <pre><code>&lt;script&gt;
olark('api.chat.onMessageToOperator', function(event) {

    // Get the timestamp for when the visitor sends a message
    var visitorSentAt = +new Date;

    olark('api.chat.onMessageToVisitor', function(event) {


        // Get the timestamp for when the operator sends a message
        var operatorSentAt = +new Date;

        // Calculate the difference between the two times and track the event
        // Check your anayltics software API to see how to push an event
        yourAnalytics.track("operator_response_time", operatorSentAt - visitorSentAt);

    });

});
&lt;/script&gt;
</code></pre>
         <p>If these statistics sounds cool to you, you should probably try enabling our <a href="https://www.olark.com/extensions/google_analytics">Google Analytics</a> for a more in-depth integration with Google Analytics.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Check for a message being sent to the visitor
        </div>
        <pre class="prettyprint lang-javascript">olark('api.chat.onMessageToVisitor', function(event) {
	// Your callback function
});</pre>
        <div class="snippet-title">
         Arguments
        </div>
        <ul class="snippet-list">
         <li><strong>event.message.body</strong><br><span>the contents of the message</span></li>
         <li><strong>event.message.nickname</strong><br><span>the display name of the operator</span></li>
        </ul>
       </div>
      </div>
      <div id="api.chat.onCommandFromOperator" data-category="chat" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.chat.onCommandFromOperator">On operator command</a></h2>
        <div class="article-content">
         <p>Whenever a command is sent from the visitor, e.g. <em>!track this is a lead</em>, this will call the given <code>callback</code> with an <code>event</code> object.</p> 
         <p>Commands must begin with an exclamation point <em>!</em> and come at the start of a message. You can also see a list of the default <a href="/help/commands">operator commands</a> in our help section. To see these while chatting, type <code>!help</code> into a chat at any time to see the list of commands you can perform. Your visitors will not see the command unless specified.</p> 
         <h3 id="push-the-visitor-to-your-faq-page">Push the visitor to your FAQ page</h3> 
         <p>Use the command <code>!faq</code> to send a visitor to your FAQ page:</p> 
         <pre><code>&lt;script&gt;
olark('api.chat.onCommandFromOperator', function(event) {

    // Checks for the !faq command
    if (event.command.name == 'faq') {

        // Let the customer know what you're about to do
        olark('api.chat.sendMessageToVisitor', {
            body: "Let me point you to our FAQ page"
        });

        // Redirect the visitor's browser to your FAQ page
        window.location = "http://www.example.com/pages/faq"

    }

});
&lt;/script&gt;
</code></pre>
         <h2 id="add-an-optional-piece-of-information">Add an optional piece of information</h2> 
         <p>Create a custom command to notify a new chatter that there is a queue. By using <code>!q</code> and adding an integer, such as 2 after it, <code>!q 2</code>, you add a custom time into the message. This example tells the visitor that the operator will be with them in 2 minutes. If the operator entered <code>!q 3</code>, it would say 3 minutes. This example also tells the operator what has been sent.</p> 
         <pre><code>&lt;script&gt;
olark('api.chat.onCommandFromOperator', function(event) {

    // Checks for the !q command
    if (event.command.name == 'q') {

        // Let the customer know what you're about to do
        olark('api.chat.sendMessageToVisitor', {
        body: "Hi there, chat is really busy, I'll be with you in " + (event.command.body) + " minutes"
        });

        olark('api.chat.sendNotificationToOperator', {
        body: "Telling customer you will be with them in " + (event.command.body) + " minutes"
        });

    }

});
&lt;/script&gt;
</code></pre>
         <h3 id="make-a-note-to-follow-up-with-a-visitor">Make a note to follow up with a visitor</h3> 
         <p>Create a custom followup command to add some notes about following up with this customer to your CRM:</p> 
         <pre><code>&lt;script&gt;
olark('api.chat.onCommandFromOperator', function(event) {

    // Checks for the !note command
    if (event.command.name == 'note') {

        // This is an example of how you might send the event to your CRM
        // Check out the API of your CRM provider to see how to do this
        yourCRM.addNoteToCustomer(event.command.body);

    }

});
&lt;/script&gt;
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Monitor for an operator using a command
        </div>
        <pre class="prettyprint lang-javascript">olark('api.chat.onCommandFromOperator',
	function(event) {
		// Callback function
	}
);</pre>
        <div class="snippet-title">
         Arguments
        </div>
        <ul class="snippet-list">
         <li><strong>event.command.name</strong><br><span>the name of the command, e.g. 'track' (required)</span></li>
         <li><strong>event.command.body</strong><br><span>the contents of the message, e.g. 'this is a lead' (optional)</span></li>
        </ul>
       </div>
      </div>
      <div id="api.chat.sendMessageToVisitor" data-category="chat" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.chat.sendMessageToVisitor">Send message to visitor</a></h2>
        <div class="article-content">
         <p>Send a message to the visitor. It will appear as if the message came from an operator.</p> 
         <h3 id="trigger-an-automated-message">Trigger an automated message</h3> 
         <p>Send a welcome message whenever a visitor clicks on a <strong>help me</strong> button:</p> 
         <pre><code>&lt;!-- HTML button --&gt;
&lt;a id="help-me" href="#"&gt;Live chat help&lt;/a&gt;

&lt;script&gt;
document.getElementById('help-me').onclick = function() {

    olark('api.chat.sendMessageToVisitor', {
        body: "Let me know if you have any questions."
    });

    // Stops the link reloading the page
    return false;

}
&lt;/script&gt;
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Send a message to the visitor
        </div>
        <pre class="prettyprint lang-javascript">olark('api.chat.sendMessageToVisitor', {
	// Your callback function
});</pre>
        <div class="snippet-title">
         Arguments
        </div>
        <ul class="snippet-list">
         <li><strong>options.body</strong><br><span>the contents of the message to send the visitor</span></li>
        </ul>
       </div>
      </div>
      <div id="api.chat.sendNotificationToOperator" data-category="chat" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.chat.sendNotificationToOperator">Send operator notification</a></h2>
        <div class="article-content">
         <p>Send a notification message to the operator. The operator will see <em>[info]</em> to indicate that this message was not sent from the visitor.</p> 
         <h3 id="notify-operator-on-landing-pages">Notify operator on landing pages</h3> 
         <p>You can send your operator a notification when the visitor lands on a particular page, such as a landing page:</p> 
         <pre><code>&lt;script&gt;
// Checks if the current URL contains 'landing'
if (document.location.href.indexOf('landing') != -1) {

    olark('api.chat.sendNotificationToOperator',
    {

        // Send a custom notification
        body: 'visitor landed on the billing page'

    });

}
&lt;/script&gt;
</code></pre>
         <h3 id="notify-operators-on-landing-pages-after-one-minute">Notify operators on landing pages after one minute</h3> 
         <p>Perhaps you want to notify an operator when a visitor is hesitating on a page for more than 60 seconds, so you can choose to initiate a chat with them:</p> 
         <pre><code>&lt;script&gt;
// Create a timer
setTimeout(function(){

    olark('api.chat.sendNotificationToOperator',
    {

        // Send a custom notification
        body: 'this visitor is hesitating'

    });

// Set time to 60 seconds (60000 milliseconds)
}, 60000);
&lt;/script&gt;
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Send a notification to the operator
        </div>
        <pre class="prettyprint lang-javascript">olark('api.chat.sendNotificationToOperator', {
	body: string
});</pre>
        <div class="snippet-title">
         Arguments
        </div>
        <ul class="snippet-list">
         <li><strong>options.body</strong><br><span>the contents of the notification to send the operator</span></li>
        </ul>
       </div>
      </div>
      <div id="api.chat.sendNotificationToVisitor" data-category="chat" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.chat.sendNotificationToVisitor">Send visitor notification</a></h2>
        <div class="article-content">
         <p>Send a notification message to the visitor. The message will look like a notification, and will not show up as coming from a particular operator.</p> 
         <h3 id="notify-a-visitor-if-no-immediate-response">Notify a visitor if no immediate response</h3> 
         <p>Assure a visitor that the operator will be back later if there is no response from an operator in 60 seconds:</p> 
         <pre><code>&lt;script&gt;
// Set a timer variable
var lastMessageTimeout;

// Wait for a message to the visitor
olark('api.chat.onMessageToVisitor', function(){

    // If a message is sent, reset the timer
    clearTimeout(lastMessageTimeout);

    // Start the timer
    lastMessageTimeout = setTimeout(function(){

        // Send a custom notification to the visitor
        olark('api.chat.sendNotificationToVisitor',
        {
            body: "the operator just stepped out for a moment"
        })

    // Set timer to one minute (60,000 milliseconds)
    }, 60000);

});
&lt;/script&gt;
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Send a notification to the visitor
        </div>
        <pre class="prettyprint lang-javascript">olark('api.chat.sendNotificationToVisitor', {
	body: string
});</pre>
        <div class="snippet-title">
         Arguments
        </div>
        <ul class="snippet-list">
         <li><strong>options.body</strong><br><span>the contents of the notification to send the visitor</span></li>
        </ul>
       </div>
      </div>
      <div id="api.chat.onOfflineMessageToOperator" data-category="chat" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.chat.onOfflineMessageToOperator">Offline message sent</a></h2>
        <div class="article-content">
         <p>When an offline message is sent to the operator, this will call the given <code>callback</code> with an <code>event</code> object</p> 
         <h3 id="track-visitors-who-send-you-an-offline-message">Track visitors who send you an offline message</h3> 
         <p>Use your favorite analytics software to keep track of visitors who have sent an offline message to an operator (since they might be more valuable):</p> 
         <pre><code>&lt;script&gt;
olark('api.chat.onOfflineMessageToOperator', function(event) {

    // Example code
    yourAnalytics.track("sent_an_offline_message");

});
&lt;/script&gt;
</code></pre>
         <p>Or, you could send a message back explaining that no-one is around, and point the visitor to your help center</p> 
         <pre><code>&lt;script&gt;
olark('api.chat.onOfflineMessageToOperator', function(event) {


    olark('api.chat.sendMessageToVisitor', {
        body: "Sorry, we have just gone offline. We'll be back soon. In the meantime, why not check out our &lt;a href="https://olark.com/help&gt;Help Center&lt;/a&gt;?"
    });

});
&lt;/script&gt;
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Monitor for an offline message being sent
        </div>
        <pre class="prettyprint lang-javascript">olark('api.chat.onOfflineMessageToOperator', function(event) {
	// Your callback function
});</pre>
        <div class="snippet-title">
         Arguments
        </div>
        <ul class="snippet-list">
         <li><strong>event.message.body</strong><br><span>the contents of the message</span></li>
        </ul>
       </div>
      </div>
      <div id="features.feedback" data-category="configure" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#features.feedback">Enable Chat Ratings</a></h2>
        <div class="article-content">
         <p>Enable the post-chat survey on a specific page. You can also enable this on the <a href="https://www.olark.com/reports/">Chat Ratings settings</a> page.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Enable Post-chat Survey
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('features.feedback', true );</pre>
       </div>
      </div>
      <div id="features.prechat_survey" data-category="configure" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#features.prechat_survey">Enable Pre-chat Survey</a></h2>
        <div class="article-content">
         <p>You can enable the Pre-chat Survey feature on a specific page. This can also be done on your <a href="https://www.olark.com/customize/behavior">Behavior and Text settings</a> page.</p> 
         <p>You can read more about using the Pre-chat Survey in our <a href="https://www.olark.com/help/prechat-survey">help section</a>.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Enable the Pre-chat Survey
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('features.prechat_survey', true );</pre>
       </div>
      </div>
      <div id="box.start_expanded" data-category="configure" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#box.start_expanded">Expand chatbox on load</a></h2>
        <div class="article-content">
         <p>Expand the chatbox by default when the page loads. This setting can also be enabled in the <a href="https://www.olark.com/customize/advanced">Advanced Settings</a>.</p> 
         <p>Note that when the chatbox is expanded, Attention Grabber images are hidden. Also, sending a message will automatically expand the chatbox in all cases by default.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Start the chat box expanded
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('box.start_expanded', true);</pre>
       </div>
      </div>
      <div id="box.start_hidden" data-category="configure" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#box.start_hidden">Start chatbox hidden</a></h2>
        <div class="article-content">
         <p>Suppose you usually show the chatbox, but wish to hide it on specific pages. You can do so using the following Javascript API function. You can enable this option in your <a href="https://www.olark.com/customize/advanced">Advanced Settings</a> as <strong>Invisible Olark</strong>.</p> 
         <p>The <code>api.box.hide</code> function is useful for when the chatbox has already loaded on a site and you wish to hide it again. For example, when the visitor clicks a particular button.</p> 
         <p>You would use <code>box.start_hidden</code> when you don't want the chatbox to show at all when the page loads. If you used <code>api.box.hide</code> to hide the chatbox when the page loads, a visitor might see the chatbox appear briefly, before the API call was read.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Start the chat box hidden
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('box.start_hidden', true);</pre>
       </div>
      </div>
      <div id="box.inline" data-category="configure" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#box.inline">Load chatbox in DOM element</a></h2>
        <div class="article-content">
         <p>Instead of having the Olark chat window fixed to the bottom corner of your page, Olark will instead search your page for an element with the ID <code>olark-box-container</code> and load the chatbox there instead.</p> 
         <p>For example, you might have a <code>&lt;div&gt;</code> in your sidebar that displays the chatbox.</p> 
         <pre><code>&lt;div id="olark-box-container"&gt;&lt;/div&gt;
</code></pre>
         <p>You can find our complete instructions to embed the Olark widget on your website <a href="https://www.olark.com/help/inline-chatbox">here</a></p> 
         <p>This rudimentary example shows the chatbox inside a wrapper, with a header.</p> 
         <pre><code>&lt;div id="wrapper"&gt;
&lt;h1&gt;My website&lt;/h1&gt;
&lt;div id="olark-box-container"&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>
         <p>It produces the example below (we are sure that you can do better!)</p> 
         <p><img src="/img/api/inline.png" alt=""></p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Place the chat box inside a container
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('box.inline', true);</pre>
       </div>
      </div>
      <div id="system.give_location_to_operator" data-category="configure" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#system.give_location_to_operator">Page change notifications</a></h2>
        <div class="article-content">
         <p>Gives notifications about what page the visitor is on. By default, each time a visitor navigates to a new URL while on your site, this will be sent as a notification to your operator. Set to <code>false</code> to disable this behavior.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Report page changes to operator
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('system.give_location_to_operator', true );</pre>
       </div>
      </div>
      <div id="system.disable_default_visitor_information" data-category="configure" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#system.disable_default_visitor_information">Pre-chat visitor notifications</a></h2>
        <div class="article-content">
         <p>This will turn off all of the initial pre-chat notifications that give you visitor context - including location, current URL and number of previous conversations - allowing you to show just your own custom pre-chat information instead.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Disable visitor info when chat begins
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('system.disable_default_visitor_information', true);</pre>
       </div>
      </div>
      <div id="system.localization" data-category="configure" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#system.localization">Configure the default language</a></h2>
        <div class="article-content">
         <p>You can change the language of the chatbox per page by using the following configuration call. If you want to change the language of the chatbox site wide you can do so from your <a href="https://www.olark.com/customize/behavior">Behavior and Text</a> settings. We support the following languages.</p> 
         <pre><code>   olark.configure("system.localization", "en-US"); // English (United States)
   olark.configure("system.localization", "de-DE"); // Deutsch (Deutschland)
   olark.configure("system.localization", "es-ES"); // Spanish (Spain)
   olark.configure("system.localization", "fr-FR"); // Français (France)
   olark.configure("system.localization", "it-IT"); // Italian (Italy)
   olark.configure("system.localization", "nl-NL"); // Dutch (Netherlands)
   olark.configure("system.localization", "pt-BR"); // Portuguese (Brazilian)
   olark.configure("system.localization", "ru-RU"); // Russian (Russia)
   olark.configure("system.localization", "sv-SE"); // Swedish (Sweden)
   olark.configure("system.localization", "tr-TR"); // Turkish (Turkey)
   olark.configure("system.localization", "zh-CN"); // Simplified Chinese (China)
</code></pre>
         <p>Note that by using the <code>system.localization</code> call our default localization strings will be used. If you'd like more granular control over chatbox strings check out our article on <a href="https://www.olark.com/help/languages">Changing the chatbox language</a>. Here are all the strings you can configure:</p> 
         <pre><code>   /* online chatbox strings */  
   olark.configure("locale.welcome_title", "Chat with us");
   olark.configure("locale.chatting_title", "Chat with us");
   olark.configure("locale.welcome_message", "Have a question? We'd love to help.");
   olark.configure("locale.chat_input_text", "Type a message...");
   olark.configure("locale.ended_chat_message", "Have a question? This conversation has ended. You can start a new chat by sending another message if you like. Thanks for stopping by to chat with us. Come back again anytime.");

   /* offline chatbox strings */
   olark.configure("locale.unavailable_title", "Need help?");
   olark.configure("locale.away_message", "We're not around but please leave us a message");
   olark.configure("locale.name_input_text", "Click here and type your name");
   olark.configure("locale.email_input_text", "Click here and type your email");
   olark.configure("locale.phone_input_text", "Click here and type your phone number");
   olark.configure("locale.offline_note_message", "Have a question about Olark live chat or a Support Query? To speed up the process please give us as much info about your issue as you can. ");
   olark.configure("locale.send_button_text", "Send");
   olark.configure("locale.offline_note_thankyou_text", "Thank you for your message.  We will get back to you as soon as we can.");
   olark.configure("locale.offline_note_error_text", "You must complete all fields and specify a valid email address");

   /* pre-chat survey strings */  
   olark.configure("locale.name_input_text", "&lt;Click here&gt; and type your Name");
   olark.configure("locale.email_input_text", "&lt;Click here&gt; and type your Email");
   olark.configure("locale.phone_input_text", "&lt;Click here&gt; and type your Phone");
   olark.configure("locale.introduction_error_text", "Please leave a name and email address so we can contact you in case we get disconnected");
   olark.configure("locale.introduction_messages", "Welcome, just fill out some brief information and click Start Chat to talk to us");
   olark.configure("locale.introduction_submit_button_text", "Start chat");

   /* greeter strings */
   olark.configure("WelcomeAssist.welcome_messages", ["&amp;iexcl;Bienvenidos a nuestro sitio!"]);

   /* chat ratings strings */
   olark.configure('locale.feedback_survey_question_chat_text', 'How satisfied were you with this chat?');
   olark.configure('locale.feedback_survey_question_operator_intelligence_text', 'How knowledgeable was the chat agent?');
   olark.configure('locale.feedback_survey_question_operator_speed_text', 'How responsive was the chat agent?');
   olark.configure('locale.feedback_survey_question_operator_attitude_text', 'How friendly was the chat agent?');
   olark.configure('locale.feedback_survey_question_1_text', 'Question 1 of 5');
   olark.configure('locale.feedback_survey_question_2_text', 'Question 2 of 5');
   olark.configure('locale.feedback_survey_question_3_text', 'Question 3 of 5');
   olark.configure('locale.feedback_survey_question_4_text', 'Question 4 of 5');
   olark.configure('locale.feedback_survey_question_5_text', 'Question 5 of 5');
   olark.configure('locale.feedback_survey_question_chat_low', 'Not at all satisfied');
   olark.configure('locale.feedback_survey_question_chat_high', 'Extremely satisfied');
   olark.configure('locale.feedback_survey_question_operator_intelligence_low', 'Not at all knowledgeable');
   olark.configure('locale.feedback_survey_question_operator_intelligence_high', 'Extremely knowledgeable');
   olark.configure('locale.feedback_survey_question_operator_speed_low', 'Not at all responsive');
   olark.configure('locale.feedback_survey_question_operator_speed_high', 'Extremely responsive');
   olark.configure('locale.feedback_survey_question_operator_attitude_low', 'Not at all friendly');
   olark.configure('locale.feedback_survey_question_operator_attitude_high', 'Extremely friendly');
   olark.configure('locale.feedback_survey_question_additional_feedback_text', 'Additional feedback.');
   olark.configure('locale.feedback_survey_button_next', 'Next');
   olark.configure('locale.feedback_survey_button_submitting', 'Submitting');
   olark.configure('locale.feedback_survey_button_finish', 'Finish');
   olark.configure('locale.feedback_survey_end_message', 'Thank you for your feedback');
   olark.configure('locale.feedback_survey_submission_error_message', 'There was an error submitting your answer, please try again.');
   olark.configure('locale.feedback_survey_begin_button_text', 'Rate chat');
   olark.configure('locale.feedback_survey_complete_button_text', 'Done');
   olark.configure('locale.feedback_survey_cancel_text', 'Cancel');
   olark.configure('locale.restart_chat_online_button_text', 'Start Chatting');
   olark.configure('locale.restart_chat_offline_button_text', 'Email');

   /* send transcript strings */
   olark.configure('locale.send_transcript_title_text', 'Send transcript');
   olark.configure('locale.send_transcript_begin_button_text', 'Send transcript');
   olark.configure('locale.send_transcript_complete_button_text', 'Transcript sent!');
   olark.configure('locale.send_transcript_error_text', 'There was an error sending this transcript');
   olark.configure('locale.send_transcript_cancel_text', 'Cancel');
   olark.configure('locale.send_transcript_placeholder', 'Click here and enter your email');
</code></pre>
         <p>With calls like <code>olark.configure('locale.welcome_title', 'Foo')</code>, the string provided by that call will always take highest priority. </p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Configure the default language
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('system.localization', 'en-US');</pre>
       </div>
      </div>
      <div id="system.group" data-category="configure" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#system.group">Set operator group</a></h2>
        <div class="article-content">
         <p>Set the group before the chatbox loads. You can get the ID for each group by clicking on it from the <a href="https://www.olark.com/op">Operator settings</a> page.</p> 
         <p>This differs from the <code>setOperatorGroup</code> API call in that it can only be done before the chatbox loads. To set the operator group after the chatbox has loaded, use <code>setOperatorGroup</code> instead.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Lock visitor to operator group
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('system.group', string );</pre>
       </div>
      </div>
      <div id="system.allowed_domains" data-category="configure" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#system.allowed_domains">Allowed domains</a></h2>
        <div class="article-content">
         <p>Set which domains the chatbox will be displayed on. If your website spans multiple domains' subdomains, you can choose which subdomains will work.</p> 
         <p>Note that chats cannot continue across top-level domains. In order for chats to go from a top-level domain to a subdomain, the top-level domain cannot be a naked domain (i.e. the URL should be <code>http://www.example.com</code>, not <code>http://example.com</code>).</p> 
         <p>Use <code>*</code> as a wildcard. Separate multiple domains with commas, e.g. <code>*.yourdomain.com,*.yourotherdomain.com</code>.</p> 
         <pre><code>/* custom configuration goes here (www.olark.com/documentation) */
olark.configure('system.allowed_domains', '*.yourdomain.com,*.yourotherdomain.com');
</code></pre>
         <p>You can also enable this setting on our <a href="https://www.olark.com/customize/advanced">Advanced Settings</a> page.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Set allowed domains
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('system.allowed_domains', string);</pre>
       </div>
      </div>
      <div id="system.is_single_page_application" data-category="configure" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#system.is_single_page_application">Single page applications</a></h2>
        <div class="article-content">
         <p>Olark uses polling to check your visitor's status while on your site. Visitors who leave your site, or have been idle for a long time without changing page, will eventually stop sending polling requests. If you have a single page application where the visitor does not change pages, they may incorrectly be detected as being idle.</p> 
         <p>You can prevent this by setting <code>is_single_page_application</code> to <code>true</code>.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Single page applications
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('system.is_single_page_application', true );</pre>
       </div>
      </div>
      <div id="system.chat_does_not_follow_external_links" data-category="configure" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#system.chat_does_not_follow_external_links">Prevent non-local URL wrapping</a></h2>
        <div class="article-content">
         <p>If you have a link in your chatbox that goes to a non-local URL, for example a page on another domain, Olark will by default wrap the new page. This means that the chatbox will still appear on the new page, even if it's not your website.</p> 
         <p>However, increasingly websites are not allowing cross-domain access, meaning that the wrapped content may not work correctly. You can choose to disable this wrapping behavior by setting this API call to <code>true</code>.</p> 
         <p>Note that by enabling this setting, visitors who click the link to the non-local URL will leave your website and no longer be able to chat with you.</p> 
         <p>As an alternative, you can prepend any link you type into the chatbox with a <code>+</code> symbol (eg. <code>Click here to upload an image: +imgur.com</code>), which will force the link to open in a new tab/window.</p> 
         <p>On your <a href="https://www.olark.com/customize/behavior">Behavior and Text</a> settings page, you can add a <code>target="_blank"</code> attribute to a link to make it open in a new tab/window.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Disable pre-chat notifications
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('system.chat_does_not_follow_external_links', true );</pre>
       </div>
      </div>
      <div id="features.google_analytics" data-category="ga" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#features.google_analytics">Enable Google Analytics</a></h2>
        <div class="article-content">
         <p>Use this API call to enable the Google Analytics integration on a single page.</p> 
         <p>You can also enable this in your <a href="https://www.olark.com/extensions/google_analytics">Google Analytics Extension settings</a>.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Enable Google Analytics
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('features.google_analytics', true );</pre>
       </div>
      </div>
      <div id="system.google_analytics_id" data-category="ga" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#system.google_analytics_id">Set Google Analytics ID</a></h2>
        <div class="article-content">
         <p>Set the Google Analytics ID for your account on a specific page.</p> 
         <p>For example, you might have separate domains using the same Olark account, but different Google Analytics IDs.</p> 
         <pre><code>&lt;?php

// Get the current domain
$host = $_SERVER['HTTP_HOST'];

if ($host == "example.com") {
   olark.configure('system.google_analytics_id', 'YOUR-GA-ID' );
}
elseif ($host == "test.org") {
    olark.configure('system.google_analytics_id', 'OTHER-GA-ID' );
}

?&gt;
</code></pre>
         <p>Check out our related help guide for this <a href="https://www.olark.com/help/google-analytics-tracking-id">here</a>. You can also view advanced troubleshooting help for Google Analytics + Olark <a href="https://www.olark.com/help/google-analytics-troubleshooting">here</a>.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Set your Google Analytics ID
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('system.google_analytics_id', string );</pre>
       </div>
      </div>
      <div id="WelcomeAssist.welcome_new_visitors" data-category="greeter" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#WelcomeAssist.welcome_new_visitors">Switch on the Greeter</a></h2>
        <div class="article-content">
         <p>Use this call to switch the Greeter on. You can then use the calls below to control how the Greeter behaves.</p> 
         <p>You can also enable this on the <a href="https://www.olark.com/extensions/greeter">Greeter extension</a> page.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Switch on the Greeter
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('WelcomeAssist.welcome_new_visitors', true );</pre>
       </div>
      </div>
      <div id="features.greeter" data-category="greeter" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#features.greeter">Enable Greeter</a></h2>
        <div class="article-content">
         <p>Enable the Greeter on a specific page.</p> 
         <p>You can also enable this on the <a href="https://www.olark.com/extensions/greeter">Greeter extension</a> page.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Enable Greeter
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('features.greeter', true );</pre>
       </div>
      </div>
      <div id="WelcomeAssist.welcome_delay_in_seconds" data-category="greeter" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#WelcomeAssist.welcome_delay_in_seconds">Set Greeter delay in seconds</a></h2>
        <div class="article-content">
         <p>Set the time after which the Greeter message will be sent to first-time visitors on your site.</p> 
         <p>You can also enable this on the <a href="https://www.olark.com/extensions/greeter">Greeter extension</a> page.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Set the Greeter delay
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('WelcomeAssist.welcome_delay_in_seconds', integer );</pre>
       </div>
      </div>
      <div id="WelcomeAssist.welcome_messages" data-category="greeter" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#WelcomeAssist.welcome_messages">Set Greeter Welcome Messages</a></h2>
        <div class="article-content">
         <p>Set the welcome messages to send to the visitors when the Greeter function activates. If you have more than 1 message enabled in the call, we will choose a random one to send to the visitor when they meet the greeter criteria.</p> 
         <p>You can also enable this on the <a href="https://www.olark.com/extensions/greeter">Greeter extension</a> page.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Set the Greeter Welcome Messages
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('WelcomeAssist.welcome_messages', ['hello world', 'another message!', 'a 3rd message!']);</pre>
       </div>
      </div>
      <div id="WelcomeAssist.notify_operator_of_new_visitors" data-category="greeter" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#WelcomeAssist.notify_operator_of_new_visitors">Notify operators of first-time visitors</a></h2>
        <div class="article-content">
         <p>If the Greeter function is enabled, you can use this call to enable/disable the <a href="https://www.olark.com/help/visitor-notifications">advanced notification</a> per page.</p> 
         <p>You can also enable this on the <a href="https://www.olark.com/extensions/greeter">Greeter extension</a> page.</p> 
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Enable notification of arrival using Greeter
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('WelcomeAssist.notify_operator_of_new_visitors', true );</pre>
       </div>
      </div>
      <div id="system.ask_for_name" data-category="prechat" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#system.ask_for_name">Require name</a></h2>
        <div class="article-content">
         <p>Require visitors fill out their name in the pre-chat survey before chatting. This requires the <strong>pre-chat survey</strong> to be enabled first.</p> 
         <p>This setting can also be enabled on the pre-chat survey section of the <a href="https://www.olark.com/customize/behavior">Behavior and Text</a> settings page.</p> 
         <p>You can read more about using the pre-chat survey in our <a href="https://www.olark.com/help/prechat-survey">Help Center</a>.</p> 
         <p>Even if the pre-chat survey is enabled in your settings, you would need to enable the plugin using this line to use the <code>system.ask_for_name</code> API call:</p> 
         <pre><code>olark.configure("features.prechat_survey", true);
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Require visitors fill out their name before chatting
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('system.ask_for_name', 'hidden' );</pre>
        <div class="snippet-title">
         Arguments
        </div>
        <ul class="snippet-list">
         <li><strong>required</strong><br><span>required field</span></li>
         <li><strong>optional</strong><br><span>optional field</span></li>
         <li><strong>hidden</strong><br><span>hidden field</span></li>
        </ul>
       </div>
      </div>
      <div id="system.ask_for_email" data-category="prechat" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#system.ask_for_email">Require email</a></h2>
        <div class="article-content">
         <p>Require visitors fill out their email address in the pre-chat survey before chatting. This requires the <strong>pre-chat survey</strong> to be enabled first.</p> 
         <p>This setting can also be enabled on the pre-chat survey section of the <a href="https://www.olark.com/customize/behavior">Behavior and Text</a> settings page.</p> 
         <p>You can read more about using the pre-chat survey in our <a href="https://www.olark.com/help/prechat-survey">Help Center</a>.</p> 
         <p>Even if the pre-chat survey is enabled in your settings, you would need to enable the plugin using this line to use the <code>system.ask_for_email</code> API call:</p> 
         <pre><code>olark.configure("features.prechat_survey", true);
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Require visitors fill out their email before chatting
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('system.ask_for_email', 'hidden' );</pre>
        <div class="snippet-title">
         Arguments
        </div>
        <ul class="snippet-list">
         <li><strong>required</strong><br><span>required field</span></li>
         <li><strong>optional</strong><br><span>optional field</span></li>
         <li><strong>hidden</strong><br><span>hidden field</span></li>
        </ul>
       </div>
      </div>
      <div id="system.ask_for_phone" data-category="prechat" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#system.ask_for_phone">Require phone number</a></h2>
        <div class="article-content">
         <p>Require visitors fill out their phone number in the pre-chat survey before chatting. This requires the <strong>pre-chat survey</strong> to be enabled first.</p> 
         <p>This setting can also be enabled on the pre-chat survey section of the <a href="https://www.olark.com/customize/behavior">Behavior and Text</a> settings page.</p> 
         <p>You can read more about using the pre-chat survey in our <a href="https://www.olark.com/help/prechat-survey">Help Center</a>.</p> 
         <p>Even if the pre-chat survey is enabled in your settings, you would need to enable the plugin using this line to use the <code>system.ask_for_phone</code> API call:</p> 
         <pre><code>olark.configure("features.prechat_survey", true);
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Require visitors fill out their phone before chatting
        </div>
        <pre class="prettyprint lang-javascript">olark.configure('system.ask_for_phone', 'hidden' );</pre>
        <div class="snippet-title">
         Arguments
        </div>
        <ul class="snippet-list">
         <li><strong>required</strong><br><span>required field</span></li>
         <li><strong>optional</strong><br><span>optional field</span></li>
         <li><strong>hidden</strong><br><span>hidden field</span></li>
        </ul>
       </div>
      </div>
      <div id="api.rules.defineRule" data-category="rules" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.rules.defineRule">Define Targeted Chat rules</a></h2>
        <div class="article-content">
         <blockquote> 
          <p>Note: You can create Targeted Chat rules without any coding on the <a href="https://www.olark.com/extensions/targeting">Targeted Chat settings</a> page.</p> 
         </blockquote> 
         <p>Create Targeted Chat rules that help you automate decisions about how and when to interact with visitors and operators. You can create rules to perform actions such as:</p> 
         <ul> 
          <li>Initiating chat with a visitor who has been browsing for more than 30 seconds</li> 
          <li>Notifying an operator when a visitor lands on the page from a Google AdWords campaign</li> 
          <li>Highlighting important visitors in your buddy list</li> 
         </ul> 
         <p>Be sure to check out the <a href="https://www.olark.com/documentation/javascript/api.visitor.getDetails">getDetails API call</a> to learn how to access detailed customer information for making creative rules.</p> 
         <h3 id="start-a-conversation-with-a-visitor-after-5-pageviews">Start a conversation with a visitor after 5 pageviews</h3> 
         <p>Let's say you wanted to auto-initiate with any visitor who has visited 5 pages without talking to an operator, since maybe he is confused:</p> 
         <pre><code>&lt;script&gt;
olark('api.rules.defineRule', {

    // Specify a unique ID for this rule.
    // This helps the API to keep your rules separate from each other.
    id: '1',

    // The description summarizes what this rule does
    description: "offer help to a visitor after he has browsed 5 pages and hasn't chatted yet",

    // The condition will be checked whenever there is a relevant change in the chat.
    // Call the pass() function whenever the criteria is met
    condition: function(pass) {

        // Use the Visitor API to get information the page count
        olark('api.visitor.getDetails', function(details){

            if (details.pageCountForThisVisit &gt;= 5 &amp;&amp; !details.isConversing) {

                // The visitor has seen more than 5 pages, and the visitor hasn't started chatting yet
                pass();
            }

        });

    },

    // The action will be executed whenever the condition passes.
    // Limit the number of times this action will trigger using the perPage, perVisit, and perVisitor options.
    action: function() {
        olark('api.chat.sendMessageToVisitor', {
            body: "hi, have any questions about our products?"
        });
    },

    // Restrict this action to execute only once per visit
    perVisit: true

});
&lt;/script&gt;
</code></pre>
         <h3 id="start-a-conversation-on-specific-pages">Start a conversation on specific pages</h3> 
         <p>Maybe you would like to hide the chatbox on certain pages, but only if the visitor is not already chatting:</p> 
         <pre><code>&lt;script&gt;
olark('api.rules.defineRule', {

    // Specify a unique ID for this rule.
    // This helps the API to keep your rules separate from each other.
    id: '2',

    // The description summarizes what this rule does
    description: "hide the chatbox when the visitor is not chatting and is viewing an unimportant page",

    // The condition will be checked whenever there is a relevant change in the chat.
    // Call the pass() function whenever the criteria is met
    condition: function(pass) {

        // Check if the visitor is already in conversation
        // ...and whether they're on a specific page
        olark('api.visitor.getDetails', function(details){

            // Determine whether this page is important
            // The URL can be whatever you like
            var isImportantPage = (details.currentPage.url.indexOf('/important-page') &gt;= 0);

            if (!details.isConversing &amp;&amp; !isImportantPage) {

                // Visitor is not chatting yet
                // and they are viewing an unimportant page
                pass();

            }

        });

    },

    // The action will be executed whenever the condition passes.
    // Limit the number of times this action will trigger using the perPage, perVisit, and perVisitor options.
    action: function() {

        // Hide the chatbox
        olark('api.box.hide');

    },

    // Restrict this action to execute only once per page
    perPage: true

});
&lt;/script&gt;
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Create Targeted Chat rules
        </div>
        <pre class="prettyprint lang-javascript">olark('api.rules.defineRule', { options });</pre>
        <div class="snippet-title">
         Arguments
        </div>
        <ul class="snippet-list">
         <li><strong>options.id</strong><br><span>unique identifier for this rule, e.g. _important_visitor_rule_1_</span></li>
         <li><strong>options.description</strong><br><span>human-readable description of what this rule does, e.g. 'notifies the operator about important visitors'</span></li>
         <li><strong>options.condition</strong><br><span>function that evaluates a condition and calls pass when true (see examples below)</span></li>
         <li><strong>options.action</strong><br><span>function that performs the action, e.g. notifying the operator (see examples below)</span></li>
         <li><strong>options.perPage</strong><br><span>make this true if the action is only supposed to trigger once per page. OR::</span></li>
         <li><strong>options.perVisit</strong><br><span>make this true if the action is only supposed to trigger once per visit OR:</span></li>
         <li><strong>options.perVisitor</strong><br><span>make this true if the action is only supposed to trigger once per visitor</span></li>
        </ul>
       </div>
      </div>
      <div id="api.visitor.getDetails" data-category="visitor" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.visitor.getDetails">Get visitor details</a></h2>
        <div class="article-content">
         <p>Gets the email address, full name, geolocation, and other details for this visitor. The value will be returned to the specified <code>returnCallback</code>.</p> 
         <p>The name, email and phone number fields are the last-known visitor information, either from your pre-chat survey, a completed offline message form, or previously updated via the API.</p> 
         <p>Geolocation information is provided to the best of our knowledge, based on the visitor's IP.</p> 
         <h3 id="notify-operators-about-a-certain-visitor">Notify operators about a certain visitor</h3> 
         <p>Let's say you wanted to know when a particular customer (e.g. Olark Joe) needed your assistance:</p> 
         <pre><code>&lt;script&gt;
    olark('api.visitor.getDetails', function(details){

        // Check for an email address
        if (details.emailAddress == "joe@olark.com") {

            olark('api.chat.sendNotificationToOperator', {
                body: "Olark Joe in the house!"
            });

        }
    });
&lt;/script&gt;
</code></pre>
         <h3 id="highlight-adwords-referrals-in-your-visitors-list">Highlight AdWords referrals in your visitors list</h3> 
         <p>Let's say you want to highlight valuable visitors in your buddy list. For example you have already paid money for a visitor to click on your AdWords campaign, or when they search for the term "buying widgets":</p> 
         <pre><code>&lt;script&gt;
olark('api.visitor.getDetails', function(details){

    if (details.referredByPaidAdvertisingThisVisit) {

        olark('api.chat.updateVisitorNickname',{
            snippet: "AdWords Referral"
        })

    } else if (details.searchTextForThisVisit == "buying widgets") {

        olark('api.chat.updateVisitorNickname', {
            snippet: "wants to buy a widget"
        })

    }

});
&lt;/script&gt;
</code></pre>
         <h3 id="target-customers-in-costa-rica">Target customers in Costa Rica</h3> 
         <p>Let's say you are targeting customers in San José, the capital of Costa Rica (not San Jose in California):</p> 
         <pre><code>&lt;script&gt;
olark('api.visitor.getDetails', function(details){

    // Check that both conditions are true
    if (details.city == "San José" &amp;&amp; details.region != "California") {

        olark('api.chat.sendNotificationToOperator', {
            body: "this customer might be in San Jose, Costa Rica"
        })

    }

});
&lt;/script&gt;
</code></pre>
         <h3 id="target-customers-in-japan">Target customers in Japan</h3> 
         <p>Suppose you are targeting customers in Japan. You can either use the country name or the country code:</p> 
         <pre><code>&lt;script&gt;
olark('api.visitor.getDetails', function(details){

    if (details.country == "Japan" || details.countryCode == "JP") {

        olark('api.chat.sendNotificationToOperator', {
            body: "this customer might be in Japan"
        });

    }

});
&lt;/script&gt;
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Read the visitor informaton
        </div>
        <pre class="prettyprint lang-javascript">olark('api.visitor.getDetails', callback);</pre>
        <div class="snippet-title">
         Response
        </div>
        <ul class="snippet-list">
         <li><strong>details.emailAddress</strong><br><span>visitor's email address</span></li>
         <li><strong>details.fullName</strong><br><span>visitor's full name</span></li>
         <li><strong>details.phoneNumber</strong><br><span>visitor's phone number</span></li>
         <li><strong>details.city</strong><br><span>approximate city location</span></li>
         <li><strong>details.region</strong><br><span>approximate state or province</span></li>
         <li><strong>details.country</strong><br><span>approximate country</span></li>
         <li><strong>details.countryCode</strong><br><span>approximate country (in ISO-standard format, e.g. UK, DE, JP, etc)</span></li>
         <li><strong>details.organization</strong><br><span>organization that this visitor might be affiliated with</span></li>
         <li><strong>details.visitCount</strong><br><span>total number of times this visitor has visited your site</span></li>
         <li><strong>details.pageCountForThisVisit</strong><br><span>number of pages that this visitor has viewed during this visit</span></li>
         <li><strong>details.pageCountAcrossAllVisits</strong><br><span>total number of pages that this visitor has viewed all-time on your site</span></li>
         <li><strong>details.secondsSpentForThisVisit</strong><br><span>number of seconds that this visitor has spent on your site</span></li>
         <li><strong>details.secondsSpentAcrossAllVisits</strong><br><span>total number of seconds that this visitor has spent on your site over all their visits</span></li>
         <li><strong>details.currentPage</strong><br><span>the current page the visitor is on (has a title and URL)</span></li>
         <li><strong>details.recentPageHistory</strong><br><span>a list of the last 10 pages seen by the visitor (each page has a title and URL)</span></li>
         <li><strong>details.conversationCount</strong><br><span>total number of times this visitor has chatted with an operator"</span></li>
         <li><strong>details.isConversing</strong><br><span>will be true if the visitor is having a conversation right now"</span></li>
         <li><strong>details.messageCountForThisVisit</strong><br><span>number of messages sent and received during this conversation"</span></li>
         <li><strong>details.messageCountAcrossAllVisits</strong><br><span>number of messages sent and received for this visitor all-time on your site"</span></li>
         <li><strong>details.secondsSinceLastMessage</strong><br><span>seconds since either the visitor or operator sent a message"</span></li>
         <li><strong>details.secondsSinceLastMessageToOperator</strong><br><span>seconds since the visitor sent a message"</span></li>
         <li><strong>details.secondsSinceLastMessageToVisitor</strong><br><span>seconds since the operator sent a message"</span></li>
         <li><strong>details.secondsSinceLastNotificationToOperator</strong><br><span>seconds since the operator last received a notification"</span></li>
         <li><strong>details.conversationBeginPage</strong><br><span>the URL from which the visitor began their conversation"</span></li>
         <li><strong>details.referrer</strong><br><span>the URL that referred this visitor to your website (e.g. a Google search, advertisement, blog post, etc)</span></li>
         <li><strong>details.referredByPaidAdvertisingThisVisit</strong><br><span>will be true if the visitor came to your site from a paid advertisement for this visit</span></li>
         <li><strong>details.referredByPaidAdvertisingEver</strong><br><span>will be true if the visitor came to your site from a paid advertisement at some point</span></li>
         <li><strong>details.referredByCampaignThisVisit</strong><br><span>will be true if the visitor came to your site from an email or blogging campaign this visit</span></li>
         <li><strong>details.referredByCampaignEver</strong><br><span>will be true if the visitor came to your site from an email or blogging campaign at some point</span></li>
         <li><strong>details.searchTextForThisVisit</strong><br><span>search text that was typed in Google, Yahoo, or Bing to get to your site</span></li>
         <li><strong>details.searchTextForPreviousVisits</strong><br><span>search text that was typed in Google, Yahoo, or Bing to get to your site in past visits</span></li>
         <li><strong>details.browser</strong><br><span>the browser that this visitor is using (e.g. 'Chrome 12.1')</span></li>
         <li><strong>details.operatingSystem</strong><br><span>the operating system that this visitor is using (e.g. Windows, Mac, or Linux)</span></li>
         <li><strong>details.ip</strong><br><span>the raw IP address for this visitor (e.g. '123.234.234.64')</span></li>
         <li><strong>details.customFields.yourFieldNameGoesHere</strong><br><span>you can retrieve any custom fields that you set with api.visitor.updateCustomFields</span></li>
        </ul>
       </div>
      </div>
      <div id="api.chat.updateVisitorNickname" data-category="visitor" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.chat.updateVisitorNickname">Update visitor nickname</a></h2>
        <div class="article-content">
         <blockquote> 
          <p><strong>Important Note:</strong><br><code>updateVisitorNickname</code> is best used to display visitor information other than name and email in the buddy list. To display a name and/or email in the buddy list use <a href="#api.visitor.updateFullName">api.visitor.updateFullName</a> and <a href="#api.visitor.updateEmailAddress">api.visitor.updateEmailAddress</a> respectively.</p> 
         </blockquote> 
         <p>Add information to the visitor's nickname in the operator's buddy list. You can only set a 'snippet' of the nickname, since other extensions may be trying to update the nickname at the same time. </p> 
         <h3 id="highlight-adwords-referrals-in-your-visitors-list">Highlight AdWords referrals in your visitors list</h3> 
         <p>Let's say you want to highlight valuable visitors in your buddy list. For example you have already paid money for a visitor to click on your AdWords campaign, or when they search for the term "buying widgets":</p> 
         <pre><code>&lt;script&gt;
olark('api.visitor.getDetails', function(details){

    if (details.referredByPaidAdvertisingThisVisit) {

        olark('api.chat.updateVisitorNickname',{
            snippet: "AdWords Referral"
        })

    } else if (details.searchTextForThisVisit == "buying widgets") {

        olark('api.chat.updateVisitorNickname', {
            snippet: "wants to buy a widget"
        })

    }

});
&lt;/script&gt;
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Set the visitor's nickname
        </div>
        <pre class="prettyprint lang-javascript">olark('api.chat.updateVisitorNickname', {
	snippet: '',
	hidesDefault: true
});</pre>
        <div class="snippet-title">
         Arguments
        </div>
        <ul class="snippet-list">
         <li><strong>options.snippet</strong><br><span>the snippet of text to show as part of the nickname</span></li>
         <li><strong>options.hidesDefault</strong><br><span>(optional) set this to true if you want to hide the default nickname that Olark sets</span></li>
        </ul>
       </div>
      </div>
      <div id="api.chat.updateVisitorStatus" data-category="visitor" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.chat.updateVisitorStatus">Update visitor status</a></h2>
        <div class="article-content">
         <p>Add information to the visitor's status in the operator's buddy list. You can only set a 'snippet' of the status, since other extensions may be trying to update the status at the same time.</p> 
         <h3 id="display-number-of-items-in-a-shopping-cart">Display number of items in a shopping cart</h3> 
         <p>To show custom information, like the number of items somebody has in their shopping cart:</p> 
         <pre><code>&lt;script&gt;
    olark('api.chat.updateVisitorStatus', {
        snippet: 'has 10 items in cart'
    });
&lt;/script&gt;
</code></pre>
         <p><img src="/img/api/visitorstatus.png" alt=""></p> 
         <p>Do you have multiple pieces of information? Use an array for the snippet:</p> 
         <pre><code>&lt;script&gt;
    olark('api.chat.updateVisitorStatus', {
        snippet: ['has 10 items in cart', 'value of items is $38']
    });
&lt;/script&gt;
</code></pre>
         <p>The Olark chat console automatically tries to detect email addresses, storing them as the visitor's information. In this example, the first item in the snippet array is the equivalent of using the `api.visitor.updateEmailAddress' API call:</p> 
         <pre><code>// Sets email as test@example.com
// and "Some text" appears as Advanced Info
olark('api.chat.updateVisitorStatus', {
    snippet: ["test@example.com", "Some text"]
});
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Set the visitor's status
        </div>
        <pre class="prettyprint lang-javascript">olark('api.chat.updateVisitorStatus', {
	snippet: ''
});</pre>
        <div class="snippet-title">
         Arguments
        </div>
        <ul class="snippet-list">
         <li><strong>options.snippet</strong><br><span>the snippet of text to show as part of the status</span></li>
        </ul>
       </div>
      </div>
      <div id="api.visitor.updateFullName" data-category="visitor" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.visitor.updateFullName">Update visitor name</a></h2>
        <div class="article-content">
         <p>Keep track of a full name for this visitor, to link it with your CRM cases and display in the buddy list.</p> 
         <p><img src="/img/api/api_updateName.gif" alt=""></p> 
         <h3 id="update-the-visitor-s-name">Update the visitor's name</h3> 
         <p>You can grab information from your registered users and send it to Olark.</p> 
         <pre><code>&lt;script&gt;
olark('api.visitor.updateFullName', {
    fullName: 'John Doe'
});
&lt;/script&gt;
</code></pre>
         <p>For example, if you were using PHP and pulled the visitor's name from your own database, you might write:</p> 
         <pre><code>&lt;script&gt;
olark('api.visitor.updateFullName', {
    fullName: '&lt;?php echo $user_name ?&gt;'
});
&lt;/script&gt;
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Set the visitor's name
        </div>
        <pre class="prettyprint lang-javascript">olark('api.visitor.updateFullName', {
	fullName: string
});</pre>
        <div class="snippet-title">
         Arguments
        </div>
        <ul class="snippet-list">
         <li><strong>options.fullName</strong><br><span>the name to remember</span></li>
        </ul>
       </div>
      </div>
      <div id="api.visitor.updateEmailAddress" data-category="visitor" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.visitor.updateEmailAddress">Update visitor email</a></h2>
        <div class="article-content">
         <p>Keep track of an email address for this visitor, to link it with your CRM cases and display in the visitor list.</p> 
         <p><img src="/img/api/api_updateEmail.gif" alt=""></p> 
         <h3 id="update-the-visitor-s-email-address">Update the visitor's email address</h3> 
         <p>You can grab information from your registered users and send it to Olark.</p> 
         <pre><code>&lt;script&gt;
olark('api.visitor.updateEmailAddress', {
    emailAddress: 'johndoe@olark.com'
});
&lt;/script&gt;
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Set the visitor's email
        </div>
        <pre class="prettyprint lang-javascript">olark('api.visitor.updateEmailAddress', {
	emailAddress: string
});</pre>
        <div class="snippet-title">
         Arguments
        </div>
        <ul class="snippet-list">
         <li><strong>options.emailAddress</strong><br><span>the email address to remember</span></li>
        </ul>
       </div>
      </div>
      <div id="api.visitor.updatePhoneNumber" data-category="visitor" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.visitor.updatePhoneNumber">Update visitor phone</a></h2>
        <div class="article-content">
         <p>Keep track of a phone number for this visitor, to link it with your transcripts and display in the visitor list.</p> 
         <h2 id="update-a-visitor-s-phone-number">Update a visitor's phone number</h2> 
         <p>You can grab information from your registered users and send it to Olark.</p> 
         <pre><code>&lt;script&gt;
    olark('api.visitor.updatePhoneNumber', {
        phoneNumber: '(123) 456-7890'
    });
&lt;/script&gt;
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Set the visitor's phone number
        </div>
        <pre class="prettyprint lang-javascript">olark('api.visitor.updatePhoneNumber', {
	phoneNumber: string
});</pre>
        <div class="snippet-title">
         Arguments
        </div>
        <ul class="snippet-list">
         <li><strong>options.phoneNumber</strong><br><span>the phone number to remember</span></li>
        </ul>
       </div>
      </div>
      <div id="api.visitor.updateCustomFields" data-category="visitor" class="api-call">
       <div class="api-description">
        <h2 class="post-title"><a href="#api.visitor.updateCustomFields">Update CRM custom fields</a></h2>
        <div class="article-content">
         <p>If you have custom data that you want to keep track of for a visitor, such as an internal customer ID or some internal data, you can give it to Olark using this API.</p> 
         <blockquote> 
          <p>Note: Custom fields are not sent automatically to CRM integrations. Presently, this is something you would need to email support@olark.com to help set up. Custom fields will however be sent with <a href="/help/webhooks">Webhooks</a> by default. Once set up, Custom fields are sent to the CRM only, they do not appear in <a href="http://chat.olark.com">the chat console</a>.</p> 
         </blockquote> 
         <h3 id="adding-a-customer-id">Adding a customer ID</h3> 
         <p>For example, let's say you have a customer tracking ID that you use for your internal reporting. You can give this to Olark:</p> 
         <pre><code>&lt;script&gt;
olark('api.visitor.updateCustomFields', {

    // Replace with your own data
    internalCustomerId: '2194832109'

});
&lt;/script&gt;
</code></pre>
        </div>
       </div>
       <div class="api-snippet">
        <div class="snippet-title">
         Set custom fields for the visitor
        </div>
        <pre class="prettyprint lang-javascript">olark('api.visitor.updateCustomFields', {
	internalCustomerId: string
});</pre>
        <div class="snippet-title">
         Arguments
        </div>
        <ul class="snippet-list">
         <li><strong>dictionaryOfCustomFields</strong><br><span>a dictionary mapping custom field name=&gt;value</span></li>
        </ul>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div>
  <script data-main="/js/main" src="/js/lib/require.js" async></script>
 </body>
</html>